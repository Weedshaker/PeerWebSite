(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Ipfs = factory()}(typeof self !== 'undefined' ? self : this, function () {
var Ipfs=(()=>{var RL=Object.defineProperty;var Vx=r=>RL(r,"__esModule",{value:!0});var h=(r,e)=>()=>(e||(e={exports:{}},r(e.exports,e)),e.exports),jx=(r,e)=>{for(var t in e)RL(r,t,{get:e[t],enumerable:!0})};var ra=h(Hx=>{"use strict";Hx.byteLength=sUe;Hx.toByteArray=oUe;Hx.fromByteArray=aUe;var za=[],po=[],cUe=typeof Uint8Array!="undefined"?Uint8Array:Array,ek="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var pd=0,uUe=ek.length;pd<uUe;++pd)za[pd]=ek[pd],po[ek.charCodeAt(pd)]=pd;po["-".charCodeAt(0)]=62;po["_".charCodeAt(0)]=63;function qL(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function sUe(r){var e=qL(r),t=e[0],i=e[1];return(t+i)*3/4-i}function fUe(r,e,t){return(e+t)*3/4-t}function oUe(r){var e,t=qL(r),i=t[0],n=t[1],s=new cUe(fUe(r,i,n)),o=0,a=n>0?i-4:i,c;for(c=0;c<a;c+=4)e=po[r.charCodeAt(c)]<<18|po[r.charCodeAt(c+1)]<<12|po[r.charCodeAt(c+2)]<<6|po[r.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return n===2&&(e=po[r.charCodeAt(c)]<<2|po[r.charCodeAt(c+1)]>>4,s[o++]=e&255),n===1&&(e=po[r.charCodeAt(c)]<<10|po[r.charCodeAt(c+1)]<<4|po[r.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function lUe(r){return za[r>>18&63]+za[r>>12&63]+za[r>>6&63]+za[r&63]}function hUe(r,e,t){for(var i,n=[],s=e;s<t;s+=3)i=(r[s]<<16&16711680)+(r[s+1]<<8&65280)+(r[s+2]&255),n.push(lUe(i));return n.join("")}function aUe(r){for(var e,t=r.length,i=t%3,n=[],s=16383,o=0,a=t-i;o<a;o+=s)n.push(hUe(r,o,o+s>a?a:o+s));return i===1?(e=r[t-1],n.push(za[e>>2]+za[e<<4&63]+"==")):i===2&&(e=(r[t-2]<<8)+r[t-1],n.push(za[e>>10]+za[e>>4&63]+za[e<<2&63]+"=")),n.join("")}});var bo=h(tk=>{tk.read=function(r,e,t,i,n){var s,o,a=n*8-i-1,c=(1<<a)-1,u=c>>1,f=-7,l=t?n-1:0,d=t?-1:1,p=r[e+l];for(l+=d,s=p&(1<<-f)-1,p>>=-f,f+=a;f>0;s=s*256+r[e+l],l+=d,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=i;f>0;o=o*256+r[e+l],l+=d,f-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(p?-1:1)*Infinity;o=o+Math.pow(2,i),s=s-u}return(p?-1:1)*o*Math.pow(2,s-i)};tk.write=function(r,e,t,i,n,s){var o,a,c,u=s*8-n-1,f=(1<<u)-1,l=f>>1,d=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:s-1,b=i?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===Infinity?(a=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+l>=1?e+=d/c:e+=d*Math.pow(2,1-l),e*c>=2&&(o++,c/=2),o+l>=f?(a=0,o=f):o+l>=1?(a=(e*c-1)*Math.pow(2,n),o=o+l):(a=e*Math.pow(2,l-1)*Math.pow(2,n),o=0));n>=8;r[t+p]=a&255,p+=b,a/=256,n-=8);for(o=o<<n|a,u+=n;u>0;r[t+p]=o&255,p+=b,o/=256,u-=8);r[t+p-b]|=g*128}});var Pn=h(bd=>{"use strict";var rk=ra(),yd=bo(),BL=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;bd.Buffer=xe;bd.SlowBuffer=dUe;bd.INSPECT_MAX_BYTES=50;var Gx=2147483647;bd.kMaxLength=Gx;xe.TYPED_ARRAY_SUPPORT=pUe();!xe.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function pUe(){try{let r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(r){return!1}}Object.defineProperty(xe.prototype,"parent",{enumerable:!0,get:function(){if(!!xe.isBuffer(this))return this.buffer}});Object.defineProperty(xe.prototype,"offset",{enumerable:!0,get:function(){if(!!xe.isBuffer(this))return this.byteOffset}});function Zc(r){if(r>Gx)throw new RangeError('The value "'+r+'" is invalid for option "size"');let e=new Uint8Array(r);return Object.setPrototypeOf(e,xe.prototype),e}function xe(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ik(r)}return CL(r,e,t)}xe.poolSize=8192;function CL(r,e,t){if(typeof r=="string")return bUe(r,e);if(ArrayBuffer.isView(r))return yUe(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Ka(r,ArrayBuffer)||r&&Ka(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Ka(r,SharedArrayBuffer)||r&&Ka(r.buffer,SharedArrayBuffer)))return nk(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return xe.from(i,e,t);let n=gUe(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return xe.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}xe.from=function(r,e,t){return CL(r,e,t)};Object.setPrototypeOf(xe.prototype,Uint8Array.prototype);Object.setPrototypeOf(xe,Uint8Array);function ML(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function mUe(r,e,t){return ML(r),r<=0?Zc(r):e!==void 0?typeof t=="string"?Zc(r).fill(e,t):Zc(r).fill(e):Zc(r)}xe.alloc=function(r,e,t){return mUe(r,e,t)};function ik(r){return ML(r),Zc(r<0?0:sk(r)|0)}xe.allocUnsafe=function(r){return ik(r)};xe.allocUnsafeSlow=function(r){return ik(r)};function bUe(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!xe.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let t=NL(r,e)|0,i=Zc(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function ok(r){let e=r.length<0?0:sk(r.length)|0,t=Zc(e);for(let i=0;i<e;i+=1)t[i]=r[i]&255;return t}function yUe(r){if(Ka(r,Uint8Array)){let e=new Uint8Array(r);return nk(e.buffer,e.byteOffset,e.byteLength)}return ok(r)}function nk(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,xe.prototype),i}function gUe(r){if(xe.isBuffer(r)){let e=sk(r.length)|0,t=Zc(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||ak(r.length)?Zc(0):ok(r);if(r.type==="Buffer"&&Array.isArray(r.data))return ok(r.data)}function sk(r){if(r>=Gx)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Gx.toString(16)+" bytes");return r|0}function dUe(r){return+r!=r&&(r=0),xe.alloc(+r)}xe.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==xe.prototype};xe.compare=function(e,t){if(Ka(e,Uint8Array)&&(e=xe.from(e,e.offset,e.byteLength)),Ka(t,Uint8Array)&&(t=xe.from(t,t.offset,t.byteLength)),!xe.isBuffer(e)||!xe.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,n=t.length;for(let s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};xe.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};xe.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return xe.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;let n=xe.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){let o=e[i];if(Ka(o,Uint8Array))s+o.length>n.length?(xe.isBuffer(o)||(o=xe.from(o)),o.copy(n,s)):Uint8Array.prototype.set.call(n,o,s);else if(xe.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function NL(r,e){if(xe.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Ka(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);let t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let n=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return ck(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return PL(r).length;default:if(n)return i?-1:ck(r).length;e=(""+e).toLowerCase(),n=!0}}xe.byteLength=NL;function SUe(r,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return EUe(this,e,t);case"utf8":case"utf-8":return DL(this,e,t);case"ascii":return wUe(this,e,t);case"latin1":case"binary":return vUe(this,e,t);case"base64":return xUe(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _Ue(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}xe.prototype._isBuffer=!0;function Y0(r,e,t){let i=r[e];r[e]=r[t],r[t]=i}xe.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Y0(this,t,t+1);return this};xe.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Y0(this,t,t+3),Y0(this,t+1,t+2);return this};xe.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Y0(this,t,t+7),Y0(this,t+1,t+6),Y0(this,t+2,t+5),Y0(this,t+3,t+4);return this};xe.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?DL(this,0,e):SUe.apply(this,arguments)};xe.prototype.toLocaleString=xe.prototype.toString;xe.prototype.equals=function(e){if(!xe.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:xe.compare(this,e)===0};xe.prototype.inspect=function(){let e="",t=bd.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};BL&&(xe.prototype[BL]=xe.prototype.inspect);xe.prototype.compare=function(e,t,i,n,s){if(Ka(e,Uint8Array)&&(e=xe.from(e,e.offset,e.byteLength)),!xe.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;let o=s-n,a=i-t,c=Math.min(o,a),u=this.slice(n,s),f=e.slice(t,i);for(let l=0;l<c;++l)if(u[l]!==f[l]){o=u[l],a=f[l];break}return o<a?-1:a<o?1:0};function LL(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,ak(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=xe.from(e,i)),xe.isBuffer(e))return e.length===0?-1:OL(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):OL(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function OL(r,e,t,i,n){let s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function c(f,l){return s===1?f[l]:f.readUInt16BE(l*s)}let u;if(n){let f=-1;for(u=t;u<o;u++)if(c(r,u)===c(e,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===a)return f*s}else f!==-1&&(u-=u-f),f=-1}else for(t+a>o&&(t=o-a),u=t;u>=0;u--){let f=!0;for(let l=0;l<a;l++)if(c(r,u+l)!==c(e,l)){f=!1;break}if(f)return u}return-1}xe.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};xe.prototype.indexOf=function(e,t,i){return LL(this,e,t,i,!0)};xe.prototype.lastIndexOf=function(e,t,i){return LL(this,e,t,i,!1)};function kUe(r,e,t,i){t=Number(t)||0;let n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;let s=e.length;i>s/2&&(i=s/2);let o;for(o=0;o<i;++o){let a=parseInt(e.substr(o*2,2),16);if(ak(a))return o;r[t+o]=a}return o}function AUe(r,e,t,i){return $x(ck(e,r.length-t),r,t,i)}function TUe(r,e,t,i){return $x(IUe(e),r,t,i)}function RUe(r,e,t,i){return $x(PL(e),r,t,i)}function BUe(r,e,t,i){return $x(qUe(e,r.length-t),r,t,i)}xe.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return kUe(this,e,t,i);case"utf8":case"utf-8":return AUe(this,e,t,i);case"ascii":case"latin1":case"binary":return TUe(this,e,t,i);case"base64":return RUe(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return BUe(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};xe.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function xUe(r,e,t){return e===0&&t===r.length?rk.fromByteArray(r):rk.fromByteArray(r.slice(e,t))}function DL(r,e,t){t=Math.min(r.length,t);let i=[],n=e;for(;n<t;){let s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){let c,u,f,l;switch(a){case 1:s<128&&(o=s);break;case 2:c=r[n+1],(c&192)==128&&(l=(s&31)<<6|c&63,l>127&&(o=l));break;case 3:c=r[n+1],u=r[n+2],(c&192)==128&&(u&192)==128&&(l=(s&15)<<12|(c&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:c=r[n+1],u=r[n+2],f=r[n+3],(c&192)==128&&(u&192)==128&&(f&192)==128&&(l=(s&15)<<18|(c&63)<<12|(u&63)<<6|f&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return CUe(i)}var FL=4096;function CUe(r){let e=r.length;if(e<=FL)return String.fromCharCode.apply(String,r);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=FL));return t}function wUe(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function vUe(r,e,t){let i="";t=Math.min(r.length,t);for(let n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function EUe(r,e,t){let i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let n="";for(let s=e;s<t;++s)n+=MUe[r[s]];return n}function _Ue(r,e,t){let i=r.slice(e,t),n="";for(let s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}xe.prototype.slice=function(e,t){let i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,xe.prototype),n};function Bi(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}xe.prototype.readUintLE=xe.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Bi(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return n};xe.prototype.readUintBE=xe.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Bi(e,t,this.length);let n=this[e+--t],s=1;for(;t>0&&(s*=256);)n+=this[e+--t]*s;return n};xe.prototype.readUint8=xe.prototype.readUInt8=function(e,t){return e=e>>>0,t||Bi(e,1,this.length),this[e]};xe.prototype.readUint16LE=xe.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Bi(e,2,this.length),this[e]|this[e+1]<<8};xe.prototype.readUint16BE=xe.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Bi(e,2,this.length),this[e]<<8|this[e+1]};xe.prototype.readUint32LE=xe.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Bi(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};xe.prototype.readUint32BE=xe.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Bi(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};xe.prototype.readBigUInt64LE=vf(function(e){e=e>>>0,gd(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&C2(e,this.length-8);let n=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(n)+(BigInt(s)<<BigInt(32))});xe.prototype.readBigUInt64BE=vf(function(e){e=e>>>0,gd(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&C2(e,this.length-8);let n=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(n)<<BigInt(32))+BigInt(s)});xe.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Bi(e,t,this.length);let n=this[e],s=1,o=0;for(;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};xe.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Bi(e,t,this.length);let n=t,s=1,o=this[e+--n];for(;n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};xe.prototype.readInt8=function(e,t){return e=e>>>0,t||Bi(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};xe.prototype.readInt16LE=function(e,t){e=e>>>0,t||Bi(e,2,this.length);let i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};xe.prototype.readInt16BE=function(e,t){e=e>>>0,t||Bi(e,2,this.length);let i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};xe.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Bi(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};xe.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Bi(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};xe.prototype.readBigInt64LE=vf(function(e){e=e>>>0,gd(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&C2(e,this.length-8);let n=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});xe.prototype.readBigInt64BE=vf(function(e){e=e>>>0,gd(e,"offset");let t=this[e],i=this[e+7];(t===void 0||i===void 0)&&C2(e,this.length-8);let n=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});xe.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Bi(e,4,this.length),yd.read(this,e,!0,23,4)};xe.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Bi(e,4,this.length),yd.read(this,e,!1,23,4)};xe.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Bi(e,8,this.length),yd.read(this,e,!0,52,8)};xe.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Bi(e,8,this.length),yd.read(this,e,!1,52,8)};function gs(r,e,t,i,n,s){if(!xe.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}xe.prototype.writeUintLE=xe.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;gs(this,e,t,i,a,0)}let s=1,o=0;for(this[t]=e&255;++o<i&&(s*=256);)this[t+o]=e/s&255;return t+i};xe.prototype.writeUintBE=xe.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){let a=Math.pow(2,8*i)-1;gs(this,e,t,i,a,0)}let s=i-1,o=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+i};xe.prototype.writeUint8=xe.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||gs(this,e,t,1,255,0),this[t]=e&255,t+1};xe.prototype.writeUint16LE=xe.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||gs(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};xe.prototype.writeUint16BE=xe.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||gs(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};xe.prototype.writeUint32LE=xe.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||gs(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};xe.prototype.writeUint32BE=xe.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||gs(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function zL(r,e,t,i,n){UL(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s,s=s>>8,r[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,o=o>>8,r[t++]=o,t}function KL(r,e,t,i,n){UL(e,i,n,r,t,7);let s=Number(e&BigInt(4294967295));r[t+7]=s,s=s>>8,r[t+6]=s,s=s>>8,r[t+5]=s,s=s>>8,r[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return r[t+3]=o,o=o>>8,r[t+2]=o,o=o>>8,r[t+1]=o,o=o>>8,r[t]=o,t+8}xe.prototype.writeBigUInt64LE=vf(function(e,t=0){return zL(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});xe.prototype.writeBigUInt64BE=vf(function(e,t=0){return KL(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});xe.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let c=Math.pow(2,8*i-1);gs(this,e,t,i,c-1,-c)}let s=0,o=1,a=0;for(this[t]=e&255;++s<i&&(o*=256);)e<0&&a===0&&this[t+s-1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};xe.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){let c=Math.pow(2,8*i-1);gs(this,e,t,i,c-1,-c)}let s=i-1,o=1,a=0;for(this[t+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[t+s+1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};xe.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||gs(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};xe.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||gs(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};xe.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||gs(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};xe.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||gs(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};xe.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||gs(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};xe.prototype.writeBigInt64LE=vf(function(e,t=0){return zL(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});xe.prototype.writeBigInt64BE=vf(function(e,t=0){return KL(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function VL(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function jL(r,e,t,i,n){return e=+e,t=t>>>0,n||VL(r,e,t,4,34028234663852886e22,-34028234663852886e22),yd.write(r,e,t,i,23,4),t+4}xe.prototype.writeFloatLE=function(e,t,i){return jL(this,e,t,!0,i)};xe.prototype.writeFloatBE=function(e,t,i){return jL(this,e,t,!1,i)};function HL(r,e,t,i,n){return e=+e,t=t>>>0,n||VL(r,e,t,8,17976931348623157e292,-17976931348623157e292),yd.write(r,e,t,i,52,8),t+8}xe.prototype.writeDoubleLE=function(e,t,i){return HL(this,e,t,!0,i)};xe.prototype.writeDoubleBE=function(e,t,i){return HL(this,e,t,!1,i)};xe.prototype.copy=function(e,t,i,n){if(!xe.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);let s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};xe.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!xe.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){let o=e.charCodeAt(0);(n==="utf8"&&o<128||n==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<i;++s)this[s]=e;else{let o=xe.isBuffer(e)?e:xe.from(e,n),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=o[s%a]}return this};var md={};function uk(r,e,t){md[r]=class extends t{constructor(){super();Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${r}]`,this.stack,delete this.name}get code(){return r}set code(n){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:n,writable:!0})}toString(){return`${this.name} [${r}]: ${this.message}`}}}uk("ERR_BUFFER_OUT_OF_BOUNDS",function(r){return r?`${r} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);uk("ERR_INVALID_ARG_TYPE",function(r,e){return`The "${r}" argument must be of type number. Received type ${typeof e}`},TypeError);uk("ERR_OUT_OF_RANGE",function(r,e,t){let i=`The value of "${r}" is out of range.`,n=t;return Number.isInteger(t)&&Math.abs(t)>2**32?n=GL(String(t)):typeof t=="bigint"&&(n=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(n=GL(n)),n+="n"),i+=` It must be ${e}. Received ${n}`,i},RangeError);function GL(r){let e="",t=r.length,i=r[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${r.slice(t-3,t)}${e}`;return`${r.slice(0,t)}${e}`}function NUe(r,e,t){gd(e,"offset"),(r[e]===void 0||r[e+t]===void 0)&&C2(e,r.length-(t+1))}function UL(r,e,t,i,n,s){if(r>t||r<e){let o=typeof e=="bigint"?"n":"",a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${t}${o}`,new md.ERR_OUT_OF_RANGE("value",a,r)}NUe(i,n,s)}function gd(r,e){if(typeof r!="number")throw new md.ERR_INVALID_ARG_TYPE(e,"number",r)}function C2(r,e,t){throw Math.floor(r)!==r?(gd(r,t),new md.ERR_OUT_OF_RANGE(t||"offset","an integer",r)):e<0?new md.ERR_BUFFER_OUT_OF_BOUNDS:new md.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,r)}var PUe=/[^+/0-9A-Za-z-_]/g;function DUe(r){if(r=r.split("=")[0],r=r.trim().replace(PUe,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function ck(r,e){e=e||Infinity;let t,i=r.length,n=null,s=[];for(let o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function IUe(r){let e=[];for(let t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function qUe(r,e){let t,i,n,s=[];for(let o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function PL(r){return rk.toByteArray(DUe(r))}function $x(r,e,t,i){let n;for(n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function Ka(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function ak(r){return r!==r}var MUe=function(){let r="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){let i=t*16;for(let n=0;n<16;++n)e[i+n]=r[t]+r[n]}return e}();function vf(r){return typeof BigInt=="undefined"?OUe:r}function OUe(){throw new Error("BigInt not supported")}});var JL=h((Ctr,$L)=>{var ti=$L.exports={},Va,ja;function fk(){throw new Error("setTimeout has not been defined")}function lk(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Va=setTimeout:Va=fk}catch(r){Va=fk}try{typeof clearTimeout=="function"?ja=clearTimeout:ja=lk}catch(r){ja=lk}})();function WL(r){if(Va===setTimeout)return setTimeout(r,0);if((Va===fk||!Va)&&setTimeout)return Va=setTimeout,setTimeout(r,0);try{return Va(r,0)}catch(e){try{return Va.call(null,r,0)}catch(t){return Va.call(this,r,0)}}}function LUe(r){if(ja===clearTimeout)return clearTimeout(r);if((ja===lk||!ja)&&clearTimeout)return ja=clearTimeout,clearTimeout(r);try{return ja(r)}catch(e){try{return ja.call(null,r)}catch(t){return ja.call(this,r)}}}var Qc=[],xd=!1,X0,Wx=-1;function FUe(){!xd||!X0||(xd=!1,X0.length?Qc=X0.concat(Qc):Wx=-1,Qc.length&&YL())}function YL(){if(!xd){var r=WL(FUe);xd=!0;for(var e=Qc.length;e;){for(X0=Qc,Qc=[];++Wx<e;)X0&&X0[Wx].run();Wx=-1,e=Qc.length}X0=null,xd=!1,LUe(r)}}ti.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Qc.push(new XL(r,e)),Qc.length===1&&!xd&&WL(YL)};function XL(r,e){this.fun=r,this.array=e}XL.prototype.run=function(){this.fun.apply(null,this.array)};ti.title="browser";ti.browser=!0;ti.env={};ti.argv=[];ti.version="";ti.versions={};function eu(){}ti.on=eu;ti.addListener=eu;ti.once=eu;ti.off=eu;ti.removeListener=eu;ti.removeAllListeners=eu;ti.emit=eu;ti.prependListener=eu;ti.prependOnceListener=eu;ti.listeners=function(r){return[]};ti.binding=function(r){throw new Error("process.binding is not supported")};ti.cwd=function(){return"/"};ti.chdir=function(r){throw new Error("process.chdir is not supported")};ti.umask=function(){return 0}});var ZL=h(()=>{});var hk=h(Yx=>{"use strict";var QL=class extends Error{constructor(e="Request timed out"){super(e);this.name="TimeoutError"}};Yx.TimeoutError=QL;var eF=class extends Error{constructor(e="The operation was aborted."){super(e);this.name="AbortError"}};Yx.AbortError=eF;var tF=class extends Error{constructor(e){super(e.statusText);this.name="HTTPError",this.response=e}};Yx.HTTPError=tF});var iF=h((Otr,rF)=>{function UUe(){return typeof window!="undefined"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process!="undefined"&&typeof process.versions=="object"&&!!process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0}rF.exports=UUe});var N2=h((Ltr,nF)=>{"use strict";var zUe=iF(),Xx=typeof window=="object"&&typeof document=="object"&&document.nodeType===9,M2=zUe(),KUe=Xx&&!M2,VUe=M2&&!Xx,jUe=M2&&Xx,HUe=typeof process!="undefined"&&typeof process.release!="undefined"&&process.release.name==="node"&&!M2,GUe=typeof importScripts=="function"&&typeof self!="undefined"&&typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope,$Ue=typeof process!="undefined"&&typeof process.env!="undefined"&&process.env.NODE_ENV==="test";nF.exports={isTest:$Ue,isElectron:M2,isElectronMain:VUe,isElectronRenderer:jUe,isNode:HUe,isBrowser:KUe,isWebWorker:GUe,isEnvWithDom:Xx}});var sF=h(()=>{});var dk=h((ztr,oF)=>{"use strict";var aF=Object.prototype.toString;oF.exports=function(e){var t=aF.call(e),i=t==="[object Arguments]";return i||(i=t!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&aF.call(e.callee)==="[object Function]"),i}});var yF=h((Ktr,cF)=>{"use strict";var uF;Object.keys||(P2=Object.prototype.hasOwnProperty,pk=Object.prototype.toString,fF=dk(),bk=Object.prototype.propertyIsEnumerable,lF=!bk.call({toString:null},"toString"),hF=bk.call(function(){},"prototype"),D2=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Jx=function(r){var e=r.constructor;return e&&e.prototype===r},dF={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},pF=function(){if(typeof window=="undefined")return!1;for(var r in window)try{if(!dF["$"+r]&&P2.call(window,r)&&window[r]!==null&&typeof window[r]=="object")try{Jx(window[r])}catch(e){return!0}}catch(e){return!0}return!1}(),bF=function(r){if(typeof window=="undefined"||!pF)return Jx(r);try{return Jx(r)}catch(e){return!1}},uF=function(e){var t=e!==null&&typeof e=="object",i=pk.call(e)==="[object Function]",n=fF(e),s=t&&pk.call(e)==="[object String]",o=[];if(!t&&!i&&!n)throw new TypeError("Object.keys called on a non-object");var a=hF&&i;if(s&&e.length>0&&!P2.call(e,0))for(var c=0;c<e.length;++c)o.push(String(c));if(n&&e.length>0)for(var u=0;u<e.length;++u)o.push(String(u));else for(var f in e)!(a&&f==="prototype")&&P2.call(e,f)&&o.push(String(f));if(lF)for(var l=bF(e),d=0;d<D2.length;++d)!(l&&D2[d]==="constructor")&&P2.call(e,D2[d])&&o.push(D2[d]);return o});var P2,pk,fF,bk,lF,hF,D2,Jx,dF,pF,bF;cF.exports=uF});var wF=h((Vtr,gF)=>{"use strict";var WUe=Array.prototype.slice,YUe=dk(),mF=Object.keys,Zx=mF?function(e){return mF(e)}:yF(),xF=Object.keys;Zx.shim=function(){if(Object.keys){var e=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);e||(Object.keys=function(i){return YUe(i)?xF(WUe.call(i)):xF(i)})}else Object.keys=Zx;return Object.keys||Zx};gF.exports=Zx});var J0=h((jtr,vF)=>{"use strict";var XUe=wF(),JUe=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",ZUe=Object.prototype.toString,QUe=Array.prototype.concat,yk=Object.defineProperty,eze=function(r){return typeof r=="function"&&ZUe.call(r)==="[object Function]"},tze=function(){var r={};try{yk(r,"x",{enumerable:!1,value:r});for(var e in r)return!1;return r.x===r}catch(t){return!1}},EF=yk&&tze(),rze=function(r,e,t,i){e in r&&(!eze(i)||!i())||(EF?yk(r,e,{configurable:!0,enumerable:!1,value:t,writable:!0}):r[e]=t)},_F=function(r,e){var t=arguments.length>2?arguments[2]:{},i=XUe(e);JUe&&(i=QUe.call(i,Object.getOwnPropertySymbols(e)));for(var n=0;n<i.length;n+=1)rze(r,i[n],e[i[n]],t[i[n]])};_F.supportsDescriptors=!!EF;vF.exports=_F});var gk=h((Htr,Qx)=>{"use strict";typeof self!="undefined"?Qx.exports=self:typeof window!="undefined"?Qx.exports=window:Qx.exports=Function("return this")()});var mk=h((Gtr,SF)=>{"use strict";var ize=gk();SF.exports=function(){return typeof globalThis!="object"||!globalThis||globalThis.Math!==Math||globalThis.Array!==Array?ize:globalThis}});var AF=h(($tr,kF)=>{"use strict";var nze=J0(),sze=mk();kF.exports=function(){var e=sze();if(nze.supportsDescriptors){var t=Object.getOwnPropertyDescriptor(e,"globalThis");(!t||t.configurable&&(t.enumerable||t.writable||globalThis!==e))&&Object.defineProperty(e,"globalThis",{configurable:!0,enumerable:!1,value:e,writable:!1})}else(typeof globalThis!="object"||globalThis!==e)&&(e.globalThis=e);return e}});var qF=h((Wtr,IF)=>{"use strict";var oze=J0(),aze=gk(),TF=mk(),cze=AF(),uze=TF(),RF=function(){return uze};oze(RF,{getPolyfill:TF,implementation:aze,shim:cze});IF.exports=RF});var vd=h((wd,BF)=>{"use strict";var fze=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof tu!="undefined")return tu;throw new Error("unable to locate global object")},tu=fze();BF.exports=wd=tu.fetch;tu.fetch&&(wd.default=tu.fetch.bind(tu));wd.Headers=tu.Headers;wd.Request=tu.Request;wd.Response=tu.Response});var CF=h((Ytr,Ef)=>{"use strict";var _f=qF()();_f.fetch&&_f.Headers&&_f.Request&&_f.Response?(Ef.exports=function(...e){return _f.fetch(...e)},Ef.exports.Headers=_f.Headers,Ef.exports.Request=_f.Request,Ef.exports.Response=_f.Response,Ef.exports.default=Ef.exports):Ef.exports=vd()});var MF=h((Xtr,xk)=>{"use strict";var{isElectronMain:lze}=N2();lze?xk.exports=sF():xk.exports=CF()});var DF=h((Jtr,NF)=>{"use strict";var{TimeoutError:hze,AbortError:dze}=hk(),{Response:PF,Request:pze,Headers:wk,default:bze}=MF(),gze=(r,e={})=>{let t=new XMLHttpRequest;t.open(e.method||"GET",r.toString(),!0);let{timeout:i,headers:n}=e;if(i&&i>0&&i<Infinity&&(t.timeout=i),e.overrideMimeType!=null&&t.overrideMimeType(e.overrideMimeType),n)for(let[s,o]of new wk(n))t.setRequestHeader(s,o);return e.signal&&(e.signal.onabort=()=>t.abort()),e.onUploadProgress&&(t.upload.onprogress=e.onUploadProgress),t.responseType="arraybuffer",new Promise((s,o)=>{let a=c=>{switch(c.type){case"error":{s(PF.error());break}case"load":{s(new vk(t.responseURL,t.response,{status:t.status,statusText:t.statusText,headers:yze(t.getAllResponseHeaders())}));break}case"timeout":{o(new hze);break}case"abort":{o(new dze);break}default:break}};t.onerror=a,t.onload=a,t.ontimeout=a,t.onabort=a,t.send(e.body)})},mze=bze,xze=(r,e={})=>e.onUploadProgress!=null?gze(r,e):mze(r,e),yze=r=>{let e=new wk;for(let t of r.trim().split(/[\r\n]+/)){let i=t.indexOf(": ");i>0&&e.set(t.slice(0,i),t.slice(i+1))}return e},vk=class extends PF{constructor(e,t,i){super(t,i);Object.defineProperty(this,"url",{value:e})}};NF.exports={fetch:xze,Request:pze,Headers:wk,ResponseWithURL:vk}});var LF=h((Ztr,OF)=>{"use strict";OF.exports=r=>{if(Object.prototype.toString.call(r)!=="[object Object]")return!1;let e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}});var hi=h((FF,UF)=>{"use strict";var ew=LF(),{hasOwnProperty:zF}=Object.prototype,{propertyIsEnumerable:wze}=Object,Ed=(r,e,t)=>Object.defineProperty(r,e,{value:t,writable:!0,enumerable:!0,configurable:!0}),vze=FF,KF={concatArrays:!1,ignoreUndefined:!1},tw=r=>{let e=[];for(let t in r)zF.call(r,t)&&e.push(t);if(Object.getOwnPropertySymbols){let t=Object.getOwnPropertySymbols(r);for(let i of t)wze.call(r,i)&&e.push(i)}return e};function _d(r){return Array.isArray(r)?Eze(r):ew(r)?_ze(r):r}function Eze(r){let e=r.slice(0,0);return tw(r).forEach(t=>{Ed(e,t,_d(r[t]))}),e}function _ze(r){let e=Object.getPrototypeOf(r)===null?Object.create(null):{};return tw(r).forEach(t=>{Ed(e,t,_d(r[t]))}),e}var VF=(r,e,t,i)=>(t.forEach(n=>{typeof e[n]=="undefined"&&i.ignoreUndefined||(n in r&&r[n]!==Object.getPrototypeOf(r)?Ed(r,n,Ek(r[n],e[n],i)):Ed(r,n,_d(e[n])))}),r),Sze=(r,e,t)=>{let i=r.slice(0,0),n=0;return[r,e].forEach(s=>{let o=[];for(let a=0;a<s.length;a++)!zF.call(s,a)||(o.push(String(a)),s===r?Ed(i,n++,s[a]):Ed(i,n++,_d(s[a])));i=VF(i,s,tw(s).filter(a=>!o.includes(a)),t)}),i};function Ek(r,e,t){return t.concatArrays&&Array.isArray(r)&&Array.isArray(e)?Sze(r,e,t):!ew(e)||!ew(r)?_d(e):VF(r,e,tw(e),t)}UF.exports=function(...r){let e=Ek(_d(KF),this!==vze&&this||{},KF),t={_:{}};for(let i of r)if(i!==void 0){if(!ew(i))throw new TypeError("`"+i+"` is not an Option Object");t=Ek(t,{_:i},e)}return t._}});var _k=h((Qtr,jF)=>{"use strict";var kze=typeof navigator!="undefined"&&navigator.product==="ReactNative";function Aze(){return kze?"http://localhost":self.location.protocol+"//"+self.location.host}var O2=self.URL,HF=Aze(),GF=class{constructor(e="",t=HF){this.super=new O2(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set username(e){this.super.username=e}static createObjectURL(e){return O2.createObjectURL(e)}static revokeObjectURL(e){O2.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function Ize(r){if(typeof r=="string")return new O2(r).toString();if(!(r instanceof O2)){let e=r.username&&r.password?`${r.username}:${r.password}@`:"",t=r.auth?r.auth+"@":"",i=r.port?":"+r.port:"",n=r.protocol?r.protocol+"//":"",s=r.host||"",o=r.hostname||"",a=r.search||(r.query?"?"+r.query:""),c=r.hash||"",u=r.pathname||"",f=r.path||u+a;return`${n}${e||t}${s||o+i}${f}${c}`}}jF.exports={URLWithLegacySupport:GF,URLSearchParams:self.URLSearchParams,defaultBase:HF,format:Ize}});var YF=h((err,$F)=>{"use strict";var{URLWithLegacySupport:WF,format:Tze}=_k();$F.exports=(r,e={},t={},i)=>{let n=e.protocol?e.protocol.replace(":",""):"http";n=(t[n]||i||n)+":";let s;try{s=new WF(r)}catch(a){s={}}let o=Object.assign({},e,{protocol:n||s.protocol,host:e.host||s.host});return new WF(r,Tze(o)).toString()}});var JF=h((trr,XF)=>{"use strict";var{URLWithLegacySupport:Rze,format:qze,URLSearchParams:Bze,defaultBase:Cze}=_k(),Mze=YF();XF.exports={URL:Rze,URLSearchParams:Bze,format:qze,relative:Mze,defaultBase:Cze}});var ct=h(Sk=>{"use strict";Sk.TextEncoder=TextEncoder;Sk.TextDecoder=TextDecoder});var rw=h((irr,ZF)=>{"use strict";ZF.exports=ct().TextDecoder});var Sf=h((nrr,iw)=>{"use strict";var{AbortController:QF,AbortSignal:Nze}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;iw.exports=QF;iw.exports.AbortSignal=Nze;iw.exports.default=QF});var sw=h((srr,eU)=>{"use strict";var nw;globalThis.AbortController&&globalThis.AbortSignal?nw=globalThis:nw=Sf();eU.exports={AbortController:nw.AbortController,AbortSignal:nw.AbortSignal}});var Sd=h((orr,kk)=>{var{AbortController:Pze}=sw();function tU(r){let e=new Pze;function t(){e.abort();for(let i of r)!i||!i.removeEventListener||i.removeEventListener("abort",t)}for(let i of r)if(!(!i||!i.addEventListener)){if(i.aborted){t();break}i.addEventListener("abort",t)}return e.signal}kk.exports=tU;kk.exports.anySignal=tU});var ow=h((arr,rU)=>{"use strict";var{fetch:Dze,Request:Oze,Headers:Lze}=DF(),{TimeoutError:Ak,HTTPError:iU}=hk(),nU=hi().bind({ignoreUndefined:!0}),{URL:sU,URLSearchParams:oU}=JF(),Fze=rw(),{AbortController:Uze}=sw(),zze=Sd(),Kze=(r,e,t)=>{if(e===void 0)return r;let i=Date.now(),n=()=>Date.now()-i>=e;return new Promise((s,o)=>{let a=setTimeout(()=>{n()&&(o(new Ak),t.abort())},e),c=u=>l=>{if(clearTimeout(a),n()){o(new Ak);return}u(l)};r.then(c(s),c(o))})},Vze={throwHttpErrors:!0,credentials:"same-origin"},Zn=class{constructor(e={}){this.opts=nU(Vze,e)}async fetch(e,t={}){let i=nU(this.opts,t),n=new Lze(i.headers);if(typeof e!="string"&&!(e instanceof sU||e instanceof Oze))throw new TypeError("`resource` must be a string, URL, or Request");let s=new sU(e.toString(),i.base),{searchParams:o,transformSearchParams:a,json:c}=i;o&&(typeof a=="function"?s.search=a(new oU(i.searchParams)):s.search=new oU(i.searchParams)),c&&(i.body=JSON.stringify(i.json),n.set("content-type","application/json"));let u=new Uze,f=zze([u.signal,i.signal]),l=await Kze(Dze(s.toString(),{...i,signal:f,timeout:void 0,headers:n}),i.timeout,u);if(!l.ok&&i.throwHttpErrors)throw i.handleError&&await i.handleError(l),new iU(l);return l.iterator=function(){return aU(l.body)},l.ndjson=async function*(){for await(let d of jze(l.iterator()))t.transform?yield t.transform(d):yield d},l}post(e,t={}){return this.fetch(e,{...t,method:"POST"})}get(e,t={}){return this.fetch(e,{...t,method:"GET"})}put(e,t={}){return this.fetch(e,{...t,method:"PUT"})}delete(e,t={}){return this.fetch(e,{...t,method:"DELETE"})}options(e,t={}){return this.fetch(e,{...t,method:"OPTIONS"})}},jze=async function*(r){let e=new Fze,t="";for await(let i of r){t+=e.decode(i,{stream:!0});let n=t.split(/\r?\n/);for(let s=0;s<n.length-1;s++){let o=n[s].trim();o.length>0&&(yield JSON.parse(o))}t=n[n.length-1]}t+=e.decode(),t=t.trim(),t.length!==0&&(yield JSON.parse(t))},aU=r=>{if($ze(r)){let e=r[Symbol.asyncIterator]();return{[Symbol.asyncIterator](){return{next:e.next.bind(e),return(t){return r.destroy(),typeof e.return=="function"?e.return():Promise.resolve({done:!0,value:t})}}}}}if(Gze(r)){let e=r.getReader();return async function*(){try{for(;;){let{done:t,value:i}=await e.read();if(t)return;i&&(yield i)}}finally{e.releaseLock()}}()}if(Hze(r))return r;throw new TypeError("Body can't be converted to AsyncIterable")},Hze=r=>typeof r=="object"&&r!==null&&typeof r[Symbol.asyncIterator]=="function",Gze=r=>r&&typeof r.getReader=="function",$ze=r=>Object.prototype.hasOwnProperty.call(r,"readable")&&Object.prototype.hasOwnProperty.call(r,"writable");Zn.HTTPError=iU;Zn.TimeoutError=Ak;Zn.streamToAsyncIterator=aU;Zn.post=(r,e)=>new Zn(e).post(r,e);Zn.get=(r,e)=>new Zn(e).get(r,e);Zn.put=(r,e)=>new Zn(e).put(r,e);Zn.delete=(r,e)=>new Zn(e).delete(r,e);Zn.options=(r,e)=>new Zn(e).options(r,e);rU.exports=Zn});var uU=h((crr,cU)=>{"use strict";var Wze=ow(),Xze=(r,e)=>({path:decodeURIComponent(new URL(r).pathname.split("/").pop()||""),content:Yze(r,e)});async function*Yze(r,e){yield*(await new Wze().get(r,e)).iterator()}cU.exports=Xze});var ri=h((urr,fU)=>{"use strict";function Jze(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),t=0;t<e.length;t++)e[t]=255;for(var i=0;i<r.length;i++){var n=r.charAt(i),s=n.charCodeAt(0);if(e[s]!==255)throw new TypeError(n+" is ambiguous");e[s]=i}var o=r.length,a=r.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function f(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var b=0,g=0,m=0,w=p.length;m!==w&&p[m]===0;)m++,b++;for(var A=(w-m)*u+1>>>0,I=new Uint8Array(A);m!==w;){for(var F=p[m],V=0,P=A-1;(F!==0||V<g)&&P!==-1;P--,V++)F+=256*I[P]>>>0,I[P]=F%o>>>0,F=F/o>>>0;if(F!==0)throw new Error("Non-zero carry");g=V,m++}for(var W=A-g;W!==A&&I[W]===0;)W++;for(var ne=a.repeat(b);W<A;++W)ne+=r.charAt(I[W]);return ne}function l(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var b=0;if(p[b]!==" "){for(var g=0,m=0;p[b]===a;)g++,b++;for(var w=(p.length-b)*c+1>>>0,A=new Uint8Array(w);p[b];){var I=e[p.charCodeAt(b)];if(I===255)return;for(var F=0,V=w-1;(I!==0||F<m)&&V!==-1;V--,F++)I+=o*A[V]>>>0,A[V]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");m=F,b++}if(p[b]!==" "){for(var P=w-m;P!==w&&A[P]===0;)P++;for(var W=new Uint8Array(g+(w-P)),ne=g;P!==w;)W[ne++]=A[P++];return W}}}function d(p){var b=l(p);if(b)return b;throw new Error("Non-base"+o+" character")}return{encode:f,decodeUnsafe:l,decode:d}}fU.exports=Jze});var aw=h((frr,lU)=>{"use strict";var{TextEncoder:Zze,TextDecoder:Qze}=ct(),eKe=new Qze,tKe=r=>eKe.decode(r),rKe=new Zze,iKe=r=>rKe.encode(r);function nKe(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}lU.exports={decodeText:tKe,encodeText:iKe,concat:nKe}});var pU=h((lrr,hU)=>{"use strict";var{encodeText:sKe}=aw(),dU=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=sKe(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};hU.exports=dU});var yU=h((hrr,bU)=>{"use strict";var oKe=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},aKe=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},cKe=r=>e=>({encode(t){return aKe(t,e,r)},decode(t){return oKe(t,e,r)}});bU.exports={rfc4648:cKe}});var wU=h((drr,gU)=>{"use strict";var L2=ri(),uKe=pU(),{rfc4648:tn}=yU(),{decodeText:fKe,encodeText:lKe}=aw(),hKe=()=>({encode:fKe,decode:lKe}),mU=[["identity","\0",hKe,""],["base2","0",tn(1),"01"],["base8","7",tn(3),"01234567"],["base10","9",L2,"0123456789"],["base16","f",tn(4),"0123456789abcdef"],["base16upper","F",tn(4),"0123456789ABCDEF"],["base32hex","v",tn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",tn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",tn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",tn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",tn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",tn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",tn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",tn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",tn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",L2,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",L2,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",L2,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",L2,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",tn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",tn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",tn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",tn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],xU=mU.reduce((r,e)=>(r[e[0]]=new uKe(e[0],e[1],e[2],e[3]),r),{}),dKe=mU.reduce((r,e)=>(r[e[1]]=xU[e[0]],r),{});gU.exports={names:xU,codes:dKe}});var _U=h((ru,vU)=>{"use strict";var kd=wU(),{encodeText:pKe,decodeText:cw,concat:EU}=aw();function yKe(r,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:t,codeBuf:i}=Z0(r);return bKe(t,e),EU([i,e],i.length+e.length)}function gKe(r,e){let t=Z0(r),i=pKe(t.encode(e));return EU([t.codeBuf,i],t.codeBuf.length+i.length)}function mKe(r){r instanceof Uint8Array&&(r=cw(r));let e=r[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(r=r.toLowerCase()),Z0(r[0]).decode(r.substring(1))}function xKe(r){if(r instanceof Uint8Array&&(r=cw(r)),Object.prototype.toString.call(r)!=="[object String]")return!1;try{return Z0(r[0]).name}catch(e){return!1}}function bKe(r,e){Z0(r).decode(cw(e))}function Z0(r){if(Object.prototype.hasOwnProperty.call(kd.names,r))return kd.names[r];if(Object.prototype.hasOwnProperty.call(kd.codes,r))return kd.codes[r];throw new Error(`Unsupported encoding: ${r}`)}function wKe(r){return r instanceof Uint8Array&&(r=cw(r)),Z0(r[0])}ru=vU.exports=yKe;ru.encode=gKe;ru.decode=mKe;ru.isEncoded=xKe;ru.encoding=Z0;ru.encodingFromData=wKe;ru.names=Object.freeze(kd.names);ru.codes=Object.freeze(kd.codes)});var AU=h((prr,SU)=>{SU.exports=Ik;var kU=128,vKe=127,EKe=~vKe,_Ke=Math.pow(2,31);function Ik(r,e,t){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw Ik.bytes=0,new RangeError("Could not encode varint");e=e||[],t=t||0;for(var i=t;r>=_Ke;)e[t++]=r&255|kU,r/=128;for(;r&EKe;)e[t++]=r&255|kU,r>>>=7;return e[t]=r|0,Ik.bytes=t-i+1,e}});var RU=h((brr,IU)=>{IU.exports=Tk;var SKe=128,TU=127;function Tk(r,e){var t=0,e=e||0,i=0,n=e,s,o=r.length;do{if(n>=o||i>49)throw Tk.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&TU)<<i:(s&TU)*Math.pow(2,i),i+=7}while(s>=SKe);return Tk.bytes=n-e,t}});var BU=h((yrr,qU)=>{var kKe=Math.pow(2,7),AKe=Math.pow(2,14),IKe=Math.pow(2,21),TKe=Math.pow(2,28),RKe=Math.pow(2,35),qKe=Math.pow(2,42),BKe=Math.pow(2,49),CKe=Math.pow(2,56),MKe=Math.pow(2,63);qU.exports=function(r){return r<kKe?1:r<AKe?2:r<IKe?3:r<TKe?4:r<RKe?5:r<qKe?6:r<BKe?7:r<CKe?8:r<MKe?9:10}});var ii=h((grr,CU)=>{CU.exports={encode:AU(),decode:RU(),encodingLength:BU()}});var NU=h((mrr,MU)=>{"use strict";var NKe=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});MU.exports={names:NKe}});var uw=h((xrr,PU)=>{"use strict";var{TextEncoder:PKe,TextDecoder:DKe}=ct(),OKe=new DKe,LKe=r=>OKe.decode(r),FKe=new PKe,UKe=r=>FKe.encode(r);function zKe(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}PU.exports={decodeText:LKe,encodeText:UKe,concat:zKe}});var LU=h((wrr,DU)=>{"use strict";var{encodeText:KKe}=uw(),OU=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=KKe(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};DU.exports=OU});var UU=h((vrr,FU)=>{"use strict";var VKe=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},jKe=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},HKe=r=>e=>({encode(t){return jKe(t,e,r)},decode(t){return VKe(t,e,r)}});FU.exports={rfc4648:HKe}});var jU=h((Err,zU)=>{"use strict";var F2=ri(),GKe=LU(),{rfc4648:rn}=UU(),{decodeText:$Ke,encodeText:WKe}=uw(),YKe=()=>({encode:$Ke,decode:WKe}),KU=[["identity","\0",YKe,""],["base2","0",rn(1),"01"],["base8","7",rn(3),"01234567"],["base10","9",F2,"0123456789"],["base16","f",rn(4),"0123456789abcdef"],["base16upper","F",rn(4),"0123456789ABCDEF"],["base32hex","v",rn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",rn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",rn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",rn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",rn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",rn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",rn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",rn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",rn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",F2,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",F2,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",F2,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",F2,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",rn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",rn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",rn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",rn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],VU=KU.reduce((r,e)=>(r[e[0]]=new GKe(e[0],e[1],e[2],e[3]),r),{}),XKe=KU.reduce((r,e)=>(r[e[1]]=VU[e[0]],r),{});zU.exports={names:VU,codes:XKe}});var kf=h((iu,HU)=>{"use strict";var Ad=jU(),{encodeText:JKe,decodeText:fw,concat:GU}=uw();function QKe(r,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:t,codeBuf:i}=Q0(r);return ZKe(t,e),GU([i,e],i.length+e.length)}function eVe(r,e){let t=Q0(r),i=JKe(t.encode(e));return GU([t.codeBuf,i],t.codeBuf.length+i.length)}function tVe(r){r instanceof Uint8Array&&(r=fw(r));let e=r[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(r=r.toLowerCase()),Q0(r[0]).decode(r.substring(1))}function rVe(r){if(r instanceof Uint8Array&&(r=fw(r)),Object.prototype.toString.call(r)!=="[object String]")return!1;try{return Q0(r[0]).name}catch(e){return!1}}function ZKe(r,e){Q0(r).decode(fw(e))}function Q0(r){if(Object.prototype.hasOwnProperty.call(Ad.names,r))return Ad.names[r];if(Object.prototype.hasOwnProperty.call(Ad.codes,r))return Ad.codes[r];throw new Error(`Unsupported encoding: ${r}`)}function iVe(r){return r instanceof Uint8Array&&(r=fw(r)),Q0(r[0])}iu=HU.exports=QKe;iu.encode=eVe;iu.decode=tVe;iu.isEncoded=rVe;iu.encoding=Q0;iu.encodingFromData=iVe;var nVe=Object.freeze(Ad.names),sVe=Object.freeze(Ad.codes);iu.names=nVe;iu.codes=sVe});var dr=h((_rr,$U)=>{"use strict";var{encoding:oVe}=kf(),{TextDecoder:aVe}=ct(),cVe=new aVe("utf8");function uVe(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function fVe(r,e="utf8"){return e==="utf8"||e==="utf-8"?cVe.decode(r):e==="ascii"?uVe(r):oVe(e).encode(r)}$U.exports=fVe});var pr=h((Srr,WU)=>{"use strict";var{encoding:lVe}=kf(),{TextEncoder:hVe}=ct(),dVe=new hVe;function pVe(r){let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function bVe(r,e="utf8"){return e==="utf8"||e==="utf-8"?dVe.encode(r):e==="ascii"?pVe(r):lVe(e).decode(r)}WU.exports=bVe});var Gs=h((krr,YU)=>{"use strict";function yVe(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}YU.exports=yVe});var rz=h((Arr,XU)=>{"use strict";var JU=_U(),Id=ii(),{names:U2}=NU(),lw=dr(),gVe=pr(),mVe=Gs(),z2={};for(let r in U2){let e=r;z2[U2[e]]=e}function xVe(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return lw(r,"base16")}function wVe(r){return gVe(r,"base16")}function vVe(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return lw(JU.encode("base58btc",r)).slice(1)}function EVe(r){let e=r instanceof Uint8Array?lw(r):r;return JU.decode("z"+e)}function QU(r){if(!(r instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(r.length<2)throw new Error("multihash too short. must be > 2 bytes.");let e=Id.decode(r);if(!ZU(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);r=r.slice(Id.decode.bytes);let t=Id.decode(r);if(t<0)throw new Error(`multihash invalid length: ${t}`);if(r=r.slice(Id.decode.bytes),r.length!==t)throw new Error(`multihash length inconsistent: 0x${lw(r,"base16")}`);return{code:e,name:z2[e],length:t,digest:r}}function _Ve(r,e,t){if(!r||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");let i=ez(e);if(!(r instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(t==null&&(t=r.length),t&&r.length!==t)throw new Error("digest length should be equal to specified length.");let n=Id.encode(i),s=Id.encode(t);return mVe([n,s,r],n.length+s.length+r.length)}function ez(r){let e=r;if(typeof r=="string"){if(U2[r]===void 0)throw new Error(`Unrecognized hash function named: ${r}`);e=U2[r]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(z2[e]===void 0&&!Rk(e))throw new Error(`Unrecognized function code: ${e}`);return e}function Rk(r){return r>0&&r<16}function ZU(r){return!!(Rk(r)||z2[r])}function tz(r){QU(r)}function SVe(r){return tz(r),r.subarray(0,2)}XU.exports={names:U2,codes:Object.freeze(z2),toHexString:xVe,fromHexString:wVe,toB58String:vVe,fromB58String:EVe,decode:QU,encode:_Ve,coerceCode:ez,isAppCode:Rk,validate:tz,prefix:SVe,isValidCode:ZU}});var oz=h((Irr,iz)=>{iz.exports=nz;var sz=128,kVe=127,AVe=~kVe,IVe=Math.pow(2,31);function nz(r,e,t){e=e||[],t=t||0;for(var i=t;r>=IVe;)e[t++]=r&255|sz,r/=128;for(;r&AVe;)e[t++]=r&255|sz,r>>>=7;return e[t]=r|0,nz.bytes=t-i+1,e}});var uz=h((Trr,az)=>{az.exports=qk;var TVe=128,cz=127;function qk(r,e){var t=0,e=e||0,i=0,n=e,s,o=r.length;do{if(n>=o)throw qk.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&cz)<<i:(s&cz)*Math.pow(2,i),i+=7}while(s>=TVe);return qk.bytes=n-e,t}});var lz=h((Rrr,fz)=>{var RVe=Math.pow(2,7),qVe=Math.pow(2,14),BVe=Math.pow(2,21),CVe=Math.pow(2,28),MVe=Math.pow(2,35),NVe=Math.pow(2,42),PVe=Math.pow(2,49),DVe=Math.pow(2,56),OVe=Math.pow(2,63);fz.exports=function(r){return r<RVe?1:r<qVe?2:r<BVe?3:r<CVe?4:r<MVe?5:r<NVe?6:r<PVe?7:r<DVe?8:r<OVe?9:10}});var dz=h((qrr,hz)=>{hz.exports={encode:oz(),decode:uz(),encodingLength:lz()}});var bz=h((Brr,pz)=>{"use strict";var LVe=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});pz.exports={names:LVe}});var V2=h((Crr,yz)=>{"use strict";var gz=kf(),Td=dz(),{names:K2}=bz(),hw=dr(),FVe=pr(),UVe=Gs(),Rd={};for(let r in K2){let e=r;Rd[K2[e]]=e}Object.freeze(Rd);function zVe(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return hw(r,"base16")}function KVe(r){return FVe(r,"base16")}function VVe(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return hw(gz.encode("base58btc",r)).slice(1)}function jVe(r){let e=r instanceof Uint8Array?hw(r):r;return gz.decode("z"+e)}function xz(r){if(!(r instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(r.length<2)throw new Error("multihash too short. must be > 2 bytes.");let e=Td.decode(r);if(!mz(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);r=r.slice(Td.decode.bytes);let t=Td.decode(r);if(t<0)throw new Error(`multihash invalid length: ${t}`);if(r=r.slice(Td.decode.bytes),r.length!==t)throw new Error(`multihash length inconsistent: 0x${hw(r,"base16")}`);return{code:e,name:Rd[e],length:t,digest:r}}function HVe(r,e,t){if(!r||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");let i=wz(e);if(!(r instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(t==null&&(t=r.length),t&&r.length!==t)throw new Error("digest length should be equal to specified length.");let n=Td.encode(i),s=Td.encode(t);return UVe([n,s,r],n.length+s.length+r.length)}function wz(r){let e=r;if(typeof r=="string"){if(K2[r]===void 0)throw new Error(`Unrecognized hash function named: ${r}`);e=K2[r]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(Rd[e]===void 0&&!Bk(e))throw new Error(`Unrecognized function code: ${e}`);return e}function Bk(r){return r>0&&r<16}function mz(r){return!!(Bk(r)||Rd[r])}function vz(r){xz(r)}function GVe(r){return vz(r),r.subarray(0,2)}yz.exports={names:K2,codes:Rd,toHexString:zVe,fromHexString:KVe,toB58String:VVe,fromB58String:jVe,decode:xz,encode:HVe,coerceCode:wz,isAppCode:Bk,validate:vz,prefix:GVe,isValidCode:mz}});var kz=h((Mrr,Ez)=>{Ez.exports=_z;var Sz=128,$Ve=127,WVe=~$Ve,YVe=Math.pow(2,31);function _z(r,e,t){e=e||[],t=t||0;for(var i=t;r>=YVe;)e[t++]=r&255|Sz,r/=128;for(;r&WVe;)e[t++]=r&255|Sz,r>>>=7;return e[t]=r|0,_z.bytes=t-i+1,e}});var Tz=h((Nrr,Az)=>{Az.exports=Ck;var XVe=128,Iz=127;function Ck(r,e){var t=0,e=e||0,i=0,n=e,s,o=r.length;do{if(n>=o)throw Ck.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&Iz)<<i:(s&Iz)*Math.pow(2,i),i+=7}while(s>=XVe);return Ck.bytes=n-e,t}});var qz=h((Prr,Rz)=>{var JVe=Math.pow(2,7),ZVe=Math.pow(2,14),QVe=Math.pow(2,21),eje=Math.pow(2,28),tje=Math.pow(2,35),rje=Math.pow(2,42),ije=Math.pow(2,49),nje=Math.pow(2,56),sje=Math.pow(2,63);Rz.exports=function(r){return r<JVe?1:r<ZVe?2:r<QVe?3:r<eje?4:r<tje?5:r<rje?6:r<ije?7:r<nje?8:r<sje?9:10}});var Mk=h((Drr,Bz)=>{Bz.exports={encode:kz(),decode:Tz(),encodingLength:qz()}});var Nk=h((Orr,Cz)=>{"use strict";var Mz=Mk(),oje=dr(),aje=pr();Cz.exports={numberToUint8Array:cje,uint8ArrayToNumber:Nz,varintUint8ArrayEncode:uje,varintEncode:fje};function Nz(r){return parseInt(oje(r,"base16"),16)}function cje(r){let e=r.toString(16);return e.length%2==1&&(e="0"+e),aje(e,"base16")}function uje(r){return Uint8Array.from(Mz.encode(Nz(r)))}function fje(r){return Uint8Array.from(Mz.encode(r))}});var Dz=h((Lrr,Pz)=>{"use strict";var lje=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,thread:406,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});Pz.exports={baseTable:lje}});var Lz=h((Frr,Oz)=>{"use strict";var{baseTable:Pk}=Dz(),hje=Nk().varintEncode,Dk={},Ok={},dw={};for(let r in Pk){let e=r,t=Pk[e];Dk[e]=hje(t);let i=e.toUpperCase().replace(/-/g,"_");Ok[i]=t,dw[t]||(dw[t]=e)}Object.freeze(Dk);Object.freeze(Ok);Object.freeze(dw);var dje=Object.freeze(Pk);Oz.exports={nameToVarint:Dk,constantToCode:Ok,nameToCode:dje,codeToName:dw}});var nn=h((Urr,Fz)=>{"use strict";var pw=Mk(),pje=Gs(),Uz=Nk(),{nameToVarint:bw,constantToCode:bje,nameToCode:zz,codeToName:Lk}=Lz();function yje(r,e){let t;if(r instanceof Uint8Array)t=Uz.varintUint8ArrayEncode(r);else if(bw[r])t=bw[r];else throw new Error("multicodec not recognized");return pje([t,e],t.length+e.length)}function gje(r){return pw.decode(r),r.slice(pw.decode.bytes)}function Kz(r){let e=pw.decode(r),t=Lk[e];if(t===void 0)throw new Error(`Code "${e}" not found`);return t}function Vz(r){return Lk[r]}function jz(r){let e=zz[r];if(e===void 0)throw new Error(`Codec "${r}" not found`);return e}function Hz(r){return pw.decode(r)}function Gz(r){let e=bw[r];if(e===void 0)throw new Error(`Codec "${r}" not found`);return e}function $z(r){return Uz.varintEncode(r)}function mje(r){return Kz(r)}function xje(r){return Vz(r)}function wje(r){return jz(r)}function vje(r){return Hz(r)}function Eje(r){return Gz(r)}function _je(r){return Array.from($z(r))}Fz.exports={addPrefix:yje,rmPrefix:gje,getNameFromData:Kz,getNameFromCode:Vz,getCodeFromName:jz,getCodeFromData:Hz,getVarintFromName:Gz,getVarintFromCode:$z,getCodec:mje,getName:xje,getNumber:wje,getCode:vje,getCodeVarint:Eje,getVarint:_je,...bje,nameToVarint:bw,nameToCode:zz,codeToName:Lk}});var Yz=h((zrr,Wz)=>{"use strict";var Sje=V2(),kje={checkCIDComponents:function(r){if(r==null)return"null values are not valid CIDs";if(!(r.version===0||r.version===1))return"Invalid version, must be a number equal to 1 or 0";if(typeof r.codec!="string")return"codec must be string";if(r.version===0){if(r.codec!=="dag-pb")return"codec must be 'dag-pb' for CIDv0";if(r.multibaseName!=="base58btc")return"multibaseName must be 'base58btc' for CIDv0"}if(!(r.multihash instanceof Uint8Array))return"multihash must be a Uint8Array";try{Sje.validate(r.multihash)}catch(e){let t=e.message;return t||(t="Multihash validation failed"),t}}};Wz.exports=kje});var yo=h((Krr,Xz)=>{"use strict";function Aje(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}Xz.exports=Aje});var ot=h((Vrr,Jz)=>{"use strict";var yw=V2(),Fk=kf(),el=nn(),Ije=Yz(),Zz=Gs(),Tje=dr(),Rje=yo(),gw=el.nameToCode,qje=Object.keys(gw).reduce((r,e)=>(r[gw[e]]=e,r),{}),Qz=Symbol.for("@ipld/js-cid/CID"),ia=class{constructor(e,t,i,n){if(this.version,this.codec,this.multihash,Object.defineProperty(this,Qz,{value:!0}),ia.isCID(e)){let s=e;this.version=s.version,this.codec=s.codec,this.multihash=s.multihash,this.multibaseName=s.multibaseName||(s.version===0?"base58btc":"base32");return}if(typeof e=="string"){let s=Fk.isEncoded(e);if(s){let o=Fk.decode(e);this.version=parseInt(o[0].toString(),16),this.codec=el.getCodec(o.slice(1)),this.multihash=el.rmPrefix(o.slice(1)),this.multibaseName=s}else this.version=0,this.codec="dag-pb",this.multihash=yw.fromB58String(e),this.multibaseName="base58btc";ia.validateCID(this),Object.defineProperty(this,"string",{value:e});return}if(e instanceof Uint8Array){let s=parseInt(e[0].toString(),16);if(s===1){let o=e;this.version=s,this.codec=el.getCodec(o.slice(1)),this.multihash=el.rmPrefix(o.slice(1)),this.multibaseName="base32"}else this.version=0,this.codec="dag-pb",this.multihash=e,this.multibaseName="base58btc";ia.validateCID(this);return}this.version=e,typeof t=="number"&&(t=qje[t]),this.codec=t,this.multihash=i,this.multibaseName=n||(e===0?"base58btc":"base32"),ia.validateCID(this)}get bytes(){let e=this._bytes;if(!e){if(this.version===0)e=this.multihash;else if(this.version===1){let t=el.getCodeVarint(this.codec);e=Zz([[1],t,this.multihash],1+t.byteLength+this.multihash.byteLength)}else throw new Error("unsupported version");Object.defineProperty(this,"_bytes",{value:e})}return e}get prefix(){let e=el.getCodeVarint(this.codec),t=yw.prefix(this.multihash);return Zz([[this.version],e,t],1+e.byteLength+t.byteLength)}get code(){return gw[this.codec]}toV0(){if(this.codec!=="dag-pb")throw new Error("Cannot convert a non dag-pb CID to CIDv0");let{name:e,length:t}=yw.decode(this.multihash);if(e!=="sha2-256")throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");if(t!==32)throw new Error("Cannot convert non 32 byte multihash CID to CIDv0");return new ia(0,this.codec,this.multihash)}toV1(){return new ia(1,this.codec,this.multihash)}toBaseEncodedString(e=this.multibaseName){if(this.string&&this.string.length!==0&&e===this.multibaseName)return this.string;let t;if(this.version===0){if(e!=="base58btc")throw new Error("not supported with CIDv0, to support different bases, please migrate the instance do CIDv1, you can do that through cid.toV1()");t=yw.toB58String(this.multihash)}else if(this.version===1)t=Tje(Fk.encode(e,this.bytes));else throw new Error("unsupported version");return e===this.multibaseName&&Object.defineProperty(this,"string",{value:t}),t}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}toString(e){return this.toBaseEncodedString(e)}toJSON(){return{codec:this.codec,version:this.version,hash:this.multihash}}equals(e){return this.codec===e.codec&&this.version===e.version&&Rje(this.multihash,e.multihash)}static validateCID(e){let t=Ije.checkCIDComponents(e);if(t)throw new Error(t)}static isCID(e){return e instanceof ia||Boolean(e&&e[Qz])}};ia.codecs=gw;Jz.exports=ia});var tK=h((jrr,eK)=>{eK.exports=function(r){var e=function(a){var c=a.indexOf("//");return c>-1?a.slice(0,c):a},t=function(){var a=!1;return function(c){return c==="/*"?(a=!0,!1):c==="*/"?(a=!1,!1):!a}},i=function(a){return a.trim()},n=function(a){return function(c){var u="$"+a.length+"$";return a.push(c),u}},s=function(a){var c=/^\$(\d+)\$$/;return function(u){var f=u.match(c);return f?a[+f[1]]:u}},o=[];return r.replace(/"(\\"|[^"\n])*?"|'(\\'|[^'\n])*?'/gm,n(o)).replace(/([;,{}()=:[\]<>]|\/\*|\*\/)/g," $1 ").split(/\n/).map(i).filter(Boolean).map(e).map(i).filter(Boolean).join(`
`).split(/\s+|\n+/gm).filter(t()).map(s(o))}});var aK=h((Hrr,rK)=>{var Bje=tK(),Cje=536870911,Mje=["int32","int64","uint32","uint64","sint32","sint64","bool","fixed64","sfixed64","double","fixed32","sfixed32","float"],iK=function(r){var e=r.shift();if(e!=="{")return e;e={};for(var t="";r.length;)switch(r[0]){case"}":return r.shift(),e;case":":r.shift(),e[t]=iK(r);break;default:t=r.shift()}},nK=function(r){for(var e={};r.length;)switch(r[0]){case"[":case",":{r.shift();var t=r.shift();t==="("&&(t=r.shift(),r.shift());var i=[];if(r[0][0]==="."&&(i=r[0].substr(1).split("."),r.shift()),r[0]!=="=")throw new Error("Unexpected token in field options: "+r[0]);if(r.shift(),r[0]==="]")throw new Error("Unexpected ] in field option");var n=[t].concat(i),s=n.pop(),o=n.reduce(function(a,c,u){return a[c]==null&&(a[c]={}),a[c]},e);o[s]=iK(r);break}case"]":return r.shift(),e;default:throw new Error("Unexpected token in field options: "+r[0])}throw new Error("No closing tag for field options")},Uk=function(r){for(var e={name:null,type:null,tag:-1,map:null,oneof:null,required:!1,repeated:!1,options:{}};r.length;)switch(r[0]){case"=":r.shift(),e.tag=Number(r.shift());break;case"map":if(e.type="map",e.map={from:null,to:null},r.shift(),r[0]!=="<")throw new Error("Unexpected token in map type: "+r[0]);if(r.shift(),e.map.from=r.shift(),r[0]!==",")throw new Error("Unexpected token in map type: "+r[0]);if(r.shift(),e.map.to=r.shift(),r[0]!==">")throw new Error("Unexpected token in map type: "+r[0]);r.shift(),e.name=r.shift();break;case"repeated":case"required":case"optional":var t=r.shift();e.required=t==="required",e.repeated=t==="repeated",e.type=r.shift(),e.name=r.shift();break;case"[":e.options=nK(r);break;case";":if(e.name===null)throw new Error("Missing field name");if(e.type===null)throw new Error("Missing type in message field: "+e.name);if(e.tag===-1)throw new Error("Missing tag number in message field: "+e.name);return r.shift(),e;default:throw new Error("Unexpected token in message field: "+r[0])}throw new Error("No ; found for message field")},Pje=function(r){for(var e={enums:[],options:{},messages:[],fields:[],extends:[],extensions:null};r.length;)switch(r[0]){case"map":case"repeated":case"optional":case"required":e.fields.push(Uk(r));break;case"enum":e.enums.push(oK(r));break;case"message":e.messages.push(zk(r));break;case"extensions":e.extensions=Nje(r);break;case"oneof":r.shift();var t=r.shift();if(r[0]!=="{")throw new Error("Unexpected token in oneof: "+r[0]);for(r.shift();r[0]!=="}";){r.unshift("optional");var i=Uk(r);i.oneof=t,e.fields.push(i)}r.shift();break;case"extend":e.extends.push(sK(r));break;case";":r.shift();break;case"reserved":for(r.shift();r[0]!==";";)r.shift();break;case"option":var n=j2(r);if(e.options[n.name]!==void 0)throw new Error("Duplicate option "+n.name);e.options[n.name]=n.value;break;default:r.unshift("optional"),e.fields.push(Uk(r))}return e},sK=function(r){var e={name:r[1],message:zk(r)};return e},Nje=function(r){r.shift();var e=Number(r.shift());if(isNaN(e))throw new Error("Invalid from in extensions definition");if(r.shift()!=="to")throw new Error("Expected keyword 'to' in extensions definition");var t=r.shift();if(t==="max"&&(t=Cje),t=Number(t),isNaN(t))throw new Error("Invalid to in extensions definition");if(r.shift()!==";")throw new Error("Missing ; in extensions definition");return{from:e,to:t}},zk=function(r){r.shift();var e=1,t=[],i={name:r.shift(),options:{},enums:[],extends:[],messages:[],fields:[]};if(r[0]!=="{")throw new Error("Expected { but found "+r[0]);for(r.shift();r.length;){if(r[0]==="{"?e++:r[0]==="}"&&e--,!e)return r.shift(),t=Pje(t),i.enums=t.enums,i.messages=t.messages,i.fields=t.fields,i.extends=t.extends,i.extensions=t.extensions,i.options=t.options,i;t.push(r.shift())}if(e)throw new Error("No closing tag for message")},Dje=function(r){r.shift();var e=r.shift();if(r[0]!==";")throw new Error("Expected ; but found "+r[0]);return r.shift(),e},Oje=function(r){if(r.shift(),r[0]!=="=")throw new Error("Expected = but found "+r[0]);r.shift();var e=r.shift();switch(e){case'"proto2"':e=2;break;case'"proto3"':e=3;break;default:throw new Error("Expected protobuf syntax version but found "+e)}if(r[0]!==";")throw new Error("Expected ; but found "+r[0]);return r.shift(),e},Lje=function(r){if(r.length<4)throw new Error("Invalid enum value: "+r.slice(0,3).join(" "));if(r[1]!=="=")throw new Error("Expected = but found "+r[1]);if(r[3]!==";"&&r[3]!=="[")throw new Error("Expected ; or [ but found "+r[1]);var e=r.shift();r.shift();var t={value:null,options:{}};return t.value=Number(r.shift()),r[0]==="["&&(t.options=nK(r)),r.shift(),{name:e,val:t}},oK=function(r){r.shift();var e={},t={name:r.shift(),values:{},options:{}};if(r[0]!=="{")throw new Error("Expected { but found "+r[0]);for(r.shift();r.length;){if(r[0]==="}")return r.shift(),r[0]===";"&&r.shift(),t;if(r[0]==="option"){e=j2(r),t.options[e.name]=e.value;continue}var i=Lje(r);t.values[i.name]=i.val}throw new Error("No closing tag for enum")},j2=function(r){for(var e=null,t=null,i=function(s){return s==="true"?!0:s==="false"?!1:s.replace(/^"+|"+$/gm,"")};r.length;){if(r[0]===";")return r.shift(),{name:e,value:t};switch(r[0]){case"option":r.shift();var n=r[0]==="(";if(n&&r.shift(),e=r.shift(),n){if(r[0]!==")")throw new Error("Expected ) but found "+r[0]);r.shift()}r[0][0]==="."&&(e+=r.shift());break;case"=":if(r.shift(),e===null)throw new Error("Expected key for option with value: "+r[0]);if(t=i(r.shift()),e==="optimize_for"&&!/^(SPEED|CODE_SIZE|LITE_RUNTIME)$/.test(t))throw new Error("Unexpected value for option optimize_for: "+t);t==="{"&&(t=Kk(r));break;default:throw new Error("Unexpected token in option: "+r[0])}}},Kk=function(r){for(var e=function(o){return o==="true"?!0:o==="false"?!1:o.replace(/^"+|"+$/gm,"")},t={};r.length;){if(r[0]==="}")return r.shift(),t;var i=r[0]==="(";i&&r.shift();var n=r.shift();if(i){if(r[0]!==")")throw new Error("Expected ) but found "+r[0]);r.shift()}var s=null;switch(r[0]){case":":if(t[n]!==void 0)throw new Error("Duplicate option map key "+n);r.shift(),s=e(r.shift()),s==="{"&&(s=Kk(r)),t[n]=s,r[0]===";"&&r.shift();break;case"{":if(r.shift(),s=Kk(r),t[n]===void 0&&(t[n]=[]),!Array.isArray(t[n]))throw new Error("Duplicate option map key "+n);t[n].push(s);break;default:throw new Error("Unexpected token in option map: "+r[0])}}throw new Error("No closing tag for option map")},Fje=function(r){r.shift();var e=r.shift().replace(/^"+|"+$/gm,"");if(r[0]!==";")throw new Error("Unexpected token: "+r[0]+'. Expected ";"');return r.shift(),e},zje=function(r){r.shift();var e={name:r.shift(),methods:[],options:{}};if(r[0]!=="{")throw new Error("Expected { but found "+r[0]);for(r.shift();r.length;){if(r[0]==="}")return r.shift(),r[0]===";"&&r.shift(),e;switch(r[0]){case"option":var t=j2(r);if(e.options[t.name]!==void 0)throw new Error("Duplicate option "+t.name);e.options[t.name]=t.value;break;case"rpc":e.methods.push(Uje(r));break;default:throw new Error("Unexpected token in service: "+r[0])}}throw new Error("No closing tag for service")},Uje=function(r){r.shift();var e={name:r.shift(),input_type:null,output_type:null,client_streaming:!1,server_streaming:!1,options:{}};if(r[0]!=="(")throw new Error("Expected ( but found "+r[0]);if(r.shift(),r[0]==="stream"&&(r.shift(),e.client_streaming=!0),e.input_type=r.shift(),r[0]!==")")throw new Error("Expected ) but found "+r[0]);if(r.shift(),r[0]!=="returns")throw new Error("Expected returns but found "+r[0]);if(r.shift(),r[0]!=="(")throw new Error("Expected ( but found "+r[0]);if(r.shift(),r[0]==="stream"&&(r.shift(),e.server_streaming=!0),e.output_type=r.shift(),r[0]!==")")throw new Error("Expected ) but found "+r[0]);if(r.shift(),r[0]===";")return r.shift(),e;if(r[0]!=="{")throw new Error("Expected { but found "+r[0]);for(r.shift();r.length;){if(r[0]==="}")return r.shift(),r[0]===";"&&r.shift(),e;if(r[0]==="option"){var t=j2(r);if(e.options[t.name]!==void 0)throw new Error("Duplicate option "+t.name);e.options[t.name]=t.value}else throw new Error("Unexpected token in rpc options: "+r[0])}throw new Error("No closing tag for rpc")},Kje=function(r){for(var e=Bje(r.toString()),t=0;t<e.length;t++)if(/^("|')([^'"]*)$/.test(e[t])){var i;for(e[t].length===1?i=t+1:i=t,i;i<e.length;i++)if(/^[^'"\\]*(?:\\.[^'"\\]*)*("|')$/.test(e[i])){e=e.slice(0,t).concat(e.slice(t,i+1).join("")).concat(e.slice(i+1));break}}for(var n={syntax:3,package:null,imports:[],enums:[],messages:[],options:{},extends:[]},s=!0;e.length;){switch(e[0]){case"package":n.package=Dje(e);break;case"syntax":if(!s)throw new Error("Protobuf syntax version should be first thing in file");n.syntax=Oje(e);break;case"message":n.messages.push(zk(e));break;case"enum":n.enums.push(oK(e));break;case"option":var o=j2(e);if(n.options[o.name])throw new Error("Duplicate option "+o.name);n.options[o.name]=o.value;break;case"import":n.imports.push(Fje(e));break;case"extend":n.extends.push(sK(e));break;case"service":n.services||(n.services=[]),n.services.push(zje(e));break;default:throw new Error("Unexpected token: "+e[0])}s=!1}return n.extends.forEach(function(a){n.messages.forEach(function(c){c.name===a.name&&a.message.fields.forEach(function(u){if(!c.extensions||u.tag<c.extensions.from||u.tag>c.extensions.to)throw new Error(c.name+" does not declare "+u.tag+" as an extension number");c.fields.push(u)})})}),n.messages.forEach(function(a){a.fields.forEach(function(c){var u,f,l,d;function p(g){return g.name===c.type}function b(g){return g.name===l}if(c.options&&c.options.packed==="true"&&Mje.indexOf(c.type)===-1){if(c.type.indexOf(".")===-1){if(a.enums&&a.enums.some(p))return}else{if(u=c.type.split("."),u.length>2)throw new Error("what is this?");if(f=u[0],l=u[1],n.messages.some(function(g){if(g.name===f)return d=g,g}),d&&d.enums&&d.enums.some(b))return}throw new Error("Fields of type "+c.type+' cannot be declared [packed=true]. Only repeated fields of primitive numeric types (types which use the varint, 32-bit, or 64-bit wire types) can be declared "packed". See https://developers.google.com/protocol-buffers/docs/encoding#optional')}})}),n};rK.exports=Kje});var dK=h((Grr,cK)=>{var uK=function(r,e){var t=r.repeated?"repeated":r.required?"required":"optional";r.type==="map"&&(t="map<"+r.map.from+","+r.map.to+">"),r.oneof&&(t="");var i=Object.keys(r.options||{}).map(function(n){return n+" = "+r.options[n]}).join(",");return i&&(i=" ["+i+"]"),e.push((t?t+" ":"")+(r.map==="map"?"":r.type+" ")+r.name+" = "+r.tag+i+";"),e},fK=function(r,e){e.push("message "+r.name+" {"),r.options||(r.options={}),H2(r.options,e),r.enums||(r.enums=[]),r.enums.forEach(function(i){e.push(lK(i,[]))}),r.messages||(r.messages=[]),r.messages.forEach(function(i){e.push(fK(i,[]))});var t={};return r.fields||(r.fields=[]),r.fields.forEach(function(i){i.oneof?(t[i.oneof]||(t[i.oneof]=[]),t[i.oneof].push(uK(i,[]))):e.push(uK(i,[]))}),Object.keys(t).forEach(function(i){t[i].unshift("oneof "+i+" {"),t[i].push("}"),e.push(t[i])}),e.push("}",""),e},lK=function(r,e){e.push("enum "+r.name+" {"),r.options||(r.options={});var t=H2(r.options,[]);return t.length>1&&e.push(t.slice(0,-1)),Object.keys(r.values).map(function(i){var n=Vje(r.values[i]);e.push([i+" = "+n+";"])}),e.push("}",""),e},Vje=function(r,e){var t=Object.keys(r.options||{}).map(function(n){return n+" = "+r.options[n]}).join(",");t&&(t=" ["+t+"]");var i=r.value+t;return i},H2=function(r,e){var t=Object.keys(r);return t.forEach(function(i){var n=r[i];~i.indexOf(".")&&(i="("+i+")");var s=typeof n;s==="object"?(n=Vk(n,[]),n.length&&e.push("option "+i+" = {",n,"};")):(s==="string"&&i!=="optimize_for"&&(n='"'+n+'"'),e.push("option "+i+" = "+n+";"))}),t.length>0&&e.push(""),e},Vk=function(r,e){var t=Object.keys(r);return t.forEach(function(i){var n=r[i],s=typeof n;s==="object"?Array.isArray(n)?n.forEach(function(o){o=Vk(o,[]),o.length&&e.push(i+" {",o,"}")}):(n=Vk(n,[]),n.length&&e.push(i+" {",n,"}")):(s==="string"&&(n='"'+n+'"'),e.push(i+": "+n))}),e},Hje=function(r,e){return e.push("service "+r.name+" {"),r.options||(r.options={}),H2(r.options,e),r.methods||(r.methods=[]),r.methods.forEach(function(t){e.push(jje(t,[]))}),e.push("}",""),e},jje=function(r,e){var t="rpc "+r.name+"(";r.client_streaming&&(t+="stream "),t+=r.input_type+") returns (",r.server_streaming&&(t+="stream "),t+=r.output_type+")",r.options||(r.options={});var i=H2(r.options,[]);return i.length>1?e.push(t+" {",i.slice(0,-1),"}"):e.push(t+";"),e},hK=function(r){return function(e){return Array.isArray(e)?e.map(hK(r+"  ")).join(`
`):r+e}};cK.exports=function(r){var e=[];return e.push('syntax = "proto'+r.syntax+'";',""),r.package&&e.push("package "+r.package+";",""),r.options||(r.options={}),H2(r.options,e),r.enums||(r.enums=[]),r.enums.forEach(function(t){lK(t,e)}),r.messages||(r.messages=[]),r.messages.forEach(function(t){fK(t,e)}),r.services&&r.services.forEach(function(t){Hje(t,e)}),e.map(hK("")).join(`
`)}});var bK=h(($rr,mw)=>{var pK=aK(),Gje=dK();mw.exports=pK;mw.exports.parse=pK;mw.exports.stringify=Gje});var ms=h((Wrr,yK)=>{"use strict";function $je(r,e,t,i){return e.bytes=t.bytes=0,{type:r,encode:e,decode:t,encodingLength:i}}yK.exports=$je});var wK=h((Yrr,gK)=>{gK.exports=mK;var xK=128,Wje=127,Yje=~Wje,Xje=Math.pow(2,31);function mK(r,e,t){e=e||[],t=t||0;for(var i=t;r>=Xje;)e[t++]=r&255|xK,r/=128;for(;r&Yje;)e[t++]=r&255|xK,r>>>=7;return e[t]=r|0,mK.bytes=t-i+1,e}});var _K=h((Xrr,vK)=>{vK.exports=jk;var Jje=128,EK=127;function jk(r,e){var t=0,e=e||0,i=0,n=e,s,o=r.length;do{if(n>=o)throw jk.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&EK)<<i:(s&EK)*Math.pow(2,i),i+=7}while(s>=Jje);return jk.bytes=n-e,t}});var kK=h((Jrr,SK)=>{var Zje=Math.pow(2,7),Qje=Math.pow(2,14),eHe=Math.pow(2,21),tHe=Math.pow(2,28),rHe=Math.pow(2,35),iHe=Math.pow(2,42),nHe=Math.pow(2,49),sHe=Math.pow(2,56),oHe=Math.pow(2,63);SK.exports=function(r){return r<Zje?1:r<Qje?2:r<eHe?3:r<tHe?4:r<rHe?5:r<iHe?6:r<nHe?7:r<sHe?8:r<oHe?9:10}});var Ha=h((Zrr,AK)=>{AK.exports={encode:wK(),decode:_K(),encodingLength:kK()}});var BK=h((Qrr,IK)=>{"use strict";var G2=Ha(),aHe=ms();function TK(r){return r.byteLength}function cHe(r){let e=TK(r);return G2.encodingLength(e)+e}function RK(r,e,t,i){let n=i,s=TK(r);G2.encode(s,e,i),i+=G2.encode.bytes,e.set(r,i),i+=s,RK.bytes=i-n}function qK(r,e,t){let i=t,n=G2.decode(r,t);t+=G2.decode.bytes;let s=r.slice(t,t+n);return t+=s.length,qK.bytes=t-i,s}IK.exports=aHe(2,RK,qK,cHe)});var Hk=h((eir,CK)=>{"use strict";var{TextEncoder:uHe,TextDecoder:fHe}=ct(),lHe=new fHe,hHe=r=>lHe.decode(r),dHe=new uHe,pHe=r=>dHe.encode(r);function bHe(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}CK.exports={decodeText:hHe,encodeText:pHe,concat:bHe}});var PK=h((tir,MK)=>{"use strict";var{encodeText:yHe}=Hk(),NK=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=yHe(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};MK.exports=NK});var OK=h((rir,DK)=>{"use strict";var gHe=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},mHe=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},xHe=r=>e=>({encode(t){return mHe(t,e,r)},decode(t){return gHe(t,e,r)}});DK.exports={rfc4648:xHe}});var Gk=h((iir,LK)=>{"use strict";var $2=ri(),wHe=PK(),{rfc4648:sn}=OK(),{decodeText:vHe,encodeText:EHe}=Hk(),_He=()=>({encode:vHe,decode:EHe}),FK=[["identity","\0",_He,""],["base2","0",sn(1),"01"],["base8","7",sn(3),"01234567"],["base10","9",$2,"0123456789"],["base16","f",sn(4),"0123456789abcdef"],["base16upper","F",sn(4),"0123456789ABCDEF"],["base32hex","v",sn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",sn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",sn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",sn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",sn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",sn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",sn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",sn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",sn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",$2,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",$2,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",$2,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",$2,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",sn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",sn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",sn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",sn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],UK=FK.reduce((r,e)=>(r[e[0]]=new wHe(e[0],e[1],e[2],e[3]),r),{}),SHe=FK.reduce((r,e)=>(r[e[1]]=UK[e[0]],r),{});LK.exports={names:UK,codes:SHe}});var KK=h((nir,zK)=>{"use strict";var{names:kHe}=Gk(),{TextEncoder:AHe}=ct(),IHe=new AHe;function THe(r){let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function RHe(r,e="utf8"){if(e==="utf8"||e==="utf-8")return IHe.encode(r);if(e==="ascii")return THe(r);let t=kHe[e];if(!t)throw new Error("Unknown base");return t.decode(r)}zK.exports=RHe});var jK=h((sir,VK)=>{"use strict";var{names:qHe}=Gk(),{TextDecoder:BHe}=ct(),CHe=new BHe("utf8");function MHe(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function NHe(r,e="utf8"){if(e==="utf8"||e==="utf-8")return CHe.decode(r);if(e==="ascii")return MHe(r);let t=qHe[e];if(!t)throw new Error("Unknown base");return t.encode(r)}VK.exports=NHe});var WK=h((oir,HK)=>{"use strict";var W2=Ha(),$k=KK(),PHe=jK(),DHe=ms();function OHe(r){let e=$k(r).byteLength;return W2.encodingLength(e)+e}function GK(r,e,t,i){let n=i,s=$k(r).byteLength;W2.encode(s,e,i,"utf-8"),i+=W2.encode.bytes;let o=$k(r);e.set(o,i),i+=o.length,GK.bytes=i-n}function $K(r,e,t){let i=t,n=W2.decode(r,t);t+=W2.decode.bytes;let s=PHe(r.subarray(t,t+n));return t+=n,$K.bytes=t-i,s}HK.exports=DHe(2,GK,$K,OHe)});var ZK=h((air,YK)=>{"use strict";var LHe=ms();function FHe(){return 1}function XK(r,e,t,i){e[i]=r?1:0,XK.bytes=1}function JK(r,e,t){let i=r[t]>0;return JK.bytes=1,i}YK.exports=LHe(0,XK,JK,FHe)});var rV=h((cir,QK)=>{"use strict";var Y2=Ha(),UHe=ms();function eV(r,e,t,i){Y2.encode(r<0?r+4294967296:r,e,i),eV.bytes=Y2.encode.bytes}function tV(r,e,t){let i=Y2.decode(r,t);return tV.bytes=Y2.decode.bytes,i>2147483647?i-4294967296:i}function zHe(r){return Y2.encodingLength(r<0?r+4294967296:r)}QK.exports=UHe(0,eV,tV,zHe)});var nV=h((uir,iV)=>{"use strict";var Af=Ha(),KHe=ms();function Wk(r,e,t,i){if(r<0){let n=i+9;for(Af.encode(r*-1,e,i),i+=Af.encode.bytes-1,e[i]=e[i]|128;i<n-1;)i++,e[i]=255;e[n]=1,Wk.bytes=10}else Af.encode(r,e,i),Wk.bytes=Af.encode.bytes}function Yk(r,e,t){let i=Af.decode(r,t);if(i>=Math.pow(2,63)){let n=9;for(;r[t+n-1]===255;)n--;n=n||9;let s=r.subarray(t,t+n);s[n-1]=s[n-1]&127,i=-1*Af.decode(s,0),Yk.bytes=10}else Yk.bytes=Af.decode.bytes;return i}function VHe(r){return r<0?10:Af.encodingLength(r)}iV.exports=KHe(0,Wk,Yk,VHe)});var cV=h((fir,sV)=>{sV.exports=oV;var aV=128,jHe=127,HHe=~jHe,GHe=Math.pow(2,31);function oV(r,e,t){e=e||[],t=t||0;for(var i=t;r>=GHe;)e[t++]=r&255|aV,r/=128;for(;r&HHe;)e[t++]=r&255|aV,r>>>=7;return e[t]=r|0,oV.bytes=t-i+1,e}});var lV=h((lir,uV)=>{uV.exports=Xk;var $He=128,fV=127;function Xk(r,e){var t=0,e=e||0,i=0,n=e,s,o=r.length;do{if(n>=o)throw Xk.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&fV)<<i:(s&fV)*Math.pow(2,i),i+=7}while(s>=$He);return Xk.bytes=n-e,t}});var dV=h((hir,hV)=>{var WHe=Math.pow(2,7),YHe=Math.pow(2,14),XHe=Math.pow(2,21),JHe=Math.pow(2,28),ZHe=Math.pow(2,35),QHe=Math.pow(2,42),eGe=Math.pow(2,49),tGe=Math.pow(2,56),rGe=Math.pow(2,63);hV.exports=function(r){return r<WHe?1:r<YHe?2:r<XHe?3:r<JHe?4:r<ZHe?5:r<QHe?6:r<eGe?7:r<tGe?8:r<rGe?9:10}});var bV=h((dir,pV)=>{pV.exports={encode:cV(),decode:lV(),encodingLength:dV()}});var yV=h(xw=>{var X2=bV();xw.encode=function r(e,t,i){e=e>=0?e*2:e*-2-1;var n=X2.encode(e,t,i);return r.bytes=X2.encode.bytes,n};xw.decode=function r(e,t){var i=X2.decode(e,t);return r.bytes=X2.decode.bytes,i&1?(i+1)/-2:i/2};xw.encodingLength=function(r){return X2.encodingLength(r>=0?r*2:r*-2-1)}});var wV=h((bir,gV)=>{"use strict";var J2=yV(),iGe=ms();function mV(r,e,t,i){J2.encode(r,e,i),mV.bytes=J2.encode.bytes}function xV(r,e,t){let i=J2.decode(r,t);return xV.bytes=J2.decode.bytes,i}gV.exports=iGe(0,mV,xV,J2.encodingLength)});var SV=h((yir,vV)=>{"use strict";var Z2=Ha(),nGe=ms();function EV(r,e,t,i){Z2.encode(r,e,i),EV.bytes=Z2.encode.bytes}function _V(r,e,t){let i=Z2.decode(r,t);return _V.bytes=Z2.decode.bytes,i}vV.exports=nGe(0,EV,_V,Z2.encodingLength)});var TV=h((gir,kV)=>{"use strict";var sGe=ms();function oGe(){return 8}function AV(r,e,t,i){for(let n of r)e[i]=n,i++;AV.bytes=8}function IV(r,e,t){let i=r.slice(t,t+8);return IV.bytes=8,i}kV.exports=sGe(1,AV,IV,oGe)});var CV=h((mir,RV)=>{"use strict";var aGe=ms();function cGe(){return 8}function qV(r,e,t,i){t.setFloat64(i,r,!0),qV.bytes=8}function BV(r,e,t){let i=e.getFloat64(t,!0);return BV.bytes=8,i}RV.exports=aGe(1,qV,BV,cGe)});var DV=h((xir,MV)=>{"use strict";var uGe=ms();function fGe(r){return 4}function NV(r,e,t,i){t.setUint32(i,r,!0),NV.bytes=4}function PV(r,e,t){let i=e.getUint32(t,!0);return PV.bytes=4,i}MV.exports=uGe(5,NV,PV,fGe)});var UV=h((wir,OV)=>{"use strict";var lGe=ms();function hGe(r){return 4}function LV(r,e,t,i){t.setInt32(i,r,!0),LV.bytes=4}function FV(r,e,t){let i=e.getInt32(t,!0);return FV.bytes=4,i}OV.exports=lGe(5,LV,FV,hGe)});var jV=h((vir,zV)=>{"use strict";var dGe=ms();function pGe(){return 4}function KV(r,e,t,i){t.setFloat32(i,r,!0),KV.bytes=4}function VV(r,e,t){let i=e.getFloat32(t,!0);return VV.bytes=4,i}zV.exports=dGe(5,KV,VV,pGe)});var HV=h(wi=>{"use strict";wi.make=ms();wi.bytes=BK();wi.string=WK();wi.bool=ZK();wi.int32=rV();wi.int64=nV();wi.sint32=wi.sint64=wV();wi.uint32=wi.uint64=wi.enum=wi.varint=SV();wi.fixed64=wi.sfixed64=TV();wi.double=CV();wi.fixed32=DV();wi.sfixed32=UV();wi.float=jV()});var ww=h(GV=>{"use strict";GV.defined=function(r){return r!=null&&(typeof r!="number"||!isNaN(r))}});var XV=h((Sir,$V)=>{"use strict";var Ga=Ha(),bGe=ww().defined;function WV(r){return`${r.substring(0,1).toUpperCase()}${r.substring(1)}`}function YV(r,e,t,i){if(Object.prototype.hasOwnProperty.call(r,e))return;let n=WV(e);Object.defineProperties(r,{[e]:{enumerable:!0,configurable:!0,set:s=>{t=s},get:()=>t===void 0?i:t},[`has${n}`]:{configurable:!0,value:()=>t!==void 0},[`set${n}`]:{configurable:!0,value:s=>{t=s}},[`get${n}`]:{configurable:!0,value:()=>t},[`clear${n}`]:{configurable:!0,value:()=>{t=void 0,r[e]=void 0}}})}function xGe(r,e,t){let i=[],n={},s=[],o=[];for(var a=0;a<t.length;a++){let u=r.fields[a];n[u.tag]=a;let f=u.options&&u.options.default,l=e(u.type,r.id,!1);o[a]=[f,l&&l.values],r.fields[a].packed=u.repeated&&u.options&&u.options.packed&&u.options.packed!=="false",u.required&&i.push(u.name),u.oneof&&s.push(u.name)}function c(u,f,l,d,p,b,g){let m=f.name;if(f.oneof){let I=Object.keys(l);for(var w=0;w<I.length;w++)if(s.indexOf(I[w])>-1){let F=WV(I[w]);delete l[`has${F}`],delete l[`get${F}`],delete l[`set${F}`],delete l[`clear${F}`],delete l[I[w]]}}let A;if(u.message){let I=Ga.decode(d,b);b+=Ga.decode.bytes;let F=u.decode(d,p,b,b+I);f.map?(A=l[m]||{},A[F.key]=F.value):f.repeated?(A=l[m]||[],A.push(F)):A=F}else f.repeated?(A=l[m]||[],A.push(u.decode(d,p,b))):A=u.decode(d,p,b);return YV(l,m,A),b+=u.decode.bytes,b}return function u(f,l,d,p){if(d==null&&(d=0),p==null&&(p=f.length),!(p<=f.length&&d<=f.length))throw new Error("Decoded message is not valid");l||(l=new DataView(f.buffer,f.byteOffset,f.byteLength));for(var b=d,g={},m;;){if(p<=d){var w="",A=0;for(A=0;A<i.length;A++)if(w=i[A],!bGe(g[w]))throw new Error("Decoded message is not valid, missing required field: "+w);var I,F;for(A=0;A<t.length;A++){m=r.fields[A],F=o[A][0],I=o[A][1],w=m.name;let k;if(!Object.prototype.hasOwnProperty.call(g,w)){var V=!1;if(m.oneof){for(var P=Object.keys(g),W=0;W<P.length;W++)if(s.indexOf(P[W])>-1){V=!0;break}}V||(I?m.repeated?F=[]:(F=F&&I[F]?I[F].value:I[Object.keys(I)[0]].value,F=parseInt(F||0,10)):(k=gGe(m),F=mGe(m,F)),YV(g,w,F,k))}}return u.bytes=d-b,g}var ne=Ga.decode(f,d);d+=Ga.decode.bytes;var Q=ne>>3,M=n[Q];if(M==null){d=yGe(ne&7,f,l,d);continue}var y=t[M];if(m=r.fields[M],m.packed){var v=Ga.decode(f,d);for(d+=Ga.decode.bytes,v+=d;d<v;)d=c(y,m,g,f,l,d,M)}else d=c(y,m,g,f,l,d,M)}}}var yGe=function(r,e,t,i){switch(r){case 0:return Ga.decode(e,i),i+Ga.decode.bytes;case 1:return i+8;case 2:var n=Ga.decode(e,i);return i+Ga.decode.bytes+n;case 3:case 4:throw new Error("Groups are not supported");case 5:return i+4;default:throw new Error("Unknown wire type: "+r)}},gGe=function(r){if(r.map)return{};if(r.repeated)return[];switch(r.type){case"string":return"";case"bool":return!1;case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return 0;default:return null}},mGe=function(r,e){if(e===void 0)return e;switch(r.type){case"bool":return e==="true";case"float":case"double":case"sfixed32":case"fixed32":case"varint":case"enum":case"uint64":case"uint32":case"int64":case"int32":case"sint64":case"sint32":return parseInt(e,10);default:return e}};$V.exports=xGe});var QV=h((kir,JV)=>{"use strict";var ZV=ww().defined,qd=Ha();function wGe(r,e,t,i,n){let s=Object.keys(i),o=t.length,a={};for(let u=0;u<o;u++){a[u]={p:qd.encode(r.fields[u].tag<<3|2),h:qd.encode(r.fields[u].tag<<3|t[u].type)};let f=r.fields[u];r.fields[u].packed=f.repeated&&f.options&&f.options.packed&&f.options.packed!=="false"}function c(u,f,l,d,p,b,g){let m=0;if(!b)for(m=0;m<d.length;m++)u[l++]=d[m];return p.message&&(qd.encode(p.encodingLength(g),u,l),l+=qd.encode.bytes),p.encode(g,u,f,l),l+p.encode.bytes}return function u(f,l,d,p=0){l==null&&(l=new Uint8Array(n(f))),d==null&&(d=new DataView(l.buffer,l.byteOffset,l.byteLength));let b=p,g=Object.keys(f),m=0,w=!1;for(m=0;m<s.length;m++){let A=s[m],I=i[m];if(g.indexOf(I)>-1){if(w)throw new Error("only one of the properties defined in oneof "+A+" can be set");w=!0}}for(m=0;m<o;m++){let A=t[m],I=r.fields[m],F=f[I.name],V=0;if(!ZV(F)){if(I.required)throw new Error(I.name+" is required");continue}let P=a[m].p,W=a[m].h,ne=I.packed;if(I.map){let Q=Object.keys(F);for(V=0;V<Q.length;V++)Q[V]={key:Q[V],value:F[Q[V]]};F=Q}if(ne){let Q=0;for(V=0;V<F.length;V++)!Object.prototype.hasOwnProperty.call(F,V)||(Q+=A.encodingLength(F[V]));if(Q){for(V=0;V<W.length;V++)l[p++]=P[V];qd.encode(Q,l,p),p+=qd.encode.bytes}}if(I.repeated){let Q;for(V=0;V<F.length;V++)Q=F[V],!!ZV(Q)&&(p=c(l,d,p,W,A,ne,Q))}else p=c(l,d,p,W,A,ne,F)}return u.bytes=p-b,l}}JV.exports=wGe});var tj=h((Air,ej)=>{"use strict";var vw=ww().defined,Q2=Ha();function vGe(r,e,t){let i=Object.keys(t),n=e.length,s=new Array(n);for(let o=0;o<r.fields.length;o++){s[o]=Q2.encodingLength(r.fields[o].tag<<3|e[o].type);let a=r.fields[o];r.fields[o].packed=a.repeated&&a.options&&a.options.packed&&a.options.packed!=="false"}return function(a){let c=0,u=0,f=0;for(u=0;u<i.length;u++){let l=i[u],d=t[l],p=!1;for(f=0;f<d.length;f++)if(vw(a[d[f]])){if(p)throw new Error("only one of the properties defined in oneof "+l+" can be set");p=!0}}for(u=0;u<n;u++){let l=e[u],d=r.fields[u],p=a[d.name],b=s[u],g;if(!vw(p)){if(d.required)throw new Error(d.name+" is required");continue}if(d.map){let m=Object.keys(p);for(f=0;f<m.length;f++)m[f]={key:m[f],value:p[m[f]]};p=m}if(d.packed){let m=0;for(f=0;f<p.length;f++)!vw(p[f])||(g=l.encodingLength(p[f]),m+=g,l.message&&(m+=Q2.encodingLength(g)));m&&(c+=b+m+Q2.encodingLength(m))}else if(d.repeated)for(f=0;f<p.length;f++)!vw(p[f])||(g=l.encodingLength(p[f]),c+=b+g+(l.message?Q2.encodingLength(g):0));else g=l.encodingLength(p),c+=b+g+(l.message?Q2.encodingLength(g):0)}return c}}ej.exports=vGe});var ij=h((Iir,rj)=>{"use strict";var Jk=HV(),EGe=XV(),_Ge=QV(),SGe=tj(),ey=Ha(),kGe=function(r){if(!r)return null;let e={};return Object.keys(r).forEach(function(t){e[t]=r[t].value}),e};rj.exports=function(r,e){let t={},i={},n={},s=function(u,f){u.enums&&u.enums.forEach(function(l){l.id=f+(f?".":"")+l.name,i[l.id]=l,s(l,l.id)}),u.messages&&u.messages.forEach(function(l){l.id=f+(f?".":"")+l.name,t[l.id]=l,l.fields.forEach(function(d){if(!d.map)return;let p="Map_"+d.map.from+"_"+d.map.to,b={name:p,enums:[],messages:[],fields:[{name:"key",type:d.map.from,tag:1,repeated:!1,required:!0},{name:"value",type:d.map.to,tag:2,repeated:!1,required:!1}],extensions:null,id:f+(f?".":"")+p};t[b.id]||(t[b.id]=b,u.messages.push(b)),d.type=p,d.repeated=!0}),s(l,l.id)})};s(r,"");let o=function(u){let f=Object.keys(u.values||[]).map(function(p){return parseInt(u.values[p].value,10)}),l=function p(b,g,m,w){if(!f.length||f.indexOf(b)===-1)throw new Error("Invalid enum value: "+b);return ey.encode(b,g,w),p.bytes=ey.encode.bytes,g},d=function p(b,g,m){var w=ey.decode(b,m);if(!f.length||f.indexOf(w)===-1)throw new Error("Invalid enum value: "+w);return p.bytes=ey.decode.bytes,w};return Jk.make(0,l,d,ey.encodingLength)},a=function(u,f){u.messages.forEach(function(m){f[m.name]=c(m.name,u.id)}),u.enums.forEach(function(m){f[m.name]=kGe(m.values)}),f.type=2,f.message=!0,f.name=u.name;let l={};u.fields.forEach(function(m){!m.oneof||(l[m.oneof]||(l[m.oneof]=[]),l[m.oneof].push(m.name))});let d=u.fields.map(function(m){return c(m.type,u.id)}),p=SGe(u,d,l),b=_Ge(u,c,d,l,p),g=EGe(u,c,d);return b.bytes=g.bytes=0,f.buffer=!0,f.encode=b,f.decode=g,f.encodingLength=p,f},c=function(u,f,l){if(e&&e[u])return e[u];if(Jk[u])return Jk[u];let d=(f?f+"."+u:u).split(".").map(function(b,g,m){return m.slice(0,g).concat(u).join(".")}).reverse().reduce(function(b,g){return b||t[g]||i[g]},null);if(l===!1)return d;if(!d)throw new Error("Could not resolve "+u);return d.values?o(d):n[d.id]||a(d,n[d.id]={})};return(r.enums||[]).concat((r.messages||[]).map(function(u){return c(u.id)}))}});var ni=h((Tir,nj)=>{"use strict";var sj=bK(),AGe=ij(),IGe=function(r){if(!r)return null;var e={};return Object.keys(r).forEach(function(t){e[t]=r[t].value}),e};nj.exports=function(r,e){if(e||(e={}),!r)throw new Error("Pass in a .proto string or a protobuf-schema parsed object");var t=typeof r=="object"&&!(r instanceof Uint8Array)?r:sj.parse(r),i=function(){var n=this;AGe(t,e.encodings||{}).forEach(function(s){n[s.name]=IGe(s.values)||s})};return i.prototype.toString=function(){return sj.stringify(t)},i.prototype.toJSON=function(){return t},new i}});var Ew=h((Rir,oj)=>{"use strict";oj.exports=`enum KeyType {
  RSA = 0;
  Ed25519 = 1;
  Secp256k1 = 2;
}
message PublicKey {
  required KeyType Type = 1;
  required bytes Data = 2;
}
message PrivateKey {
  required KeyType Type = 1;
  required bytes Data = 2;
}`});var Et=h((qir,aj)=>{aj.exports={options:{usePureJavaScript:!1}}});var fj=h((Bir,cj)=>{var Zk={};cj.exports=Zk;var uj={};Zk.encode=function(r,e,t){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(t!==void 0&&typeof t!="number")throw new TypeError('"maxline" must be a number.');var i="";if(!(r instanceof Uint8Array))i=TGe(r,e);else{var n=0,s=e.length,o=e.charAt(0),a=[0];for(n=0;n<r.length;++n){for(var c=0,u=r[n];c<a.length;++c)u+=a[c]<<8,a[c]=u%s,u=u/s|0;for(;u>0;)a.push(u%s),u=u/s|0}for(n=0;r[n]===0&&n<r.length-1;++n)i+=o;for(n=a.length-1;n>=0;--n)i+=e[a[n]]}if(t){var f=new RegExp(".{1,"+t+"}","g");i=i.match(f).join(`\r
`)}return i};Zk.decode=function(r,e){if(typeof r!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var t=uj[e];if(!t){t=uj[e]=[];for(var i=0;i<e.length;++i)t[e.charCodeAt(i)]=i}r=r.replace(/\s/g,"");for(var n=e.length,s=e.charAt(0),o=[0],i=0;i<r.length;i++){var a=t[r.charCodeAt(i)];if(a===void 0)return;for(var c=0,u=a;c<o.length;++c)u+=o[c]*n,o[c]=u&255,u>>=8;for(;u>0;)o.push(u&255),u>>=8}for(var f=0;r[f]===s&&f<r.length-1;++f)o.push(0);return typeof Buffer!="undefined"?Buffer.from(o.reverse()):new Uint8Array(o.reverse())};function TGe(r,e){var t=0,i=e.length,n=e.charAt(0),s=[0];for(t=0;t<r.length();++t){for(var o=0,a=r.at(t);o<s.length;++o)a+=s[o]<<8,s[o]=a%i,a=a/i|0;for(;a>0;)s.push(a%i),a=a/i|0}var c="";for(t=0;r.at(t)===0&&t<r.length()-1;++t)c+=n;for(t=s.length-1;t>=0;--t)c+=e[s[t]];return c}});var mr=h((Cir,lj)=>{var hj=Et(),dj=fj(),oe=lj.exports=hj.util=hj.util||{};(function(){if(typeof process!="undefined"&&process.nextTick&&!process.browser){oe.nextTick=process.nextTick,typeof setImmediate=="function"?oe.setImmediate=setImmediate:oe.setImmediate=oe.nextTick;return}if(typeof setImmediate=="function"){oe.setImmediate=function(){return setImmediate.apply(void 0,arguments)},oe.nextTick=function(a){return setImmediate(a)};return}if(oe.setImmediate=function(a){setTimeout(a,0)},typeof window!="undefined"&&typeof window.postMessage=="function"){let a=function(c){if(c.source===window&&c.data===r){c.stopPropagation();var u=e.slice();e.length=0,u.forEach(function(f){f()})}};var o=a,r="forge.setImmediate",e=[];oe.setImmediate=function(c){e.push(c),e.length===1&&window.postMessage(r,"*")},window.addEventListener("message",a,!0)}if(typeof MutationObserver!="undefined"){var t=Date.now(),i=!0,n=document.createElement("div"),e=[];new MutationObserver(function(){var c=e.slice();e.length=0,c.forEach(function(u){u()})}).observe(n,{attributes:!0});var s=oe.setImmediate;oe.setImmediate=function(c){Date.now()-t>15?(t=Date.now(),s(c)):(e.push(c),e.length===1&&n.setAttribute("a",i=!i))}}oe.nextTick=oe.setImmediate})();oe.isNodejs=typeof process!="undefined"&&process.versions&&process.versions.node;oe.globalScope=function(){return oe.isNodejs?globalThis:typeof self=="undefined"?window:self}();oe.isArray=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};oe.isArrayBuffer=function(r){return typeof ArrayBuffer!="undefined"&&r instanceof ArrayBuffer};oe.isArrayBufferView=function(r){return r&&oe.isArrayBuffer(r.buffer)&&r.byteLength!==void 0};function ty(r){if(!(r===8||r===16||r===24||r===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+r)}oe.ByteBuffer=Qk;function Qk(r){if(this.data="",this.read=0,typeof r=="string")this.data=r;else if(oe.isArrayBuffer(r)||oe.isArrayBufferView(r))if(typeof Buffer!="undefined"&&r instanceof Buffer)this.data=r.toString("binary");else{var e=new Uint8Array(r);try{this.data=String.fromCharCode.apply(null,e)}catch(i){for(var t=0;t<e.length;++t)this.putByte(e[t])}}else(r instanceof Qk||typeof r=="object"&&typeof r.data=="string"&&typeof r.read=="number")&&(this.data=r.data,this.read=r.read);this._constructedStringLength=0}oe.ByteStringBuffer=Qk;var RGe=4096;oe.ByteStringBuffer.prototype._optimizeConstructedString=function(r){this._constructedStringLength+=r,this._constructedStringLength>RGe&&(this.data.substr(0,1),this._constructedStringLength=0)};oe.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read};oe.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0};oe.ByteStringBuffer.prototype.putByte=function(r){return this.putBytes(String.fromCharCode(r))};oe.ByteStringBuffer.prototype.fillWithByte=function(r,e){r=String.fromCharCode(r);for(var t=this.data;e>0;)e&1&&(t+=r),e>>>=1,e>0&&(r+=r);return this.data=t,this._optimizeConstructedString(e),this};oe.ByteStringBuffer.prototype.putBytes=function(r){return this.data+=r,this._optimizeConstructedString(r.length),this};oe.ByteStringBuffer.prototype.putString=function(r){return this.putBytes(oe.encodeUtf8(r))};oe.ByteStringBuffer.prototype.putInt16=function(r){return this.putBytes(String.fromCharCode(r>>8&255)+String.fromCharCode(r&255))};oe.ByteStringBuffer.prototype.putInt24=function(r){return this.putBytes(String.fromCharCode(r>>16&255)+String.fromCharCode(r>>8&255)+String.fromCharCode(r&255))};oe.ByteStringBuffer.prototype.putInt32=function(r){return this.putBytes(String.fromCharCode(r>>24&255)+String.fromCharCode(r>>16&255)+String.fromCharCode(r>>8&255)+String.fromCharCode(r&255))};oe.ByteStringBuffer.prototype.putInt16Le=function(r){return this.putBytes(String.fromCharCode(r&255)+String.fromCharCode(r>>8&255))};oe.ByteStringBuffer.prototype.putInt24Le=function(r){return this.putBytes(String.fromCharCode(r&255)+String.fromCharCode(r>>8&255)+String.fromCharCode(r>>16&255))};oe.ByteStringBuffer.prototype.putInt32Le=function(r){return this.putBytes(String.fromCharCode(r&255)+String.fromCharCode(r>>8&255)+String.fromCharCode(r>>16&255)+String.fromCharCode(r>>24&255))};oe.ByteStringBuffer.prototype.putInt=function(r,e){ty(e);var t="";do e-=8,t+=String.fromCharCode(r>>e&255);while(e>0);return this.putBytes(t)};oe.ByteStringBuffer.prototype.putSignedInt=function(r,e){return r<0&&(r+=2<<e-1),this.putInt(r,e)};oe.ByteStringBuffer.prototype.putBuffer=function(r){return this.putBytes(r.getBytes())};oe.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};oe.ByteStringBuffer.prototype.getInt16=function(){var r=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,r};oe.ByteStringBuffer.prototype.getInt24=function(){var r=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,r};oe.ByteStringBuffer.prototype.getInt32=function(){var r=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,r};oe.ByteStringBuffer.prototype.getInt16Le=function(){var r=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,r};oe.ByteStringBuffer.prototype.getInt24Le=function(){var r=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,r};oe.ByteStringBuffer.prototype.getInt32Le=function(){var r=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,r};oe.ByteStringBuffer.prototype.getInt=function(r){ty(r);var e=0;do e=(e<<8)+this.data.charCodeAt(this.read++),r-=8;while(r>0);return e};oe.ByteStringBuffer.prototype.getSignedInt=function(r){var e=this.getInt(r),t=2<<r-2;return e>=t&&(e-=t<<1),e};oe.ByteStringBuffer.prototype.getBytes=function(r){var e;return r?(r=Math.min(this.length(),r),e=this.data.slice(this.read,this.read+r),this.read+=r):r===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};oe.ByteStringBuffer.prototype.bytes=function(r){return typeof r=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+r)};oe.ByteStringBuffer.prototype.at=function(r){return this.data.charCodeAt(this.read+r)};oe.ByteStringBuffer.prototype.setAt=function(r,e){return this.data=this.data.substr(0,this.read+r)+String.fromCharCode(e)+this.data.substr(this.read+r+1),this};oe.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};oe.ByteStringBuffer.prototype.copy=function(){var r=oe.createBuffer(this.data);return r.read=this.read,r};oe.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this};oe.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this};oe.ByteStringBuffer.prototype.truncate=function(r){var e=Math.max(0,this.length()-r);return this.data=this.data.substr(this.read,e),this.read=0,this};oe.ByteStringBuffer.prototype.toHex=function(){for(var r="",e=this.read;e<this.data.length;++e){var t=this.data.charCodeAt(e);t<16&&(r+="0"),r+=t.toString(16)}return r};oe.ByteStringBuffer.prototype.toString=function(){return oe.decodeUtf8(this.bytes())};function qGe(r,e){e=e||{},this.read=e.readOffset||0,this.growSize=e.growSize||1024;var t=oe.isArrayBuffer(r),i=oe.isArrayBufferView(r);if(t||i){t?this.data=new DataView(r):this.data=new DataView(r.buffer,r.byteOffset,r.byteLength),this.write="writeOffset"in e?e.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,r!=null&&this.putBytes(r),"writeOffset"in e&&(this.write=e.writeOffset)}oe.DataBuffer=qGe;oe.DataBuffer.prototype.length=function(){return this.write-this.read};oe.DataBuffer.prototype.isEmpty=function(){return this.length()<=0};oe.DataBuffer.prototype.accommodate=function(r,e){if(this.length()>=r)return this;e=Math.max(e||this.growSize,r);var t=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),i=new Uint8Array(this.length()+e);return i.set(t),this.data=new DataView(i.buffer),this};oe.DataBuffer.prototype.putByte=function(r){return this.accommodate(1),this.data.setUint8(this.write++,r),this};oe.DataBuffer.prototype.fillWithByte=function(r,e){this.accommodate(e);for(var t=0;t<e;++t)this.data.setUint8(r);return this};oe.DataBuffer.prototype.putBytes=function(r,e){if(oe.isArrayBufferView(r)){var t=new Uint8Array(r.buffer,r.byteOffset,r.byteLength),i=t.byteLength-t.byteOffset;this.accommodate(i);var n=new Uint8Array(this.data.buffer,this.write);return n.set(t),this.write+=i,this}if(oe.isArrayBuffer(r)){var t=new Uint8Array(r);this.accommodate(t.byteLength);var n=new Uint8Array(this.data.buffer);return n.set(t,this.write),this.write+=t.byteLength,this}if(r instanceof oe.DataBuffer||typeof r=="object"&&typeof r.read=="number"&&typeof r.write=="number"&&oe.isArrayBufferView(r.data)){var t=new Uint8Array(r.data.byteLength,r.read,r.length());this.accommodate(t.byteLength);var n=new Uint8Array(r.data.byteLength,this.write);return n.set(t),this.write+=t.byteLength,this}if(r instanceof oe.ByteStringBuffer&&(r=r.data,e="binary"),e=e||"binary",typeof r=="string"){var s;if(e==="hex")return this.accommodate(Math.ceil(r.length/2)),s=new Uint8Array(this.data.buffer,this.write),this.write+=oe.binary.hex.decode(r,s,this.write),this;if(e==="base64")return this.accommodate(Math.ceil(r.length/4)*3),s=new Uint8Array(this.data.buffer,this.write),this.write+=oe.binary.base64.decode(r,s,this.write),this;if(e==="utf8"&&(r=oe.encodeUtf8(r),e="binary"),e==="binary"||e==="raw")return this.accommodate(r.length),s=new Uint8Array(this.data.buffer,this.write),this.write+=oe.binary.raw.decode(s),this;if(e==="utf16")return this.accommodate(r.length*2),s=new Uint16Array(this.data.buffer,this.write),this.write+=oe.text.utf16.encode(s),this;throw new Error("Invalid encoding: "+e)}throw Error("Invalid parameter: "+r)};oe.DataBuffer.prototype.putBuffer=function(r){return this.putBytes(r),r.clear(),this};oe.DataBuffer.prototype.putString=function(r){return this.putBytes(r,"utf16")};oe.DataBuffer.prototype.putInt16=function(r){return this.accommodate(2),this.data.setInt16(this.write,r),this.write+=2,this};oe.DataBuffer.prototype.putInt24=function(r){return this.accommodate(3),this.data.setInt16(this.write,r>>8&65535),this.data.setInt8(this.write,r>>16&255),this.write+=3,this};oe.DataBuffer.prototype.putInt32=function(r){return this.accommodate(4),this.data.setInt32(this.write,r),this.write+=4,this};oe.DataBuffer.prototype.putInt16Le=function(r){return this.accommodate(2),this.data.setInt16(this.write,r,!0),this.write+=2,this};oe.DataBuffer.prototype.putInt24Le=function(r){return this.accommodate(3),this.data.setInt8(this.write,r>>16&255),this.data.setInt16(this.write,r>>8&65535,!0),this.write+=3,this};oe.DataBuffer.prototype.putInt32Le=function(r){return this.accommodate(4),this.data.setInt32(this.write,r,!0),this.write+=4,this};oe.DataBuffer.prototype.putInt=function(r,e){ty(e),this.accommodate(e/8);do e-=8,this.data.setInt8(this.write++,r>>e&255);while(e>0);return this};oe.DataBuffer.prototype.putSignedInt=function(r,e){return ty(e),this.accommodate(e/8),r<0&&(r+=2<<e-1),this.putInt(r,e)};oe.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)};oe.DataBuffer.prototype.getInt16=function(){var r=this.data.getInt16(this.read);return this.read+=2,r};oe.DataBuffer.prototype.getInt24=function(){var r=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,r};oe.DataBuffer.prototype.getInt32=function(){var r=this.data.getInt32(this.read);return this.read+=4,r};oe.DataBuffer.prototype.getInt16Le=function(){var r=this.data.getInt16(this.read,!0);return this.read+=2,r};oe.DataBuffer.prototype.getInt24Le=function(){var r=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,r};oe.DataBuffer.prototype.getInt32Le=function(){var r=this.data.getInt32(this.read,!0);return this.read+=4,r};oe.DataBuffer.prototype.getInt=function(r){ty(r);var e=0;do e=(e<<8)+this.data.getInt8(this.read++),r-=8;while(r>0);return e};oe.DataBuffer.prototype.getSignedInt=function(r){var e=this.getInt(r),t=2<<r-2;return e>=t&&(e-=t<<1),e};oe.DataBuffer.prototype.getBytes=function(r){var e;return r?(r=Math.min(this.length(),r),e=this.data.slice(this.read,this.read+r),this.read+=r):r===0?e="":(e=this.read===0?this.data:this.data.slice(this.read),this.clear()),e};oe.DataBuffer.prototype.bytes=function(r){return typeof r=="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+r)};oe.DataBuffer.prototype.at=function(r){return this.data.getUint8(this.read+r)};oe.DataBuffer.prototype.setAt=function(r,e){return this.data.setUint8(r,e),this};oe.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)};oe.DataBuffer.prototype.copy=function(){return new oe.DataBuffer(this)};oe.DataBuffer.prototype.compact=function(){if(this.read>0){var r=new Uint8Array(this.data.buffer,this.read),e=new Uint8Array(r.byteLength);e.set(r),this.data=new DataView(e),this.write-=this.read,this.read=0}return this};oe.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this};oe.DataBuffer.prototype.truncate=function(r){return this.write=Math.max(0,this.length()-r),this.read=Math.min(this.read,this.write),this};oe.DataBuffer.prototype.toHex=function(){for(var r="",e=this.read;e<this.data.byteLength;++e){var t=this.data.getUint8(e);t<16&&(r+="0"),r+=t.toString(16)}return r};oe.DataBuffer.prototype.toString=function(r){var e=new Uint8Array(this.data,this.read,this.length());if(r=r||"utf8",r==="binary"||r==="raw")return oe.binary.raw.encode(e);if(r==="hex")return oe.binary.hex.encode(e);if(r==="base64")return oe.binary.base64.encode(e);if(r==="utf8")return oe.text.utf8.decode(e);if(r==="utf16")return oe.text.utf16.decode(e);throw new Error("Invalid encoding: "+r)};oe.createBuffer=function(r,e){return e=e||"raw",r!==void 0&&e==="utf8"&&(r=oe.encodeUtf8(r)),new oe.ByteBuffer(r)};oe.fillString=function(r,e){for(var t="";e>0;)e&1&&(t+=r),e>>>=1,e>0&&(r+=r);return t};oe.xorBytes=function(r,e,t){for(var i="",n="",s="",o=0,a=0;t>0;--t,++o)n=r.charCodeAt(o)^e.charCodeAt(o),a>=10&&(i+=s,s="",a=0),s+=String.fromCharCode(n),++a;return i+=s,i};oe.hexToBytes=function(r){var e="",t=0;for(r.length&!0&&(t=1,e+=String.fromCharCode(parseInt(r[0],16)));t<r.length;t+=2)e+=String.fromCharCode(parseInt(r.substr(t,2),16));return e};oe.bytesToHex=function(r){return oe.createBuffer(r).toHex()};oe.int32ToBytes=function(r){return String.fromCharCode(r>>24&255)+String.fromCharCode(r>>16&255)+String.fromCharCode(r>>8&255)+String.fromCharCode(r&255)};var If="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Tf=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],pj="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";oe.encode64=function(r,e){for(var t="",i="",n,s,o,a=0;a<r.length;)n=r.charCodeAt(a++),s=r.charCodeAt(a++),o=r.charCodeAt(a++),t+=If.charAt(n>>2),t+=If.charAt((n&3)<<4|s>>4),isNaN(s)?t+="==":(t+=If.charAt((s&15)<<2|o>>6),t+=isNaN(o)?"=":If.charAt(o&63)),e&&t.length>e&&(i+=t.substr(0,e)+`\r
`,t=t.substr(e));return i+=t,i};oe.decode64=function(r){r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var e="",t,i,n,s,o=0;o<r.length;)t=Tf[r.charCodeAt(o++)-43],i=Tf[r.charCodeAt(o++)-43],n=Tf[r.charCodeAt(o++)-43],s=Tf[r.charCodeAt(o++)-43],e+=String.fromCharCode(t<<2|i>>4),n!==64&&(e+=String.fromCharCode((i&15)<<4|n>>2),s!==64&&(e+=String.fromCharCode((n&3)<<6|s)));return e};oe.encodeUtf8=function(r){return unescape(encodeURIComponent(r))};oe.decodeUtf8=function(r){return decodeURIComponent(escape(r))};oe.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:dj.encode,decode:dj.decode}};oe.binary.raw.encode=function(r){return String.fromCharCode.apply(null,r)};oe.binary.raw.decode=function(r,e,t){var i=e;i||(i=new Uint8Array(r.length)),t=t||0;for(var n=t,s=0;s<r.length;++s)i[n++]=r.charCodeAt(s);return e?n-t:i};oe.binary.hex.encode=oe.bytesToHex;oe.binary.hex.decode=function(r,e,t){var i=e;i||(i=new Uint8Array(Math.ceil(r.length/2))),t=t||0;var n=0,s=t;for(r.length&1&&(n=1,i[s++]=parseInt(r[0],16));n<r.length;n+=2)i[s++]=parseInt(r.substr(n,2),16);return e?s-t:i};oe.binary.base64.encode=function(r,e){for(var t="",i="",n,s,o,a=0;a<r.byteLength;)n=r[a++],s=r[a++],o=r[a++],t+=If.charAt(n>>2),t+=If.charAt((n&3)<<4|s>>4),isNaN(s)?t+="==":(t+=If.charAt((s&15)<<2|o>>6),t+=isNaN(o)?"=":If.charAt(o&63)),e&&t.length>e&&(i+=t.substr(0,e)+`\r
`,t=t.substr(e));return i+=t,i};oe.binary.base64.decode=function(r,e,t){var i=e;i||(i=new Uint8Array(Math.ceil(r.length/4)*3)),r=r.replace(/[^A-Za-z0-9\+\/\=]/g,""),t=t||0;for(var n,s,o,a,c=0,u=t;c<r.length;)n=Tf[r.charCodeAt(c++)-43],s=Tf[r.charCodeAt(c++)-43],o=Tf[r.charCodeAt(c++)-43],a=Tf[r.charCodeAt(c++)-43],i[u++]=n<<2|s>>4,o!==64&&(i[u++]=(s&15)<<4|o>>2,a!==64&&(i[u++]=(o&3)<<6|a));return e?u-t:i.subarray(0,u)};oe.binary.base58.encode=function(r,e){return oe.binary.baseN.encode(r,pj,e)};oe.binary.base58.decode=function(r,e){return oe.binary.baseN.decode(r,pj,e)};oe.text={utf8:{},utf16:{}};oe.text.utf8.encode=function(r,e,t){r=oe.encodeUtf8(r);var i=e;i||(i=new Uint8Array(r.length)),t=t||0;for(var n=t,s=0;s<r.length;++s)i[n++]=r.charCodeAt(s);return e?n-t:i};oe.text.utf8.decode=function(r){return oe.decodeUtf8(String.fromCharCode.apply(null,r))};oe.text.utf16.encode=function(r,e,t){var i=e;i||(i=new Uint8Array(r.length*2));var n=new Uint16Array(i.buffer);t=t||0;for(var s=t,o=t,a=0;a<r.length;++a)n[o++]=r.charCodeAt(a),s+=2;return e?s-t:i};oe.text.utf16.decode=function(r){return String.fromCharCode.apply(null,new Uint16Array(r.buffer))};oe.deflate=function(r,e,t){if(e=oe.decode64(r.deflate(oe.encode64(e)).rval),t){var i=2,n=e.charCodeAt(1);n&32&&(i=6),e=e.substring(i,e.length-4)}return e};oe.inflate=function(r,e,t){var i=r.inflate(oe.encode64(e)).rval;return i===null?null:oe.decode64(i)};var eA=function(r,e,t){if(!r)throw new Error("WebStorage not available.");var i;if(t===null?i=r.removeItem(e):(t=oe.encode64(JSON.stringify(t)),i=r.setItem(e,t)),typeof i!="undefined"&&i.rval!==!0){var n=new Error(i.error.message);throw n.id=i.error.id,n.name=i.error.name,n}},tA=function(r,e){if(!r)throw new Error("WebStorage not available.");var t=r.getItem(e);if(r.init)if(t.rval===null){if(t.error){var i=new Error(t.error.message);throw i.id=t.error.id,i.name=t.error.name,i}t=null}else t=t.rval;return t!==null&&(t=JSON.parse(oe.decode64(t))),t},BGe=function(r,e,t,i){var n=tA(r,e);n===null&&(n={}),n[t]=i,eA(r,e,n)},CGe=function(r,e,t){var i=tA(r,e);return i!==null&&(i=t in i?i[t]:null),i},MGe=function(r,e,t){var i=tA(r,e);if(i!==null&&t in i){delete i[t];var n=!0;for(var s in i){n=!1;break}n&&(i=null),eA(r,e,i)}},NGe=function(r,e){eA(r,e,null)},_w=function(r,e,t){var i=null;typeof t=="undefined"&&(t=["web","flash"]);var n,s=!1,o=null;for(var a in t){n=t[a];try{if(n==="flash"||n==="both"){if(e[0]===null)throw new Error("Flash local storage not available.");i=r.apply(this,e),s=n==="flash"}(n==="web"||n==="both")&&(e[0]=localStorage,i=r.apply(this,e),s=!0)}catch(c){o=c}if(s)break}if(!s)throw o;return i};oe.setItem=function(r,e,t,i,n){_w(BGe,arguments,n)};oe.getItem=function(r,e,t,i){return _w(CGe,arguments,i)};oe.removeItem=function(r,e,t,i){_w(MGe,arguments,i)};oe.clearItems=function(r,e,t){_w(NGe,arguments,t)};oe.parseUrl=function(r){var e=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;e.lastIndex=0;var t=e.exec(r),i=t===null?null:{full:r,scheme:t[1],host:t[2],port:t[3],path:t[4]};return i&&(i.fullHost=i.host,i.port?(i.port!==80&&i.scheme==="http"||i.port!==443&&i.scheme==="https")&&(i.fullHost+=":"+i.port):i.scheme==="http"?i.port=80:i.scheme==="https"&&(i.port=443),i.full=i.scheme+"://"+i.fullHost),i};var Sw=null;oe.getQueryVariables=function(r){var e=function(i){for(var n={},s=i.split("&"),o=0;o<s.length;o++){var a=s[o].indexOf("="),c,u;a>0?(c=s[o].substring(0,a),u=s[o].substring(a+1)):(c=s[o],u=null),c in n||(n[c]=[]),!(c in Object.prototype)&&u!==null&&n[c].push(unescape(u))}return n},t;return typeof r=="undefined"?(Sw===null&&(typeof window!="undefined"&&window.location&&window.location.search?Sw=e(window.location.search.substring(1)):Sw={}),t=Sw):t=e(r),t};oe.parseFragment=function(r){var e=r,t="",i=r.indexOf("?");i>0&&(e=r.substring(0,i),t=r.substring(i+1));var n=e.split("/");n.length>0&&n[0]===""&&n.shift();var s=t===""?{}:oe.getQueryVariables(t);return{pathString:e,queryString:t,path:n,query:s}};oe.makeRequest=function(r){var e=oe.parseFragment(r),t={path:e.pathString,query:e.queryString,getPath:function(i){return typeof i=="undefined"?e.path:e.path[i]},getQuery:function(i,n){var s;return typeof i=="undefined"?s=e.query:(s=e.query[i],s&&typeof n!="undefined"&&(s=s[n])),s},getQueryLast:function(i,n){var s,o=t.getQuery(i);return o?s=o[o.length-1]:s=n,s}};return t};oe.makeLink=function(r,e,t){r=jQuery.isArray(r)?r.join("/"):r;var i=jQuery.param(e||{});return t=t||"",r+(i.length>0?"?"+i:"")+(t.length>0?"#"+t:"")};oe.isEmpty=function(r){for(var e in r)if(r.hasOwnProperty(e))return!1;return!0};oe.format=function(r){for(var e=/%./g,t,i,n=0,s=[],o=0;t=e.exec(r);){i=r.substring(o,e.lastIndex-2),i.length>0&&s.push(i),o=e.lastIndex;var a=t[0][1];switch(a){case"s":case"o":n<arguments.length?s.push(arguments[n+++1]):s.push("<?>");break;case"%":s.push("%");break;default:s.push("<%"+a+"?>")}}return s.push(r.substring(o)),s.join("")};oe.formatNumber=function(r,e,t,i){var n=r,s=isNaN(e=Math.abs(e))?2:e,o=t===void 0?",":t,a=i===void 0?".":i,c=n<0?"-":"",u=parseInt(n=Math.abs(+n||0).toFixed(s),10)+"",f=u.length>3?u.length%3:0;return c+(f?u.substr(0,f)+a:"")+u.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+a)+(s?o+Math.abs(n-u).toFixed(s).slice(2):"")};oe.formatSize=function(r){return r>=1073741824?r=oe.formatNumber(r/1073741824,2,".","")+" GiB":r>=1048576?r=oe.formatNumber(r/1048576,2,".","")+" MiB":r>=1024?r=oe.formatNumber(r/1024,0)+" KiB":r=oe.formatNumber(r,0)+" bytes",r};oe.bytesFromIP=function(r){return r.indexOf(".")!==-1?oe.bytesFromIPv4(r):r.indexOf(":")!==-1?oe.bytesFromIPv6(r):null};oe.bytesFromIPv4=function(r){if(r=r.split("."),r.length!==4)return null;for(var e=oe.createBuffer(),t=0;t<r.length;++t){var i=parseInt(r[t],10);if(isNaN(i))return null;e.putByte(i)}return e.getBytes()};oe.bytesFromIPv6=function(r){var e=0;r=r.split(":").filter(function(o){return o.length===0&&++e,!0});for(var t=(8-r.length+e)*2,i=oe.createBuffer(),n=0;n<8;++n){if(!r[n]||r[n].length===0){i.fillWithByte(0,t),t=0;continue}var s=oe.hexToBytes(r[n]);s.length<2&&i.putByte(0),i.putBytes(s)}return i.getBytes()};oe.bytesToIP=function(r){return r.length===4?oe.bytesToIPv4(r):r.length===16?oe.bytesToIPv6(r):null};oe.bytesToIPv4=function(r){if(r.length!==4)return null;for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t));return e.join(".")};oe.bytesToIPv6=function(r){if(r.length!==16)return null;for(var e=[],t=[],i=0,n=0;n<r.length;n+=2){for(var s=oe.bytesToHex(r[n]+r[n+1]);s[0]==="0"&&s!=="0";)s=s.substr(1);if(s==="0"){var o=t[t.length-1],a=e.length;!o||a!==o.end+1?t.push({start:a,end:a}):(o.end=a,o.end-o.start>t[i].end-t[i].start&&(i=t.length-1))}e.push(s)}if(t.length>0){var c=t[i];c.end-c.start>0&&(e.splice(c.start,c.end-c.start+1,""),c.start===0&&e.unshift(""),c.end===7&&e.push(""))}return e.join(":")};oe.estimateCores=function(r,e){if(typeof r=="function"&&(e=r,r={}),r=r||{},"cores"in oe&&!r.update)return e(null,oe.cores);if(typeof navigator!="undefined"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return oe.cores=navigator.hardwareConcurrency,e(null,oe.cores);if(typeof Worker=="undefined")return oe.cores=1,e(null,oe.cores);if(typeof Blob=="undefined")return oe.cores=2,e(null,oe.cores);var t=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(o){for(var a=Date.now(),c=a+4;Date.now()<c;);self.postMessage({st:a,et:c})})}.toString(),")()"],{type:"application/javascript"}));i([],5,16);function i(o,a,c){if(a===0){var u=Math.floor(o.reduce(function(f,l){return f+l},0)/o.length);return oe.cores=Math.max(1,u),URL.revokeObjectURL(t),e(null,oe.cores)}n(c,function(f,l){o.push(s(c,l)),i(o,a-1,c)})}function n(o,a){for(var c=[],u=[],f=0;f<o;++f){var l=new Worker(t);l.addEventListener("message",function(d){if(u.push(d.data),u.length===o){for(var p=0;p<o;++p)c[p].terminate();a(null,u)}}),c.push(l)}for(var f=0;f<o;++f)c[f].postMessage(f)}function s(o,a){for(var c=[],u=0;u<o;++u)for(var f=a[u],l=c[u]=[],d=0;d<o;++d)if(u!==d){var p=a[d];(f.st>p.st&&f.st<p.et||p.st>f.st&&p.st<f.et)&&l.push(d)}return c.reduce(function(b,g){return Math.max(b,g.length)},0)}}});var Bd=h((Mir,bj)=>{var ry=Et();ry.pki=ry.pki||{};var rA=bj.exports=ry.pki.oids=ry.oids=ry.oids||{};function Oe(r,e){rA[r]=e,rA[e]=r}function nr(r,e){rA[r]=e}Oe("1.2.840.113549.1.1.1","rsaEncryption");Oe("1.2.840.113549.1.1.4","md5WithRSAEncryption");Oe("1.2.840.113549.1.1.5","sha1WithRSAEncryption");Oe("1.2.840.113549.1.1.7","RSAES-OAEP");Oe("1.2.840.113549.1.1.8","mgf1");Oe("1.2.840.113549.1.1.9","pSpecified");Oe("1.2.840.113549.1.1.10","RSASSA-PSS");Oe("1.2.840.113549.1.1.11","sha256WithRSAEncryption");Oe("1.2.840.113549.1.1.12","sha384WithRSAEncryption");Oe("1.2.840.113549.1.1.13","sha512WithRSAEncryption");Oe("1.3.101.112","EdDSA25519");Oe("1.2.840.10040.4.3","dsa-with-sha1");Oe("1.3.14.3.2.7","desCBC");Oe("1.3.14.3.2.26","sha1");Oe("2.16.840.1.101.3.4.2.1","sha256");Oe("2.16.840.1.101.3.4.2.2","sha384");Oe("2.16.840.1.101.3.4.2.3","sha512");Oe("1.2.840.113549.2.5","md5");Oe("1.2.840.113549.1.7.1","data");Oe("1.2.840.113549.1.7.2","signedData");Oe("1.2.840.113549.1.7.3","envelopedData");Oe("1.2.840.113549.1.7.4","signedAndEnvelopedData");Oe("1.2.840.113549.1.7.5","digestedData");Oe("1.2.840.113549.1.7.6","encryptedData");Oe("1.2.840.113549.1.9.1","emailAddress");Oe("1.2.840.113549.1.9.2","unstructuredName");Oe("1.2.840.113549.1.9.3","contentType");Oe("1.2.840.113549.1.9.4","messageDigest");Oe("1.2.840.113549.1.9.5","signingTime");Oe("1.2.840.113549.1.9.6","counterSignature");Oe("1.2.840.113549.1.9.7","challengePassword");Oe("1.2.840.113549.1.9.8","unstructuredAddress");Oe("1.2.840.113549.1.9.14","extensionRequest");Oe("1.2.840.113549.1.9.20","friendlyName");Oe("1.2.840.113549.1.9.21","localKeyId");Oe("1.2.840.113549.1.9.22.1","x509Certificate");Oe("1.2.840.113549.1.12.10.1.1","keyBag");Oe("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag");Oe("1.2.840.113549.1.12.10.1.3","certBag");Oe("1.2.840.113549.1.12.10.1.4","crlBag");Oe("1.2.840.113549.1.12.10.1.5","secretBag");Oe("1.2.840.113549.1.12.10.1.6","safeContentsBag");Oe("1.2.840.113549.1.5.13","pkcs5PBES2");Oe("1.2.840.113549.1.5.12","pkcs5PBKDF2");Oe("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4");Oe("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4");Oe("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC");Oe("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC");Oe("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC");Oe("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC");Oe("1.2.840.113549.2.7","hmacWithSHA1");Oe("1.2.840.113549.2.8","hmacWithSHA224");Oe("1.2.840.113549.2.9","hmacWithSHA256");Oe("1.2.840.113549.2.10","hmacWithSHA384");Oe("1.2.840.113549.2.11","hmacWithSHA512");Oe("1.2.840.113549.3.7","des-EDE3-CBC");Oe("2.16.840.1.101.3.4.1.2","aes128-CBC");Oe("2.16.840.1.101.3.4.1.22","aes192-CBC");Oe("2.16.840.1.101.3.4.1.42","aes256-CBC");Oe("2.5.4.3","commonName");Oe("2.5.4.5","serialName");Oe("2.5.4.6","countryName");Oe("2.5.4.7","localityName");Oe("2.5.4.8","stateOrProvinceName");Oe("2.5.4.9","streetAddress");Oe("2.5.4.10","organizationName");Oe("2.5.4.11","organizationalUnitName");Oe("2.5.4.13","description");Oe("2.5.4.15","businessCategory");Oe("2.5.4.17","postalCode");Oe("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName");Oe("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName");Oe("2.16.840.1.113730.1.1","nsCertType");Oe("2.16.840.1.113730.1.13","nsComment");nr("2.5.29.1","authorityKeyIdentifier");nr("2.5.29.2","keyAttributes");nr("2.5.29.3","certificatePolicies");nr("2.5.29.4","keyUsageRestriction");nr("2.5.29.5","policyMapping");nr("2.5.29.6","subtreesConstraint");nr("2.5.29.7","subjectAltName");nr("2.5.29.8","issuerAltName");nr("2.5.29.9","subjectDirectoryAttributes");nr("2.5.29.10","basicConstraints");nr("2.5.29.11","nameConstraints");nr("2.5.29.12","policyConstraints");nr("2.5.29.13","basicConstraints");Oe("2.5.29.14","subjectKeyIdentifier");Oe("2.5.29.15","keyUsage");nr("2.5.29.16","privateKeyUsagePeriod");Oe("2.5.29.17","subjectAltName");Oe("2.5.29.18","issuerAltName");Oe("2.5.29.19","basicConstraints");nr("2.5.29.20","cRLNumber");nr("2.5.29.21","cRLReason");nr("2.5.29.22","expirationDate");nr("2.5.29.23","instructionCode");nr("2.5.29.24","invalidityDate");nr("2.5.29.25","cRLDistributionPoints");nr("2.5.29.26","issuingDistributionPoint");nr("2.5.29.27","deltaCRLIndicator");nr("2.5.29.28","issuingDistributionPoint");nr("2.5.29.29","certificateIssuer");nr("2.5.29.30","nameConstraints");Oe("2.5.29.31","cRLDistributionPoints");Oe("2.5.29.32","certificatePolicies");nr("2.5.29.33","policyMappings");nr("2.5.29.34","policyConstraints");Oe("2.5.29.35","authorityKeyIdentifier");nr("2.5.29.36","policyConstraints");Oe("2.5.29.37","extKeyUsage");nr("2.5.29.46","freshestCRL");nr("2.5.29.54","inhibitAnyPolicy");Oe("1.3.6.1.4.1.11129.2.4.2","timestampList");Oe("1.3.6.1.5.5.7.1.1","authorityInfoAccess");Oe("1.3.6.1.5.5.7.3.1","serverAuth");Oe("1.3.6.1.5.5.7.3.2","clientAuth");Oe("1.3.6.1.5.5.7.3.3","codeSigning");Oe("1.3.6.1.5.5.7.3.4","emailProtection");Oe("1.3.6.1.5.5.7.3.8","timeStamping")});var nu=h((Nir,yj)=>{var Fr=Et();mr();Bd();var Ge=yj.exports=Fr.asn1=Fr.asn1||{};Ge.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192};Ge.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30};Ge.create=function(r,e,t,i,n){if(Fr.util.isArray(i)){for(var s=[],o=0;o<i.length;++o)i[o]!==void 0&&s.push(i[o]);i=s}var a={tagClass:r,type:e,constructed:t,composed:t||Fr.util.isArray(i),value:i};return n&&"bitStringContents"in n&&(a.bitStringContents=n.bitStringContents,a.original=Ge.copy(a)),a};Ge.copy=function(r,e){var t;if(Fr.util.isArray(r)){t=[];for(var i=0;i<r.length;++i)t.push(Ge.copy(r[i],e));return t}return typeof r=="string"?r:(t={tagClass:r.tagClass,type:r.type,constructed:r.constructed,composed:r.composed,value:Ge.copy(r.value,e)},e&&!e.excludeBitStringContents&&(t.bitStringContents=r.bitStringContents),t)};Ge.equals=function(r,e,t){if(Fr.util.isArray(r)){if(!Fr.util.isArray(e)||r.length!==e.length)return!1;for(var i=0;i<r.length;++i)if(!Ge.equals(r[i],e[i]))return!1;return!0}if(typeof r!=typeof e)return!1;if(typeof r=="string")return r===e;var n=r.tagClass===e.tagClass&&r.type===e.type&&r.constructed===e.constructed&&r.composed===e.composed&&Ge.equals(r.value,e.value);return t&&t.includeBitStringContents&&(n=n&&r.bitStringContents===e.bitStringContents),n};Ge.getBerValueLength=function(r){var e=r.getByte();if(e!==128){var t,i=e&128;return i?t=r.getInt((e&127)<<3):t=e,t}};function iy(r,e,t){if(t>e){var i=new Error("Too few bytes to parse DER.");throw i.available=r.length(),i.remaining=e,i.requested=t,i}}var PGe=function(r,e){var t=r.getByte();if(e--,t!==128){var i,n=t&128;if(!n)i=t;else{var s=t&127;iy(r,e,s),i=r.getInt(s<<3)}if(i<0)throw new Error("Negative length: "+i);return i}};Ge.fromDer=function(r,e){return e===void 0&&(e={strict:!0,decodeBitStrings:!0}),typeof e=="boolean"&&(e={strict:e,decodeBitStrings:!0}),"strict"in e||(e.strict=!0),"decodeBitStrings"in e||(e.decodeBitStrings=!0),typeof r=="string"&&(r=Fr.util.createBuffer(r)),kw(r,r.length(),0,e)};function kw(r,e,t,i){var n;iy(r,e,2);var s=r.getByte();e--;var o=s&192,a=s&31;n=r.length();var c=PGe(r,e);if(e-=n-r.length(),c!==void 0&&c>e){if(i.strict){var u=new Error("Too few bytes to read ASN.1 value.");throw u.available=r.length(),u.remaining=e,u.requested=c,u}c=e}var f,l,d=(s&32)==32;if(d)if(f=[],c===void 0)for(;;){if(iy(r,e,2),r.bytes(2)===String.fromCharCode(0,0)){r.getBytes(2),e-=2;break}n=r.length(),f.push(kw(r,e,t+1,i)),e-=n-r.length()}else for(;c>0;)n=r.length(),f.push(kw(r,c,t+1,i)),e-=n-r.length(),c-=n-r.length();if(f===void 0&&o===Ge.Class.UNIVERSAL&&a===Ge.Type.BITSTRING&&(l=r.bytes(c)),f===void 0&&i.decodeBitStrings&&o===Ge.Class.UNIVERSAL&&a===Ge.Type.BITSTRING&&c>1){var p=r.read,b=e,g=0;if(a===Ge.Type.BITSTRING&&(iy(r,e,1),g=r.getByte(),e--),g===0)try{n=r.length();var m={verbose:i.verbose,strict:!0,decodeBitStrings:!0},w=kw(r,e,t+1,m),A=n-r.length();e-=A,a==Ge.Type.BITSTRING&&A++;var I=w.tagClass;A===c&&(I===Ge.Class.UNIVERSAL||I===Ge.Class.CONTEXT_SPECIFIC)&&(f=[w])}catch(V){}f===void 0&&(r.read=p,e=b)}if(f===void 0){if(c===void 0){if(i.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");c=e}if(a===Ge.Type.BMPSTRING)for(f="";c>0;c-=2)iy(r,e,2),f+=String.fromCharCode(r.getInt16()),e-=2;else f=r.getBytes(c)}var F=l===void 0?null:{bitStringContents:l};return Ge.create(o,a,d,f,F)}Ge.toDer=function(r){var e=Fr.util.createBuffer(),t=r.tagClass|r.type,i=Fr.util.createBuffer(),n=!1;if("bitStringContents"in r&&(n=!0,r.original&&(n=Ge.equals(r,r.original))),n)i.putBytes(r.bitStringContents);else if(r.composed){r.constructed?t|=32:i.putByte(0);for(var s=0;s<r.value.length;++s)r.value[s]!==void 0&&i.putBuffer(Ge.toDer(r.value[s]))}else if(r.type===Ge.Type.BMPSTRING)for(var s=0;s<r.value.length;++s)i.putInt16(r.value.charCodeAt(s));else r.type===Ge.Type.INTEGER&&r.value.length>1&&(r.value.charCodeAt(0)===0&&(r.value.charCodeAt(1)&128)==0||r.value.charCodeAt(0)===255&&(r.value.charCodeAt(1)&128)==128)?i.putBytes(r.value.substr(1)):i.putBytes(r.value);if(e.putByte(t),i.length()<=127)e.putByte(i.length()&127);else{var o=i.length(),a="";do a+=String.fromCharCode(o&255),o=o>>>8;while(o>0);e.putByte(a.length|128);for(var s=a.length-1;s>=0;--s)e.putByte(a.charCodeAt(s))}return e.putBuffer(i),e};Ge.oidToDer=function(r){var e=r.split("."),t=Fr.util.createBuffer();t.putByte(40*parseInt(e[0],10)+parseInt(e[1],10));for(var i,n,s,o,a=2;a<e.length;++a){i=!0,n=[],s=parseInt(e[a],10);do o=s&127,s=s>>>7,i||(o|=128),n.push(o),i=!1;while(s>0);for(var c=n.length-1;c>=0;--c)t.putByte(n[c])}return t};Ge.derToOid=function(r){var e;typeof r=="string"&&(r=Fr.util.createBuffer(r));var t=r.getByte();e=Math.floor(t/40)+"."+t%40;for(var i=0;r.length()>0;)t=r.getByte(),i=i<<7,t&128?i+=t&127:(e+="."+(i+t),i=0);return e};Ge.utcTimeToDate=function(r){var e=new Date,t=parseInt(r.substr(0,2),10);t=t>=50?1900+t:2e3+t;var i=parseInt(r.substr(2,2),10)-1,n=parseInt(r.substr(4,2),10),s=parseInt(r.substr(6,2),10),o=parseInt(r.substr(8,2),10),a=0;if(r.length>11){var c=r.charAt(10),u=10;c!=="+"&&c!=="-"&&(a=parseInt(r.substr(10,2),10),u+=2)}if(e.setUTCFullYear(t,i,n),e.setUTCHours(s,o,a,0),u&&(c=r.charAt(u),c==="+"||c==="-")){var f=parseInt(r.substr(u+1,2),10),l=parseInt(r.substr(u+4,2),10),d=f*60+l;d*=6e4,c==="+"?e.setTime(+e-d):e.setTime(+e+d)}return e};Ge.generalizedTimeToDate=function(r){var e=new Date,t=parseInt(r.substr(0,4),10),i=parseInt(r.substr(4,2),10)-1,n=parseInt(r.substr(6,2),10),s=parseInt(r.substr(8,2),10),o=parseInt(r.substr(10,2),10),a=parseInt(r.substr(12,2),10),c=0,u=0,f=!1;r.charAt(r.length-1)==="Z"&&(f=!0);var l=r.length-5,d=r.charAt(l);if(d==="+"||d==="-"){var p=parseInt(r.substr(l+1,2),10),b=parseInt(r.substr(l+4,2),10);u=p*60+b,u*=6e4,d==="+"&&(u*=-1),f=!0}return r.charAt(14)==="."&&(c=parseFloat(r.substr(14),10)*1e3),f?(e.setUTCFullYear(t,i,n),e.setUTCHours(s,o,a,c),e.setTime(+e+u)):(e.setFullYear(t,i,n),e.setHours(s,o,a,c)),e};Ge.dateToUtcTime=function(r){if(typeof r=="string")return r;var e="",t=[];t.push((""+r.getUTCFullYear()).substr(2)),t.push(""+(r.getUTCMonth()+1)),t.push(""+r.getUTCDate()),t.push(""+r.getUTCHours()),t.push(""+r.getUTCMinutes()),t.push(""+r.getUTCSeconds());for(var i=0;i<t.length;++i)t[i].length<2&&(e+="0"),e+=t[i];return e+="Z",e};Ge.dateToGeneralizedTime=function(r){if(typeof r=="string")return r;var e="",t=[];t.push(""+r.getUTCFullYear()),t.push(""+(r.getUTCMonth()+1)),t.push(""+r.getUTCDate()),t.push(""+r.getUTCHours()),t.push(""+r.getUTCMinutes()),t.push(""+r.getUTCSeconds());for(var i=0;i<t.length;++i)t[i].length<2&&(e+="0"),e+=t[i];return e+="Z",e};Ge.integerToDer=function(r){var e=Fr.util.createBuffer();if(r>=-128&&r<128)return e.putSignedInt(r,8);if(r>=-32768&&r<32768)return e.putSignedInt(r,16);if(r>=-8388608&&r<8388608)return e.putSignedInt(r,24);if(r>=-2147483648&&r<2147483648)return e.putSignedInt(r,32);var t=new Error("Integer too large; max is 32-bits.");throw t.integer=r,t};Ge.derToInteger=function(r){typeof r=="string"&&(r=Fr.util.createBuffer(r));var e=r.length()*8;if(e>32)throw new Error("Integer too large; max is 32-bits.");return r.getSignedInt(e)};Ge.validate=function(r,e,t,i){var n=!1;if((r.tagClass===e.tagClass||typeof e.tagClass=="undefined")&&(r.type===e.type||typeof e.type=="undefined"))if(r.constructed===e.constructed||typeof e.constructed=="undefined"){if(n=!0,e.value&&Fr.util.isArray(e.value))for(var s=0,o=0;n&&o<e.value.length;++o)n=e.value[o].optional||!1,r.value[s]&&(n=Ge.validate(r.value[s],e.value[o],t,i),n?++s:e.value[o].optional&&(n=!0)),!n&&i&&i.push("["+e.name+'] Tag class "'+e.tagClass+'", type "'+e.type+'" expected value length "'+e.value.length+'", got "'+r.value.length+'"');if(n&&t&&(e.capture&&(t[e.capture]=r.value),e.captureAsn1&&(t[e.captureAsn1]=r),e.captureBitStringContents&&"bitStringContents"in r&&(t[e.captureBitStringContents]=r.bitStringContents),e.captureBitStringValue&&"bitStringContents"in r)){var a;if(r.bitStringContents.length<2)t[e.captureBitStringValue]="";else{var c=r.bitStringContents.charCodeAt(0);if(c!==0)throw new Error("captureBitStringValue only supported for zero unused bits");t[e.captureBitStringValue]=r.bitStringContents.slice(1)}}}else i&&i.push("["+e.name+'] Expected constructed "'+e.constructed+'", got "'+r.constructed+'"');else i&&(r.tagClass!==e.tagClass&&i.push("["+e.name+'] Expected tag class "'+e.tagClass+'", got "'+r.tagClass+'"'),r.type!==e.type&&i.push("["+e.name+'] Expected type "'+e.type+'", got "'+r.type+'"'));return n};var gj=/[^\\u0000-\\u00ff]/;Ge.prettyPrint=function(r,e,t){var i="";e=e||0,t=t||2,e>0&&(i+=`
`);for(var n="",s=0;s<e*t;++s)n+=" ";switch(i+=n+"Tag: ",r.tagClass){case Ge.Class.UNIVERSAL:i+="Universal:";break;case Ge.Class.APPLICATION:i+="Application:";break;case Ge.Class.CONTEXT_SPECIFIC:i+="Context-Specific:";break;case Ge.Class.PRIVATE:i+="Private:";break}if(r.tagClass===Ge.Class.UNIVERSAL)switch(i+=r.type,r.type){case Ge.Type.NONE:i+=" (None)";break;case Ge.Type.BOOLEAN:i+=" (Boolean)";break;case Ge.Type.INTEGER:i+=" (Integer)";break;case Ge.Type.BITSTRING:i+=" (Bit string)";break;case Ge.Type.OCTETSTRING:i+=" (Octet string)";break;case Ge.Type.NULL:i+=" (Null)";break;case Ge.Type.OID:i+=" (Object Identifier)";break;case Ge.Type.ODESC:i+=" (Object Descriptor)";break;case Ge.Type.EXTERNAL:i+=" (External or Instance of)";break;case Ge.Type.REAL:i+=" (Real)";break;case Ge.Type.ENUMERATED:i+=" (Enumerated)";break;case Ge.Type.EMBEDDED:i+=" (Embedded PDV)";break;case Ge.Type.UTF8:i+=" (UTF8)";break;case Ge.Type.ROID:i+=" (Relative Object Identifier)";break;case Ge.Type.SEQUENCE:i+=" (Sequence)";break;case Ge.Type.SET:i+=" (Set)";break;case Ge.Type.PRINTABLESTRING:i+=" (Printable String)";break;case Ge.Type.IA5String:i+=" (IA5String (ASCII))";break;case Ge.Type.UTCTIME:i+=" (UTC time)";break;case Ge.Type.GENERALIZEDTIME:i+=" (Generalized time)";break;case Ge.Type.BMPSTRING:i+=" (BMP String)";break}else i+=r.type;if(i+=`
`,i+=n+"Constructed: "+r.constructed+`
`,r.composed){for(var o=0,a="",s=0;s<r.value.length;++s)r.value[s]!==void 0&&(o+=1,a+=Ge.prettyPrint(r.value[s],e+1,t),s+1<r.value.length&&(a+=","));i+=n+"Sub values: "+o+a}else{if(i+=n+"Value: ",r.type===Ge.Type.OID){var c=Ge.derToOid(r.value);i+=c,Fr.pki&&Fr.pki.oids&&c in Fr.pki.oids&&(i+=" ("+Fr.pki.oids[c]+") ")}if(r.type===Ge.Type.INTEGER)try{i+=Ge.derToInteger(r.value)}catch(f){i+="0x"+Fr.util.bytesToHex(r.value)}else if(r.type===Ge.Type.BITSTRING){if(r.value.length>1?i+="0x"+Fr.util.bytesToHex(r.value.slice(1)):i+="(none)",r.value.length>0){var u=r.value.charCodeAt(0);u==1?i+=" (1 unused bit shown)":u>1&&(i+=" ("+u+" unused bits shown)")}}else r.type===Ge.Type.OCTETSTRING?(gj.test(r.value)||(i+="("+r.value+") "),i+="0x"+Fr.util.bytesToHex(r.value)):r.type===Ge.Type.UTF8?i+=Fr.util.decodeUtf8(r.value):r.type===Ge.Type.PRINTABLESTRING||r.type===Ge.Type.IA5String?i+=r.value:gj.test(r.value)?i+="0x"+Fr.util.bytesToHex(r.value):r.value.length===0?i+="[null]":i+=r.value}return i}});var nA=h((Pir,mj)=>{var Ci=Et();mr();mj.exports=Ci.cipher=Ci.cipher||{};Ci.cipher.algorithms=Ci.cipher.algorithms||{};Ci.cipher.createCipher=function(r,e){var t=r;if(typeof t=="string"&&(t=Ci.cipher.getAlgorithm(t),t&&(t=t())),!t)throw new Error("Unsupported algorithm: "+r);return new Ci.cipher.BlockCipher({algorithm:t,key:e,decrypt:!1})};Ci.cipher.createDecipher=function(r,e){var t=r;if(typeof t=="string"&&(t=Ci.cipher.getAlgorithm(t),t&&(t=t())),!t)throw new Error("Unsupported algorithm: "+r);return new Ci.cipher.BlockCipher({algorithm:t,key:e,decrypt:!0})};Ci.cipher.registerAlgorithm=function(r,e){r=r.toUpperCase(),Ci.cipher.algorithms[r]=e};Ci.cipher.getAlgorithm=function(r){return r=r.toUpperCase(),r in Ci.cipher.algorithms?Ci.cipher.algorithms[r]:null};var iA=Ci.cipher.BlockCipher=function(r){this.algorithm=r.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=r.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=r.decrypt,this.algorithm.initialize(r)};iA.prototype.start=function(r){r=r||{};var e={};for(var t in r)e[t]=r[t];e.decrypt=this._decrypt,this._finish=!1,this._input=Ci.util.createBuffer(),this.output=r.output||Ci.util.createBuffer(),this.mode.start(e)};iA.prototype.update=function(r){for(r&&this._input.putBuffer(r);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()};iA.prototype.finish=function(r){r&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(t){return r(this.blockSize,t,!1)},this.mode.unpad=function(t){return r(this.blockSize,t,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e))}});var oA=h((Dir,xj)=>{var Mi=Et();mr();Mi.cipher=Mi.cipher||{};var Tt=xj.exports=Mi.cipher.modes=Mi.cipher.modes||{};Tt.ecb=function(r){r=r||{},this.name="ECB",this.cipher=r.cipher,this.blockSize=r.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Tt.ecb.prototype.start=function(r){};Tt.ecb.prototype.encrypt=function(r,e,t){if(r.length()<this.blockSize&&!(t&&r.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=r.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i])};Tt.ecb.prototype.decrypt=function(r,e,t){if(r.length()<this.blockSize&&!(t&&r.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=r.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i])};Tt.ecb.prototype.pad=function(r,e){var t=r.length()===this.blockSize?this.blockSize:this.blockSize-r.length();return r.fillWithByte(t,t),!0};Tt.ecb.prototype.unpad=function(r,e){if(e.overflow>0)return!1;var t=r.length(),i=r.at(t-1);return i>this.blockSize<<2?!1:(r.truncate(i),!0)};Tt.cbc=function(r){r=r||{},this.name="CBC",this.cipher=r.cipher,this.blockSize=r.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)};Tt.cbc.prototype.start=function(r){if(r.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in r)this._iv=Aw(r.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")};Tt.cbc.prototype.encrypt=function(r,e,t){if(r.length()<this.blockSize&&!(t&&r.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=this._prev[i]^r.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._outBlock[i]);this._prev=this._outBlock};Tt.cbc.prototype.decrypt=function(r,e,t){if(r.length()<this.blockSize&&!(t&&r.length()>0))return!0;for(var i=0;i<this._ints;++i)this._inBlock[i]=r.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var i=0;i<this._ints;++i)e.putInt32(this._prev[i]^this._outBlock[i]);this._prev=this._inBlock.slice(0)};Tt.cbc.prototype.pad=function(r,e){var t=r.length()===this.blockSize?this.blockSize:this.blockSize-r.length();return r.fillWithByte(t,t),!0};Tt.cbc.prototype.unpad=function(r,e){if(e.overflow>0)return!1;var t=r.length(),i=r.at(t-1);return i>this.blockSize<<2?!1:(r.truncate(i),!0)};Tt.cfb=function(r){r=r||{},this.name="CFB",this.cipher=r.cipher,this.blockSize=r.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=Mi.util.createBuffer(),this._partialBytes=0};Tt.cfb.prototype.start=function(r){if(!("iv"in r))throw new Error("Invalid IV parameter.");this._iv=Aw(r.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Tt.cfb.prototype.encrypt=function(r,e,t){var i=r.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)this._inBlock[n]=r.getInt32()^this._outBlock[n],e.putInt32(this._inBlock[n]);return}var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=r.getInt32()^this._outBlock[n],this._partialOutput.putInt32(this._partialBlock[n]);if(s>0)r.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!t)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};Tt.cfb.prototype.decrypt=function(r,e,t){var i=r.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)this._inBlock[n]=r.getInt32(),e.putInt32(this._inBlock[n]^this._outBlock[n]);return}var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialBlock[n]=r.getInt32(),this._partialOutput.putInt32(this._partialBlock[n]^this._outBlock[n]);if(s>0)r.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._partialBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!t)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};Tt.ofb=function(r){r=r||{},this.name="OFB",this.cipher=r.cipher,this.blockSize=r.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Mi.util.createBuffer(),this._partialBytes=0};Tt.ofb.prototype.start=function(r){if(!("iv"in r))throw new Error("Invalid IV parameter.");this._iv=Aw(r.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Tt.ofb.prototype.encrypt=function(r,e,t){var i=r.length();if(r.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)e.putInt32(r.getInt32()^this._outBlock[n]),this._inBlock[n]=this._outBlock[n];return}var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(r.getInt32()^this._outBlock[n]);if(s>0)r.read-=this.blockSize;else for(var n=0;n<this._ints;++n)this._inBlock[n]=this._outBlock[n];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!t)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0};Tt.ofb.prototype.decrypt=Tt.ofb.prototype.encrypt;Tt.ctr=function(r){r=r||{},this.name="CTR",this.cipher=r.cipher,this.blockSize=r.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=Mi.util.createBuffer(),this._partialBytes=0};Tt.ctr.prototype.start=function(r){if(!("iv"in r))throw new Error("Invalid IV parameter.");this._iv=Aw(r.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0};Tt.ctr.prototype.encrypt=function(r,e,t){var i=r.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize)for(var n=0;n<this._ints;++n)e.putInt32(r.getInt32()^this._outBlock[n]);else{var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(r.getInt32()^this._outBlock[n]);if(s>0&&(r.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!t)return e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}Iw(this._inBlock)};Tt.ctr.prototype.decrypt=Tt.ctr.prototype.encrypt;Tt.gcm=function(r){r=r||{},this.name="GCM",this.cipher=r.cipher,this.blockSize=r.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=Mi.util.createBuffer(),this._partialBytes=0,this._R=3774873600};Tt.gcm.prototype.start=function(r){if(!("iv"in r))throw new Error("Invalid IV parameter.");var e=Mi.util.createBuffer(r.iv);this._cipherLength=0;var t;if("additionalData"in r?t=Mi.util.createBuffer(r.additionalData):t=Mi.util.createBuffer(),"tagLength"in r?this._tagLength=r.tagLength:this._tagLength=128,this._tag=null,r.decrypt&&(this._tag=Mi.util.createBuffer(r.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var i=e.length();if(i===12)this._j0=[e.getInt32(),e.getInt32(),e.getInt32(),1];else{for(this._j0=[0,0,0,0];e.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[e.getInt32(),e.getInt32(),e.getInt32(),e.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(sA(i*8)))}this._inBlock=this._j0.slice(0),Iw(this._inBlock),this._partialBytes=0,t=Mi.util.createBuffer(t),this._aDataLength=sA(t.length()*8);var n=t.length()%this.blockSize;for(n&&t.fillWithByte(0,this.blockSize-n),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])};Tt.gcm.prototype.encrypt=function(r,e,t){var i=r.length();if(i===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&i>=this.blockSize){for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]^=r.getInt32());this._cipherLength+=this.blockSize}else{var s=(this.blockSize-i)%this.blockSize;s>0&&(s=this.blockSize-s),this._partialOutput.clear();for(var n=0;n<this._ints;++n)this._partialOutput.putInt32(r.getInt32()^this._outBlock[n]);if(s<=0||t){if(t){var o=i%this.blockSize;this._cipherLength+=o,this._partialOutput.truncate(this.blockSize-o)}else this._cipherLength+=this.blockSize;for(var n=0;n<this._ints;++n)this._outBlock[n]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),s>0&&!t)return r.read-=this.blockSize,e.putBytes(this._partialOutput.getBytes(s-this._partialBytes)),this._partialBytes=s,!0;e.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),Iw(this._inBlock)};Tt.gcm.prototype.decrypt=function(r,e,t){var i=r.length();if(i<this.blockSize&&!(t&&i>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),Iw(this._inBlock),this._hashBlock[0]=r.getInt32(),this._hashBlock[1]=r.getInt32(),this._hashBlock[2]=r.getInt32(),this._hashBlock[3]=r.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var n=0;n<this._ints;++n)e.putInt32(this._outBlock[n]^this._hashBlock[n]);i<this.blockSize?this._cipherLength+=i%this.blockSize:this._cipherLength+=this.blockSize};Tt.gcm.prototype.afterFinish=function(r,e){var t=!0;e.decrypt&&e.overflow&&r.truncate(this.blockSize-e.overflow),this.tag=Mi.util.createBuffer();var i=this._aDataLength.concat(sA(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,i);var n=[];this.cipher.encrypt(this._j0,n);for(var s=0;s<this._ints;++s)this.tag.putInt32(this._s[s]^n[s]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),e.decrypt&&this.tag.bytes()!==this._tag&&(t=!1),t};Tt.gcm.prototype.multiply=function(r,e){for(var t=[0,0,0,0],i=e.slice(0),n=0;n<128;++n){var s=r[n/32|0]&1<<31-n%32;s&&(t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]),this.pow(i,i)}return t};Tt.gcm.prototype.pow=function(r,e){for(var t=r[3]&1,i=3;i>0;--i)e[i]=r[i]>>>1|(r[i-1]&1)<<31;e[0]=r[0]>>>1,t&&(e[0]^=this._R)};Tt.gcm.prototype.tableMultiply=function(r){for(var e=[0,0,0,0],t=0;t<32;++t){var i=t/8|0,n=r[i]>>>(7-t%8)*4&15,s=this._m[t][n];e[0]^=s[0],e[1]^=s[1],e[2]^=s[2],e[3]^=s[3]}return e};Tt.gcm.prototype.ghash=function(r,e,t){return e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3],this.tableMultiply(e)};Tt.gcm.prototype.generateHashTable=function(r,e){for(var t=8/e,i=4*t,n=16*t,s=new Array(n),o=0;o<n;++o){var a=[0,0,0,0],c=o/i|0,u=(i-1-o%i)*e;a[c]=1<<e-1<<u,s[o]=this.generateSubHashTable(this.multiply(a,r),e)}return s};Tt.gcm.prototype.generateSubHashTable=function(r,e){var t=1<<e,i=t>>>1,n=new Array(t);n[i]=r.slice(0);for(var s=i>>>1;s>0;)this.pow(n[2*s],n[s]=[]),s>>=1;for(s=2;s<i;){for(var o=1;o<s;++o){var a=n[s],c=n[o];n[s+o]=[a[0]^c[0],a[1]^c[1],a[2]^c[2],a[3]^c[3]]}s*=2}for(n[0]=[0,0,0,0],s=i+1;s<t;++s){var u=n[s^i];n[s]=[r[0]^u[0],r[1]^u[1],r[2]^u[2],r[3]^u[3]]}return n};function Aw(r,e){if(typeof r=="string"&&(r=Mi.util.createBuffer(r)),Mi.util.isArray(r)&&r.length>4){var t=r;r=Mi.util.createBuffer();for(var i=0;i<t.length;++i)r.putByte(t[i])}if(r.length()<e)throw new Error("Invalid IV length; got "+r.length()+" bytes and expected "+e+" bytes.");if(!Mi.util.isArray(r)){for(var n=[],s=e/4,i=0;i<s;++i)n.push(r.getInt32());r=n}return r}function Iw(r){r[r.length-1]=r[r.length-1]+1&4294967295}function sA(r){return[r/4294967296|0,r&4294967295]}});var Nd=h((Oir,wj)=>{var Tr=Et();nA();oA();mr();wj.exports=Tr.aes=Tr.aes||{};Tr.aes.startEncrypting=function(r,e,t,i){var n=Tw({key:r,output:t,decrypt:!1,mode:i});return n.start(e),n};Tr.aes.createEncryptionCipher=function(r,e){return Tw({key:r,output:null,decrypt:!1,mode:e})};Tr.aes.startDecrypting=function(r,e,t,i){var n=Tw({key:r,output:t,decrypt:!0,mode:i});return n.start(e),n};Tr.aes.createDecryptionCipher=function(r,e){return Tw({key:r,output:null,decrypt:!0,mode:e})};Tr.aes.Algorithm=function(r,e){aA||vj();var t=this;t.name=r,t.mode=new e({blockSize:16,cipher:{encrypt:function(i,n){return cA(t._w,i,n,!1)},decrypt:function(i,n){return cA(t._w,i,n,!0)}}}),t._init=!1};Tr.aes.Algorithm.prototype.initialize=function(r){if(!this._init){var e=r.key,t;if(typeof e=="string"&&(e.length===16||e.length===24||e.length===32))e=Tr.util.createBuffer(e);else if(Tr.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){t=e,e=Tr.util.createBuffer();for(var i=0;i<t.length;++i)e.putByte(t[i])}if(!Tr.util.isArray(e)){t=e,e=[];var n=t.length();if(n===16||n===24||n===32){n=n>>>2;for(var i=0;i<n;++i)e.push(t.getInt32())}}if(!Tr.util.isArray(e)||!(e.length===4||e.length===6||e.length===8))throw new Error("Invalid key parameter.");var s=this.mode.name,o=["CFB","OFB","CTR","GCM"].indexOf(s)!==-1;this._w=Ej(e,r.decrypt&&!o),this._init=!0}};Tr.aes._expandKey=function(r,e){return aA||vj(),Ej(r,e)};Tr.aes._updateBlock=cA;Cd("AES-ECB",Tr.cipher.modes.ecb);Cd("AES-CBC",Tr.cipher.modes.cbc);Cd("AES-CFB",Tr.cipher.modes.cfb);Cd("AES-OFB",Tr.cipher.modes.ofb);Cd("AES-CTR",Tr.cipher.modes.ctr);Cd("AES-GCM",Tr.cipher.modes.gcm);function Cd(r,e){var t=function(){return new Tr.aes.Algorithm(r,e)};Tr.cipher.registerAlgorithm(r,t)}var aA=!1,Md=4,Qn,uA,_j,tl,na;function vj(){aA=!0,_j=[0,1,2,4,8,16,32,64,128,27,54];for(var r=new Array(256),e=0;e<128;++e)r[e]=e<<1,r[e+128]=e+128<<1^283;Qn=new Array(256),uA=new Array(256),tl=new Array(4),na=new Array(4);for(var e=0;e<4;++e)tl[e]=new Array(256),na[e]=new Array(256);for(var t=0,i=0,n,s,o,a,c,u,f,e=0;e<256;++e){a=i^i<<1^i<<2^i<<3^i<<4,a=a>>8^a&255^99,Qn[t]=a,uA[a]=t,c=r[a],n=r[t],s=r[n],o=r[s],u=c<<24^a<<16^a<<8^(a^c),f=(n^s^o)<<24^(t^o)<<16^(t^s^o)<<8^(t^n^o);for(var l=0;l<4;++l)tl[l][t]=u,na[l][a]=f,u=u<<24|u>>>8,f=f<<24|f>>>8;t===0?t=i=1:(t=n^r[r[r[n^o]]],i^=r[r[i]])}}function Ej(r,e){for(var t=r.slice(0),i,n=1,s=t.length,o=s+6+1,a=Md*o,c=s;c<a;++c)i=t[c-1],c%s==0?(i=Qn[i>>>16&255]<<24^Qn[i>>>8&255]<<16^Qn[i&255]<<8^Qn[i>>>24]^_j[n]<<24,n++):s>6&&c%s==4&&(i=Qn[i>>>24]<<24^Qn[i>>>16&255]<<16^Qn[i>>>8&255]<<8^Qn[i&255]),t[c]=t[c-s]^i;if(e){var u,f=na[0],l=na[1],d=na[2],p=na[3],b=t.slice(0);a=t.length;for(var c=0,g=a-Md;c<a;c+=Md,g-=Md)if(c===0||c===a-Md)b[c]=t[g],b[c+1]=t[g+3],b[c+2]=t[g+2],b[c+3]=t[g+1];else for(var m=0;m<Md;++m)u=t[g+m],b[c+(3&-m)]=f[Qn[u>>>24]]^l[Qn[u>>>16&255]]^d[Qn[u>>>8&255]]^p[Qn[u&255]];t=b}return t}function cA(r,e,t,i){var n=r.length/4-1,s,o,a,c,u;i?(s=na[0],o=na[1],a=na[2],c=na[3],u=uA):(s=tl[0],o=tl[1],a=tl[2],c=tl[3],u=Qn);var f,l,d,p,b,g,m;f=e[0]^r[0],l=e[i?3:1]^r[1],d=e[2]^r[2],p=e[i?1:3]^r[3];for(var w=3,A=1;A<n;++A)b=s[f>>>24]^o[l>>>16&255]^a[d>>>8&255]^c[p&255]^r[++w],g=s[l>>>24]^o[d>>>16&255]^a[p>>>8&255]^c[f&255]^r[++w],m=s[d>>>24]^o[p>>>16&255]^a[f>>>8&255]^c[l&255]^r[++w],p=s[p>>>24]^o[f>>>16&255]^a[l>>>8&255]^c[d&255]^r[++w],f=b,l=g,d=m;t[0]=u[f>>>24]<<24^u[l>>>16&255]<<16^u[d>>>8&255]<<8^u[p&255]^r[++w],t[i?3:1]=u[l>>>24]<<24^u[d>>>16&255]<<16^u[p>>>8&255]<<8^u[f&255]^r[++w],t[2]=u[d>>>24]<<24^u[p>>>16&255]<<16^u[f>>>8&255]<<8^u[l&255]^r[++w],t[i?1:3]=u[p>>>24]<<24^u[f>>>16&255]<<16^u[l>>>8&255]<<8^u[d&255]^r[++w]}function Tw(r){r=r||{};var e=(r.mode||"CBC").toUpperCase(),t="AES-"+e,i;r.decrypt?i=Tr.cipher.createDecipher(t,r.key):i=Tr.cipher.createCipher(t,r.key);var n=i.start;return i.start=function(s,o){var a=null;o instanceof Tr.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=s,n.call(i,o)},i}});var qw=h((Lir,Sj)=>{var Ur=Et();nA();oA();mr();Sj.exports=Ur.des=Ur.des||{};Ur.des.startEncrypting=function(r,e,t,i){var n=Rw({key:r,output:t,decrypt:!1,mode:i||(e===null?"ECB":"CBC")});return n.start(e),n};Ur.des.createEncryptionCipher=function(r,e){return Rw({key:r,output:null,decrypt:!1,mode:e})};Ur.des.startDecrypting=function(r,e,t,i){var n=Rw({key:r,output:t,decrypt:!0,mode:i||(e===null?"ECB":"CBC")});return n.start(e),n};Ur.des.createDecryptionCipher=function(r,e){return Rw({key:r,output:null,decrypt:!0,mode:e})};Ur.des.Algorithm=function(r,e){var t=this;t.name=r,t.mode=new e({blockSize:8,cipher:{encrypt:function(i,n){return kj(t._keys,i,n,!1)},decrypt:function(i,n){return kj(t._keys,i,n,!0)}}}),t._init=!1};Ur.des.Algorithm.prototype.initialize=function(r){if(!this._init){var e=Ur.util.createBuffer(r.key);if(this.name.indexOf("3DES")===0&&e.length()!==24)throw new Error("Invalid Triple-DES key size: "+e.length()*8);this._keys=DGe(e),this._init=!0}};$a("DES-ECB",Ur.cipher.modes.ecb);$a("DES-CBC",Ur.cipher.modes.cbc);$a("DES-CFB",Ur.cipher.modes.cfb);$a("DES-OFB",Ur.cipher.modes.ofb);$a("DES-CTR",Ur.cipher.modes.ctr);$a("3DES-ECB",Ur.cipher.modes.ecb);$a("3DES-CBC",Ur.cipher.modes.cbc);$a("3DES-CFB",Ur.cipher.modes.cfb);$a("3DES-OFB",Ur.cipher.modes.ofb);$a("3DES-CTR",Ur.cipher.modes.ctr);function $a(r,e){var t=function(){return new Ur.des.Algorithm(r,e)};Ur.cipher.registerAlgorithm(r,t)}var OGe=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],LGe=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],FGe=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],UGe=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],zGe=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],KGe=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],VGe=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],jGe=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function DGe(r){for(var e=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],t=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],n=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],s=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],o=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],a=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],l=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],p=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],b=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],g=r.length()>8?3:1,m=[],w=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],A=0,I,F=0;F<g;F++){var V=r.getInt32(),P=r.getInt32();I=(V>>>4^P)&252645135,P^=I,V^=I<<4,I=(P>>>-16^V)&65535,V^=I,P^=I<<-16,I=(V>>>2^P)&858993459,P^=I,V^=I<<2,I=(P>>>-16^V)&65535,V^=I,P^=I<<-16,I=(V>>>1^P)&1431655765,P^=I,V^=I<<1,I=(P>>>8^V)&16711935,V^=I,P^=I<<8,I=(V>>>1^P)&1431655765,P^=I,V^=I<<1,I=V<<8|P>>>20&240,V=P<<24|P<<8&16711680|P>>>8&65280|P>>>24&240,P=I;for(var W=0;W<w.length;++W){w[W]?(V=V<<2|V>>>26,P=P<<2|P>>>26):(V=V<<1|V>>>27,P=P<<1|P>>>27),V&=-15,P&=-15;var ne=e[V>>>28]|t[V>>>24&15]|i[V>>>20&15]|n[V>>>16&15]|s[V>>>12&15]|o[V>>>8&15]|a[V>>>4&15],Q=c[P>>>28]|u[P>>>24&15]|f[P>>>20&15]|l[P>>>16&15]|d[P>>>12&15]|p[P>>>8&15]|b[P>>>4&15];I=(Q>>>16^ne)&65535,m[A++]=ne^I,m[A++]=Q^I<<16}}return m}function kj(r,e,t,i){var n=r.length===32?3:9,s;n===3?s=i?[30,-2,-2]:[0,32,2]:s=i?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var o,a=e[0],c=e[1];o=(a>>>4^c)&252645135,c^=o,a^=o<<4,o=(a>>>16^c)&65535,c^=o,a^=o<<16,o=(c>>>2^a)&858993459,a^=o,c^=o<<2,o=(c>>>8^a)&16711935,a^=o,c^=o<<8,o=(a>>>1^c)&1431655765,c^=o,a^=o<<1,a=a<<1|a>>>31,c=c<<1|c>>>31;for(var u=0;u<n;u+=3){for(var f=s[u+1],l=s[u+2],d=s[u];d!=f;d+=l){var p=c^r[d],b=(c>>>4|c<<28)^r[d+1];o=a,a=c,c=o^(LGe[p>>>24&63]|UGe[p>>>16&63]|KGe[p>>>8&63]|jGe[p&63]|OGe[b>>>24&63]|FGe[b>>>16&63]|zGe[b>>>8&63]|VGe[b&63])}o=a,a=c,c=o}a=a>>>1|a<<31,c=c>>>1|c<<31,o=(a>>>1^c)&1431655765,c^=o,a^=o<<1,o=(c>>>8^a)&16711935,a^=o,c^=o<<8,o=(c>>>2^a)&858993459,a^=o,c^=o<<2,o=(a>>>16^c)&65535,c^=o,a^=o<<16,o=(a>>>4^c)&252645135,c^=o,a^=o<<4,t[0]=a,t[1]=c}function Rw(r){r=r||{};var e=(r.mode||"CBC").toUpperCase(),t="DES-"+e,i;r.decrypt?i=Ur.cipher.createDecipher(t,r.key):i=Ur.cipher.createCipher(t,r.key);var n=i.start;return i.start=function(s,o){var a=null;o instanceof Ur.util.ByteBuffer&&(a=o,o={}),o=o||{},o.output=a,o.iv=s,n.call(i,o)},i}});var Rf=h((Fir,Aj)=>{var Bw=Et();Aj.exports=Bw.md=Bw.md||{};Bw.md.algorithms=Bw.md.algorithms||{}});var Tj=h((Uir,Ij)=>{var su=Et();Rf();mr();var HGe=Ij.exports=su.hmac=su.hmac||{};HGe.create=function(){var r=null,e=null,t=null,i=null,n={};return n.start=function(s,o){if(s!==null)if(typeof s=="string")if(s=s.toLowerCase(),s in su.md.algorithms)e=su.md.algorithms[s].create();else throw new Error('Unknown hash algorithm "'+s+'"');else e=s;if(o===null)o=r;else{if(typeof o=="string")o=su.util.createBuffer(o);else if(su.util.isArray(o)){var a=o;o=su.util.createBuffer();for(var c=0;c<a.length;++c)o.putByte(a[c])}var u=o.length();u>e.blockLength&&(e.start(),e.update(o.bytes()),o=e.digest()),t=su.util.createBuffer(),i=su.util.createBuffer(),u=o.length();for(var c=0;c<u;++c){var a=o.at(c);t.putByte(54^a),i.putByte(92^a)}if(u<e.blockLength)for(var a=e.blockLength-u,c=0;c<a;++c)t.putByte(54),i.putByte(92);r=o,t=t.bytes(),i=i.bytes()}e.start(),e.update(t)},n.update=function(s){e.update(s)},n.getMac=function(){var s=e.digest().bytes();return e.start(),e.update(i),e.update(s),e.digest()},n.digest=n.getMac,n}});var ny=h(()=>{});var fA=h((Vir,Rj)=>{var es=Et();Tj();Rf();mr();var GGe=es.pkcs5=es.pkcs5||{},ou;es.util.isNodejs&&!es.options.usePureJavaScript&&(ou=ny());Rj.exports=es.pbkdf2=GGe.pbkdf2=function(r,e,t,i,n,s){if(typeof n=="function"&&(s=n,n=null),es.util.isNodejs&&!es.options.usePureJavaScript&&ou.pbkdf2&&(n===null||typeof n!="object")&&(ou.pbkdf2Sync.length>4||!n||n==="sha1"))return typeof n!="string"&&(n="sha1"),r=Buffer.from(r,"binary"),e=Buffer.from(e,"binary"),s?ou.pbkdf2Sync.length===4?ou.pbkdf2(r,e,t,i,function(I,F){if(I)return s(I);s(null,F.toString("binary"))}):ou.pbkdf2(r,e,t,i,n,function(I,F){if(I)return s(I);s(null,F.toString("binary"))}):ou.pbkdf2Sync.length===4?ou.pbkdf2Sync(r,e,t,i).toString("binary"):ou.pbkdf2Sync(r,e,t,i,n).toString("binary");if((typeof n=="undefined"||n===null)&&(n="sha1"),typeof n=="string"){if(!(n in es.md.algorithms))throw new Error("Unknown hash algorithm: "+n);n=es.md[n].create()}var o=n.digestLength;if(i>4294967295*o){var a=new Error("Derived key is too long.");if(s)return s(a);throw a}var c=Math.ceil(i/o),u=i-(c-1)*o,f=es.hmac.create();f.start(n,r);var l="",d,p,b;if(!s){for(var g=1;g<=c;++g){f.start(null,null),f.update(e),f.update(es.util.int32ToBytes(g)),d=b=f.digest().getBytes();for(var m=2;m<=t;++m)f.start(null,null),f.update(b),p=f.digest().getBytes(),d=es.util.xorBytes(d,p,o),b=p;l+=g<c?d:d.substr(0,u)}return l}var g=1,m;function w(){if(g>c)return s(null,l);f.start(null,null),f.update(e),f.update(es.util.int32ToBytes(g)),d=b=f.digest().getBytes(),m=2,A()}function A(){if(m<=t)return f.start(null,null),f.update(b),p=f.digest().getBytes(),d=es.util.xorBytes(d,p,o),b=p,++m,es.util.setImmediate(A);l+=g<c?d:d.substr(0,u),++g,w()}w()}});var Nw=h((jir,qj)=>{var Cw=Et();mr();var Bj=qj.exports=Cw.pem=Cw.pem||{};Bj.encode=function(r,e){e=e||{};var t="-----BEGIN "+r.type+`-----\r
`,i;if(r.procType&&(i={name:"Proc-Type",values:[String(r.procType.version),r.procType.type]},t+=Mw(i)),r.contentDomain&&(i={name:"Content-Domain",values:[r.contentDomain]},t+=Mw(i)),r.dekInfo&&(i={name:"DEK-Info",values:[r.dekInfo.algorithm]},r.dekInfo.parameters&&i.values.push(r.dekInfo.parameters),t+=Mw(i)),r.headers)for(var n=0;n<r.headers.length;++n)t+=Mw(r.headers[n]);return r.procType&&(t+=`\r
`),t+=Cw.util.encode64(r.body,e.maxline||64)+`\r
`,t+="-----END "+r.type+`-----\r
`,t};Bj.decode=function(r){for(var e=[],t=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,i=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,n=/\r?\n/,s;s=t.exec(r),!!s;){var o={type:s[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:Cw.util.decode64(s[3])};if(e.push(o),!!s[2]){for(var a=s[2].split(n),c=0;s&&c<a.length;){for(var u=a[c].replace(/\s+$/,""),f=c+1;f<a.length;++f){var l=a[f];if(!/\s/.test(l[0]))break;u+=l,c=f}if(s=u.match(i),s){for(var d={name:s[1],values:[]},p=s[2].split(","),b=0;b<p.length;++b)d.values.push($Ge(p[b]));if(o.procType)if(!o.contentDomain&&d.name==="Content-Domain")o.contentDomain=p[0]||"";else if(!o.dekInfo&&d.name==="DEK-Info"){if(d.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');o.dekInfo={algorithm:p[0],parameters:p[1]||null}}else o.headers.push(d);else{if(d.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(d.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');o.procType={version:p[0],type:p[1]}}}++c}if(o.procType==="ENCRYPTED"&&!o.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(e.length===0)throw new Error("Invalid PEM formatted message.");return e};function Mw(r){for(var e=r.name+": ",t=[],i=function(c,u){return" "+u},n=0;n<r.values.length;++n)t.push(r.values[n].replace(/^(\S+\r\n)/,i));e+=t.join(",")+`\r
`;for(var s=0,o=-1,n=0;n<e.length;++n,++s)if(s>65&&o!==-1){var a=e[o];a===","?(++o,e=e.substr(0,o)+`\r
 `+e.substr(o)):e=e.substr(0,o)+`\r
`+a+e.substr(o+1),s=n-o-1,o=-1,++n}else(e[n]===" "||e[n]==="	"||e[n]===",")&&(o=n);return e}function $Ge(r){return r.replace(/^\s+/,"")}});var Oj=h((Hir,Cj)=>{var Wa=Et();Rf();mr();var Mj=Cj.exports=Wa.sha256=Wa.sha256||{};Wa.md.sha256=Wa.md.algorithms.sha256=Mj;Mj.create=function(){Nj||WGe();var r=null,e=Wa.util.createBuffer(),t=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return i.start=function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,s=0;s<n;++s)i.fullMessageLength.push(0);return e=Wa.util.createBuffer(),r={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i},i.start(),i.update=function(n,s){s==="utf8"&&(n=Wa.util.encodeUtf8(n));var o=n.length;i.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=i.fullMessageLength.length-1;a>=0;--a)i.fullMessageLength[a]+=o[1],o[1]=o[0]+(i.fullMessageLength[a]/4294967296>>>0),i.fullMessageLength[a]=i.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(n),Pj(r,t,e),(e.read>2048||e.length()===0)&&e.compact(),i},i.digest=function(){var n=Wa.util.createBuffer();n.putBytes(e.bytes());var s=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize,o=s&i.blockLength-1;n.putBytes(lA.substr(0,i.blockLength-o));for(var a,c,u=i.fullMessageLength[0]*8,f=0;f<i.fullMessageLength.length-1;++f)a=i.fullMessageLength[f+1]*8,c=a/4294967296>>>0,u+=c,n.putInt32(u>>>0),u=a>>>0;n.putInt32(u);var l={h0:r.h0,h1:r.h1,h2:r.h2,h3:r.h3,h4:r.h4,h5:r.h5,h6:r.h6,h7:r.h7};Pj(l,t,n);var d=Wa.util.createBuffer();return d.putInt32(l.h0),d.putInt32(l.h1),d.putInt32(l.h2),d.putInt32(l.h3),d.putInt32(l.h4),d.putInt32(l.h5),d.putInt32(l.h6),d.putInt32(l.h7),d},i};var lA=null,Nj=!1,Dj=null;function WGe(){lA=String.fromCharCode(128),lA+=Wa.util.fillString(String.fromCharCode(0),64),Dj=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Nj=!0}function Pj(r,e,t){for(var i,n,s,o,a,c,u,f,l,d,p,b,g,m,w,A=t.length();A>=64;){for(u=0;u<16;++u)e[u]=t.getInt32();for(;u<64;++u)i=e[u-2],i=(i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,n=e[u-15],n=(n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3,e[u]=i+e[u-7]+n+e[u-16]|0;for(f=r.h0,l=r.h1,d=r.h2,p=r.h3,b=r.h4,g=r.h5,m=r.h6,w=r.h7,u=0;u<64;++u)o=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7),a=m^b&(g^m),s=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),c=f&l|d&(f^l),i=w+o+a+Dj[u]+e[u],n=s+c,w=m,m=g,g=b,b=p+i>>>0,p=d,d=l,l=f,f=i+n>>>0;r.h0=r.h0+f|0,r.h1=r.h1+l|0,r.h2=r.h2+d|0,r.h3=r.h3+p|0,r.h4=r.h4+b|0,r.h5=r.h5+g|0,r.h6=r.h6+m|0,r.h7=r.h7+w|0,A-=64}}});var Fj=h((Gir,Lj)=>{var Ya=Et();mr();var Pw=null;Ya.util.isNodejs&&!Ya.options.usePureJavaScript&&!process.versions["node-webkit"]&&(Pw=ny());var YGe=Lj.exports=Ya.prng=Ya.prng||{};YGe.create=function(r){for(var e={plugin:r,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},t=r.md,i=new Array(32),n=0;n<32;++n)i[n]=t.create();e.pools=i,e.pool=0,e.generate=function(u,f){if(!f)return e.generateSync(u);var l=e.plugin.cipher,d=e.plugin.increment,p=e.plugin.formatKey,b=e.plugin.formatSeed,g=Ya.util.createBuffer();e.key=null,m();function m(w){if(w)return f(w);if(g.length()>=u)return f(null,g.getBytes(u));if(e.generated>1048575&&(e.key=null),e.key===null)return Ya.util.nextTick(function(){s(m)});var A=l(e.key,e.seed);e.generated+=A.length,g.putBytes(A),e.key=p(l(e.key,d(e.seed))),e.seed=b(l(e.key,e.seed)),Ya.util.setImmediate(m)}},e.generateSync=function(u){var f=e.plugin.cipher,l=e.plugin.increment,d=e.plugin.formatKey,p=e.plugin.formatSeed;e.key=null;for(var b=Ya.util.createBuffer();b.length()<u;){e.generated>1048575&&(e.key=null),e.key===null&&o();var g=f(e.key,e.seed);e.generated+=g.length,b.putBytes(g),e.key=d(f(e.key,l(e.seed))),e.seed=p(f(e.key,e.seed))}return b.getBytes(u)};function s(u){if(e.pools[0].messageLength>=32)return a(),u();var f=32-e.pools[0].messageLength<<5;e.seedFile(f,function(l,d){if(l)return u(l);e.collect(d),a(),u()})}function o(){if(e.pools[0].messageLength>=32)return a();var u=32-e.pools[0].messageLength<<5;e.collect(e.seedFileSync(u)),a()}function a(){e.reseeds=e.reseeds===4294967295?0:e.reseeds+1;var u=e.plugin.md.create();u.update(e.keyBytes);for(var f=1,l=0;l<32;++l)e.reseeds%f==0&&(u.update(e.pools[l].digest().getBytes()),e.pools[l].start()),f=f<<1;e.keyBytes=u.digest().getBytes(),u.start(),u.update(e.keyBytes);var d=u.digest().getBytes();e.key=e.plugin.formatKey(e.keyBytes),e.seed=e.plugin.formatSeed(d),e.generated=0}function c(u){var f=null,l=Ya.util.globalScope,d=l.crypto||l.msCrypto;d&&d.getRandomValues&&(f=function(V){return d.getRandomValues(V)});var p=Ya.util.createBuffer();if(f)for(;p.length()<u;){var b=Math.max(1,Math.min(u-p.length(),65536)/4),g=new Uint32Array(Math.floor(b));try{f(g);for(var m=0;m<g.length;++m)p.putInt32(g[m])}catch(V){if(!(typeof QuotaExceededError!="undefined"&&V instanceof QuotaExceededError))throw V}}if(p.length()<u)for(var w,A,I,F=Math.floor(Math.random()*65536);p.length()<u;){A=16807*(F&65535),w=16807*(F>>16),A+=(w&32767)<<16,A+=w>>15,A=(A&2147483647)+(A>>31),F=A&4294967295;for(var m=0;m<3;++m)I=F>>>(m<<3),I^=Math.floor(Math.random()*256),p.putByte(String.fromCharCode(I&255))}return p.getBytes(u)}return Pw?(e.seedFile=function(u,f){Pw.randomBytes(u,function(l,d){if(l)return f(l);f(null,d.toString())})},e.seedFileSync=function(u){return Pw.randomBytes(u).toString()}):(e.seedFile=function(u,f){try{f(null,c(u))}catch(l){f(l)}},e.seedFileSync=c),e.collect=function(u){for(var f=u.length,l=0;l<f;++l)e.pools[e.pool].update(u.substr(l,1)),e.pool=e.pool===31?0:e.pool+1},e.collectInt=function(u,f){for(var l="",d=0;d<f;d+=8)l+=String.fromCharCode(u>>d&255);e.collect(l)},e.registerWorker=function(u){if(u===self)e.seedFile=function(l,d){function p(b){var g=b.data;g.forge&&g.forge.prng&&(self.removeEventListener("message",p),d(g.forge.prng.err,g.forge.prng.bytes))}self.addEventListener("message",p),self.postMessage({forge:{prng:{needed:l}}})};else{var f=function(l){var d=l.data;d.forge&&d.forge.prng&&e.seedFile(d.forge.prng.needed,function(p,b){u.postMessage({forge:{prng:{err:p,bytes:b}}})})};u.addEventListener("message",f)}},e}});var qf=h(($ir,hA)=>{var Ni=Et();Nd();Oj();Fj();mr();(function(){if(Ni.random&&Ni.random.getBytes){hA.exports=Ni.random;return}(function(r){var e={},t=new Array(4),i=Ni.util.createBuffer();e.formatKey=function(l){var d=Ni.util.createBuffer(l);return l=new Array(4),l[0]=d.getInt32(),l[1]=d.getInt32(),l[2]=d.getInt32(),l[3]=d.getInt32(),Ni.aes._expandKey(l,!1)},e.formatSeed=function(l){var d=Ni.util.createBuffer(l);return l=new Array(4),l[0]=d.getInt32(),l[1]=d.getInt32(),l[2]=d.getInt32(),l[3]=d.getInt32(),l},e.cipher=function(l,d){return Ni.aes._updateBlock(l,d,t,!1),i.putInt32(t[0]),i.putInt32(t[1]),i.putInt32(t[2]),i.putInt32(t[3]),i.getBytes()},e.increment=function(l){return++l[3],l},e.md=Ni.md.sha256;function n(){var l=Ni.prng.create(e);return l.getBytes=function(d,p){return l.generate(d,p)},l.getBytesSync=function(d){return l.generate(d)},l}var s=n(),o=null,a=Ni.util.globalScope,c=a.crypto||a.msCrypto;if(c&&c.getRandomValues&&(o=function(l){return c.getRandomValues(l)}),Ni.options.usePureJavaScript||!Ni.util.isNodejs&&!o){if(typeof window=="undefined"||window.document===void 0,s.collectInt(+new Date,32),typeof navigator!="undefined"){var u="";for(var f in navigator)try{typeof navigator[f]=="string"&&(u+=navigator[f])}catch(l){}s.collect(u),u=null}r&&(r().mousemove(function(l){s.collectInt(l.clientX,16),s.collectInt(l.clientY,16)}),r().keypress(function(l){s.collectInt(l.charCode,8)}))}if(!Ni.random)Ni.random=s;else for(var f in s)Ni.random[f]=s[f];Ni.random.createInstance=n,hA.exports=Ni.random})(typeof jQuery!="undefined"?jQuery:null)})()});var Vj=h((Wir,Uj)=>{var xs=Et();mr();var dA=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],zj=[1,2,3,5],XGe=function(r,e){return r<<e&65535|(r&65535)>>16-e},JGe=function(r,e){return(r&65535)>>e|r<<16-e&65535};Uj.exports=xs.rc2=xs.rc2||{};xs.rc2.expandKey=function(r,e){typeof r=="string"&&(r=xs.util.createBuffer(r)),e=e||128;var t=r,i=r.length(),n=e,s=Math.ceil(n/8),o=255>>(n&7),a;for(a=i;a<128;a++)t.putByte(dA[t.at(a-1)+t.at(a-i)&255]);for(t.setAt(128-s,dA[t.at(128-s)&o]),a=127-s;a>=0;a--)t.setAt(a,dA[t.at(a+1)^t.at(a+s)]);return t};var Kj=function(r,e,t){var i=!1,n=null,s=null,o=null,a,c,u,f,l=[];for(r=xs.rc2.expandKey(r,e),u=0;u<64;u++)l.push(r.getInt16Le());t?(a=function(b){for(u=0;u<4;u++)b[u]+=l[f]+(b[(u+3)%4]&b[(u+2)%4])+(~b[(u+3)%4]&b[(u+1)%4]),b[u]=XGe(b[u],zj[u]),f++},c=function(b){for(u=0;u<4;u++)b[u]+=l[b[(u+3)%4]&63]}):(a=function(b){for(u=3;u>=0;u--)b[u]=JGe(b[u],zj[u]),b[u]-=l[f]+(b[(u+3)%4]&b[(u+2)%4])+(~b[(u+3)%4]&b[(u+1)%4]),f--},c=function(b){for(u=3;u>=0;u--)b[u]-=l[b[(u+3)%4]&63]});var d=function(b){var g=[];for(u=0;u<4;u++){var m=n.getInt16Le();o!==null&&(t?m^=o.getInt16Le():o.putInt16Le(m)),g.push(m&65535)}f=t?0:63;for(var w=0;w<b.length;w++)for(var A=0;A<b[w][0];A++)b[w][1](g);for(u=0;u<4;u++)o!==null&&(t?o.putInt16Le(g[u]):g[u]^=o.getInt16Le()),s.putInt16Le(g[u])},p=null;return p={start:function(b,g){b&&typeof b=="string"&&(b=xs.util.createBuffer(b)),i=!1,n=xs.util.createBuffer(),s=g||new xs.util.createBuffer,o=b,p.output=s},update:function(b){for(i||n.putBuffer(b);n.length()>=8;)d([[5,a],[1,c],[6,a],[1,c],[5,a]])},finish:function(b){var g=!0;if(t)if(b)g=b(8,n,!t);else{var m=n.length()===8?8:8-n.length();n.fillWithByte(m,m)}if(g&&(i=!0,p.update()),!t&&(g=n.length()===0,g))if(b)g=b(8,s,!t);else{var w=s.length(),A=s.at(w-1);A>w?g=!1:s.truncate(A)}return g}},p};xs.rc2.startEncrypting=function(r,e,t){var i=xs.rc2.createEncryptionCipher(r,128);return i.start(e,t),i};xs.rc2.createEncryptionCipher=function(r,e){return Kj(r,e,!0)};xs.rc2.startDecrypting=function(r,e,t){var i=xs.rc2.createDecryptionCipher(r,128);return i.start(e,t),i};xs.rc2.createDecryptionCipher=function(r,e){return Kj(r,e,!1)}});var oy=h((Yir,jj)=>{var pA=Et();jj.exports=pA.jsbn=pA.jsbn||{};var au,ZGe=244837814094590,Hj=(ZGe&16777215)==15715070;function Ne(r,e,t){this.data=[],r!=null&&(typeof r=="number"?this.fromNumber(r,e,t):e==null&&typeof r!="string"?this.fromString(r,256):this.fromString(r,e))}pA.jsbn.BigInteger=Ne;function Ht(){return new Ne(null)}function QGe(r,e,t,i,n,s){for(;--s>=0;){var o=e*this.data[r++]+t.data[i]+n;n=Math.floor(o/67108864),t.data[i++]=o&67108863}return n}function e$e(r,e,t,i,n,s){for(var o=e&32767,a=e>>15;--s>=0;){var c=this.data[r]&32767,u=this.data[r++]>>15,f=a*c+u*o;c=o*c+((f&32767)<<15)+t.data[i]+(n&1073741823),n=(c>>>30)+(f>>>15)+a*u+(n>>>30),t.data[i++]=c&1073741823}return n}function Gj(r,e,t,i,n,s){for(var o=e&16383,a=e>>14;--s>=0;){var c=this.data[r]&16383,u=this.data[r++]>>14,f=a*c+u*o;c=o*c+((f&16383)<<14)+t.data[i]+n,n=(c>>28)+(f>>14)+a*u,t.data[i++]=c&268435455}return n}typeof navigator=="undefined"?(Ne.prototype.am=Gj,au=28):Hj&&navigator.appName=="Microsoft Internet Explorer"?(Ne.prototype.am=e$e,au=30):Hj&&navigator.appName!="Netscape"?(Ne.prototype.am=QGe,au=26):(Ne.prototype.am=Gj,au=28);Ne.prototype.DB=au;Ne.prototype.DM=(1<<au)-1;Ne.prototype.DV=1<<au;var bA=52;Ne.prototype.FV=Math.pow(2,bA);Ne.prototype.F1=bA-au;Ne.prototype.F2=2*au-bA;var t$e="0123456789abcdefghijklmnopqrstuvwxyz",Dw=new Array,Pd,go;Pd="0".charCodeAt(0);for(go=0;go<=9;++go)Dw[Pd++]=go;Pd="a".charCodeAt(0);for(go=10;go<36;++go)Dw[Pd++]=go;Pd="A".charCodeAt(0);for(go=10;go<36;++go)Dw[Pd++]=go;function $j(r){return t$e.charAt(r)}function Wj(r,e){var t=Dw[r.charCodeAt(e)];return t??-1}function r$e(r){for(var e=this.t-1;e>=0;--e)r.data[e]=this.data[e];r.t=this.t,r.s=this.s}function i$e(r){this.t=1,this.s=r<0?-1:0,r>0?this.data[0]=r:r<-1?this.data[0]=r+this.DV:this.t=0}function Bf(r){var e=Ht();return e.fromInt(r),e}function n$e(r,e){var t;if(e==16)t=4;else if(e==8)t=3;else if(e==256)t=8;else if(e==2)t=1;else if(e==32)t=5;else if(e==4)t=2;else{this.fromRadix(r,e);return}this.t=0,this.s=0;for(var i=r.length,n=!1,s=0;--i>=0;){var o=t==8?r[i]&255:Wj(r,i);if(o<0){r.charAt(i)=="-"&&(n=!0);continue}n=!1,s==0?this.data[this.t++]=o:s+t>this.DB?(this.data[this.t-1]|=(o&(1<<this.DB-s)-1)<<s,this.data[this.t++]=o>>this.DB-s):this.data[this.t-1]|=o<<s,s+=t,s>=this.DB&&(s-=this.DB)}t==8&&(r[0]&128)!=0&&(this.s=-1,s>0&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),n&&Ne.ZERO.subTo(this,this)}function s$e(){for(var r=this.s&this.DM;this.t>0&&this.data[this.t-1]==r;)--this.t}function o$e(r){if(this.s<0)return"-"+this.negate().toString(r);var e;if(r==16)e=4;else if(r==8)e=3;else if(r==2)e=1;else if(r==32)e=5;else if(r==4)e=2;else return this.toRadix(r);var t=(1<<e)-1,i,n=!1,s="",o=this.t,a=this.DB-o*this.DB%e;if(o-- >0)for(a<this.DB&&(i=this.data[o]>>a)>0&&(n=!0,s=$j(i));o>=0;)a<e?(i=(this.data[o]&(1<<a)-1)<<e-a,i|=this.data[--o]>>(a+=this.DB-e)):(i=this.data[o]>>(a-=e)&t,a<=0&&(a+=this.DB,--o)),i>0&&(n=!0),n&&(s+=$j(i));return n?s:"0"}function a$e(){var r=Ht();return Ne.ZERO.subTo(this,r),r}function c$e(){return this.s<0?this.negate():this}function u$e(r){var e=this.s-r.s;if(e!=0)return e;var t=this.t;if(e=t-r.t,e!=0)return this.s<0?-e:e;for(;--t>=0;)if((e=this.data[t]-r.data[t])!=0)return e;return 0}function Ow(r){var e=1,t;return(t=r>>>16)!=0&&(r=t,e+=16),(t=r>>8)!=0&&(r=t,e+=8),(t=r>>4)!=0&&(r=t,e+=4),(t=r>>2)!=0&&(r=t,e+=2),(t=r>>1)!=0&&(r=t,e+=1),e}function f$e(){return this.t<=0?0:this.DB*(this.t-1)+Ow(this.data[this.t-1]^this.s&this.DM)}function l$e(r,e){var t;for(t=this.t-1;t>=0;--t)e.data[t+r]=this.data[t];for(t=r-1;t>=0;--t)e.data[t]=0;e.t=this.t+r,e.s=this.s}function h$e(r,e){for(var t=r;t<this.t;++t)e.data[t-r]=this.data[t];e.t=Math.max(this.t-r,0),e.s=this.s}function d$e(r,e){var t=r%this.DB,i=this.DB-t,n=(1<<i)-1,s=Math.floor(r/this.DB),o=this.s<<t&this.DM,a;for(a=this.t-1;a>=0;--a)e.data[a+s+1]=this.data[a]>>i|o,o=(this.data[a]&n)<<t;for(a=s-1;a>=0;--a)e.data[a]=0;e.data[s]=o,e.t=this.t+s+1,e.s=this.s,e.clamp()}function p$e(r,e){e.s=this.s;var t=Math.floor(r/this.DB);if(t>=this.t){e.t=0;return}var i=r%this.DB,n=this.DB-i,s=(1<<i)-1;e.data[0]=this.data[t]>>i;for(var o=t+1;o<this.t;++o)e.data[o-t-1]|=(this.data[o]&s)<<n,e.data[o-t]=this.data[o]>>i;i>0&&(e.data[this.t-t-1]|=(this.s&s)<<n),e.t=this.t-t,e.clamp()}function b$e(r,e){for(var t=0,i=0,n=Math.min(r.t,this.t);t<n;)i+=this.data[t]-r.data[t],e.data[t++]=i&this.DM,i>>=this.DB;if(r.t<this.t){for(i-=r.s;t<this.t;)i+=this.data[t],e.data[t++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;t<r.t;)i-=r.data[t],e.data[t++]=i&this.DM,i>>=this.DB;i-=r.s}e.s=i<0?-1:0,i<-1?e.data[t++]=this.DV+i:i>0&&(e.data[t++]=i),e.t=t,e.clamp()}function y$e(r,e){var t=this.abs(),i=r.abs(),n=t.t;for(e.t=n+i.t;--n>=0;)e.data[n]=0;for(n=0;n<i.t;++n)e.data[n+t.t]=t.am(0,i.data[n],e,n,0,t.t);e.s=0,e.clamp(),this.s!=r.s&&Ne.ZERO.subTo(e,e)}function g$e(r){for(var e=this.abs(),t=r.t=2*e.t;--t>=0;)r.data[t]=0;for(t=0;t<e.t-1;++t){var i=e.am(t,e.data[t],r,2*t,0,1);(r.data[t+e.t]+=e.am(t+1,2*e.data[t],r,2*t+1,i,e.t-t-1))>=e.DV&&(r.data[t+e.t]-=e.DV,r.data[t+e.t+1]=1)}r.t>0&&(r.data[r.t-1]+=e.am(t,e.data[t],r,2*t,0,1)),r.s=0,r.clamp()}function m$e(r,e,t){var i=r.abs();if(!(i.t<=0)){var n=this.abs();if(n.t<i.t){e!=null&&e.fromInt(0),t!=null&&this.copyTo(t);return}t==null&&(t=Ht());var s=Ht(),o=this.s,a=r.s,c=this.DB-Ow(i.data[i.t-1]);c>0?(i.lShiftTo(c,s),n.lShiftTo(c,t)):(i.copyTo(s),n.copyTo(t));var u=s.t,f=s.data[u-1];if(f!=0){var l=f*(1<<this.F1)+(u>1?s.data[u-2]>>this.F2:0),d=this.FV/l,p=(1<<this.F1)/l,b=1<<this.F2,g=t.t,m=g-u,w=e??Ht();for(s.dlShiftTo(m,w),t.compareTo(w)>=0&&(t.data[t.t++]=1,t.subTo(w,t)),Ne.ONE.dlShiftTo(u,w),w.subTo(s,s);s.t<u;)s.data[s.t++]=0;for(;--m>=0;){var A=t.data[--g]==f?this.DM:Math.floor(t.data[g]*d+(t.data[g-1]+b)*p);if((t.data[g]+=s.am(0,A,t,m,0,u))<A)for(s.dlShiftTo(m,w),t.subTo(w,t);t.data[g]<--A;)t.subTo(w,t)}e!=null&&(t.drShiftTo(u,e),o!=a&&Ne.ZERO.subTo(e,e)),t.t=u,t.clamp(),c>0&&t.rShiftTo(c,t),o<0&&Ne.ZERO.subTo(t,t)}}}function x$e(r){var e=Ht();return this.abs().divRemTo(r,null,e),this.s<0&&e.compareTo(Ne.ZERO)>0&&r.subTo(e,e),e}function rl(r){this.m=r}function w$e(r){return r.s<0||r.compareTo(this.m)>=0?r.mod(this.m):r}function v$e(r){return r}function E$e(r){r.divRemTo(this.m,null,r)}function _$e(r,e,t){r.multiplyTo(e,t),this.reduce(t)}function S$e(r,e){r.squareTo(e),this.reduce(e)}rl.prototype.convert=w$e;rl.prototype.revert=v$e;rl.prototype.reduce=E$e;rl.prototype.mulTo=_$e;rl.prototype.sqrTo=S$e;function k$e(){if(this.t<1)return 0;var r=this.data[0];if((r&1)==0)return 0;var e=r&3;return e=e*(2-(r&15)*e)&15,e=e*(2-(r&255)*e)&255,e=e*(2-((r&65535)*e&65535))&65535,e=e*(2-r*e%this.DV)%this.DV,e>0?this.DV-e:-e}function il(r){this.m=r,this.mp=r.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<r.DB-15)-1,this.mt2=2*r.t}function A$e(r){var e=Ht();return r.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),r.s<0&&e.compareTo(Ne.ZERO)>0&&this.m.subTo(e,e),e}function I$e(r){var e=Ht();return r.copyTo(e),this.reduce(e),e}function T$e(r){for(;r.t<=this.mt2;)r.data[r.t++]=0;for(var e=0;e<this.m.t;++e){var t=r.data[e]&32767,i=t*this.mpl+((t*this.mph+(r.data[e]>>15)*this.mpl&this.um)<<15)&r.DM;for(t=e+this.m.t,r.data[t]+=this.m.am(0,i,r,e,0,this.m.t);r.data[t]>=r.DV;)r.data[t]-=r.DV,r.data[++t]++}r.clamp(),r.drShiftTo(this.m.t,r),r.compareTo(this.m)>=0&&r.subTo(this.m,r)}function R$e(r,e){r.squareTo(e),this.reduce(e)}function q$e(r,e,t){r.multiplyTo(e,t),this.reduce(t)}il.prototype.convert=A$e;il.prototype.revert=I$e;il.prototype.reduce=T$e;il.prototype.mulTo=q$e;il.prototype.sqrTo=R$e;function B$e(){return(this.t>0?this.data[0]&1:this.s)==0}function C$e(r,e){if(r>4294967295||r<1)return Ne.ONE;var t=Ht(),i=Ht(),n=e.convert(this),s=Ow(r)-1;for(n.copyTo(t);--s>=0;)if(e.sqrTo(t,i),(r&1<<s)>0)e.mulTo(i,n,t);else{var o=t;t=i,i=o}return e.revert(t)}function M$e(r,e){var t;return r<256||e.isEven()?t=new rl(e):t=new il(e),this.exp(r,t)}Ne.prototype.copyTo=r$e;Ne.prototype.fromInt=i$e;Ne.prototype.fromString=n$e;Ne.prototype.clamp=s$e;Ne.prototype.dlShiftTo=l$e;Ne.prototype.drShiftTo=h$e;Ne.prototype.lShiftTo=d$e;Ne.prototype.rShiftTo=p$e;Ne.prototype.subTo=b$e;Ne.prototype.multiplyTo=y$e;Ne.prototype.squareTo=g$e;Ne.prototype.divRemTo=m$e;Ne.prototype.invDigit=k$e;Ne.prototype.isEven=B$e;Ne.prototype.exp=C$e;Ne.prototype.toString=o$e;Ne.prototype.negate=a$e;Ne.prototype.abs=c$e;Ne.prototype.compareTo=u$e;Ne.prototype.bitLength=f$e;Ne.prototype.mod=x$e;Ne.prototype.modPowInt=M$e;Ne.ZERO=Bf(0);Ne.ONE=Bf(1);function N$e(){var r=Ht();return this.copyTo(r),r}function P$e(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function D$e(){return this.t==0?this.s:this.data[0]<<24>>24}function O$e(){return this.t==0?this.s:this.data[0]<<16>>16}function L$e(r){return Math.floor(Math.LN2*this.DB/Math.log(r))}function F$e(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function U$e(r){if(r==null&&(r=10),this.signum()==0||r<2||r>36)return"0";var e=this.chunkSize(r),t=Math.pow(r,e),i=Bf(t),n=Ht(),s=Ht(),o="";for(this.divRemTo(i,n,s);n.signum()>0;)o=(t+s.intValue()).toString(r).substr(1)+o,n.divRemTo(i,n,s);return s.intValue().toString(r)+o}function z$e(r,e){this.fromInt(0),e==null&&(e=10);for(var t=this.chunkSize(e),i=Math.pow(e,t),n=!1,s=0,o=0,a=0;a<r.length;++a){var c=Wj(r,a);if(c<0){r.charAt(a)=="-"&&this.signum()==0&&(n=!0);continue}o=e*o+c,++s>=t&&(this.dMultiply(i),this.dAddOffset(o,0),s=0,o=0)}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(o,0)),n&&Ne.ZERO.subTo(this,this)}function K$e(r,e,t){if(typeof e=="number")if(r<2)this.fromInt(1);else for(this.fromNumber(r,t),this.testBit(r-1)||this.bitwiseTo(Ne.ONE.shiftLeft(r-1),yA,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>r&&this.subTo(Ne.ONE.shiftLeft(r-1),this);else{var i=new Array,n=r&7;i.length=(r>>3)+1,e.nextBytes(i),n>0?i[0]&=(1<<n)-1:i[0]=0,this.fromString(i,256)}}function V$e(){var r=this.t,e=new Array;e[0]=this.s;var t=this.DB-r*this.DB%8,i,n=0;if(r-- >0)for(t<this.DB&&(i=this.data[r]>>t)!=(this.s&this.DM)>>t&&(e[n++]=i|this.s<<this.DB-t);r>=0;)t<8?(i=(this.data[r]&(1<<t)-1)<<8-t,i|=this.data[--r]>>(t+=this.DB-8)):(i=this.data[r]>>(t-=8)&255,t<=0&&(t+=this.DB,--r)),(i&128)!=0&&(i|=-256),n==0&&(this.s&128)!=(i&128)&&++n,(n>0||i!=this.s)&&(e[n++]=i);return e}function j$e(r){return this.compareTo(r)==0}function H$e(r){return this.compareTo(r)<0?this:r}function G$e(r){return this.compareTo(r)>0?this:r}function $$e(r,e,t){var i,n,s=Math.min(r.t,this.t);for(i=0;i<s;++i)t.data[i]=e(this.data[i],r.data[i]);if(r.t<this.t){for(n=r.s&this.DM,i=s;i<this.t;++i)t.data[i]=e(this.data[i],n);t.t=this.t}else{for(n=this.s&this.DM,i=s;i<r.t;++i)t.data[i]=e(n,r.data[i]);t.t=r.t}t.s=e(this.s,r.s),t.clamp()}function W$e(r,e){return r&e}function Y$e(r){var e=Ht();return this.bitwiseTo(r,W$e,e),e}function yA(r,e){return r|e}function X$e(r){var e=Ht();return this.bitwiseTo(r,yA,e),e}function Yj(r,e){return r^e}function J$e(r){var e=Ht();return this.bitwiseTo(r,Yj,e),e}function Xj(r,e){return r&~e}function Z$e(r){var e=Ht();return this.bitwiseTo(r,Xj,e),e}function Q$e(){for(var r=Ht(),e=0;e<this.t;++e)r.data[e]=this.DM&~this.data[e];return r.t=this.t,r.s=~this.s,r}function eWe(r){var e=Ht();return r<0?this.rShiftTo(-r,e):this.lShiftTo(r,e),e}function tWe(r){var e=Ht();return r<0?this.lShiftTo(-r,e):this.rShiftTo(r,e),e}function rWe(r){if(r==0)return-1;var e=0;return(r&65535)==0&&(r>>=16,e+=16),(r&255)==0&&(r>>=8,e+=8),(r&15)==0&&(r>>=4,e+=4),(r&3)==0&&(r>>=2,e+=2),(r&1)==0&&++e,e}function iWe(){for(var r=0;r<this.t;++r)if(this.data[r]!=0)return r*this.DB+rWe(this.data[r]);return this.s<0?this.t*this.DB:-1}function nWe(r){for(var e=0;r!=0;)r&=r-1,++e;return e}function sWe(){for(var r=0,e=this.s&this.DM,t=0;t<this.t;++t)r+=nWe(this.data[t]^e);return r}function oWe(r){var e=Math.floor(r/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<r%this.DB)!=0}function aWe(r,e){var t=Ne.ONE.shiftLeft(r);return this.bitwiseTo(t,e,t),t}function cWe(r){return this.changeBit(r,yA)}function uWe(r){return this.changeBit(r,Xj)}function fWe(r){return this.changeBit(r,Yj)}function lWe(r,e){for(var t=0,i=0,n=Math.min(r.t,this.t);t<n;)i+=this.data[t]+r.data[t],e.data[t++]=i&this.DM,i>>=this.DB;if(r.t<this.t){for(i+=r.s;t<this.t;)i+=this.data[t],e.data[t++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;t<r.t;)i+=r.data[t],e.data[t++]=i&this.DM,i>>=this.DB;i+=r.s}e.s=i<0?-1:0,i>0?e.data[t++]=i:i<-1&&(e.data[t++]=this.DV+i),e.t=t,e.clamp()}function hWe(r){var e=Ht();return this.addTo(r,e),e}function dWe(r){var e=Ht();return this.subTo(r,e),e}function pWe(r){var e=Ht();return this.multiplyTo(r,e),e}function bWe(r){var e=Ht();return this.divRemTo(r,e,null),e}function yWe(r){var e=Ht();return this.divRemTo(r,null,e),e}function gWe(r){var e=Ht(),t=Ht();return this.divRemTo(r,e,t),new Array(e,t)}function mWe(r){this.data[this.t]=this.am(0,r-1,this,0,0,this.t),++this.t,this.clamp()}function xWe(r,e){if(r!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=r;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}}function sy(){}function Jj(r){return r}function wWe(r,e,t){r.multiplyTo(e,t)}function vWe(r,e){r.squareTo(e)}sy.prototype.convert=Jj;sy.prototype.revert=Jj;sy.prototype.mulTo=wWe;sy.prototype.sqrTo=vWe;function EWe(r){return this.exp(r,new sy)}function _We(r,e,t){var i=Math.min(this.t+r.t,e);for(t.s=0,t.t=i;i>0;)t.data[--i]=0;var n;for(n=t.t-this.t;i<n;++i)t.data[i+this.t]=this.am(0,r.data[i],t,i,0,this.t);for(n=Math.min(r.t,e);i<n;++i)this.am(0,r.data[i],t,i,0,e-i);t.clamp()}function SWe(r,e,t){--e;var i=t.t=this.t+r.t-e;for(t.s=0;--i>=0;)t.data[i]=0;for(i=Math.max(e-this.t,0);i<r.t;++i)t.data[this.t+i-e]=this.am(e-i,r.data[i],t,0,0,this.t+i-e);t.clamp(),t.drShiftTo(1,t)}function Dd(r){this.r2=Ht(),this.q3=Ht(),Ne.ONE.dlShiftTo(2*r.t,this.r2),this.mu=this.r2.divide(r),this.m=r}function kWe(r){if(r.s<0||r.t>2*this.m.t)return r.mod(this.m);if(r.compareTo(this.m)<0)return r;var e=Ht();return r.copyTo(e),this.reduce(e),e}function AWe(r){return r}function IWe(r){for(r.drShiftTo(this.m.t-1,this.r2),r.t>this.m.t+1&&(r.t=this.m.t+1,r.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);r.compareTo(this.r2)<0;)r.dAddOffset(1,this.m.t+1);for(r.subTo(this.r2,r);r.compareTo(this.m)>=0;)r.subTo(this.m,r)}function TWe(r,e){r.squareTo(e),this.reduce(e)}function RWe(r,e,t){r.multiplyTo(e,t),this.reduce(t)}Dd.prototype.convert=kWe;Dd.prototype.revert=AWe;Dd.prototype.reduce=IWe;Dd.prototype.mulTo=RWe;Dd.prototype.sqrTo=TWe;function qWe(r,e){var t=r.bitLength(),i,n=Bf(1),s;if(t<=0)return n;t<18?i=1:t<48?i=3:t<144?i=4:t<768?i=5:i=6,t<8?s=new rl(e):e.isEven()?s=new Dd(e):s=new il(e);var o=new Array,a=3,c=i-1,u=(1<<i)-1;if(o[1]=s.convert(this),i>1){var f=Ht();for(s.sqrTo(o[1],f);a<=u;)o[a]=Ht(),s.mulTo(f,o[a-2],o[a]),a+=2}var l=r.t-1,d,p=!0,b=Ht(),g;for(t=Ow(r.data[l])-1;l>=0;){for(t>=c?d=r.data[l]>>t-c&u:(d=(r.data[l]&(1<<t+1)-1)<<c-t,l>0&&(d|=r.data[l-1]>>this.DB+t-c)),a=i;(d&1)==0;)d>>=1,--a;if((t-=a)<0&&(t+=this.DB,--l),p)o[d].copyTo(n),p=!1;else{for(;a>1;)s.sqrTo(n,b),s.sqrTo(b,n),a-=2;a>0?s.sqrTo(n,b):(g=n,n=b,b=g),s.mulTo(b,o[d],n)}for(;l>=0&&(r.data[l]&1<<t)==0;)s.sqrTo(n,b),g=n,n=b,b=g,--t<0&&(t=this.DB-1,--l)}return s.revert(n)}function BWe(r){var e=this.s<0?this.negate():this.clone(),t=r.s<0?r.negate():r.clone();if(e.compareTo(t)<0){var i=e;e=t,t=i}var n=e.getLowestSetBit(),s=t.getLowestSetBit();if(s<0)return e;for(n<s&&(s=n),s>0&&(e.rShiftTo(s,e),t.rShiftTo(s,t));e.signum()>0;)(n=e.getLowestSetBit())>0&&e.rShiftTo(n,e),(n=t.getLowestSetBit())>0&&t.rShiftTo(n,t),e.compareTo(t)>=0?(e.subTo(t,e),e.rShiftTo(1,e)):(t.subTo(e,t),t.rShiftTo(1,t));return s>0&&t.lShiftTo(s,t),t}function CWe(r){if(r<=0)return 0;var e=this.DV%r,t=this.s<0?r-1:0;if(this.t>0)if(e==0)t=this.data[0]%r;else for(var i=this.t-1;i>=0;--i)t=(e*t+this.data[i])%r;return t}function MWe(r){var e=r.isEven();if(this.isEven()&&e||r.signum()==0)return Ne.ZERO;for(var t=r.clone(),i=this.clone(),n=Bf(1),s=Bf(0),o=Bf(0),a=Bf(1);t.signum()!=0;){for(;t.isEven();)t.rShiftTo(1,t),e?((!n.isEven()||!s.isEven())&&(n.addTo(this,n),s.subTo(r,s)),n.rShiftTo(1,n)):s.isEven()||s.subTo(r,s),s.rShiftTo(1,s);for(;i.isEven();)i.rShiftTo(1,i),e?((!o.isEven()||!a.isEven())&&(o.addTo(this,o),a.subTo(r,a)),o.rShiftTo(1,o)):a.isEven()||a.subTo(r,a),a.rShiftTo(1,a);t.compareTo(i)>=0?(t.subTo(i,t),e&&n.subTo(o,n),s.subTo(a,s)):(i.subTo(t,i),e&&o.subTo(n,o),a.subTo(s,a))}if(i.compareTo(Ne.ONE)!=0)return Ne.ZERO;if(a.compareTo(r)>=0)return a.subtract(r);if(a.signum()<0)a.addTo(r,a);else return a;return a.signum()<0?a.add(r):a}var sa=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],NWe=(1<<26)/sa[sa.length-1];function PWe(r){var e,t=this.abs();if(t.t==1&&t.data[0]<=sa[sa.length-1]){for(e=0;e<sa.length;++e)if(t.data[0]==sa[e])return!0;return!1}if(t.isEven())return!1;for(e=1;e<sa.length;){for(var i=sa[e],n=e+1;n<sa.length&&i<NWe;)i*=sa[n++];for(i=t.modInt(i);e<n;)if(i%sa[e++]==0)return!1}return t.millerRabin(r)}function OWe(r){var e=this.subtract(Ne.ONE),t=e.getLowestSetBit();if(t<=0)return!1;for(var i=e.shiftRight(t),n=DWe(),s,o=0;o<r;++o){do s=new Ne(this.bitLength(),n);while(s.compareTo(Ne.ONE)<=0||s.compareTo(e)>=0);var a=s.modPow(i,this);if(a.compareTo(Ne.ONE)!=0&&a.compareTo(e)!=0){for(var c=1;c++<t&&a.compareTo(e)!=0;)if(a=a.modPowInt(2,this),a.compareTo(Ne.ONE)==0)return!1;if(a.compareTo(e)!=0)return!1}}return!0}function DWe(){return{nextBytes:function(r){for(var e=0;e<r.length;++e)r[e]=Math.floor(Math.random()*256)}}}Ne.prototype.chunkSize=L$e;Ne.prototype.toRadix=U$e;Ne.prototype.fromRadix=z$e;Ne.prototype.fromNumber=K$e;Ne.prototype.bitwiseTo=$$e;Ne.prototype.changeBit=aWe;Ne.prototype.addTo=lWe;Ne.prototype.dMultiply=mWe;Ne.prototype.dAddOffset=xWe;Ne.prototype.multiplyLowerTo=_We;Ne.prototype.multiplyUpperTo=SWe;Ne.prototype.modInt=CWe;Ne.prototype.millerRabin=OWe;Ne.prototype.clone=N$e;Ne.prototype.intValue=P$e;Ne.prototype.byteValue=D$e;Ne.prototype.shortValue=O$e;Ne.prototype.signum=F$e;Ne.prototype.toByteArray=V$e;Ne.prototype.equals=j$e;Ne.prototype.min=H$e;Ne.prototype.max=G$e;Ne.prototype.and=Y$e;Ne.prototype.or=X$e;Ne.prototype.xor=J$e;Ne.prototype.andNot=Z$e;Ne.prototype.not=Q$e;Ne.prototype.shiftLeft=eWe;Ne.prototype.shiftRight=tWe;Ne.prototype.getLowestSetBit=iWe;Ne.prototype.bitCount=sWe;Ne.prototype.testBit=oWe;Ne.prototype.setBit=cWe;Ne.prototype.clearBit=uWe;Ne.prototype.flipBit=fWe;Ne.prototype.add=hWe;Ne.prototype.subtract=dWe;Ne.prototype.multiply=pWe;Ne.prototype.divide=bWe;Ne.prototype.remainder=yWe;Ne.prototype.divideAndRemainder=gWe;Ne.prototype.modPow=qWe;Ne.prototype.modInverse=MWe;Ne.prototype.pow=EWe;Ne.prototype.gcd=BWe;Ne.prototype.isProbablePrime=PWe});var rH=h((Xir,Zj)=>{var Xa=Et();Rf();mr();var Qj=Zj.exports=Xa.sha1=Xa.sha1||{};Xa.md.sha1=Xa.md.algorithms.sha1=Qj;Qj.create=function(){eH||LWe();var r=null,e=Xa.util.createBuffer(),t=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return i.start=function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var n=i.messageLengthSize/4,s=0;s<n;++s)i.fullMessageLength.push(0);return e=Xa.util.createBuffer(),r={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i},i.start(),i.update=function(n,s){s==="utf8"&&(n=Xa.util.encodeUtf8(n));var o=n.length;i.messageLength+=o,o=[o/4294967296>>>0,o>>>0];for(var a=i.fullMessageLength.length-1;a>=0;--a)i.fullMessageLength[a]+=o[1],o[1]=o[0]+(i.fullMessageLength[a]/4294967296>>>0),i.fullMessageLength[a]=i.fullMessageLength[a]>>>0,o[0]=o[1]/4294967296>>>0;return e.putBytes(n),tH(r,t,e),(e.read>2048||e.length()===0)&&e.compact(),i},i.digest=function(){var n=Xa.util.createBuffer();n.putBytes(e.bytes());var s=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize,o=s&i.blockLength-1;n.putBytes(gA.substr(0,i.blockLength-o));for(var a,c,u=i.fullMessageLength[0]*8,f=0;f<i.fullMessageLength.length-1;++f)a=i.fullMessageLength[f+1]*8,c=a/4294967296>>>0,u+=c,n.putInt32(u>>>0),u=a>>>0;n.putInt32(u);var l={h0:r.h0,h1:r.h1,h2:r.h2,h3:r.h3,h4:r.h4};tH(l,t,n);var d=Xa.util.createBuffer();return d.putInt32(l.h0),d.putInt32(l.h1),d.putInt32(l.h2),d.putInt32(l.h3),d.putInt32(l.h4),d},i};var gA=null,eH=!1;function LWe(){gA=String.fromCharCode(128),gA+=Xa.util.fillString(String.fromCharCode(0),64),eH=!0}function tH(r,e,t){for(var i,n,s,o,a,c,u,f,l=t.length();l>=64;){for(n=r.h0,s=r.h1,o=r.h2,a=r.h3,c=r.h4,f=0;f<16;++f)i=t.getInt32(),e[f]=i,u=a^s&(o^a),i=(n<<5|n>>>27)+u+c+1518500249+i,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=n,n=i;for(;f<20;++f)i=e[f-3]^e[f-8]^e[f-14]^e[f-16],i=i<<1|i>>>31,e[f]=i,u=a^s&(o^a),i=(n<<5|n>>>27)+u+c+1518500249+i,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=n,n=i;for(;f<32;++f)i=e[f-3]^e[f-8]^e[f-14]^e[f-16],i=i<<1|i>>>31,e[f]=i,u=s^o^a,i=(n<<5|n>>>27)+u+c+1859775393+i,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=n,n=i;for(;f<40;++f)i=e[f-6]^e[f-16]^e[f-28]^e[f-32],i=i<<2|i>>>30,e[f]=i,u=s^o^a,i=(n<<5|n>>>27)+u+c+1859775393+i,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=n,n=i;for(;f<60;++f)i=e[f-6]^e[f-16]^e[f-28]^e[f-32],i=i<<2|i>>>30,e[f]=i,u=s&o|a&(s^o),i=(n<<5|n>>>27)+u+c+2400959708+i,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=n,n=i;for(;f<80;++f)i=e[f-6]^e[f-16]^e[f-28]^e[f-32],i=i<<2|i>>>30,e[f]=i,u=s^o^a,i=(n<<5|n>>>27)+u+c+3395469782+i,c=a,a=o,o=(s<<30|s>>>2)>>>0,s=n,n=i;r.h0=r.h0+n|0,r.h1=r.h1+s|0,r.h2=r.h2+o|0,r.h3=r.h3+a|0,r.h4=r.h4+c|0,l-=64}}});var sH=h((Jir,iH)=>{var Ja=Et();mr();qf();rH();var nH=iH.exports=Ja.pkcs1=Ja.pkcs1||{};nH.encode_rsa_oaep=function(r,e,t){var i,n,s,o;typeof t=="string"?(i=t,n=arguments[3]||void 0,s=arguments[4]||void 0):t&&(i=t.label||void 0,n=t.seed||void 0,s=t.md||void 0,t.mgf1&&t.mgf1.md&&(o=t.mgf1.md)),s?s.start():s=Ja.md.sha1.create(),o||(o=s);var a=Math.ceil(r.n.bitLength()/8),c=a-2*s.digestLength-2;if(e.length>c){var u=new Error("RSAES-OAEP input message length is too long.");throw u.length=e.length,u.maxLength=c,u}i||(i=""),s.update(i,"raw");for(var f=s.digest(),l="",d=c-e.length,p=0;p<d;p++)l+="\0";var b=f.getBytes()+l+""+e;if(!n)n=Ja.random.getBytes(s.digestLength);else if(n.length!==s.digestLength){var u=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw u.seedLength=n.length,u.digestLength=s.digestLength,u}var g=Lw(n,a-s.digestLength-1,o),m=Ja.util.xorBytes(b,g,b.length),w=Lw(m,s.digestLength,o),A=Ja.util.xorBytes(n,w,n.length);return"\0"+A+m};nH.decode_rsa_oaep=function(r,e,t){var i,n,s;typeof t=="string"?(i=t,n=arguments[3]||void 0):t&&(i=t.label||void 0,n=t.md||void 0,t.mgf1&&t.mgf1.md&&(s=t.mgf1.md));var o=Math.ceil(r.n.bitLength()/8);if(e.length!==o){var m=new Error("RSAES-OAEP encoded message length is invalid.");throw m.length=e.length,m.expectedLength=o,m}if(n===void 0?n=Ja.md.sha1.create():n.start(),s||(s=n),o<2*n.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),n.update(i,"raw");for(var a=n.digest().getBytes(),c=e.charAt(0),u=e.substring(1,n.digestLength+1),f=e.substring(1+n.digestLength),l=Lw(f,n.digestLength,s),d=Ja.util.xorBytes(u,l,u.length),p=Lw(d,o-n.digestLength-1,s),b=Ja.util.xorBytes(f,p,f.length),g=b.substring(0,n.digestLength),m=c!=="\0",w=0;w<n.digestLength;++w)m|=a.charAt(w)!==g.charAt(w);for(var A=1,I=n.digestLength,F=n.digestLength;F<b.length;F++){var V=b.charCodeAt(F),P=V&1^1,W=A?65534:0;m|=V&W,A=A&P,I+=A}if(m||b.charCodeAt(I)!==1)throw new Error("Invalid RSAES-OAEP padding.");return b.substring(I+1)};function Lw(r,e,t){t||(t=Ja.md.sha1.create());for(var i="",n=Math.ceil(e/t.digestLength),s=0;s<n;++s){var o=String.fromCharCode(s>>24&255,s>>16&255,s>>8&255,s&255);t.start(),t.update(r+o),i+=t.digest().getBytes()}return i.substring(0,e)}});var oH=h((Zir,mA)=>{var Cf=Et();mr();oy();qf();(function(){if(Cf.prime){mA.exports=Cf.prime;return}var r=mA.exports=Cf.prime=Cf.prime||{},e=Cf.jsbn.BigInteger,t=[6,4,2,4,2,4,6,2],i=new e(null);i.fromInt(30);var n=function(l,d){return l|d};r.generateProbablePrime=function(l,d,p){typeof d=="function"&&(p=d,d={}),d=d||{};var b=d.algorithm||"PRIMEINC";typeof b=="string"&&(b={name:b}),b.options=b.options||{};var g=d.prng||Cf.random,m={nextBytes:function(w){for(var A=g.getBytesSync(w.length),I=0;I<w.length;++I)w[I]=A.charCodeAt(I)}};if(b.name==="PRIMEINC")return s(l,m,b.options,p);throw new Error("Invalid prime generation algorithm: "+b.name)};function s(l,d,p,b){return"workers"in p?c(l,d,p,b):o(l,d,p,b)}function o(l,d,p,b){var g=u(l,d),m=0,w=f(g.bitLength());"millerRabinTests"in p&&(w=p.millerRabinTests);var A=10;"maxBlockTime"in p&&(A=p.maxBlockTime),a(g,l,d,m,w,A,b)}function a(l,d,p,b,g,m,w){var A=+new Date;do{if(l.bitLength()>d&&(l=u(d,p)),l.isProbablePrime(g))return w(null,l);l.dAddOffset(t[b++%8],0)}while(m<0||+new Date-A<m);Cf.util.setImmediate(function(){a(l,d,p,b,g,m,w)})}function c(l,d,p,b){if(typeof Worker=="undefined")return o(l,d,p,b);var g=u(l,d),m=p.workers,w=p.workLoad||100,A=w*30/8,I=p.workerScript||"forge/prime.worker.js";if(m===-1)return Cf.util.estimateCores(function(V,P){V&&(P=2),m=P-1,F()});F();function F(){m=Math.max(1,m);for(var V=[],P=0;P<m;++P)V[P]=new Worker(I);for(var W=m,P=0;P<m;++P)V[P].addEventListener("message",Q);var ne=!1;function Q(M){if(!ne){--W;var y=M.data;if(y.found){for(var v=0;v<V.length;++v)V[v].terminate();return ne=!0,b(null,new e(y.prime,16))}g.bitLength()>l&&(g=u(l,d));var k=g.toString(16);M.target.postMessage({hex:k,workLoad:w}),g.dAddOffset(A,0)}}}}function u(l,d){var p=new e(l,d),b=l-1;return p.testBit(b)||p.bitwiseTo(e.ONE.shiftLeft(b),n,p),p.dAddOffset(31-p.mod(i).byteValue(),0),p}function f(l){return l<=100?27:l<=150?18:l<=200?15:l<=250?12:l<=300?9:l<=350?8:l<=400?7:l<=500?6:l<=600?5:l<=800?4:l<=1250?3:2}})()});var ay=h((Qir,aH)=>{var pt=Et();nu();oy();Bd();sH();oH();qf();mr();typeof Dt=="undefined"&&(Dt=pt.jsbn.BigInteger);var Dt,xA=pt.util.isNodejs?ny():null,de=pt.asn1,mo=pt.util;pt.pki=pt.pki||{};aH.exports=pt.pki.rsa=pt.rsa=pt.rsa||{};var bt=pt.pki,FWe=[6,4,2,4,2,4,6,2],UWe={name:"PrivateKeyInfo",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:de.Class.UNIVERSAL,type:de.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:de.Class.UNIVERSAL,type:de.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},zWe={name:"RSAPrivateKey",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},KWe={name:"RSAPublicKey",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:de.Class.UNIVERSAL,type:de.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},VWe=pt.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:de.Class.UNIVERSAL,type:de.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:de.Class.UNIVERSAL,type:de.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:de.Class.UNIVERSAL,type:de.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},jWe=function(r){var e;if(r.algorithm in bt.oids)e=bt.oids[r.algorithm];else{var t=new Error("Unknown message digest algorithm.");throw t.algorithm=r.algorithm,t}var i=de.oidToDer(e).getBytes(),n=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[]),s=de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[]);s.value.push(de.create(de.Class.UNIVERSAL,de.Type.OID,!1,i)),s.value.push(de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,""));var o=de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,r.digest().getBytes());return n.value.push(s),n.value.push(o),de.toDer(n).getBytes()},cH=function(r,e,t){if(t)return r.modPow(e.e,e.n);if(!e.p||!e.q)return r.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(Dt.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(Dt.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));var i;do i=new Dt(pt.util.bytesToHex(pt.random.getBytes(e.n.bitLength()/8)),16);while(i.compareTo(e.n)>=0||!i.gcd(e.n).equals(Dt.ONE));r=r.multiply(i.modPow(e.e,e.n)).mod(e.n);for(var n=r.mod(e.p).modPow(e.dP,e.p),s=r.mod(e.q).modPow(e.dQ,e.q);n.compareTo(s)<0;)n=n.add(e.p);var o=n.subtract(s).multiply(e.qInv).mod(e.p).multiply(e.q).add(s);return o=o.multiply(i.modInverse(e.n)).mod(e.n),o};bt.rsa.encrypt=function(r,e,t){var i=t,n,s=Math.ceil(e.n.bitLength()/8);t!==!1&&t!==!0?(i=t===2,n=uH(r,e,t)):(n=pt.util.createBuffer(),n.putBytes(r));for(var o=new Dt(n.toHex(),16),a=cH(o,e,i),c=a.toString(16),u=pt.util.createBuffer(),f=s-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(pt.util.hexToBytes(c)),u.getBytes()};bt.rsa.decrypt=function(r,e,t,i){var n=Math.ceil(e.n.bitLength()/8);if(r.length!==n){var s=new Error("Encrypted message length is invalid.");throw s.length=r.length,s.expected=n,s}var o=new Dt(pt.util.createBuffer(r).toHex(),16);if(o.compareTo(e.n)>=0)throw new Error("Encrypted message is invalid.");for(var a=cH(o,e,t),c=a.toString(16),u=pt.util.createBuffer(),f=n-Math.ceil(c.length/2);f>0;)u.putByte(0),--f;return u.putBytes(pt.util.hexToBytes(c)),i!==!1?Fw(u.getBytes(),e,t):u.getBytes()};bt.rsa.createKeyPairGenerationState=function(r,e,t){typeof r=="string"&&(r=parseInt(r,10)),r=r||2048,t=t||{};var i=t.prng||pt.random,n={nextBytes:function(a){for(var c=i.getBytesSync(a.length),u=0;u<a.length;++u)a[u]=c.charCodeAt(u)}},s=t.algorithm||"PRIMEINC",o;if(s==="PRIMEINC")o={algorithm:s,state:0,bits:r,rng:n,eInt:e||65537,e:new Dt(null),p:null,q:null,qBits:r>>1,pBits:r-(r>>1),pqState:0,num:null,keys:null},o.e.fromInt(o.eInt);else throw new Error("Invalid key generation algorithm: "+s);return o};bt.rsa.stepKeyPairGenerationState=function(r,e){"algorithm"in r||(r.algorithm="PRIMEINC");var t=new Dt(null);t.fromInt(30);for(var i=0,n=function(l,d){return l|d},s=+new Date,o,a=0;r.keys===null&&(e<=0||a<e);){if(r.state===0){var c=r.p===null?r.pBits:r.qBits,u=c-1;r.pqState===0?(r.num=new Dt(c,r.rng),r.num.testBit(u)||r.num.bitwiseTo(Dt.ONE.shiftLeft(u),n,r.num),r.num.dAddOffset(31-r.num.mod(t).byteValue(),0),i=0,++r.pqState):r.pqState===1?r.num.bitLength()>c?r.pqState=0:r.num.isProbablePrime(HWe(r.num.bitLength()))?++r.pqState:r.num.dAddOffset(FWe[i++%8],0):r.pqState===2?r.pqState=r.num.subtract(Dt.ONE).gcd(r.e).compareTo(Dt.ONE)===0?3:0:r.pqState===3&&(r.pqState=0,r.p===null?r.p=r.num:r.q=r.num,r.p!==null&&r.q!==null&&++r.state,r.num=null)}else if(r.state===1)r.p.compareTo(r.q)<0&&(r.num=r.p,r.p=r.q,r.q=r.num),++r.state;else if(r.state===2)r.p1=r.p.subtract(Dt.ONE),r.q1=r.q.subtract(Dt.ONE),r.phi=r.p1.multiply(r.q1),++r.state;else if(r.state===3)r.phi.gcd(r.e).compareTo(Dt.ONE)===0?++r.state:(r.p=null,r.q=null,r.state=0);else if(r.state===4)r.n=r.p.multiply(r.q),r.n.bitLength()===r.bits?++r.state:(r.q=null,r.state=0);else if(r.state===5){var f=r.e.modInverse(r.phi);r.keys={privateKey:bt.rsa.setPrivateKey(r.n,r.e,f,r.p,r.q,f.mod(r.p1),f.mod(r.q1),r.q.modInverse(r.p)),publicKey:bt.rsa.setPublicKey(r.n,r.e)}}o=+new Date,a+=o-s,s=o}return r.keys!==null};bt.rsa.generateKeyPair=function(r,e,t,i){if(arguments.length===1?typeof r=="object"?(t=r,r=void 0):typeof r=="function"&&(i=r,r=void 0):arguments.length===2?typeof r=="number"?typeof e=="function"?(i=e,e=void 0):typeof e!="number"&&(t=e,e=void 0):(t=r,i=e,r=void 0,e=void 0):arguments.length===3&&(typeof e=="number"?typeof t=="function"&&(i=t,t=void 0):(i=t,t=e,e=void 0)),t=t||{},r===void 0&&(r=t.bits||2048),e===void 0&&(e=t.e||65537),!pt.options.usePureJavaScript&&!t.prng&&r>=256&&r<=16384&&(e===65537||e===3)){if(i){if(fH("generateKeyPair"))return xA.generateKeyPair("rsa",{modulusLength:r,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(a,c,u){if(a)return i(a);i(null,{privateKey:bt.privateKeyFromPem(u),publicKey:bt.publicKeyFromPem(c)})});if(lH("generateKey")&&lH("exportKey"))return mo.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:r,publicExponent:dH(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(a){return mo.globalScope.crypto.subtle.exportKey("pkcs8",a.privateKey)}).then(void 0,function(a){i(a)}).then(function(a){if(a){var c=bt.privateKeyFromAsn1(de.fromDer(pt.util.createBuffer(a)));i(null,{privateKey:c,publicKey:bt.setRsaPublicKey(c.n,c.e)})}});if(hH("generateKey")&&hH("exportKey")){var n=mo.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:r,publicExponent:dH(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);n.oncomplete=function(a){var c=a.target.result,u=mo.globalScope.msCrypto.subtle.exportKey("pkcs8",c.privateKey);u.oncomplete=function(f){var l=f.target.result,d=bt.privateKeyFromAsn1(de.fromDer(pt.util.createBuffer(l)));i(null,{privateKey:d,publicKey:bt.setRsaPublicKey(d.n,d.e)})},u.onerror=function(f){i(f)}},n.onerror=function(a){i(a)};return}}else if(fH("generateKeyPairSync")){var s=xA.generateKeyPairSync("rsa",{modulusLength:r,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:bt.privateKeyFromPem(s.privateKey),publicKey:bt.publicKeyFromPem(s.publicKey)}}}var o=bt.rsa.createKeyPairGenerationState(r,e,t);if(!i)return bt.rsa.stepKeyPairGenerationState(o,0),o.keys;GWe(o,t,i)};bt.setRsaPublicKey=bt.rsa.setPublicKey=function(r,e){var t={n:r,e};return t.encrypt=function(i,n,s){if(typeof n=="string"?n=n.toUpperCase():n===void 0&&(n="RSAES-PKCS1-V1_5"),n==="RSAES-PKCS1-V1_5")n={encode:function(a,c,u){return uH(a,c,2).getBytes()}};else if(n==="RSA-OAEP"||n==="RSAES-OAEP")n={encode:function(a,c){return pt.pkcs1.encode_rsa_oaep(c,a,s)}};else if(["RAW","NONE","NULL",null].indexOf(n)!==-1)n={encode:function(a){return a}};else if(typeof n=="string")throw new Error('Unsupported encryption scheme: "'+n+'".');var o=n.encode(i,t,!0);return bt.rsa.encrypt(o,t,!0)},t.verify=function(i,n,s){typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSASSA-PKCS1-V1_5"),s==="RSASSA-PKCS1-V1_5"?s={verify:function(a,c){c=Fw(c,t,!0);var u=de.fromDer(c);return a===u.value[1].value}}:(s==="NONE"||s==="NULL"||s===null)&&(s={verify:function(a,c){return c=Fw(c,t,!0),a===c}});var o=bt.rsa.decrypt(n,t,!0,!1);return s.verify(i,o,t.n.bitLength())},t};bt.setRsaPrivateKey=bt.rsa.setPrivateKey=function(r,e,t,i,n,s,o,a){var c={n:r,e,d:t,p:i,q:n,dP:s,dQ:o,qInv:a};return c.decrypt=function(u,f,l){typeof f=="string"?f=f.toUpperCase():f===void 0&&(f="RSAES-PKCS1-V1_5");var d=bt.rsa.decrypt(u,c,!1,!1);if(f==="RSAES-PKCS1-V1_5")f={decode:Fw};else if(f==="RSA-OAEP"||f==="RSAES-OAEP")f={decode:function(p,b){return pt.pkcs1.decode_rsa_oaep(b,p,l)}};else if(["RAW","NONE","NULL",null].indexOf(f)!==-1)f={decode:function(p){return p}};else throw new Error('Unsupported encryption scheme: "'+f+'".');return f.decode(d,c,!1)},c.sign=function(u,f){var l=!1;typeof f=="string"&&(f=f.toUpperCase()),f===void 0||f==="RSASSA-PKCS1-V1_5"?(f={encode:jWe},l=1):(f==="NONE"||f==="NULL"||f===null)&&(f={encode:function(){return u}},l=1);var d=f.encode(u,c.n.bitLength());return bt.rsa.encrypt(d,c,l)},c};bt.wrapRsaPrivateKey=function(r){return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(0).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(bt.oids.rsaEncryption).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")]),de.create(de.Class.UNIVERSAL,de.Type.OCTETSTRING,!1,de.toDer(r).getBytes())])};bt.privateKeyFromAsn1=function(r){var e={},t=[];if(de.validate(r,UWe,e,t)&&(r=de.fromDer(pt.util.createBuffer(e.privateKey))),e={},t=[],!de.validate(r,zWe,e,t)){var i=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw i.errors=t,i}var n,s,o,a,c,u,f,l;return n=pt.util.createBuffer(e.privateKeyModulus).toHex(),s=pt.util.createBuffer(e.privateKeyPublicExponent).toHex(),o=pt.util.createBuffer(e.privateKeyPrivateExponent).toHex(),a=pt.util.createBuffer(e.privateKeyPrime1).toHex(),c=pt.util.createBuffer(e.privateKeyPrime2).toHex(),u=pt.util.createBuffer(e.privateKeyExponent1).toHex(),f=pt.util.createBuffer(e.privateKeyExponent2).toHex(),l=pt.util.createBuffer(e.privateKeyCoefficient).toHex(),bt.setRsaPrivateKey(new Dt(n,16),new Dt(s,16),new Dt(o,16),new Dt(a,16),new Dt(c,16),new Dt(u,16),new Dt(f,16),new Dt(l,16))};bt.privateKeyToAsn1=bt.privateKeyToRSAPrivateKey=function(r){return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,de.integerToDer(0).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Za(r.n)),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Za(r.e)),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Za(r.d)),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Za(r.p)),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Za(r.q)),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Za(r.dP)),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Za(r.dQ)),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Za(r.qInv))])};bt.publicKeyFromAsn1=function(r){var e={},t=[];if(de.validate(r,VWe,e,t)){var i=de.derToOid(e.publicKeyOid);if(i!==bt.oids.rsaEncryption){var n=new Error("Cannot read public key. Unknown OID.");throw n.oid=i,n}r=e.rsaPublicKey}if(t=[],!de.validate(r,KWe,e,t)){var n=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw n.errors=t,n}var s=pt.util.createBuffer(e.publicKeyModulus).toHex(),o=pt.util.createBuffer(e.publicKeyExponent).toHex();return bt.setRsaPublicKey(new Dt(s,16),new Dt(o,16))};bt.publicKeyToAsn1=bt.publicKeyToSubjectPublicKeyInfo=function(r){return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.OID,!1,de.oidToDer(bt.oids.rsaEncryption).getBytes()),de.create(de.Class.UNIVERSAL,de.Type.NULL,!1,"")]),de.create(de.Class.UNIVERSAL,de.Type.BITSTRING,!1,[bt.publicKeyToRSAPublicKey(r)])])};bt.publicKeyToRSAPublicKey=function(r){return de.create(de.Class.UNIVERSAL,de.Type.SEQUENCE,!0,[de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Za(r.n)),de.create(de.Class.UNIVERSAL,de.Type.INTEGER,!1,Za(r.e))])};function uH(r,e,t){var i=pt.util.createBuffer(),n=Math.ceil(e.n.bitLength()/8);if(r.length>n-11){var s=new Error("Message is too long for PKCS#1 v1.5 padding.");throw s.length=r.length,s.max=n-11,s}i.putByte(0),i.putByte(t);var o=n-3-r.length,a;if(t===0||t===1){a=t===0?0:255;for(var c=0;c<o;++c)i.putByte(a)}else for(;o>0;){for(var u=0,f=pt.random.getBytes(o),c=0;c<o;++c)a=f.charCodeAt(c),a===0?++u:i.putByte(a);o=u}return i.putByte(0),i.putBytes(r),i}function Fw(r,e,t,i){var n=Math.ceil(e.n.bitLength()/8),s=pt.util.createBuffer(r),o=s.getByte(),a=s.getByte();if(o!==0||t&&a!==0&&a!==1||!t&&a!=2||t&&a===0&&typeof i=="undefined")throw new Error("Encryption block is invalid.");var c=0;if(a===0){c=n-3-i;for(var u=0;u<c;++u)if(s.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(a===1)for(c=0;s.length()>1;){if(s.getByte()!==255){--s.read;break}++c}else if(a===2)for(c=0;s.length()>1;){if(s.getByte()===0){--s.read;break}++c}var f=s.getByte();if(f!==0||c!==n-3-s.length())throw new Error("Encryption block is invalid.");return s.getBytes()}function GWe(r,e,t){typeof e=="function"&&(t=e,e={}),e=e||{};var i={algorithm:{name:e.algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(i.prng=e.prng),n();function n(){s(r.pBits,function(a,c){if(a)return t(a);if(r.p=c,r.q!==null)return o(a,r.q);s(r.qBits,o)})}function s(a,c){pt.prime.generateProbablePrime(a,i,c)}function o(a,c){if(a)return t(a);if(r.q=c,r.p.compareTo(r.q)<0){var u=r.p;r.p=r.q,r.q=u}if(r.p.subtract(Dt.ONE).gcd(r.e).compareTo(Dt.ONE)!==0){r.p=null,n();return}if(r.q.subtract(Dt.ONE).gcd(r.e).compareTo(Dt.ONE)!==0){r.q=null,s(r.qBits,o);return}if(r.p1=r.p.subtract(Dt.ONE),r.q1=r.q.subtract(Dt.ONE),r.phi=r.p1.multiply(r.q1),r.phi.gcd(r.e).compareTo(Dt.ONE)!==0){r.p=r.q=null,n();return}if(r.n=r.p.multiply(r.q),r.n.bitLength()!==r.bits){r.q=null,s(r.qBits,o);return}var f=r.e.modInverse(r.phi);r.keys={privateKey:bt.rsa.setPrivateKey(r.n,r.e,f,r.p,r.q,f.mod(r.p1),f.mod(r.q1),r.q.modInverse(r.p)),publicKey:bt.rsa.setPublicKey(r.n,r.e)},t(null,r.keys)}}function Za(r){var e=r.toString(16);e[0]>="8"&&(e="00"+e);var t=pt.util.hexToBytes(e);return t.length>1&&(t.charCodeAt(0)===0&&(t.charCodeAt(1)&128)==0||t.charCodeAt(0)===255&&(t.charCodeAt(1)&128)==128)?t.substr(1):t}function HWe(r){return r<=100?27:r<=150?18:r<=200?15:r<=250?12:r<=300?9:r<=350?8:r<=400?7:r<=500?6:r<=600?5:r<=800?4:r<=1250?3:2}function fH(r){return pt.util.isNodejs&&typeof xA[r]=="function"}function lH(r){return typeof mo.globalScope!="undefined"&&typeof mo.globalScope.crypto=="object"&&typeof mo.globalScope.crypto.subtle=="object"&&typeof mo.globalScope.crypto.subtle[r]=="function"}function hH(r){return typeof mo.globalScope!="undefined"&&typeof mo.globalScope.msCrypto=="object"&&typeof mo.globalScope.msCrypto.subtle=="object"&&typeof mo.globalScope.msCrypto.subtle[r]=="function"}function dH(r){for(var e=pt.util.hexToBytes(r.toString(16)),t=new Uint8Array(e.length),i=0;i<e.length;++i)t[i]=e.charCodeAt(i);return t}});var wA=h((enr,pH)=>{var Xe=Et();Nd();nu();qw();Rf();Bd();fA();Nw();qf();Vj();ay();mr();typeof bH=="undefined"&&(bH=Xe.jsbn.BigInteger);var bH,we=Xe.asn1,wt=Xe.pki=Xe.pki||{};pH.exports=wt.pbe=Xe.pbe=Xe.pbe||{};var nl=wt.oids,$We={name:"EncryptedPrivateKeyInfo",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:we.Class.UNIVERSAL,type:we.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},WWe={name:"PBES2Algorithms",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:we.Class.UNIVERSAL,type:we.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:we.Class.UNIVERSAL,type:we.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:we.Class.UNIVERSAL,type:we.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:we.Class.UNIVERSAL,type:we.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:we.Class.UNIVERSAL,type:we.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},YWe={name:"pkcs-12PbeParams",tagClass:we.Class.UNIVERSAL,type:we.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:we.Class.UNIVERSAL,type:we.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:we.Class.UNIVERSAL,type:we.Type.INTEGER,constructed:!1,capture:"iterations"}]};wt.encryptPrivateKeyInfo=function(r,e,t){t=t||{},t.saltSize=t.saltSize||8,t.count=t.count||2048,t.algorithm=t.algorithm||"aes128",t.prfAlgorithm=t.prfAlgorithm||"sha1";var i=Xe.random.getBytesSync(t.saltSize),n=t.count,s=we.integerToDer(n),o,a,c;if(t.algorithm.indexOf("aes")===0||t.algorithm==="des"){var u,f,l;switch(t.algorithm){case"aes128":o=16,u=16,f=nl["aes128-CBC"],l=Xe.aes.createEncryptionCipher;break;case"aes192":o=24,u=16,f=nl["aes192-CBC"],l=Xe.aes.createEncryptionCipher;break;case"aes256":o=32,u=16,f=nl["aes256-CBC"],l=Xe.aes.createEncryptionCipher;break;case"des":o=8,u=8,f=nl.desCBC,l=Xe.des.createEncryptionCipher;break;default:var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=t.algorithm,d}var p="hmacWith"+t.prfAlgorithm.toUpperCase(),b=yH(p),g=Xe.pkcs5.pbkdf2(e,i,n,o,b),m=Xe.random.getBytesSync(u),w=l(g);w.start(m),w.update(we.toDer(r)),w.finish(),c=w.output.getBytes();var A=XWe(i,s,o,p);a=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(nl.pkcs5PBES2).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(nl.pkcs5PBKDF2).getBytes()),A]),we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(f).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,m)])])])}else if(t.algorithm==="3des"){o=24;var I=new Xe.util.ByteBuffer(i),g=wt.pbe.generatePkcs12Key(e,I,1,n,o),m=wt.pbe.generatePkcs12Key(e,I,2,n,o),w=Xe.des.createEncryptionCipher(g);w.start(m),w.update(we.toDer(r)),w.finish(),c=w.output.getBytes(),a=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(nl["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,i),we.create(we.Class.UNIVERSAL,we.Type.INTEGER,!1,s.getBytes())])])}else{var d=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw d.algorithm=t.algorithm,d}var F=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[a,we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,c)]);return F};wt.decryptPrivateKeyInfo=function(r,e){var t=null,i={},n=[];if(!we.validate(r,$We,i,n)){var s=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=n,s}var o=we.derToOid(i.encryptionOid),a=wt.pbe.getCipher(o,i.encryptionParams,e),c=Xe.util.createBuffer(i.encryptedData);return a.update(c),a.finish()&&(t=we.fromDer(a.output)),t};wt.encryptedPrivateKeyToPem=function(r,e){var t={type:"ENCRYPTED PRIVATE KEY",body:we.toDer(r).getBytes()};return Xe.pem.encode(t,{maxline:e})};wt.encryptedPrivateKeyFromPem=function(r){var e=Xe.pem.decode(r)[0];if(e.type!=="ENCRYPTED PRIVATE KEY"){var t=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw t.headerType=e.type,t}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return we.fromDer(e.body)};wt.encryptRsaPrivateKey=function(r,e,t){if(t=t||{},!t.legacy){var i=wt.wrapRsaPrivateKey(wt.privateKeyToAsn1(r));return i=wt.encryptPrivateKeyInfo(i,e,t),wt.encryptedPrivateKeyToPem(i)}var n,s,o,a;switch(t.algorithm){case"aes128":n="AES-128-CBC",o=16,s=Xe.random.getBytesSync(16),a=Xe.aes.createEncryptionCipher;break;case"aes192":n="AES-192-CBC",o=24,s=Xe.random.getBytesSync(16),a=Xe.aes.createEncryptionCipher;break;case"aes256":n="AES-256-CBC",o=32,s=Xe.random.getBytesSync(16),a=Xe.aes.createEncryptionCipher;break;case"3des":n="DES-EDE3-CBC",o=24,s=Xe.random.getBytesSync(8),a=Xe.des.createEncryptionCipher;break;case"des":n="DES-CBC",o=8,s=Xe.random.getBytesSync(8),a=Xe.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+t.algorithm+'".');throw c.algorithm=t.algorithm,c}var u=Xe.pbe.opensslDeriveBytes(e,s.substr(0,8),o),f=a(u);f.start(s),f.update(we.toDer(wt.privateKeyToAsn1(r))),f.finish();var l={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:n,parameters:Xe.util.bytesToHex(s).toUpperCase()},body:f.output.getBytes()};return Xe.pem.encode(l)};wt.decryptRsaPrivateKey=function(r,e){var t=null,i=Xe.pem.decode(r)[0];if(i.type!=="ENCRYPTED PRIVATE KEY"&&i.type!=="PRIVATE KEY"&&i.type!=="RSA PRIVATE KEY"){var n=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw n.headerType=n,n}if(i.procType&&i.procType.type==="ENCRYPTED"){var s,o;switch(i.dekInfo.algorithm){case"DES-CBC":s=8,o=Xe.des.createDecryptionCipher;break;case"DES-EDE3-CBC":s=24,o=Xe.des.createDecryptionCipher;break;case"AES-128-CBC":s=16,o=Xe.aes.createDecryptionCipher;break;case"AES-192-CBC":s=24,o=Xe.aes.createDecryptionCipher;break;case"AES-256-CBC":s=32,o=Xe.aes.createDecryptionCipher;break;case"RC2-40-CBC":s=5,o=function(l){return Xe.rc2.createDecryptionCipher(l,40)};break;case"RC2-64-CBC":s=8,o=function(l){return Xe.rc2.createDecryptionCipher(l,64)};break;case"RC2-128-CBC":s=16,o=function(l){return Xe.rc2.createDecryptionCipher(l,128)};break;default:var n=new Error('Could not decrypt private key; unsupported encryption algorithm "'+i.dekInfo.algorithm+'".');throw n.algorithm=i.dekInfo.algorithm,n}var a=Xe.util.hexToBytes(i.dekInfo.parameters),c=Xe.pbe.opensslDeriveBytes(e,a.substr(0,8),s),u=o(c);if(u.start(a),u.update(Xe.util.createBuffer(i.body)),u.finish())t=u.output.getBytes();else return t}else t=i.body;return i.type==="ENCRYPTED PRIVATE KEY"?t=wt.decryptPrivateKeyInfo(we.fromDer(t),e):t=we.fromDer(t),t!==null&&(t=wt.privateKeyFromAsn1(t)),t};wt.pbe.generatePkcs12Key=function(r,e,t,i,n,s){var o,a;if(typeof s=="undefined"||s===null){if(!("sha1"in Xe.md))throw new Error('"sha1" hash algorithm unavailable.');s=Xe.md.sha1.create()}var c=s.digestLength,u=s.blockLength,f=new Xe.util.ByteBuffer,l=new Xe.util.ByteBuffer;if(r!=null){for(a=0;a<r.length;a++)l.putInt16(r.charCodeAt(a));l.putInt16(0)}var d=l.length(),p=e.length(),b=new Xe.util.ByteBuffer;b.fillWithByte(t,u);var g=u*Math.ceil(p/u),m=new Xe.util.ByteBuffer;for(a=0;a<g;a++)m.putByte(e.at(a%p));var w=u*Math.ceil(d/u),A=new Xe.util.ByteBuffer;for(a=0;a<w;a++)A.putByte(l.at(a%d));var I=m;I.putBuffer(A);for(var F=Math.ceil(n/c),V=1;V<=F;V++){var P=new Xe.util.ByteBuffer;P.putBytes(b.bytes()),P.putBytes(I.bytes());for(var W=0;W<i;W++)s.start(),s.update(P.getBytes()),P=s.digest();var ne=new Xe.util.ByteBuffer;for(a=0;a<u;a++)ne.putByte(P.at(a%c));var Q=Math.ceil(p/u)+Math.ceil(d/u),M=new Xe.util.ByteBuffer;for(o=0;o<Q;o++){var y=new Xe.util.ByteBuffer(I.getBytes(u)),v=511;for(a=ne.length()-1;a>=0;a--)v=v>>8,v+=ne.at(a)+y.at(a),y.setAt(a,v&255);M.putBuffer(y)}I=M,f.putBuffer(P)}return f.truncate(f.length()-n),f};wt.pbe.getCipher=function(r,e,t){switch(r){case wt.oids.pkcs5PBES2:return wt.pbe.getCipherForPBES2(r,e,t);case wt.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case wt.oids["pbewithSHAAnd40BitRC2-CBC"]:return wt.pbe.getCipherForPKCS12PBE(r,e,t);default:var i=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw i.oid=r,i.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],i}};wt.pbe.getCipherForPBES2=function(r,e,t){var i={},n=[];if(!we.validate(e,WWe,i,n)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=n,s}if(r=we.derToOid(i.kdfOid),r!==wt.oids.pkcs5PBKDF2){var s=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw s.oid=r,s.supportedOids=["pkcs5PBKDF2"],s}if(r=we.derToOid(i.encOid),r!==wt.oids["aes128-CBC"]&&r!==wt.oids["aes192-CBC"]&&r!==wt.oids["aes256-CBC"]&&r!==wt.oids["des-EDE3-CBC"]&&r!==wt.oids.desCBC){var s=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw s.oid=r,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s}var o=i.kdfSalt,a=Xe.util.createBuffer(i.kdfIterationCount);a=a.getInt(a.length()<<3);var c,u;switch(wt.oids[r]){case"aes128-CBC":c=16,u=Xe.aes.createDecryptionCipher;break;case"aes192-CBC":c=24,u=Xe.aes.createDecryptionCipher;break;case"aes256-CBC":c=32,u=Xe.aes.createDecryptionCipher;break;case"des-EDE3-CBC":c=24,u=Xe.des.createDecryptionCipher;break;case"desCBC":c=8,u=Xe.des.createDecryptionCipher;break}var f=gH(i.prfOid),l=Xe.pkcs5.pbkdf2(t,o,a,c,f),d=i.encIv,p=u(l);return p.start(d),p};wt.pbe.getCipherForPKCS12PBE=function(r,e,t){var i={},n=[];if(!we.validate(e,YWe,i,n)){var s=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=n,s}var o=Xe.util.createBuffer(i.salt),a=Xe.util.createBuffer(i.iterations);a=a.getInt(a.length()<<3);var c,u,f;switch(r){case wt.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:c=24,u=8,f=Xe.des.startDecrypting;break;case wt.oids["pbewithSHAAnd40BitRC2-CBC"]:c=5,u=8,f=function(g,m){var w=Xe.rc2.createDecryptionCipher(g,40);return w.start(m,null),w};break;default:var s=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw s.oid=r,s}var l=gH(i.prfOid),d=wt.pbe.generatePkcs12Key(t,o,1,a,c,l);l.start();var p=wt.pbe.generatePkcs12Key(t,o,2,a,u,l);return f(d,p)};wt.pbe.opensslDeriveBytes=function(r,e,t,i){if(typeof i=="undefined"||i===null){if(!("md5"in Xe.md))throw new Error('"md5" hash algorithm unavailable.');i=Xe.md.md5.create()}e===null&&(e="");for(var n=[mH(i,r+e)],s=16,o=1;s<t;++o,s+=16)n.push(mH(i,n[o-1]+r+e));return n.join("").substr(0,t)};function mH(r,e){return r.start().update(e).digest().getBytes()}function gH(r){var e;if(!r)e="hmacWithSHA1";else if(e=wt.oids[we.derToOid(r)],!e){var t=new Error("Unsupported PRF OID.");throw t.oid=r,t.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],t}return yH(e)}function yH(r){var e=Xe.md;switch(r){case"hmacWithSHA224":e=Xe.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":r=r.substr(8).toLowerCase();break;default:var t=new Error("Unsupported PRF algorithm.");throw t.algorithm=r,t.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],t}if(!e||!(r in e))throw new Error("Unknown hash algorithm: "+r);return e[r].create()}function XWe(r,e,t,i){var n=we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OCTETSTRING,!1,r),we.create(we.Class.UNIVERSAL,we.Type.INTEGER,!1,e.getBytes())]);return i!=="hmacWithSHA1"&&n.value.push(we.create(we.Class.UNIVERSAL,we.Type.INTEGER,!1,Xe.util.hexToBytes(t.toString(16))),we.create(we.Class.UNIVERSAL,we.Type.SEQUENCE,!0,[we.create(we.Class.UNIVERSAL,we.Type.OID,!1,we.oidToDer(wt.oids[i]).getBytes()),we.create(we.Class.UNIVERSAL,we.Type.NULL,!1,"")])),n}});var qe=h((tnr,xH)=>{"use strict";function wH(r,e){for(let t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function JWe(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=void 0),e!=null&&(t.code=e);try{return wH(r,t)}catch(i){t.message=r.message,t.stack=r.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(r)),wH(new n,t)}}xH.exports=JWe});var Uw=h((rnr,vH)=>{"use strict";var{TextEncoder:ZWe,TextDecoder:QWe}=ct(),eYe=new QWe,tYe=r=>eYe.decode(r),rYe=new ZWe,iYe=r=>rYe.encode(r);function nYe(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}vH.exports={decodeText:tYe,encodeText:iYe,concat:nYe}});var SH=h((inr,EH)=>{"use strict";var{encodeText:sYe}=Uw(),_H=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=sYe(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};EH.exports=_H});var AH=h((nnr,kH)=>{"use strict";var oYe=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},aYe=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},cYe=r=>e=>({encode(t){return aYe(t,e,r)},decode(t){return oYe(t,e,r)}});kH.exports={rfc4648:cYe}});var zw=h((snr,IH)=>{"use strict";var cy=ri(),uYe=SH(),{rfc4648:on}=AH(),{decodeText:fYe,encodeText:lYe}=Uw(),hYe=()=>({encode:fYe,decode:lYe}),TH=[["identity","\0",hYe,""],["base2","0",on(1),"01"],["base8","7",on(3),"01234567"],["base10","9",cy,"0123456789"],["base16","f",on(4),"0123456789abcdef"],["base16upper","F",on(4),"0123456789ABCDEF"],["base32hex","v",on(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",on(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",on(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",on(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",on(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",on(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",on(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",on(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",on(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",cy,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",cy,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",cy,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",cy,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",on(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",on(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",on(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",on(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],RH=TH.reduce((r,e)=>(r[e[0]]=new uYe(e[0],e[1],e[2],e[3]),r),{}),dYe=TH.reduce((r,e)=>(r[e[1]]=RH[e[0]],r),{});IH.exports={names:RH,codes:dYe}});var Mf=h((onr,qH)=>{"use strict";var{names:pYe}=zw(),{TextEncoder:bYe}=ct(),yYe=new bYe;function gYe(r){let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function mYe(r,e="utf8"){if(e==="utf8"||e==="utf-8")return yYe.encode(r);if(e==="ascii")return gYe(r);let t=pYe[e];if(!t)throw new Error("Unknown base");return t.decode(r)}qH.exports=mYe});var Vw=h((cu,BH)=>{"use strict";var Od=zw(),{encodeText:xYe,decodeText:Kw,concat:CH}=Uw();function vYe(r,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:t,codeBuf:i}=sl(r);return wYe(t,e),CH([i,e],i.length+e.length)}function EYe(r,e){let t=sl(r),i=xYe(t.encode(e));return CH([t.codeBuf,i],t.codeBuf.length+i.length)}function _Ye(r){r instanceof Uint8Array&&(r=Kw(r));let e=r[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(r=r.toLowerCase()),sl(r[0]).decode(r.substring(1))}function SYe(r){if(r instanceof Uint8Array&&(r=Kw(r)),Object.prototype.toString.call(r)!=="[object String]")return!1;try{return sl(r[0]).name}catch(e){return!1}}function wYe(r,e){sl(r).decode(Kw(e))}function sl(r){if(Object.prototype.hasOwnProperty.call(Od.names,r))return Od.names[r];if(Object.prototype.hasOwnProperty.call(Od.codes,r))return Od.codes[r];throw new Error(`Unsupported encoding: ${r}`)}function kYe(r){return r instanceof Uint8Array&&(r=Kw(r)),sl(r[0])}cu=BH.exports=vYe;cu.encode=EYe;cu.decode=_Ye;cu.isEncoded=SYe;cu.encoding=sl;cu.encodingFromData=kYe;cu.names=Object.freeze(Od.names);cu.codes=Object.freeze(Od.codes)});var uy=h((anr,MH)=>{"use strict";function AYe(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}MH.exports=AYe});var fy=h(NH=>{"use strict";NH.get=(r=self)=>{let e=r.crypto||r.msCrypto;if(!e||!e.subtle)throw Object.assign(new Error("Missing Web Crypto API. The most likely cause of this error is that this page is being accessed from an insecure context (i.e. not HTTPS). For more information and possible resolutions see https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api"),{code:"ERR_MISSING_WEB_CRYPTO"});return e}});var vA=h((unr,PH)=>{"use strict";var IYe=uy(),DH=Mf(),TYe=fy();function RYe({algorithm:r="AES-GCM",nonceLength:e=12,keyLength:t=16,digest:i="SHA-256",saltLength:n=16,iterations:s=32767}={}){let o=TYe.get();t*=8;async function a(u,f){let l=o.getRandomValues(new Uint8Array(n)),d=o.getRandomValues(new Uint8Array(e)),p={name:r,iv:d},b={name:"PBKDF2",salt:l,iterations:s,hash:{name:i}},g=await o.subtle.importKey("raw",DH(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),m=await o.subtle.deriveKey(b,g,{name:r,length:t},!0,["encrypt"]),w=await o.subtle.encrypt(p,m,u);return IYe([l,p.iv,new Uint8Array(w)])}async function c(u,f){let l=u.slice(0,n),d=u.slice(n,n+e),p=u.slice(n+e),b={name:r,iv:d},g={name:"PBKDF2",salt:l,iterations:s,hash:{name:i}},m=await o.subtle.importKey("raw",DH(f),{name:"PBKDF2"},!1,["deriveKey","deriveBits"]),w=await o.subtle.deriveKey(g,m,{name:r,length:t},!0,["decrypt"]),A=await o.subtle.decrypt(b,w,p);return new Uint8Array(A)}return{encrypt:a,decrypt:c}}PH.exports={create:RYe}});var LH=h((fnr,OH)=>{"use strict";var qYe=Vw(),BYe=vA();OH.exports={import:async function(r,e){let i=qYe.names.base64.decode(r);return await BYe.create().decrypt(i,e)}}});var Fd=h((lnr,FH)=>{"use strict";var CYe=V2(),Ld=self.crypto||self.msCrypto,EA=async(r,e)=>{if(typeof self=="undefined"||!Ld)throw new Error("Please use a browser with webcrypto support and ensure the code has been delivered securely via HTTPS/TLS and run within a Secure Context");switch(e){case"sha1":return new Uint8Array(await Ld.subtle.digest({name:"SHA-1"},r));case"sha2-256":return new Uint8Array(await Ld.subtle.digest({name:"SHA-256"},r));case"sha2-512":return new Uint8Array(await Ld.subtle.digest({name:"SHA-512"},r));case"dbl-sha2-256":{let t=await Ld.subtle.digest({name:"SHA-256"},r);return new Uint8Array(await Ld.subtle.digest({name:"SHA-256"},t))}default:throw new Error(`${e} is not a supported algorithm`)}};FH.exports={factory:r=>async e=>EA(e,r),digest:EA,multihashing:async(r,e,t)=>{let i=await EA(r,e);return CYe.encode(i,e,t)}}});var ly=h((hnr,UH)=>{"use strict";function MYe(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}UH.exports=MYe});var Nf=h((dnr,zH)=>{"use strict";var{names:NYe}=zw(),{TextDecoder:PYe}=ct(),DYe=new PYe("utf8");function OYe(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function LYe(r,e="utf8"){if(e==="utf8"||e==="utf-8")return DYe.decode(r);if(e==="ascii")return OYe(r);let t=NYe[e];if(!t)throw new Error("Unknown base");return t.encode(r)}zH.exports=LYe});var jw=h((pnr,KH)=>{var Mr=Et();Rf();mr();var hy=KH.exports=Mr.sha512=Mr.sha512||{};Mr.md.sha512=Mr.md.algorithms.sha512=hy;var VH=Mr.sha384=Mr.sha512.sha384=Mr.sha512.sha384||{};VH.create=function(){return hy.create("SHA-384")};Mr.md.sha384=Mr.md.algorithms.sha384=VH;Mr.sha512.sha256=Mr.sha512.sha256||{create:function(){return hy.create("SHA-512/256")}};Mr.md["sha512/256"]=Mr.md.algorithms["sha512/256"]=Mr.sha512.sha256;Mr.sha512.sha224=Mr.sha512.sha224||{create:function(){return hy.create("SHA-512/224")}};Mr.md["sha512/224"]=Mr.md.algorithms["sha512/224"]=Mr.sha512.sha224;hy.create=function(r){if(jH||FYe(),typeof r=="undefined"&&(r="SHA-512"),!(r in ol))throw new Error("Invalid SHA-512 algorithm: "+r);for(var e=ol[r],t=null,i=Mr.util.createBuffer(),n=new Array(80),s=0;s<80;++s)n[s]=new Array(2);var o=64;switch(r){case"SHA-384":o=48;break;case"SHA-512/256":o=32;break;case"SHA-512/224":o=28;break}var a={algorithm:r.replace("-","").toLowerCase(),blockLength:128,digestLength:o,messageLength:0,fullMessageLength:null,messageLengthSize:16};return a.start=function(){a.messageLength=0,a.fullMessageLength=a.messageLength128=[];for(var c=a.messageLengthSize/4,u=0;u<c;++u)a.fullMessageLength.push(0);i=Mr.util.createBuffer(),t=new Array(e.length);for(var u=0;u<e.length;++u)t[u]=e[u].slice(0);return a},a.start(),a.update=function(c,u){u==="utf8"&&(c=Mr.util.encodeUtf8(c));var f=c.length;a.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var l=a.fullMessageLength.length-1;l>=0;--l)a.fullMessageLength[l]+=f[1],f[1]=f[0]+(a.fullMessageLength[l]/4294967296>>>0),a.fullMessageLength[l]=a.fullMessageLength[l]>>>0,f[0]=f[1]/4294967296>>>0;return i.putBytes(c),HH(t,n,i),(i.read>2048||i.length()===0)&&i.compact(),a},a.digest=function(){var c=Mr.util.createBuffer();c.putBytes(i.bytes());var u=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize,f=u&a.blockLength-1;c.putBytes(_A.substr(0,a.blockLength-f));for(var l,d,p=a.fullMessageLength[0]*8,b=0;b<a.fullMessageLength.length-1;++b)l=a.fullMessageLength[b+1]*8,d=l/4294967296>>>0,p+=d,c.putInt32(p>>>0),p=l>>>0;c.putInt32(p);for(var g=new Array(t.length),b=0;b<t.length;++b)g[b]=t[b].slice(0);HH(g,n,c);var m=Mr.util.createBuffer(),w;r==="SHA-512"?w=g.length:r==="SHA-384"?w=g.length-2:w=g.length-4;for(var b=0;b<w;++b)m.putInt32(g[b][0]),(b!==w-1||r!=="SHA-512/224")&&m.putInt32(g[b][1]);return m},a};var _A=null,jH=!1,SA=null,ol=null;function FYe(){_A=String.fromCharCode(128),_A+=Mr.util.fillString(String.fromCharCode(0),128),SA=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],ol={},ol["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],ol["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],ol["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],ol["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],jH=!0}function HH(r,e,t){for(var i,n,s,o,a,c,u,f,l,d,p,b,g,m,w,A,I,F,V,P,W,ne,Q,M,y,v,k,N,L,$,X,q,x,z,pe,G=t.length();G>=128;){for(L=0;L<16;++L)e[L][0]=t.getInt32()>>>0,e[L][1]=t.getInt32()>>>0;for(;L<80;++L)q=e[L-2],$=q[0],X=q[1],i=(($>>>19|X<<13)^(X>>>29|$<<3)^$>>>6)>>>0,n=(($<<13|X>>>19)^(X<<3|$>>>29)^($<<26|X>>>6))>>>0,z=e[L-15],$=z[0],X=z[1],s=(($>>>1|X<<31)^($>>>8|X<<24)^$>>>7)>>>0,o=(($<<31|X>>>1)^($<<24|X>>>8)^($<<25|X>>>7))>>>0,x=e[L-7],pe=e[L-16],X=n+x[1]+o+pe[1],e[L][0]=i+x[0]+s+pe[0]+(X/4294967296>>>0)>>>0,e[L][1]=X>>>0;for(g=r[0][0],m=r[0][1],w=r[1][0],A=r[1][1],I=r[2][0],F=r[2][1],V=r[3][0],P=r[3][1],W=r[4][0],ne=r[4][1],Q=r[5][0],M=r[5][1],y=r[6][0],v=r[6][1],k=r[7][0],N=r[7][1],L=0;L<80;++L)u=((W>>>14|ne<<18)^(W>>>18|ne<<14)^(ne>>>9|W<<23))>>>0,f=((W<<18|ne>>>14)^(W<<14|ne>>>18)^(ne<<23|W>>>9))>>>0,l=(y^W&(Q^y))>>>0,d=(v^ne&(M^v))>>>0,a=((g>>>28|m<<4)^(m>>>2|g<<30)^(m>>>7|g<<25))>>>0,c=((g<<4|m>>>28)^(m<<30|g>>>2)^(m<<25|g>>>7))>>>0,p=(g&w|I&(g^w))>>>0,b=(m&A|F&(m^A))>>>0,X=N+f+d+SA[L][1]+e[L][1],i=k+u+l+SA[L][0]+e[L][0]+(X/4294967296>>>0)>>>0,n=X>>>0,X=c+b,s=a+p+(X/4294967296>>>0)>>>0,o=X>>>0,k=y,N=v,y=Q,v=M,Q=W,M=ne,X=P+n,W=V+i+(X/4294967296>>>0)>>>0,ne=X>>>0,V=I,P=F,I=w,F=A,w=g,A=m,X=n+o,g=i+s+(X/4294967296>>>0)>>>0,m=X>>>0;X=r[0][1]+m,r[0][0]=r[0][0]+g+(X/4294967296>>>0)>>>0,r[0][1]=X>>>0,X=r[1][1]+A,r[1][0]=r[1][0]+w+(X/4294967296>>>0)>>>0,r[1][1]=X>>>0,X=r[2][1]+F,r[2][0]=r[2][0]+I+(X/4294967296>>>0)>>>0,r[2][1]=X>>>0,X=r[3][1]+P,r[3][0]=r[3][0]+V+(X/4294967296>>>0)>>>0,r[3][1]=X>>>0,X=r[4][1]+ne,r[4][0]=r[4][0]+W+(X/4294967296>>>0)>>>0,r[4][1]=X>>>0,X=r[5][1]+M,r[5][0]=r[5][0]+Q+(X/4294967296>>>0)>>>0,r[5][1]=X>>>0,X=r[6][1]+v,r[6][0]=r[6][0]+y+(X/4294967296>>>0)>>>0,r[6][1]=X>>>0,X=r[7][1]+N,r[7][0]=r[7][0]+k+(X/4294967296>>>0)>>>0,r[7][1]=X>>>0,G-=128}}});var GH=h(kA=>{var UYe=Et();nu();var Pi=UYe.asn1;kA.privateKeyValidator={name:"PrivateKeyInfo",tagClass:Pi.Class.UNIVERSAL,type:Pi.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Pi.Class.UNIVERSAL,type:Pi.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Pi.Class.UNIVERSAL,type:Pi.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Pi.Class.UNIVERSAL,type:Pi.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Pi.Class.UNIVERSAL,type:Pi.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};kA.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Pi.Class.UNIVERSAL,type:Pi.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Pi.Class.UNIVERSAL,type:Pi.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Pi.Class.UNIVERSAL,type:Pi.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Pi.Class.UNIVERSAL,type:Pi.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}});var NA=h((ynr,$H)=>{var an=Et();oy();qf();jw();mr();var WH=GH(),zYe=WH.publicKeyValidator,KYe=WH.privateKeyValidator;typeof YH=="undefined"&&(YH=an.jsbn.BigInteger);var YH,AA=an.util.ByteBuffer,ws=typeof Buffer=="undefined"?Uint8Array:Buffer;an.pki=an.pki||{};$H.exports=an.pki.ed25519=an.ed25519=an.ed25519||{};var Rt=an.ed25519;Rt.constants={};Rt.constants.PUBLIC_KEY_BYTE_LENGTH=32;Rt.constants.PRIVATE_KEY_BYTE_LENGTH=64;Rt.constants.SEED_BYTE_LENGTH=32;Rt.constants.SIGN_BYTE_LENGTH=64;Rt.constants.HASH_BYTE_LENGTH=64;Rt.generateKeyPair=function(r){r=r||{};var e=r.seed;if(e===void 0)e=an.random.getBytesSync(Rt.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==Rt.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+Rt.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=uu({message:e,encoding:"binary"});for(var t=new ws(Rt.constants.PUBLIC_KEY_BYTE_LENGTH),i=new ws(Rt.constants.PRIVATE_KEY_BYTE_LENGTH),n=0;n<32;++n)i[n]=e[n];return VYe(t,i),{publicKey:t,privateKey:i}};Rt.privateKeyFromAsn1=function(r){var e={},t=[],i=an.asn1.validate(r,KYe,e,t);if(!i){var n=new Error("Invalid Key.");throw n.errors=t,n}var s=an.asn1.derToOid(e.privateKeyOid),o=an.oids.EdDSA25519;if(s!==o)throw new Error('Invalid OID "'+s+'"; OID must be "'+o+'".');var a=e.privateKey,c=uu({message:an.asn1.fromDer(a).value,encoding:"binary"});return{privateKeyBytes:c}};Rt.publicKeyFromAsn1=function(r){var e={},t=[],i=an.asn1.validate(r,zYe,e,t);if(!i){var n=new Error("Invalid Key.");throw n.errors=t,n}var s=an.asn1.derToOid(e.publicKeyOid),o=an.oids.EdDSA25519;if(s!==o)throw new Error('Invalid OID "'+s+'"; OID must be "'+o+'".');var a=e.ed25519PublicKey;if(a.length!==Rt.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return uu({message:a,encoding:"binary"})};Rt.publicKeyFromPrivateKey=function(r){r=r||{};var e=uu({message:r.privateKey,encoding:"binary"});if(e.length!==Rt.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Rt.constants.PRIVATE_KEY_BYTE_LENGTH);for(var t=new ws(Rt.constants.PUBLIC_KEY_BYTE_LENGTH),i=0;i<t.length;++i)t[i]=e[32+i];return t};Rt.sign=function(r){r=r||{};var e=uu(r),t=uu({message:r.privateKey,encoding:"binary"});if(t.length===Rt.constants.SEED_BYTE_LENGTH){var i=Rt.generateKeyPair({seed:t});t=i.privateKey}else if(t.length!==Rt.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+Rt.constants.SEED_BYTE_LENGTH+" or "+Rt.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new ws(Rt.constants.SIGN_BYTE_LENGTH+e.length);jYe(n,e,e.length,t);for(var s=new ws(Rt.constants.SIGN_BYTE_LENGTH),o=0;o<s.length;++o)s[o]=n[o];return s};Rt.verify=function(r){r=r||{};var e=uu(r);if(r.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var t=uu({message:r.signature,encoding:"binary"});if(t.length!==Rt.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+Rt.constants.SIGN_BYTE_LENGTH);var i=uu({message:r.publicKey,encoding:"binary"});if(i.length!==Rt.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+Rt.constants.PUBLIC_KEY_BYTE_LENGTH);var n=new ws(Rt.constants.SIGN_BYTE_LENGTH+e.length),s=new ws(Rt.constants.SIGN_BYTE_LENGTH+e.length),o;for(o=0;o<Rt.constants.SIGN_BYTE_LENGTH;++o)n[o]=t[o];for(o=0;o<e.length;++o)n[o+Rt.constants.SIGN_BYTE_LENGTH]=e[o];return HYe(s,n,n.length,i)>=0};function uu(r){var e=r.message;if(e instanceof Uint8Array||e instanceof ws)return e;var t=r.encoding;if(e===void 0)if(r.md)e=r.md.digest().getBytes(),t="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof e=="string"&&!t)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer!="undefined")return Buffer.from(e,t);e=new AA(e,t)}else if(!(e instanceof AA))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var i=new ws(e.length()),n=0;n<i.length;++n)i[n]=e.at(n);return i}var IA=ut(),Hw=ut([1]),GYe=ut([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),$Ye=ut([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),XH=ut([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),JH=ut([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),TA=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),WYe=ut([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function dy(r,e){var t=an.md.sha512.create(),i=new AA(r);t.update(i.getBytes(e),"binary");var n=t.digest().getBytes();if(typeof Buffer!="undefined")return Buffer.from(n,"binary");for(var s=new ws(Rt.constants.HASH_BYTE_LENGTH),o=0;o<64;++o)s[o]=n.charCodeAt(o);return s}function VYe(r,e){var t=[ut(),ut(),ut(),ut()],i,n=dy(e,32);for(n[0]&=248,n[31]&=127,n[31]|=64,qA(t,n),RA(r,t),i=0;i<32;++i)e[i+32]=r[i];return 0}function jYe(r,e,t,i){var n,s,o=new Float64Array(64),a=[ut(),ut(),ut(),ut()],c=dy(i,32);c[0]&=248,c[31]&=127,c[31]|=64;var u=t+64;for(n=0;n<t;++n)r[64+n]=e[n];for(n=0;n<32;++n)r[32+n]=c[32+n];var f=dy(r.subarray(32),t+32);for(BA(f),qA(a,f),RA(r,a),n=32;n<64;++n)r[n]=i[n];var l=dy(r,t+64);for(BA(l),n=32;n<64;++n)o[n]=0;for(n=0;n<32;++n)o[n]=f[n];for(n=0;n<32;++n)for(s=0;s<32;s++)o[n+s]+=l[n]*c[s];return ZH(r.subarray(32),o),u}function HYe(r,e,t,i){var n,s,o=new ws(32),a=[ut(),ut(),ut(),ut()],c=[ut(),ut(),ut(),ut()];if(s=-1,t<64||YYe(c,i))return-1;for(n=0;n<t;++n)r[n]=e[n];for(n=0;n<32;++n)r[n+32]=i[n];var u=dy(r,t);if(BA(u),eG(a,c,u),qA(c,e.subarray(32)),CA(a,c),RA(o,a),t-=64,QH(e,0,o,0)){for(n=0;n<t;++n)r[n]=0;return-1}for(n=0;n<t;++n)r[n]=e[n+64];return s=t,s}function ZH(r,e){var t,i,n,s;for(i=63;i>=32;--i){for(t=0,n=i-32,s=i-12;n<s;++n)e[n]+=t-16*e[i]*TA[n-(i-32)],t=e[n]+128>>8,e[n]-=t*256;e[n]+=t,e[i]=0}for(t=0,n=0;n<32;++n)e[n]+=t-(e[31]>>4)*TA[n],t=e[n]>>8,e[n]&=255;for(n=0;n<32;++n)e[n]-=t*TA[n];for(i=0;i<32;++i)e[i+1]+=e[i]>>8,r[i]=e[i]&255}function BA(r){for(var e=new Float64Array(64),t=0;t<64;++t)e[t]=r[t],r[t]=0;ZH(r,e)}function CA(r,e){var t=ut(),i=ut(),n=ut(),s=ut(),o=ut(),a=ut(),c=ut(),u=ut(),f=ut();zd(t,r[1],r[0]),zd(f,e[1],e[0]),xr(t,t,f),Ud(i,r[0],r[1]),Ud(f,e[0],e[1]),xr(i,i,f),xr(n,r[3],e[3]),xr(n,n,$Ye),xr(s,r[2],e[2]),Ud(s,s,s),zd(o,i,t),zd(a,s,n),Ud(c,s,n),Ud(u,i,t),xr(r[0],o,a),xr(r[1],u,c),xr(r[2],c,a),xr(r[3],o,u)}function rG(r,e,t){for(var i=0;i<4;++i)tG(r[i],e[i],t)}function RA(r,e){var t=ut(),i=ut(),n=ut();XYe(n,e[2]),xr(t,e[0],n),xr(i,e[1],n),Gw(r,i),r[31]^=iG(t)<<7}function Gw(r,e){var t,i,n,s=ut(),o=ut();for(t=0;t<16;++t)o[t]=e[t];for(MA(o),MA(o),MA(o),i=0;i<2;++i){for(s[0]=o[0]-65517,t=1;t<15;++t)s[t]=o[t]-65535-(s[t-1]>>16&1),s[t-1]&=65535;s[15]=o[15]-32767-(s[14]>>16&1),n=s[15]>>16&1,s[14]&=65535,tG(o,s,1-n)}for(t=0;t<16;t++)r[2*t]=o[t]&255,r[2*t+1]=o[t]>>8}function YYe(r,e){var t=ut(),i=ut(),n=ut(),s=ut(),o=ut(),a=ut(),c=ut();return Pf(r[2],Hw),JYe(r[1],e),al(n,r[1]),xr(s,n,GYe),zd(n,n,r[2]),Ud(s,r[2],s),al(o,s),al(a,o),xr(c,a,o),xr(t,c,n),xr(t,t,s),ZYe(t,t),xr(t,t,n),xr(t,t,s),xr(t,t,s),xr(r[0],t,s),al(i,r[0]),xr(i,i,s),nG(i,n)&&xr(r[0],r[0],WYe),al(i,r[0]),xr(i,i,s),nG(i,n)?-1:(iG(r[0])===e[31]>>7&&zd(r[0],IA,r[0]),xr(r[3],r[0],r[1]),0)}function JYe(r,e){var t;for(t=0;t<16;++t)r[t]=e[2*t]+(e[2*t+1]<<8);r[15]&=32767}function ZYe(r,e){var t=ut(),i;for(i=0;i<16;++i)t[i]=e[i];for(i=250;i>=0;--i)al(t,t),i!==1&&xr(t,t,e);for(i=0;i<16;++i)r[i]=t[i]}function nG(r,e){var t=new ws(32),i=new ws(32);return Gw(t,r),Gw(i,e),QH(t,0,i,0)}function QH(r,e,t,i){return QYe(r,e,t,i,32)}function QYe(r,e,t,i,n){var s,o=0;for(s=0;s<n;++s)o|=r[e+s]^t[i+s];return(1&o-1>>>8)-1}function iG(r){var e=new ws(32);return Gw(e,r),e[0]&1}function eG(r,e,t){var i,n;for(Pf(r[0],IA),Pf(r[1],Hw),Pf(r[2],Hw),Pf(r[3],IA),n=255;n>=0;--n)i=t[n/8|0]>>(n&7)&1,rG(r,e,i),CA(e,r),CA(r,r),rG(r,e,i)}function qA(r,e){var t=[ut(),ut(),ut(),ut()];Pf(t[0],XH),Pf(t[1],JH),Pf(t[2],Hw),xr(t[3],XH,JH),eG(r,t,e)}function Pf(r,e){var t;for(t=0;t<16;t++)r[t]=e[t]|0}function XYe(r,e){var t=ut(),i;for(i=0;i<16;++i)t[i]=e[i];for(i=253;i>=0;--i)al(t,t),i!==2&&i!==4&&xr(t,t,e);for(i=0;i<16;++i)r[i]=t[i]}function MA(r){var e,t,i=1;for(e=0;e<16;++e)t=r[e]+i+65535,i=Math.floor(t/65536),r[e]=t-i*65536;r[0]+=i-1+37*(i-1)}function tG(r,e,t){for(var i,n=~(t-1),s=0;s<16;++s)i=n&(r[s]^e[s]),r[s]^=i,e[s]^=i}function ut(r){var e,t=new Float64Array(16);if(r)for(e=0;e<r.length;++e)t[e]=r[e];return t}function Ud(r,e,t){for(var i=0;i<16;++i)r[i]=e[i]+t[i]}function zd(r,e,t){for(var i=0;i<16;++i)r[i]=e[i]-t[i]}function al(r,e){xr(r,e,e)}function xr(r,e,t){var i,n,s=0,o=0,a=0,c=0,u=0,f=0,l=0,d=0,p=0,b=0,g=0,m=0,w=0,A=0,I=0,F=0,V=0,P=0,W=0,ne=0,Q=0,M=0,y=0,v=0,k=0,N=0,L=0,$=0,X=0,q=0,x=0,z=t[0],pe=t[1],G=t[2],be=t[3],U=t[4],_=t[5],ue=t[6],fe=t[7],E=t[8],T=t[9],D=t[10],K=t[11],H=t[12],ee=t[13],Z=t[14],J=t[15];i=e[0],s+=i*z,o+=i*pe,a+=i*G,c+=i*be,u+=i*U,f+=i*_,l+=i*ue,d+=i*fe,p+=i*E,b+=i*T,g+=i*D,m+=i*K,w+=i*H,A+=i*ee,I+=i*Z,F+=i*J,i=e[1],o+=i*z,a+=i*pe,c+=i*G,u+=i*be,f+=i*U,l+=i*_,d+=i*ue,p+=i*fe,b+=i*E,g+=i*T,m+=i*D,w+=i*K,A+=i*H,I+=i*ee,F+=i*Z,V+=i*J,i=e[2],a+=i*z,c+=i*pe,u+=i*G,f+=i*be,l+=i*U,d+=i*_,p+=i*ue,b+=i*fe,g+=i*E,m+=i*T,w+=i*D,A+=i*K,I+=i*H,F+=i*ee,V+=i*Z,P+=i*J,i=e[3],c+=i*z,u+=i*pe,f+=i*G,l+=i*be,d+=i*U,p+=i*_,b+=i*ue,g+=i*fe,m+=i*E,w+=i*T,A+=i*D,I+=i*K,F+=i*H,V+=i*ee,P+=i*Z,W+=i*J,i=e[4],u+=i*z,f+=i*pe,l+=i*G,d+=i*be,p+=i*U,b+=i*_,g+=i*ue,m+=i*fe,w+=i*E,A+=i*T,I+=i*D,F+=i*K,V+=i*H,P+=i*ee,W+=i*Z,ne+=i*J,i=e[5],f+=i*z,l+=i*pe,d+=i*G,p+=i*be,b+=i*U,g+=i*_,m+=i*ue,w+=i*fe,A+=i*E,I+=i*T,F+=i*D,V+=i*K,P+=i*H,W+=i*ee,ne+=i*Z,Q+=i*J,i=e[6],l+=i*z,d+=i*pe,p+=i*G,b+=i*be,g+=i*U,m+=i*_,w+=i*ue,A+=i*fe,I+=i*E,F+=i*T,V+=i*D,P+=i*K,W+=i*H,ne+=i*ee,Q+=i*Z,M+=i*J,i=e[7],d+=i*z,p+=i*pe,b+=i*G,g+=i*be,m+=i*U,w+=i*_,A+=i*ue,I+=i*fe,F+=i*E,V+=i*T,P+=i*D,W+=i*K,ne+=i*H,Q+=i*ee,M+=i*Z,y+=i*J,i=e[8],p+=i*z,b+=i*pe,g+=i*G,m+=i*be,w+=i*U,A+=i*_,I+=i*ue,F+=i*fe,V+=i*E,P+=i*T,W+=i*D,ne+=i*K,Q+=i*H,M+=i*ee,y+=i*Z,v+=i*J,i=e[9],b+=i*z,g+=i*pe,m+=i*G,w+=i*be,A+=i*U,I+=i*_,F+=i*ue,V+=i*fe,P+=i*E,W+=i*T,ne+=i*D,Q+=i*K,M+=i*H,y+=i*ee,v+=i*Z,k+=i*J,i=e[10],g+=i*z,m+=i*pe,w+=i*G,A+=i*be,I+=i*U,F+=i*_,V+=i*ue,P+=i*fe,W+=i*E,ne+=i*T,Q+=i*D,M+=i*K,y+=i*H,v+=i*ee,k+=i*Z,N+=i*J,i=e[11],m+=i*z,w+=i*pe,A+=i*G,I+=i*be,F+=i*U,V+=i*_,P+=i*ue,W+=i*fe,ne+=i*E,Q+=i*T,M+=i*D,y+=i*K,v+=i*H,k+=i*ee,N+=i*Z,L+=i*J,i=e[12],w+=i*z,A+=i*pe,I+=i*G,F+=i*be,V+=i*U,P+=i*_,W+=i*ue,ne+=i*fe,Q+=i*E,M+=i*T,y+=i*D,v+=i*K,k+=i*H,N+=i*ee,L+=i*Z,$+=i*J,i=e[13],A+=i*z,I+=i*pe,F+=i*G,V+=i*be,P+=i*U,W+=i*_,ne+=i*ue,Q+=i*fe,M+=i*E,y+=i*T,v+=i*D,k+=i*K,N+=i*H,L+=i*ee,$+=i*Z,X+=i*J,i=e[14],I+=i*z,F+=i*pe,V+=i*G,P+=i*be,W+=i*U,ne+=i*_,Q+=i*ue,M+=i*fe,y+=i*E,v+=i*T,k+=i*D,N+=i*K,L+=i*H,$+=i*ee,X+=i*Z,q+=i*J,i=e[15],F+=i*z,V+=i*pe,P+=i*G,W+=i*be,ne+=i*U,Q+=i*_,M+=i*ue,y+=i*fe,v+=i*E,k+=i*T,N+=i*D,L+=i*K,$+=i*H,X+=i*ee,q+=i*Z,x+=i*J,s+=38*V,o+=38*P,a+=38*W,c+=38*ne,u+=38*Q,f+=38*M,l+=38*y,d+=38*v,p+=38*k,b+=38*N,g+=38*L,m+=38*$,w+=38*X,A+=38*q,I+=38*x,n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=l+n+65535,n=Math.floor(i/65536),l=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=g+n+65535,n=Math.floor(i/65536),g=i-n*65536,i=m+n+65535,n=Math.floor(i/65536),m=i-n*65536,i=w+n+65535,n=Math.floor(i/65536),w=i-n*65536,i=A+n+65535,n=Math.floor(i/65536),A=i-n*65536,i=I+n+65535,n=Math.floor(i/65536),I=i-n*65536,i=F+n+65535,n=Math.floor(i/65536),F=i-n*65536,s+=n-1+37*(n-1),n=1,i=s+n+65535,n=Math.floor(i/65536),s=i-n*65536,i=o+n+65535,n=Math.floor(i/65536),o=i-n*65536,i=a+n+65535,n=Math.floor(i/65536),a=i-n*65536,i=c+n+65535,n=Math.floor(i/65536),c=i-n*65536,i=u+n+65535,n=Math.floor(i/65536),u=i-n*65536,i=f+n+65535,n=Math.floor(i/65536),f=i-n*65536,i=l+n+65535,n=Math.floor(i/65536),l=i-n*65536,i=d+n+65535,n=Math.floor(i/65536),d=i-n*65536,i=p+n+65535,n=Math.floor(i/65536),p=i-n*65536,i=b+n+65535,n=Math.floor(i/65536),b=i-n*65536,i=g+n+65535,n=Math.floor(i/65536),g=i-n*65536,i=m+n+65535,n=Math.floor(i/65536),m=i-n*65536,i=w+n+65535,n=Math.floor(i/65536),w=i-n*65536,i=A+n+65535,n=Math.floor(i/65536),A=i-n*65536,i=I+n+65535,n=Math.floor(i/65536),I=i-n*65536,i=F+n+65535,n=Math.floor(i/65536),F=i-n*65536,s+=n-1+37*(n-1),r[0]=s,r[1]=o,r[2]=a,r[3]=c,r[4]=u,r[5]=f,r[6]=l,r[7]=d,r[8]=p,r[9]=b,r[10]=g,r[11]=m,r[12]=w,r[13]=A,r[14]=I,r[15]=F}});var gG=h(Kd=>{"use strict";var PA=ra(),Vd=bo(),sG=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Kd.Buffer=ve;Kd.SlowBuffer=eXe;Kd.INSPECT_MAX_BYTES=50;var $w=2147483647;Kd.kMaxLength=$w;ve.TYPED_ARRAY_SUPPORT=tXe();!ve.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function tXe(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(t){return!1}}Object.defineProperty(ve.prototype,"parent",{enumerable:!0,get:function(){if(!!ve.isBuffer(this))return this.buffer}});Object.defineProperty(ve.prototype,"offset",{enumerable:!0,get:function(){if(!!ve.isBuffer(this))return this.byteOffset}});function fu(r){if(r>$w)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,ve.prototype),e}function ve(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return DA(r)}return oG(r,e,t)}ve.poolSize=8192;function oG(r,e,t){if(typeof r=="string")return rXe(r,e);if(ArrayBuffer.isView(r))return iXe(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Qa(r,ArrayBuffer)||r&&Qa(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Qa(r,SharedArrayBuffer)||r&&Qa(r.buffer,SharedArrayBuffer)))return OA(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return ve.from(i,e,t);var n=nXe(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return ve.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}ve.from=function(r,e,t){return oG(r,e,t)};Object.setPrototypeOf(ve.prototype,Uint8Array.prototype);Object.setPrototypeOf(ve,Uint8Array);function aG(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function sXe(r,e,t){return aG(r),r<=0?fu(r):e!==void 0?typeof t=="string"?fu(r).fill(e,t):fu(r).fill(e):fu(r)}ve.alloc=function(r,e,t){return sXe(r,e,t)};function DA(r){return aG(r),fu(r<0?0:LA(r)|0)}ve.allocUnsafe=function(r){return DA(r)};ve.allocUnsafeSlow=function(r){return DA(r)};function rXe(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ve.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=cG(r,e)|0,i=fu(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function FA(r){for(var e=r.length<0?0:LA(r.length)|0,t=fu(e),i=0;i<e;i+=1)t[i]=r[i]&255;return t}function iXe(r){if(Qa(r,Uint8Array)){var e=new Uint8Array(r);return OA(e.buffer,e.byteOffset,e.byteLength)}return FA(r)}function OA(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,ve.prototype),i}function nXe(r){if(ve.isBuffer(r)){var e=LA(r.length)|0,t=fu(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||UA(r.length)?fu(0):FA(r);if(r.type==="Buffer"&&Array.isArray(r.data))return FA(r.data)}function LA(r){if(r>=$w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+$w.toString(16)+" bytes");return r|0}function eXe(r){return+r!=r&&(r=0),ve.alloc(+r)}ve.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ve.prototype};ve.compare=function(e,t){if(Qa(e,Uint8Array)&&(e=ve.from(e,e.offset,e.byteLength)),Qa(t,Uint8Array)&&(t=ve.from(t,t.offset,t.byteLength)),!ve.isBuffer(e)||!ve.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};ve.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ve.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ve.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=ve.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var o=e[i];if(Qa(o,Uint8Array))s+o.length>n.length?ve.from(o).copy(n,s):Uint8Array.prototype.set.call(n,o,s);else if(ve.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function cG(r,e){if(ve.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Qa(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return zA(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return uG(r).length;default:if(n)return i?-1:zA(r).length;e=(""+e).toLowerCase(),n=!0}}ve.byteLength=cG;function lXe(r,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return uXe(this,e,t);case"utf8":case"utf-8":return fG(this,e,t);case"ascii":return aXe(this,e,t);case"latin1":case"binary":return cXe(this,e,t);case"base64":return oXe(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fXe(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}ve.prototype._isBuffer=!0;function cl(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}ve.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)cl(this,t,t+1);return this};ve.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)cl(this,t,t+3),cl(this,t+1,t+2);return this};ve.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)cl(this,t,t+7),cl(this,t+1,t+6),cl(this,t+2,t+5),cl(this,t+3,t+4);return this};ve.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?fG(this,0,e):lXe.apply(this,arguments)};ve.prototype.toLocaleString=ve.prototype.toString;ve.prototype.equals=function(e){if(!ve.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ve.compare(this,e)===0};ve.prototype.inspect=function(){var e="",t=Kd.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};sG&&(ve.prototype[sG]=ve.prototype.inspect);ve.prototype.compare=function(e,t,i,n,s){if(Qa(e,Uint8Array)&&(e=ve.from(e,e.offset,e.byteLength)),!ve.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,a=i-t,c=Math.min(o,a),u=this.slice(n,s),f=e.slice(t,i),l=0;l<c;++l)if(u[l]!==f[l]){o=u[l],a=f[l];break}return o<a?-1:a<o?1:0};function hG(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,UA(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=ve.from(e,i)),ve.isBuffer(e))return e.length===0?-1:lG(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):lG(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function lG(r,e,t,i,n){var s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function c(p,b){return s===1?p[b]:p.readUInt16BE(b*s)}var u;if(n){var f=-1;for(u=t;u<o;u++)if(c(r,u)===c(e,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===a)return f*s}else f!==-1&&(u-=u-f),f=-1}else for(t+a>o&&(t=o-a),u=t;u>=0;u--){for(var l=!0,d=0;d<a;d++)if(c(r,u+d)!==c(e,d)){l=!1;break}if(l)return u}return-1}ve.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};ve.prototype.indexOf=function(e,t,i){return hG(this,e,t,i,!0)};ve.prototype.lastIndexOf=function(e,t,i){return hG(this,e,t,i,!1)};function hXe(r,e,t,i){t=Number(t)||0;var n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(o*2,2),16);if(UA(a))return o;r[t+o]=a}return o}function dXe(r,e,t,i){return Ww(zA(e,r.length-t),r,t,i)}function bXe(r,e,t,i){return Ww(pXe(e),r,t,i)}function yXe(r,e,t,i){return Ww(uG(e),r,t,i)}function mXe(r,e,t,i){return Ww(gXe(e,r.length-t),r,t,i)}ve.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return hXe(this,e,t,i);case"utf8":case"utf-8":return dXe(this,e,t,i);case"ascii":case"latin1":case"binary":return bXe(this,e,t,i);case"base64":return yXe(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mXe(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};ve.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function oXe(r,e,t){return e===0&&t===r.length?PA.fromByteArray(r):PA.fromByteArray(r.slice(e,t))}function fG(r,e,t){t=Math.min(r.length,t);for(var i=[],n=e;n<t;){var s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){var c,u,f,l;switch(a){case 1:s<128&&(o=s);break;case 2:c=r[n+1],(c&192)==128&&(l=(s&31)<<6|c&63,l>127&&(o=l));break;case 3:c=r[n+1],u=r[n+2],(c&192)==128&&(u&192)==128&&(l=(s&15)<<12|(c&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:c=r[n+1],u=r[n+2],f=r[n+3],(c&192)==128&&(u&192)==128&&(f&192)==128&&(l=(s&15)<<18|(c&63)<<12|(u&63)<<6|f&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return xXe(i)}var dG=4096;function xXe(r){var e=r.length;if(e<=dG)return String.fromCharCode.apply(String,r);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=dG));return t}function aXe(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function cXe(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function uXe(r,e,t){var i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var n="",s=e;s<t;++s)n+=wXe[r[s]];return n}function fXe(r,e,t){for(var i=r.slice(e,t),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}ve.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,ve.prototype),n};function Di(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}ve.prototype.readUintLE=ve.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Di(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n};ve.prototype.readUintBE=ve.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Di(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n};ve.prototype.readUint8=ve.prototype.readUInt8=function(e,t){return e=e>>>0,t||Di(e,1,this.length),this[e]};ve.prototype.readUint16LE=ve.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Di(e,2,this.length),this[e]|this[e+1]<<8};ve.prototype.readUint16BE=ve.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Di(e,2,this.length),this[e]<<8|this[e+1]};ve.prototype.readUint32LE=ve.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Di(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ve.prototype.readUint32BE=ve.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Di(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ve.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Di(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};ve.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Di(e,t,this.length);for(var n=t,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};ve.prototype.readInt8=function(e,t){return e=e>>>0,t||Di(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ve.prototype.readInt16LE=function(e,t){e=e>>>0,t||Di(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};ve.prototype.readInt16BE=function(e,t){e=e>>>0,t||Di(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};ve.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Di(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ve.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Di(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ve.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Di(e,4,this.length),Vd.read(this,e,!0,23,4)};ve.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Di(e,4,this.length),Vd.read(this,e,!1,23,4)};ve.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Di(e,8,this.length),Vd.read(this,e,!0,52,8)};ve.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Di(e,8,this.length),Vd.read(this,e,!1,52,8)};function vs(r,e,t,i,n,s){if(!ve.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}ve.prototype.writeUintLE=ve.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;vs(this,e,t,i,s,0)}var o=1,a=0;for(this[t]=e&255;++a<i&&(o*=256);)this[t+a]=e/o&255;return t+i};ve.prototype.writeUintBE=ve.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;vs(this,e,t,i,s,0)}var o=i-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+i};ve.prototype.writeUint8=ve.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||vs(this,e,t,1,255,0),this[t]=e&255,t+1};ve.prototype.writeUint16LE=ve.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||vs(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};ve.prototype.writeUint16BE=ve.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||vs(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};ve.prototype.writeUint32LE=ve.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||vs(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};ve.prototype.writeUint32BE=ve.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||vs(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};ve.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);vs(this,e,t,i,s-1,-s)}var o=0,a=1,c=0;for(this[t]=e&255;++o<i&&(a*=256);)e<0&&c===0&&this[t+o-1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};ve.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);vs(this,e,t,i,s-1,-s)}var o=i-1,a=1,c=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&c===0&&this[t+o+1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};ve.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||vs(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};ve.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||vs(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};ve.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||vs(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};ve.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||vs(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};ve.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||vs(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function pG(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function bG(r,e,t,i,n){return e=+e,t=t>>>0,n||pG(r,e,t,4,34028234663852886e22,-34028234663852886e22),Vd.write(r,e,t,i,23,4),t+4}ve.prototype.writeFloatLE=function(e,t,i){return bG(this,e,t,!0,i)};ve.prototype.writeFloatBE=function(e,t,i){return bG(this,e,t,!1,i)};function yG(r,e,t,i,n){return e=+e,t=t>>>0,n||pG(r,e,t,8,17976931348623157e292,-17976931348623157e292),Vd.write(r,e,t,i,52,8),t+8}ve.prototype.writeDoubleLE=function(e,t,i){return yG(this,e,t,!0,i)};ve.prototype.writeDoubleBE=function(e,t,i){return yG(this,e,t,!1,i)};ve.prototype.copy=function(e,t,i,n){if(!ve.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};ve.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!ve.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{var a=ve.isBuffer(e)?e:ve.from(e,n),c=a.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=a[o%c]}return this};var vXe=/[^+/0-9A-Za-z-_]/g;function EXe(r){if(r=r.split("=")[0],r=r.trim().replace(vXe,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function zA(r,e){e=e||Infinity;for(var t,i=r.length,n=null,s=[],o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function pXe(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function gXe(r,e){for(var t,i,n,s=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function uG(r){return PA.toByteArray(EXe(r))}function Ww(r,e,t,i){for(var n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function Qa(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function UA(r){return r!==r}var wXe=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var i=t*16,n=0;n<16;++n)e[i+n]=r[t]+r[n];return e}()});var mG=h((mnr,KA)=>{"use strict";var py=self.crypto||self.msCrypto,{Buffer:_Xe}=gG(),Yw=65536;function SXe(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}py&&py.getRandomValues?KA.exports=kXe:KA.exports=SXe;function kXe(r){let e=new Uint8Array(r),t=0;if(r>0)if(r>Yw)for(;t<r;)t+Yw>r?(py.getRandomValues(e.subarray(t,t+(r-t))),t+=r-t):(py.getRandomValues(e.subarray(t,t+Yw)),t+=Yw);else py.getRandomValues(e);return _Xe.from(e)}});var by=h((xnr,xG)=>{"use strict";var AXe=mG(),IXe=qe();xG.exports=function(r){if(isNaN(r)||r<=0)throw IXe(new Error("random bytes length must be a Number bigger than 0"),"ERR_INVALID_LENGTH");return AXe(r)}});var Xw=h(yy=>{"use strict";mr();oy();var TXe=Et(),RXe=Mf(),wG=Nf(),vG=uy();yy.bigIntegerToUintBase64url=(r,e)=>{let t=Uint8Array.from(r.abs().toByteArray());if(t=t[0]===0?t.slice(1):t,e!=null){if(t.length>e)throw new Error("byte array longer than desired length");t=vG([new Uint8Array(e-t.length),t])}return wG(t,"base64url")};yy.base64urlToBigInteger=r=>{let e=yy.base64urlToBuffer(r);return new TXe.jsbn.BigInteger(wG(e,"base16"),16)};yy.base64urlToBuffer=(r,e)=>{let t=RXe(r,"base64urlpad");if(e!=null){if(t.length>e)throw new Error("byte array longer than desired length");t=vG([new Uint8Array(e-t.length),t])}return t}});var SG=h(gy=>{"use strict";nu();ay();var Df=Et(),{bigIntegerToUintBase64url:ec,base64urlToBigInteger:tc}=Xw(),EG=Mf(),_G=Nf();gy.pkcs1ToJwk=function(r){let e=Df.asn1.fromDer(_G(r,"ascii")),t=Df.pki.privateKeyFromAsn1(e);return{kty:"RSA",n:ec(t.n),e:ec(t.e),d:ec(t.d),p:ec(t.p),q:ec(t.q),dp:ec(t.dP),dq:ec(t.dQ),qi:ec(t.qInv),alg:"RS256",kid:"2011-04-29"}};gy.jwkToPkcs1=function(r){let e=Df.pki.privateKeyToAsn1({n:tc(r.n),e:tc(r.e),d:tc(r.d),p:tc(r.p),q:tc(r.q),dP:tc(r.dp),dQ:tc(r.dq),qInv:tc(r.qi)});return EG(Df.asn1.toDer(e).getBytes(),"ascii")};gy.pkixToJwk=function(r){let e=Df.asn1.fromDer(_G(r,"ascii")),t=Df.pki.publicKeyFromAsn1(e);return{kty:"RSA",n:ec(t.n),e:ec(t.e),alg:"RS256",kid:"2011-04-29"}};gy.jwkToPkix=function(r){let e=Df.pki.publicKeyToAsn1({n:tc(r.n),e:tc(r.e)});return EG(Df.asn1.toDer(e).getBytes(),"ascii")}});var TG=h((Enr,kG)=>{"use strict";ay();var AG=Et(),{base64urlToBigInteger:qXe}=Xw();function IG(r,e){return e.map(t=>qXe(r[t]))}function BXe(r){return AG.pki.setRsaPrivateKey(...IG(r,["n","e","d","p","q","dp","dq","qi"]))}function CXe(r){return AG.pki.setRsaPublicKey(...IG(r,["n","e"]))}kG.exports={jwk2pub:CXe,jwk2priv:BXe}});var BG=h(lu=>{"use strict";var hu=fy(),MXe=by(),NXe=Nf(),PXe=Mf();lu.utils=SG();lu.generateKey=async function(r){let e=await hu.get().subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:r,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!0,["sign","verify"]),t=await RG(e);return{privateKey:t[0],publicKey:t[1]}};lu.unmarshalPrivateKey=async function(r){let t=[await hu.get().subtle.importKey("jwk",r,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["sign"]),await DXe(r)],i=await RG({privateKey:t[0],publicKey:t[1]});return{privateKey:i[0],publicKey:i[1]}};lu.getRandomValues=MXe;lu.hashAndSign=async function(r,e){let t=await hu.get().subtle.importKey("jwk",r,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["sign"]),i=await hu.get().subtle.sign({name:"RSASSA-PKCS1-v1_5"},t,Uint8Array.from(e));return new Uint8Array(i,i.byteOffset,i.byteLength)};lu.hashAndVerify=async function(r,e,t){let i=await hu.get().subtle.importKey("jwk",r,{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!1,["verify"]);return hu.get().subtle.verify({name:"RSASSA-PKCS1-v1_5"},i,e,t)};function RG(r){return Promise.all([hu.get().subtle.exportKey("jwk",r.privateKey),hu.get().subtle.exportKey("jwk",r.publicKey)])}function DXe(r){return hu.get().subtle.importKey("jwk",{kty:r.kty,n:r.n,e:r.e},{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},!0,["verify"])}var{jwk2pub:OXe,jwk2priv:LXe}=TG();function qG(r,e,t,i){let n=e?OXe(r):LXe(r),s=NXe(Uint8Array.from(t),"ascii"),o=i(s,n);return PXe(o,"ascii")}lu.encrypt=function(r,e){return qG(r,!0,e,(t,i)=>i.encrypt(t))};lu.decrypt=function(r,e){return qG(r,!1,e,(t,i)=>i.decrypt(t))}});var Jw=h((Snr,CG)=>{"use strict";var FXe=Vw(),UXe=vA();CG.exports={export:async function(r,e){let i=await UXe.create().encrypt(r,e);return FXe.names.base64.encode(i)}}});var OG=h((knr,MG)=>{"use strict";var NG=Fd(),zXe=ni(),PG=qe(),DG=ly(),KXe=Nf();jw();NA();var Zw=Et(),xo=BG(),Qw=zXe(Ew()),VXe=Jw(),e4=class{constructor(e){this._key=e}async verify(e,t){return xo.hashAndVerify(this._key,t,e)}marshal(){return xo.utils.jwkToPkix(this._key)}get bytes(){return Qw.PublicKey.encode({Type:Qw.KeyType.RSA,Data:this.marshal()})}encrypt(e){return xo.encrypt(this._key,e)}equals(e){return DG(this.bytes,e.bytes)}async hash(){return NG.multihashing(this.bytes,"sha2-256")}},my=class{constructor(e,t){this._key=e,this._publicKey=t}genSecret(){return xo.getRandomValues(16)}async sign(e){return xo.hashAndSign(this._key,e)}get public(){if(!this._publicKey)throw PG(new Error("public key not provided"),"ERR_PUBKEY_NOT_PROVIDED");return new e4(this._publicKey)}decrypt(e){return xo.decrypt(this._key,e)}marshal(){return xo.utils.jwkToPkcs1(this._key)}get bytes(){return Qw.PrivateKey.encode({Type:Qw.KeyType.RSA,Data:this.marshal()})}equals(e){return DG(this.bytes,e.bytes)}async hash(){return NG.multihashing(this.bytes,"sha2-256")}async id(){let e=await this.public.hash();return KXe(e,"base58btc")}async export(e,t="pkcs-8"){if(t==="pkcs-8"){let i=new Zw.util.ByteBuffer(this.marshal()),n=Zw.asn1.fromDer(i),s=Zw.pki.privateKeyFromAsn1(n),o={algorithm:"aes256",count:1e4,saltSize:128/8,prfAlgorithm:"sha512"};return Zw.pki.encryptRsaPrivateKey(s,e,o)}else{if(t==="libp2p-key")return VXe.export(this.bytes,e);throw PG(new Error(`export format '${t}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}};async function jXe(r){let e=xo.utils.pkcs1ToJwk(r),t=await xo.unmarshalPrivateKey(e);return new my(t.privateKey,t.publicKey)}function HXe(r){let e=xo.utils.pkixToJwk(r);return new e4(e)}async function GXe(r){let e=await xo.unmarshalPrivateKey(r);return new my(e.privateKey,e.publicKey)}async function $Xe(r){let e=await xo.generateKey(r);return new my(e.privateKey,e.publicKey)}MG.exports={RsaPublicKey:e4,RsaPrivateKey:my,unmarshalRsaPublicKey:HXe,unmarshalRsaPrivateKey:jXe,generateKeyPair:$Xe,fromJwk:GXe}});var LG=h(ul=>{"use strict";NA();var jd=Et();ul.publicKeyLength=jd.pki.ed25519.constants.PUBLIC_KEY_BYTE_LENGTH;ul.privateKeyLength=jd.pki.ed25519.constants.PRIVATE_KEY_BYTE_LENGTH;ul.generateKey=async function(){return jd.pki.ed25519.generateKeyPair()};ul.generateKeyFromSeed=async function(r){return jd.pki.ed25519.generateKeyPair({seed:r})};ul.hashAndSign=async function(r,e){return jd.pki.ed25519.sign({message:e,privateKey:r})};ul.hashAndVerify=async function(r,e,t){return jd.pki.ed25519.verify({signature:e,message:t,publicKey:r})}});var VG=h((Inr,FG)=>{"use strict";var UG=Fd(),WXe=ni(),YXe=Vw(),zG=qe(),KG=ly(),Dn=LG(),t4=WXe(Ew()),XXe=Jw(),r4=class{constructor(e){this._key=Hd(e,Dn.publicKeyLength)}async verify(e,t){return Dn.hashAndVerify(this._key,t,e)}marshal(){return this._key}get bytes(){return t4.PublicKey.encode({Type:t4.KeyType.Ed25519,Data:this.marshal()})}equals(e){return KG(this.bytes,e.bytes)}async hash(){return UG.multihashing(this.bytes,"sha2-256")}},Gd=class{constructor(e,t){this._key=Hd(e,Dn.privateKeyLength),this._publicKey=Hd(t,Dn.publicKeyLength)}async sign(e){return Dn.hashAndSign(this._key,e)}get public(){return new r4(this._publicKey)}marshal(){return this._key}get bytes(){return t4.PrivateKey.encode({Type:t4.KeyType.Ed25519,Data:this.marshal()})}equals(e){return KG(this.bytes,e.bytes)}async hash(){return UG.multihashing(this.bytes,"sha2-256")}async id(){let e=await this.public.hash();return YXe.encode("base58btc",e).toString().slice(1)}async export(e,t="libp2p-key"){if(t==="libp2p-key")return XXe.export(this.bytes,e);throw zG(new Error(`export format '${t}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}};function JXe(r){if(r.length>Dn.privateKeyLength){r=Hd(r,Dn.privateKeyLength+Dn.publicKeyLength);let i=r.slice(0,Dn.privateKeyLength),n=r.slice(Dn.privateKeyLength,r.length);return new Gd(i,n)}r=Hd(r,Dn.privateKeyLength);let e=r.slice(0,Dn.privateKeyLength),t=r.slice(Dn.publicKeyLength);return new Gd(e,t)}function ZXe(r){return r=Hd(r,Dn.publicKeyLength),new r4(r)}async function QXe(){let{privateKey:r,publicKey:e}=await Dn.generateKey();return new Gd(r,e)}async function eJe(r){let{privateKey:e,publicKey:t}=await Dn.generateKeyFromSeed(r);return new Gd(e,t)}function Hd(r,e){if(r=Uint8Array.from(r||[]),r.length!==e)throw zG(new Error(`Key must be a Uint8Array of length ${e}, got ${r.length}`),"ERR_INVALID_KEY_TYPE");return r}FG.exports={Ed25519PublicKey:r4,Ed25519PrivateKey:Gd,unmarshalEd25519PrivateKey:JXe,unmarshalEd25519PublicKey:ZXe,generateKeyPair:QXe,generateKeyPairFromSeed:eJe}});var HG=h((Tnr,jG)=>{var Qt={IMPOSSIBLE_CASE:"Impossible case. Please create issue.",TWEAK_ADD:"The tweak was out of range or the resulted private key is invalid",TWEAK_MUL:"The tweak was out of range or equal to zero",CONTEXT_RANDOMIZE_UNKNOW:"Unknow error on context randomization",SECKEY_INVALID:"Private Key is invalid",PUBKEY_PARSE:"Public Key could not be parsed",PUBKEY_SERIALIZE:"Public Key serialization error",PUBKEY_COMBINE:"The sum of the public keys is not valid",SIG_PARSE:"Signature could not be parsed",SIGN:"The nonce generation function failed, or the private key was invalid",RECOVER:"Public key could not be recover",ECDH:"Scalar was invalid (zero or overflow)"};function wo(r,e){if(!r)throw new Error(e)}function Ot(r,e,t){if(wo(e instanceof Uint8Array,`Expected ${r} to be an Uint8Array`),t!==void 0)if(Array.isArray(t)){let i=t.join(", "),n=`Expected ${r} to be an Uint8Array with length [${i}]`;wo(t.includes(e.length),n)}else{let i=`Expected ${r} to be an Uint8Array with length ${t}`;wo(e.length===t,i)}}function fl(r){wo($d(r)==="Boolean","Expected compressed to be a Boolean")}function oa(r=t=>new Uint8Array(t),e){return typeof r=="function"&&(r=r(e)),Ot("output",r,e),r}function $d(r){return Object.prototype.toString.call(r).slice(8,-1)}jG.exports=r=>({contextRandomize(e){switch(wo(e===null||e instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),e!==null&&Ot("seed",e,32),r.contextRandomize(e)){case 1:throw new Error(Qt.CONTEXT_RANDOMIZE_UNKNOW)}},privateKeyVerify(e){return Ot("private key",e,32),r.privateKeyVerify(e)===0},privateKeyNegate(e){switch(Ot("private key",e,32),r.privateKeyNegate(e)){case 0:return e;case 1:throw new Error(Qt.IMPOSSIBLE_CASE)}},privateKeyTweakAdd(e,t){switch(Ot("private key",e,32),Ot("tweak",t,32),r.privateKeyTweakAdd(e,t)){case 0:return e;case 1:throw new Error(Qt.TWEAK_ADD)}},privateKeyTweakMul(e,t){switch(Ot("private key",e,32),Ot("tweak",t,32),r.privateKeyTweakMul(e,t)){case 0:return e;case 1:throw new Error(Qt.TWEAK_MUL)}},publicKeyVerify(e){return Ot("public key",e,[33,65]),r.publicKeyVerify(e)===0},publicKeyCreate(e,t=!0,i){switch(Ot("private key",e,32),fl(t),i=oa(i,t?33:65),r.publicKeyCreate(i,e)){case 0:return i;case 1:throw new Error(Qt.SECKEY_INVALID);case 2:throw new Error(Qt.PUBKEY_SERIALIZE)}},publicKeyConvert(e,t=!0,i){switch(Ot("public key",e,[33,65]),fl(t),i=oa(i,t?33:65),r.publicKeyConvert(i,e)){case 0:return i;case 1:throw new Error(Qt.PUBKEY_PARSE);case 2:throw new Error(Qt.PUBKEY_SERIALIZE)}},publicKeyNegate(e,t=!0,i){switch(Ot("public key",e,[33,65]),fl(t),i=oa(i,t?33:65),r.publicKeyNegate(i,e)){case 0:return i;case 1:throw new Error(Qt.PUBKEY_PARSE);case 2:throw new Error(Qt.IMPOSSIBLE_CASE);case 3:throw new Error(Qt.PUBKEY_SERIALIZE)}},publicKeyCombine(e,t=!0,i){wo(Array.isArray(e),"Expected public keys to be an Array"),wo(e.length>0,"Expected public keys array will have more than zero items");for(let n of e)Ot("public key",n,[33,65]);switch(fl(t),i=oa(i,t?33:65),r.publicKeyCombine(i,e)){case 0:return i;case 1:throw new Error(Qt.PUBKEY_PARSE);case 2:throw new Error(Qt.PUBKEY_COMBINE);case 3:throw new Error(Qt.PUBKEY_SERIALIZE)}},publicKeyTweakAdd(e,t,i=!0,n){switch(Ot("public key",e,[33,65]),Ot("tweak",t,32),fl(i),n=oa(n,i?33:65),r.publicKeyTweakAdd(n,e,t)){case 0:return n;case 1:throw new Error(Qt.PUBKEY_PARSE);case 2:throw new Error(Qt.TWEAK_ADD)}},publicKeyTweakMul(e,t,i=!0,n){switch(Ot("public key",e,[33,65]),Ot("tweak",t,32),fl(i),n=oa(n,i?33:65),r.publicKeyTweakMul(n,e,t)){case 0:return n;case 1:throw new Error(Qt.PUBKEY_PARSE);case 2:throw new Error(Qt.TWEAK_MUL)}},signatureNormalize(e){switch(Ot("signature",e,64),r.signatureNormalize(e)){case 0:return e;case 1:throw new Error(Qt.SIG_PARSE)}},signatureExport(e,t){Ot("signature",e,64),t=oa(t,72);let i={output:t,outputlen:72};switch(r.signatureExport(i,e)){case 0:return t.slice(0,i.outputlen);case 1:throw new Error(Qt.SIG_PARSE);case 2:throw new Error(Qt.IMPOSSIBLE_CASE)}},signatureImport(e,t){switch(Ot("signature",e),t=oa(t,64),r.signatureImport(t,e)){case 0:return t;case 1:throw new Error(Qt.SIG_PARSE);case 2:throw new Error(Qt.IMPOSSIBLE_CASE)}},ecdsaSign(e,t,i={},n){Ot("message",e,32),Ot("private key",t,32),wo($d(i)==="Object","Expected options to be an Object"),i.data!==void 0&&Ot("options.data",i.data),i.noncefn!==void 0&&wo($d(i.noncefn)==="Function","Expected options.noncefn to be a Function"),n=oa(n,64);let s={signature:n,recid:null};switch(r.ecdsaSign(s,e,t,i.data,i.noncefn)){case 0:return s;case 1:throw new Error(Qt.SIGN);case 2:throw new Error(Qt.IMPOSSIBLE_CASE)}},ecdsaVerify(e,t,i){switch(Ot("signature",e,64),Ot("message",t,32),Ot("public key",i,[33,65]),r.ecdsaVerify(e,t,i)){case 0:return!0;case 3:return!1;case 1:throw new Error(Qt.SIG_PARSE);case 2:throw new Error(Qt.PUBKEY_PARSE)}},ecdsaRecover(e,t,i,n=!0,s){switch(Ot("signature",e,64),wo($d(t)==="Number"&&t>=0&&t<=3,"Expected recovery id to be a Number within interval [0, 3]"),Ot("message",i,32),fl(n),s=oa(s,n?33:65),r.ecdsaRecover(s,e,t,i)){case 0:return s;case 1:throw new Error(Qt.SIG_PARSE);case 2:throw new Error(Qt.RECOVER);case 3:throw new Error(Qt.IMPOSSIBLE_CASE)}},ecdh(e,t,i={},n){switch(Ot("public key",e,[33,65]),Ot("private key",t,32),wo($d(i)==="Object","Expected options to be an Object"),i.data!==void 0&&Ot("options.data",i.data),i.hashfn!==void 0?(wo($d(i.hashfn)==="Function","Expected options.hashfn to be a Function"),i.xbuf!==void 0&&Ot("options.xbuf",i.xbuf,32),i.ybuf!==void 0&&Ot("options.ybuf",i.ybuf,32),Ot("output",n)):n=oa(n,32),r.ecdh(n,e,t,i.data,i.hashfn,i.xbuf,i.ybuf)){case 0:return n;case 1:throw new Error(Qt.PUBKEY_PARSE);case 2:throw new Error(Qt.ECDH)}}})});var $G=h((Rnr,GG)=>{GG.exports={_args:[["elliptic@6.5.4","/Users/alex/Documents/Workspaces/ipfs/js-ipfs-master"]],_from:"elliptic@6.5.4",_id:"elliptic@6.5.4",_inBundle:!1,_integrity:"sha512-iLhC6ULemrljPZb+QutR5TQGB+pdW6KGD5RSegS+8sorOZT+rdQFbsQFJgvN3eRqNALqJer4oQ16YvJHlU8hzQ==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"elliptic@6.5.4",name:"elliptic",escapedName:"elliptic",rawSpec:"6.5.4",saveSpec:null,fetchSpec:"6.5.4"},_requiredBy:["/secp256k1"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.5.4.tgz",_spec:"6.5.4",_where:"/Users/alex/Documents/Workspaces/ipfs/js-ipfs-master",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},description:"EC cryptography",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.5.4"}});var WG=h(()=>{});var rc=h((YG,VA)=>{(function(r,e){"use strict";function t(M,y){if(!M)throw new Error(y||"Assertion failed")}function i(M,y){M.super_=y;var v=function(){};v.prototype=y.prototype,M.prototype=new v,M.prototype.constructor=M}function n(M,y,v){if(n.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((y==="le"||y==="be")&&(v=y,y=10),this._init(M||0,y||10,v||"be"))}typeof r=="object"?r.exports=n:e.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window!="undefined"&&typeof window.Buffer!="undefined"?s=window.Buffer:s=WG().Buffer}catch(M){}n.isBN=function(y){return y instanceof n?!0:y!==null&&typeof y=="object"&&y.constructor.wordSize===n.wordSize&&Array.isArray(y.words)},n.max=function(y,v){return y.cmp(v)>0?y:v},n.min=function(y,v){return y.cmp(v)<0?y:v},n.prototype._init=function(y,v,k){if(typeof y=="number")return this._initNumber(y,v,k);if(typeof y=="object")return this._initArray(y,v,k);v==="hex"&&(v=16),t(v===(v|0)&&v>=2&&v<=36),y=y.toString().replace(/\s+/g,"");var N=0;y[0]==="-"&&(N++,this.negative=1),N<y.length&&(v===16?this._parseHex(y,N,k):(this._parseBase(y,v,N),k==="le"&&this._initArray(this.toArray(),v,k)))},n.prototype._initNumber=function(y,v,k){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[y&67108863],this.length=1):y<4503599627370496?(this.words=[y&67108863,y/67108864&67108863],this.length=2):(t(y<9007199254740992),this.words=[y&67108863,y/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),v,k)},n.prototype._initArray=function(y,v,k){if(t(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var L,$,X=0;if(k==="be")for(N=y.length-1,L=0;N>=0;N-=3)$=y[N]|y[N-1]<<8|y[N-2]<<16,this.words[L]|=$<<X&67108863,this.words[L+1]=$>>>26-X&67108863,X+=24,X>=26&&(X-=26,L++);else if(k==="le")for(N=0,L=0;N<y.length;N+=3)$=y[N]|y[N+1]<<8|y[N+2]<<16,this.words[L]|=$<<X&67108863,this.words[L+1]=$>>>26-X&67108863,X+=24,X>=26&&(X-=26,L++);return this.strip()};function o(M,y){var v=M.charCodeAt(y);return v>=65&&v<=70?v-55:v>=97&&v<=102?v-87:v-48&15}function a(M,y,v){var k=o(M,v);return v-1>=y&&(k|=o(M,v-1)<<4),k}n.prototype._parseHex=function(y,v,k){this.length=Math.ceil((y.length-v)/6),this.words=new Array(this.length);for(var N=0;N<this.length;N++)this.words[N]=0;var L=0,$=0,X;if(k==="be")for(N=y.length-1;N>=v;N-=2)X=a(y,v,N)<<L,this.words[$]|=X&67108863,L>=18?(L-=18,$+=1,this.words[$]|=X>>>26):L+=8;else{var q=y.length-v;for(N=q%2==0?v+1:v;N<y.length;N+=2)X=a(y,v,N)<<L,this.words[$]|=X&67108863,L>=18?(L-=18,$+=1,this.words[$]|=X>>>26):L+=8}this.strip()};function c(M,y,v,k){for(var N=0,L=Math.min(M.length,v),$=y;$<L;$++){var X=M.charCodeAt($)-48;N*=k,X>=49?N+=X-49+10:X>=17?N+=X-17+10:N+=X}return N}n.prototype._parseBase=function(y,v,k){this.words=[0],this.length=1;for(var N=0,L=1;L<=67108863;L*=v)N++;N--,L=L/v|0;for(var $=y.length-k,X=$%N,q=Math.min($,$-X)+k,x=0,z=k;z<q;z+=N)x=c(y,z,z+N,v),this.imuln(L),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x);if(X!==0){var pe=1;for(x=c(y,z,y.length,v),z=0;z<X;z++)pe*=v;this.imuln(pe),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x)}this.strip()},n.prototype.copy=function(y){y.words=new Array(this.length);for(var v=0;v<this.length;v++)y.words[v]=this.words[v];y.length=this.length,y.negative=this.negative,y.red=this.red},n.prototype.clone=function(){var y=new n(null);return this.copy(y),y},n.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(y,v){y=y||10,v=v|0||1;var k;if(y===16||y==="hex"){k="";for(var N=0,L=0,$=0;$<this.length;$++){var X=this.words[$],q=((X<<N|L)&16777215).toString(16);L=X>>>24-N&16777215,L!==0||$!==this.length-1?k=u[6-q.length]+q+k:k=q+k,N+=2,N>=26&&(N-=26,$--)}for(L!==0&&(k=L.toString(16)+k);k.length%v!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(y===(y|0)&&y>=2&&y<=36){var x=f[y],z=l[y];k="";var pe=this.clone();for(pe.negative=0;!pe.isZero();){var G=pe.modn(z).toString(y);pe=pe.idivn(z),pe.isZero()?k=G+k:k=u[x-G.length]+G+k}for(this.isZero()&&(k="0"+k);k.length%v!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}t(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?y+=4503599627370496+this.words[1]*67108864:this.length>2&&t(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(y,v){return t(typeof s!="undefined"),this.toArrayLike(s,y,v)},n.prototype.toArray=function(y,v){return this.toArrayLike(Array,y,v)},n.prototype.toArrayLike=function(y,v,k){var N=this.byteLength(),L=k||Math.max(1,N);t(N<=L,"byte array longer than desired length"),t(L>0,"Requested array length <= 0"),this.strip();var $=v==="le",X=new y(L),q,x,z=this.clone();if($){for(x=0;!z.isZero();x++)q=z.andln(255),z.iushrn(8),X[x]=q;for(;x<L;x++)X[x]=0}else{for(x=0;x<L-N;x++)X[x]=0;for(x=0;!z.isZero();x++)q=z.andln(255),z.iushrn(8),X[L-x-1]=q}return X},Math.clz32?n.prototype._countBits=function(y){return 32-Math.clz32(y)}:n.prototype._countBits=function(y){var v=y,k=0;return v>=4096&&(k+=13,v>>>=13),v>=64&&(k+=7,v>>>=7),v>=8&&(k+=4,v>>>=4),v>=2&&(k+=2,v>>>=2),k+v},n.prototype._zeroBits=function(y){if(y===0)return 26;var v=y,k=0;return(v&8191)==0&&(k+=13,v>>>=13),(v&127)==0&&(k+=7,v>>>=7),(v&15)==0&&(k+=4,v>>>=4),(v&3)==0&&(k+=2,v>>>=2),(v&1)==0&&k++,k},n.prototype.bitLength=function(){var y=this.words[this.length-1],v=this._countBits(y);return(this.length-1)*26+v};function d(M){for(var y=new Array(M.bitLength()),v=0;v<y.length;v++){var k=v/26|0,N=v%26;y[v]=(M.words[k]&1<<N)>>>N}return y}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,v=0;v<this.length;v++){var k=this._zeroBits(this.words[v]);if(y+=k,k!==26)break}return y},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},n.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var v=0;v<y.length;v++)this.words[v]=this.words[v]|y.words[v];return this.strip()},n.prototype.ior=function(y){return t((this.negative|y.negative)==0),this.iuor(y)},n.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},n.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},n.prototype.iuand=function(y){var v;this.length>y.length?v=y:v=this;for(var k=0;k<v.length;k++)this.words[k]=this.words[k]&y.words[k];return this.length=v.length,this.strip()},n.prototype.iand=function(y){return t((this.negative|y.negative)==0),this.iuand(y)},n.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},n.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},n.prototype.iuxor=function(y){var v,k;this.length>y.length?(v=this,k=y):(v=y,k=this);for(var N=0;N<k.length;N++)this.words[N]=v.words[N]^k.words[N];if(this!==v)for(;N<v.length;N++)this.words[N]=v.words[N];return this.length=v.length,this.strip()},n.prototype.ixor=function(y){return t((this.negative|y.negative)==0),this.iuxor(y)},n.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},n.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},n.prototype.inotn=function(y){t(typeof y=="number"&&y>=0);var v=Math.ceil(y/26)|0,k=y%26;this._expand(v),k>0&&v--;for(var N=0;N<v;N++)this.words[N]=~this.words[N]&67108863;return k>0&&(this.words[N]=~this.words[N]&67108863>>26-k),this.strip()},n.prototype.notn=function(y){return this.clone().inotn(y)},n.prototype.setn=function(y,v){t(typeof y=="number"&&y>=0);var k=y/26|0,N=y%26;return this._expand(k+1),v?this.words[k]=this.words[k]|1<<N:this.words[k]=this.words[k]&~(1<<N),this.strip()},n.prototype.iadd=function(y){var v;if(this.negative!==0&&y.negative===0)return this.negative=0,v=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,v=this.isub(y),y.negative=1,v._normSign();var k,N;this.length>y.length?(k=this,N=y):(k=y,N=this);for(var L=0,$=0;$<N.length;$++)v=(k.words[$]|0)+(N.words[$]|0)+L,this.words[$]=v&67108863,L=v>>>26;for(;L!==0&&$<k.length;$++)v=(k.words[$]|0)+L,this.words[$]=v&67108863,L=v>>>26;if(this.length=k.length,L!==0)this.words[this.length]=L,this.length++;else if(k!==this)for(;$<k.length;$++)this.words[$]=k.words[$];return this},n.prototype.add=function(y){var v;return y.negative!==0&&this.negative===0?(y.negative=0,v=this.sub(y),y.negative^=1,v):y.negative===0&&this.negative!==0?(this.negative=0,v=y.sub(this),this.negative=1,v):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},n.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var v=this.iadd(y);return y.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var k=this.cmp(y);if(k===0)return this.negative=0,this.length=1,this.words[0]=0,this;var N,L;k>0?(N=this,L=y):(N=y,L=this);for(var $=0,X=0;X<L.length;X++)v=(N.words[X]|0)-(L.words[X]|0)+$,$=v>>26,this.words[X]=v&67108863;for(;$!==0&&X<N.length;X++)v=(N.words[X]|0)+$,$=v>>26,this.words[X]=v&67108863;if($===0&&X<N.length&&N!==this)for(;X<N.length;X++)this.words[X]=N.words[X];return this.length=Math.max(this.length,X),N!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(y){return this.clone().isub(y)};function p(M,y,v){v.negative=y.negative^M.negative;var k=M.length+y.length|0;v.length=k,k=k-1|0;var N=M.words[0]|0,L=y.words[0]|0,$=N*L,X=$&67108863,q=$/67108864|0;v.words[0]=X;for(var x=1;x<k;x++){for(var z=q>>>26,pe=q&67108863,G=Math.min(x,y.length-1),be=Math.max(0,x-M.length+1);be<=G;be++){var U=x-be|0;N=M.words[U]|0,L=y.words[be]|0,$=N*L+pe,z+=$/67108864|0,pe=$&67108863}v.words[x]=pe|0,q=z|0}return q!==0?v.words[x]=q|0:v.length--,v.strip()}var b=function(y,v,k){var N=y.words,L=v.words,$=k.words,X=0,q,x,z,pe=N[0]|0,G=pe&8191,be=pe>>>13,U=N[1]|0,_=U&8191,ue=U>>>13,fe=N[2]|0,E=fe&8191,T=fe>>>13,D=N[3]|0,K=D&8191,H=D>>>13,ee=N[4]|0,Z=ee&8191,J=ee>>>13,te=N[5]|0,ae=te&8191,ce=te>>>13,ye=N[6]|0,Me=ye&8191,Be=ye>>>13,Je=N[7]|0,$e=Je&8191,nt=Je>>>13,Qe=N[8]|0,Ue=Qe&8191,Ye=Qe>>>13,It=N[9]|0,it=It&8191,je=It>>>13,re=L[0]|0,S=re&8191,Y=re>>>13,Yt=L[1]|0,tt=Yt&8191,Pt=Yt>>>13,Yn=L[2]|0,Ut=Yn&8191,rt=Yn>>>13,Xn=L[3]|0,zt=Xn&8191,Kt=Xn>>>13,Jn=L[4]|0,Vt=Jn&8191,kt=Jn>>>13,ps=L[5]|0,Xt=ps&8191,Jt=ps>>>13,bs=L[6]|0,at=bs&8191,Zt=bs>>>13,ys=L[7]|0,hr=ys&8191,sr=ys>>>13,Jo=L[8]|0,or=Jo&8191,ar=Jo>>>13,ir=L[9]|0,cr=ir&8191,jt=ir>>>13;k.negative=y.negative^v.negative,k.length=19,q=Math.imul(G,S),x=Math.imul(G,Y),x=x+Math.imul(be,S)|0,z=Math.imul(be,Y);var Vs=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(Vs>>>26)|0,Vs&=67108863,q=Math.imul(_,S),x=Math.imul(_,Y),x=x+Math.imul(ue,S)|0,z=Math.imul(ue,Y),q=q+Math.imul(G,tt)|0,x=x+Math.imul(G,Pt)|0,x=x+Math.imul(be,tt)|0,z=z+Math.imul(be,Pt)|0;var oo=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(oo>>>26)|0,oo&=67108863,q=Math.imul(E,S),x=Math.imul(E,Y),x=x+Math.imul(T,S)|0,z=Math.imul(T,Y),q=q+Math.imul(_,tt)|0,x=x+Math.imul(_,Pt)|0,x=x+Math.imul(ue,tt)|0,z=z+Math.imul(ue,Pt)|0,q=q+Math.imul(G,Ut)|0,x=x+Math.imul(G,rt)|0,x=x+Math.imul(be,Ut)|0,z=z+Math.imul(be,rt)|0;var ao=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(ao>>>26)|0,ao&=67108863,q=Math.imul(K,S),x=Math.imul(K,Y),x=x+Math.imul(H,S)|0,z=Math.imul(H,Y),q=q+Math.imul(E,tt)|0,x=x+Math.imul(E,Pt)|0,x=x+Math.imul(T,tt)|0,z=z+Math.imul(T,Pt)|0,q=q+Math.imul(_,Ut)|0,x=x+Math.imul(_,rt)|0,x=x+Math.imul(ue,Ut)|0,z=z+Math.imul(ue,rt)|0,q=q+Math.imul(G,zt)|0,x=x+Math.imul(G,Kt)|0,x=x+Math.imul(be,zt)|0,z=z+Math.imul(be,Kt)|0;var co=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(co>>>26)|0,co&=67108863,q=Math.imul(Z,S),x=Math.imul(Z,Y),x=x+Math.imul(J,S)|0,z=Math.imul(J,Y),q=q+Math.imul(K,tt)|0,x=x+Math.imul(K,Pt)|0,x=x+Math.imul(H,tt)|0,z=z+Math.imul(H,Pt)|0,q=q+Math.imul(E,Ut)|0,x=x+Math.imul(E,rt)|0,x=x+Math.imul(T,Ut)|0,z=z+Math.imul(T,rt)|0,q=q+Math.imul(_,zt)|0,x=x+Math.imul(_,Kt)|0,x=x+Math.imul(ue,zt)|0,z=z+Math.imul(ue,Kt)|0,q=q+Math.imul(G,Vt)|0,x=x+Math.imul(G,kt)|0,x=x+Math.imul(be,Vt)|0,z=z+Math.imul(be,kt)|0;var uo=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(uo>>>26)|0,uo&=67108863,q=Math.imul(ae,S),x=Math.imul(ae,Y),x=x+Math.imul(ce,S)|0,z=Math.imul(ce,Y),q=q+Math.imul(Z,tt)|0,x=x+Math.imul(Z,Pt)|0,x=x+Math.imul(J,tt)|0,z=z+Math.imul(J,Pt)|0,q=q+Math.imul(K,Ut)|0,x=x+Math.imul(K,rt)|0,x=x+Math.imul(H,Ut)|0,z=z+Math.imul(H,rt)|0,q=q+Math.imul(E,zt)|0,x=x+Math.imul(E,Kt)|0,x=x+Math.imul(T,zt)|0,z=z+Math.imul(T,Kt)|0,q=q+Math.imul(_,Vt)|0,x=x+Math.imul(_,kt)|0,x=x+Math.imul(ue,Vt)|0,z=z+Math.imul(ue,kt)|0,q=q+Math.imul(G,Xt)|0,x=x+Math.imul(G,Jt)|0,x=x+Math.imul(be,Xt)|0,z=z+Math.imul(be,Jt)|0;var fo=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(fo>>>26)|0,fo&=67108863,q=Math.imul(Me,S),x=Math.imul(Me,Y),x=x+Math.imul(Be,S)|0,z=Math.imul(Be,Y),q=q+Math.imul(ae,tt)|0,x=x+Math.imul(ae,Pt)|0,x=x+Math.imul(ce,tt)|0,z=z+Math.imul(ce,Pt)|0,q=q+Math.imul(Z,Ut)|0,x=x+Math.imul(Z,rt)|0,x=x+Math.imul(J,Ut)|0,z=z+Math.imul(J,rt)|0,q=q+Math.imul(K,zt)|0,x=x+Math.imul(K,Kt)|0,x=x+Math.imul(H,zt)|0,z=z+Math.imul(H,Kt)|0,q=q+Math.imul(E,Vt)|0,x=x+Math.imul(E,kt)|0,x=x+Math.imul(T,Vt)|0,z=z+Math.imul(T,kt)|0,q=q+Math.imul(_,Xt)|0,x=x+Math.imul(_,Jt)|0,x=x+Math.imul(ue,Xt)|0,z=z+Math.imul(ue,Jt)|0,q=q+Math.imul(G,at)|0,x=x+Math.imul(G,Zt)|0,x=x+Math.imul(be,at)|0,z=z+Math.imul(be,Zt)|0;var dt=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(dt>>>26)|0,dt&=67108863,q=Math.imul($e,S),x=Math.imul($e,Y),x=x+Math.imul(nt,S)|0,z=Math.imul(nt,Y),q=q+Math.imul(Me,tt)|0,x=x+Math.imul(Me,Pt)|0,x=x+Math.imul(Be,tt)|0,z=z+Math.imul(Be,Pt)|0,q=q+Math.imul(ae,Ut)|0,x=x+Math.imul(ae,rt)|0,x=x+Math.imul(ce,Ut)|0,z=z+Math.imul(ce,rt)|0,q=q+Math.imul(Z,zt)|0,x=x+Math.imul(Z,Kt)|0,x=x+Math.imul(J,zt)|0,z=z+Math.imul(J,Kt)|0,q=q+Math.imul(K,Vt)|0,x=x+Math.imul(K,kt)|0,x=x+Math.imul(H,Vt)|0,z=z+Math.imul(H,kt)|0,q=q+Math.imul(E,Xt)|0,x=x+Math.imul(E,Jt)|0,x=x+Math.imul(T,Xt)|0,z=z+Math.imul(T,Jt)|0,q=q+Math.imul(_,at)|0,x=x+Math.imul(_,Zt)|0,x=x+Math.imul(ue,at)|0,z=z+Math.imul(ue,Zt)|0,q=q+Math.imul(G,hr)|0,x=x+Math.imul(G,sr)|0,x=x+Math.imul(be,hr)|0,z=z+Math.imul(be,sr)|0;var lo=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(lo>>>26)|0,lo&=67108863,q=Math.imul(Ue,S),x=Math.imul(Ue,Y),x=x+Math.imul(Ye,S)|0,z=Math.imul(Ye,Y),q=q+Math.imul($e,tt)|0,x=x+Math.imul($e,Pt)|0,x=x+Math.imul(nt,tt)|0,z=z+Math.imul(nt,Pt)|0,q=q+Math.imul(Me,Ut)|0,x=x+Math.imul(Me,rt)|0,x=x+Math.imul(Be,Ut)|0,z=z+Math.imul(Be,rt)|0,q=q+Math.imul(ae,zt)|0,x=x+Math.imul(ae,Kt)|0,x=x+Math.imul(ce,zt)|0,z=z+Math.imul(ce,Kt)|0,q=q+Math.imul(Z,Vt)|0,x=x+Math.imul(Z,kt)|0,x=x+Math.imul(J,Vt)|0,z=z+Math.imul(J,kt)|0,q=q+Math.imul(K,Xt)|0,x=x+Math.imul(K,Jt)|0,x=x+Math.imul(H,Xt)|0,z=z+Math.imul(H,Jt)|0,q=q+Math.imul(E,at)|0,x=x+Math.imul(E,Zt)|0,x=x+Math.imul(T,at)|0,z=z+Math.imul(T,Zt)|0,q=q+Math.imul(_,hr)|0,x=x+Math.imul(_,sr)|0,x=x+Math.imul(ue,hr)|0,z=z+Math.imul(ue,sr)|0,q=q+Math.imul(G,or)|0,x=x+Math.imul(G,ar)|0,x=x+Math.imul(be,or)|0,z=z+Math.imul(be,ar)|0;var W0=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(W0>>>26)|0,W0&=67108863,q=Math.imul(it,S),x=Math.imul(it,Y),x=x+Math.imul(je,S)|0,z=Math.imul(je,Y),q=q+Math.imul(Ue,tt)|0,x=x+Math.imul(Ue,Pt)|0,x=x+Math.imul(Ye,tt)|0,z=z+Math.imul(Ye,Pt)|0,q=q+Math.imul($e,Ut)|0,x=x+Math.imul($e,rt)|0,x=x+Math.imul(nt,Ut)|0,z=z+Math.imul(nt,rt)|0,q=q+Math.imul(Me,zt)|0,x=x+Math.imul(Me,Kt)|0,x=x+Math.imul(Be,zt)|0,z=z+Math.imul(Be,Kt)|0,q=q+Math.imul(ae,Vt)|0,x=x+Math.imul(ae,kt)|0,x=x+Math.imul(ce,Vt)|0,z=z+Math.imul(ce,kt)|0,q=q+Math.imul(Z,Xt)|0,x=x+Math.imul(Z,Jt)|0,x=x+Math.imul(J,Xt)|0,z=z+Math.imul(J,Jt)|0,q=q+Math.imul(K,at)|0,x=x+Math.imul(K,Zt)|0,x=x+Math.imul(H,at)|0,z=z+Math.imul(H,Zt)|0,q=q+Math.imul(E,hr)|0,x=x+Math.imul(E,sr)|0,x=x+Math.imul(T,hr)|0,z=z+Math.imul(T,sr)|0,q=q+Math.imul(_,or)|0,x=x+Math.imul(_,ar)|0,x=x+Math.imul(ue,or)|0,z=z+Math.imul(ue,ar)|0,q=q+Math.imul(G,cr)|0,x=x+Math.imul(G,jt)|0,x=x+Math.imul(be,cr)|0,z=z+Math.imul(be,jt)|0;var ie=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(ie>>>26)|0,ie&=67108863,q=Math.imul(it,tt),x=Math.imul(it,Pt),x=x+Math.imul(je,tt)|0,z=Math.imul(je,Pt),q=q+Math.imul(Ue,Ut)|0,x=x+Math.imul(Ue,rt)|0,x=x+Math.imul(Ye,Ut)|0,z=z+Math.imul(Ye,rt)|0,q=q+Math.imul($e,zt)|0,x=x+Math.imul($e,Kt)|0,x=x+Math.imul(nt,zt)|0,z=z+Math.imul(nt,Kt)|0,q=q+Math.imul(Me,Vt)|0,x=x+Math.imul(Me,kt)|0,x=x+Math.imul(Be,Vt)|0,z=z+Math.imul(Be,kt)|0,q=q+Math.imul(ae,Xt)|0,x=x+Math.imul(ae,Jt)|0,x=x+Math.imul(ce,Xt)|0,z=z+Math.imul(ce,Jt)|0,q=q+Math.imul(Z,at)|0,x=x+Math.imul(Z,Zt)|0,x=x+Math.imul(J,at)|0,z=z+Math.imul(J,Zt)|0,q=q+Math.imul(K,hr)|0,x=x+Math.imul(K,sr)|0,x=x+Math.imul(H,hr)|0,z=z+Math.imul(H,sr)|0,q=q+Math.imul(E,or)|0,x=x+Math.imul(E,ar)|0,x=x+Math.imul(T,or)|0,z=z+Math.imul(T,ar)|0,q=q+Math.imul(_,cr)|0,x=x+Math.imul(_,jt)|0,x=x+Math.imul(ue,cr)|0,z=z+Math.imul(ue,jt)|0;var xt=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(xt>>>26)|0,xt&=67108863,q=Math.imul(it,Ut),x=Math.imul(it,rt),x=x+Math.imul(je,Ut)|0,z=Math.imul(je,rt),q=q+Math.imul(Ue,zt)|0,x=x+Math.imul(Ue,Kt)|0,x=x+Math.imul(Ye,zt)|0,z=z+Math.imul(Ye,Kt)|0,q=q+Math.imul($e,Vt)|0,x=x+Math.imul($e,kt)|0,x=x+Math.imul(nt,Vt)|0,z=z+Math.imul(nt,kt)|0,q=q+Math.imul(Me,Xt)|0,x=x+Math.imul(Me,Jt)|0,x=x+Math.imul(Be,Xt)|0,z=z+Math.imul(Be,Jt)|0,q=q+Math.imul(ae,at)|0,x=x+Math.imul(ae,Zt)|0,x=x+Math.imul(ce,at)|0,z=z+Math.imul(ce,Zt)|0,q=q+Math.imul(Z,hr)|0,x=x+Math.imul(Z,sr)|0,x=x+Math.imul(J,hr)|0,z=z+Math.imul(J,sr)|0,q=q+Math.imul(K,or)|0,x=x+Math.imul(K,ar)|0,x=x+Math.imul(H,or)|0,z=z+Math.imul(H,ar)|0,q=q+Math.imul(E,cr)|0,x=x+Math.imul(E,jt)|0,x=x+Math.imul(T,cr)|0,z=z+Math.imul(T,jt)|0;var vt=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(vt>>>26)|0,vt&=67108863,q=Math.imul(it,zt),x=Math.imul(it,Kt),x=x+Math.imul(je,zt)|0,z=Math.imul(je,Kt),q=q+Math.imul(Ue,Vt)|0,x=x+Math.imul(Ue,kt)|0,x=x+Math.imul(Ye,Vt)|0,z=z+Math.imul(Ye,kt)|0,q=q+Math.imul($e,Xt)|0,x=x+Math.imul($e,Jt)|0,x=x+Math.imul(nt,Xt)|0,z=z+Math.imul(nt,Jt)|0,q=q+Math.imul(Me,at)|0,x=x+Math.imul(Me,Zt)|0,x=x+Math.imul(Be,at)|0,z=z+Math.imul(Be,Zt)|0,q=q+Math.imul(ae,hr)|0,x=x+Math.imul(ae,sr)|0,x=x+Math.imul(ce,hr)|0,z=z+Math.imul(ce,sr)|0,q=q+Math.imul(Z,or)|0,x=x+Math.imul(Z,ar)|0,x=x+Math.imul(J,or)|0,z=z+Math.imul(J,ar)|0,q=q+Math.imul(K,cr)|0,x=x+Math.imul(K,jt)|0,x=x+Math.imul(H,cr)|0,z=z+Math.imul(H,jt)|0;var gt=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(gt>>>26)|0,gt&=67108863,q=Math.imul(it,Vt),x=Math.imul(it,kt),x=x+Math.imul(je,Vt)|0,z=Math.imul(je,kt),q=q+Math.imul(Ue,Xt)|0,x=x+Math.imul(Ue,Jt)|0,x=x+Math.imul(Ye,Xt)|0,z=z+Math.imul(Ye,Jt)|0,q=q+Math.imul($e,at)|0,x=x+Math.imul($e,Zt)|0,x=x+Math.imul(nt,at)|0,z=z+Math.imul(nt,Zt)|0,q=q+Math.imul(Me,hr)|0,x=x+Math.imul(Me,sr)|0,x=x+Math.imul(Be,hr)|0,z=z+Math.imul(Be,sr)|0,q=q+Math.imul(ae,or)|0,x=x+Math.imul(ae,ar)|0,x=x+Math.imul(ce,or)|0,z=z+Math.imul(ce,ar)|0,q=q+Math.imul(Z,cr)|0,x=x+Math.imul(Z,jt)|0,x=x+Math.imul(J,cr)|0,z=z+Math.imul(J,jt)|0;var Ua=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(Ua>>>26)|0,Ua&=67108863,q=Math.imul(it,Xt),x=Math.imul(it,Jt),x=x+Math.imul(je,Xt)|0,z=Math.imul(je,Jt),q=q+Math.imul(Ue,at)|0,x=x+Math.imul(Ue,Zt)|0,x=x+Math.imul(Ye,at)|0,z=z+Math.imul(Ye,Zt)|0,q=q+Math.imul($e,hr)|0,x=x+Math.imul($e,sr)|0,x=x+Math.imul(nt,hr)|0,z=z+Math.imul(nt,sr)|0,q=q+Math.imul(Me,or)|0,x=x+Math.imul(Me,ar)|0,x=x+Math.imul(Be,or)|0,z=z+Math.imul(Be,ar)|0,q=q+Math.imul(ae,cr)|0,x=x+Math.imul(ae,jt)|0,x=x+Math.imul(ce,cr)|0,z=z+Math.imul(ce,jt)|0;var Zo=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(Zo>>>26)|0,Zo&=67108863,q=Math.imul(it,at),x=Math.imul(it,Zt),x=x+Math.imul(je,at)|0,z=Math.imul(je,Zt),q=q+Math.imul(Ue,hr)|0,x=x+Math.imul(Ue,sr)|0,x=x+Math.imul(Ye,hr)|0,z=z+Math.imul(Ye,sr)|0,q=q+Math.imul($e,or)|0,x=x+Math.imul($e,ar)|0,x=x+Math.imul(nt,or)|0,z=z+Math.imul(nt,ar)|0,q=q+Math.imul(Me,cr)|0,x=x+Math.imul(Me,jt)|0,x=x+Math.imul(Be,cr)|0,z=z+Math.imul(Be,jt)|0;var dd=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(dd>>>26)|0,dd&=67108863,q=Math.imul(it,hr),x=Math.imul(it,sr),x=x+Math.imul(je,hr)|0,z=Math.imul(je,sr),q=q+Math.imul(Ue,or)|0,x=x+Math.imul(Ue,ar)|0,x=x+Math.imul(Ye,or)|0,z=z+Math.imul(Ye,ar)|0,q=q+Math.imul($e,cr)|0,x=x+Math.imul($e,jt)|0,x=x+Math.imul(nt,cr)|0,z=z+Math.imul(nt,jt)|0;var xi=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(xi>>>26)|0,xi&=67108863,q=Math.imul(it,or),x=Math.imul(it,ar),x=x+Math.imul(je,or)|0,z=Math.imul(je,ar),q=q+Math.imul(Ue,cr)|0,x=x+Math.imul(Ue,jt)|0,x=x+Math.imul(Ye,cr)|0,z=z+Math.imul(Ye,jt)|0;var q2=(X+q|0)+((x&8191)<<13)|0;X=(z+(x>>>13)|0)+(q2>>>26)|0,q2&=67108863,q=Math.imul(it,cr),x=Math.imul(it,jt),x=x+Math.imul(je,cr)|0,z=Math.imul(je,jt);var B2=(X+q|0)+((x&8191)<<13)|0;return X=(z+(x>>>13)|0)+(B2>>>26)|0,B2&=67108863,$[0]=Vs,$[1]=oo,$[2]=ao,$[3]=co,$[4]=uo,$[5]=fo,$[6]=dt,$[7]=lo,$[8]=W0,$[9]=ie,$[10]=xt,$[11]=vt,$[12]=gt,$[13]=Ua,$[14]=Zo,$[15]=dd,$[16]=xi,$[17]=q2,$[18]=B2,X!==0&&($[19]=X,k.length++),k};Math.imul||(b=p);function g(M,y,v){v.negative=y.negative^M.negative,v.length=M.length+y.length;for(var k=0,N=0,L=0;L<v.length-1;L++){var $=N;N=0;for(var X=k&67108863,q=Math.min(L,y.length-1),x=Math.max(0,L-M.length+1);x<=q;x++){var z=L-x,pe=M.words[z]|0,G=y.words[x]|0,be=pe*G,U=be&67108863;$=$+(be/67108864|0)|0,U=U+X|0,X=U&67108863,$=$+(U>>>26)|0,N+=$>>>26,$&=67108863}v.words[L]=X,k=$,$=N}return k!==0?v.words[L]=k:v.length--,v.strip()}function m(M,y,v){var k=new w;return k.mulp(M,y,v)}n.prototype.mulTo=function(y,v){var k,N=this.length+y.length;return this.length===10&&y.length===10?k=b(this,y,v):N<63?k=p(this,y,v):N<1024?k=g(this,y,v):k=m(this,y,v),k};function w(M,y){this.x=M,this.y=y}w.prototype.makeRBT=function(y){for(var v=new Array(y),k=n.prototype._countBits(y)-1,N=0;N<y;N++)v[N]=this.revBin(N,k,y);return v},w.prototype.revBin=function(y,v,k){if(y===0||y===k-1)return y;for(var N=0,L=0;L<v;L++)N|=(y&1)<<v-L-1,y>>=1;return N},w.prototype.permute=function(y,v,k,N,L,$){for(var X=0;X<$;X++)N[X]=v[y[X]],L[X]=k[y[X]]},w.prototype.transform=function(y,v,k,N,L,$){this.permute($,y,v,k,N,L);for(var X=1;X<L;X<<=1)for(var q=X<<1,x=Math.cos(2*Math.PI/q),z=Math.sin(2*Math.PI/q),pe=0;pe<L;pe+=q)for(var G=x,be=z,U=0;U<X;U++){var _=k[pe+U],ue=N[pe+U],fe=k[pe+U+X],E=N[pe+U+X],T=G*fe-be*E;E=G*E+be*fe,fe=T,k[pe+U]=_+fe,N[pe+U]=ue+E,k[pe+U+X]=_-fe,N[pe+U+X]=ue-E,U!==q&&(T=x*G-z*be,be=x*be+z*G,G=T)}},w.prototype.guessLen13b=function(y,v){var k=Math.max(v,y)|1,N=k&1,L=0;for(k=k/2|0;k;k=k>>>1)L++;return 1<<L+1+N},w.prototype.conjugate=function(y,v,k){if(!(k<=1))for(var N=0;N<k/2;N++){var L=y[N];y[N]=y[k-N-1],y[k-N-1]=L,L=v[N],v[N]=-v[k-N-1],v[k-N-1]=-L}},w.prototype.normalize13b=function(y,v){for(var k=0,N=0;N<v/2;N++){var L=Math.round(y[2*N+1]/v)*8192+Math.round(y[2*N]/v)+k;y[N]=L&67108863,L<67108864?k=0:k=L/67108864|0}return y},w.prototype.convert13b=function(y,v,k,N){for(var L=0,$=0;$<v;$++)L=L+(y[$]|0),k[2*$]=L&8191,L=L>>>13,k[2*$+1]=L&8191,L=L>>>13;for($=2*v;$<N;++$)k[$]=0;t(L===0),t((L&~8191)==0)},w.prototype.stub=function(y){for(var v=new Array(y),k=0;k<y;k++)v[k]=0;return v},w.prototype.mulp=function(y,v,k){var N=2*this.guessLen13b(y.length,v.length),L=this.makeRBT(N),$=this.stub(N),X=new Array(N),q=new Array(N),x=new Array(N),z=new Array(N),pe=new Array(N),G=new Array(N),be=k.words;be.length=N,this.convert13b(y.words,y.length,X,N),this.convert13b(v.words,v.length,z,N),this.transform(X,$,q,x,N,L),this.transform(z,$,pe,G,N,L);for(var U=0;U<N;U++){var _=q[U]*pe[U]-x[U]*G[U];x[U]=q[U]*G[U]+x[U]*pe[U],q[U]=_}return this.conjugate(q,x,N),this.transform(q,x,be,$,N,L),this.conjugate(be,$,N),this.normalize13b(be,N),k.negative=y.negative^v.negative,k.length=y.length+v.length,k.strip()},n.prototype.mul=function(y){var v=new n(null);return v.words=new Array(this.length+y.length),this.mulTo(y,v)},n.prototype.mulf=function(y){var v=new n(null);return v.words=new Array(this.length+y.length),m(this,y,v)},n.prototype.imul=function(y){return this.clone().mulTo(y,this)},n.prototype.imuln=function(y){t(typeof y=="number"),t(y<67108864);for(var v=0,k=0;k<this.length;k++){var N=(this.words[k]|0)*y,L=(N&67108863)+(v&67108863);v>>=26,v+=N/67108864|0,v+=L>>>26,this.words[k]=L&67108863}return v!==0&&(this.words[k]=v,this.length++),this},n.prototype.muln=function(y){return this.clone().imuln(y)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(y){var v=d(y);if(v.length===0)return new n(1);for(var k=this,N=0;N<v.length&&v[N]===0;N++,k=k.sqr());if(++N<v.length)for(var L=k.sqr();N<v.length;N++,L=L.sqr())v[N]!==0&&(k=k.mul(L));return k},n.prototype.iushln=function(y){t(typeof y=="number"&&y>=0);var v=y%26,k=(y-v)/26,N=67108863>>>26-v<<26-v,L;if(v!==0){var $=0;for(L=0;L<this.length;L++){var X=this.words[L]&N,q=(this.words[L]|0)-X<<v;this.words[L]=q|$,$=X>>>26-v}$&&(this.words[L]=$,this.length++)}if(k!==0){for(L=this.length-1;L>=0;L--)this.words[L+k]=this.words[L];for(L=0;L<k;L++)this.words[L]=0;this.length+=k}return this.strip()},n.prototype.ishln=function(y){return t(this.negative===0),this.iushln(y)},n.prototype.iushrn=function(y,v,k){t(typeof y=="number"&&y>=0);var N;v?N=(v-v%26)/26:N=0;var L=y%26,$=Math.min((y-L)/26,this.length),X=67108863^67108863>>>L<<L,q=k;if(N-=$,N=Math.max(0,N),q){for(var x=0;x<$;x++)q.words[x]=this.words[x];q.length=$}if($!==0)if(this.length>$)for(this.length-=$,x=0;x<this.length;x++)this.words[x]=this.words[x+$];else this.words[0]=0,this.length=1;var z=0;for(x=this.length-1;x>=0&&(z!==0||x>=N);x--){var pe=this.words[x]|0;this.words[x]=z<<26-L|pe>>>L,z=pe&X}return q&&z!==0&&(q.words[q.length++]=z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(y,v,k){return t(this.negative===0),this.iushrn(y,v,k)},n.prototype.shln=function(y){return this.clone().ishln(y)},n.prototype.ushln=function(y){return this.clone().iushln(y)},n.prototype.shrn=function(y){return this.clone().ishrn(y)},n.prototype.ushrn=function(y){return this.clone().iushrn(y)},n.prototype.testn=function(y){t(typeof y=="number"&&y>=0);var v=y%26,k=(y-v)/26,N=1<<v;if(this.length<=k)return!1;var L=this.words[k];return!!(L&N)},n.prototype.imaskn=function(y){t(typeof y=="number"&&y>=0);var v=y%26,k=(y-v)/26;if(t(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(v!==0&&k++,this.length=Math.min(k,this.length),v!==0){var N=67108863^67108863>>>v<<v;this.words[this.length-1]&=N}return this.strip()},n.prototype.maskn=function(y){return this.clone().imaskn(y)},n.prototype.iaddn=function(y){return t(typeof y=="number"),t(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(this.words[0]|0)<y?(this.words[0]=y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},n.prototype._iaddn=function(y){this.words[0]+=y;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},n.prototype.isubn=function(y){if(t(typeof y=="number"),t(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this.strip()},n.prototype.addn=function(y){return this.clone().iaddn(y)},n.prototype.subn=function(y){return this.clone().isubn(y)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(y,v,k){var N=y.length+k,L;this._expand(N);var $,X=0;for(L=0;L<y.length;L++){$=(this.words[L+k]|0)+X;var q=(y.words[L]|0)*v;$-=q&67108863,X=($>>26)-(q/67108864|0),this.words[L+k]=$&67108863}for(;L<this.length-k;L++)$=(this.words[L+k]|0)+X,X=$>>26,this.words[L+k]=$&67108863;if(X===0)return this.strip();for(t(X===-1),X=0,L=0;L<this.length;L++)$=-(this.words[L]|0)+X,X=$>>26,this.words[L]=$&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(y,v){var k=this.length-y.length,N=this.clone(),L=y,$=L.words[L.length-1]|0,X=this._countBits($);k=26-X,k!==0&&(L=L.ushln(k),N.iushln(k),$=L.words[L.length-1]|0);var q=N.length-L.length,x;if(v!=="mod"){x=new n(null),x.length=q+1,x.words=new Array(x.length);for(var z=0;z<x.length;z++)x.words[z]=0}var pe=N.clone()._ishlnsubmul(L,1,q);pe.negative===0&&(N=pe,x&&(x.words[q]=1));for(var G=q-1;G>=0;G--){var be=(N.words[L.length+G]|0)*67108864+(N.words[L.length+G-1]|0);for(be=Math.min(be/$|0,67108863),N._ishlnsubmul(L,be,G);N.negative!==0;)be--,N.negative=0,N._ishlnsubmul(L,1,G),N.isZero()||(N.negative^=1);x&&(x.words[G]=be)}return x&&x.strip(),N.strip(),v!=="div"&&k!==0&&N.iushrn(k),{div:x||null,mod:N}},n.prototype.divmod=function(y,v,k){if(t(!y.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var N,L,$;return this.negative!==0&&y.negative===0?($=this.neg().divmod(y,v),v!=="mod"&&(N=$.div.neg()),v!=="div"&&(L=$.mod.neg(),k&&L.negative!==0&&L.iadd(y)),{div:N,mod:L}):this.negative===0&&y.negative!==0?($=this.divmod(y.neg(),v),v!=="mod"&&(N=$.div.neg()),{div:N,mod:$.mod}):(this.negative&y.negative)!=0?($=this.neg().divmod(y.neg(),v),v!=="div"&&(L=$.mod.neg(),k&&L.negative!==0&&L.isub(y)),{div:$.div,mod:L}):y.length>this.length||this.cmp(y)<0?{div:new n(0),mod:this}:y.length===1?v==="div"?{div:this.divn(y.words[0]),mod:null}:v==="mod"?{div:null,mod:new n(this.modn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new n(this.modn(y.words[0]))}:this._wordDiv(y,v)},n.prototype.div=function(y){return this.divmod(y,"div",!1).div},n.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},n.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},n.prototype.divRound=function(y){var v=this.divmod(y);if(v.mod.isZero())return v.div;var k=v.div.negative!==0?v.mod.isub(y):v.mod,N=y.ushrn(1),L=y.andln(1),$=k.cmp(N);return $<0||L===1&&$===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},n.prototype.modn=function(y){t(y<=67108863);for(var v=(1<<26)%y,k=0,N=this.length-1;N>=0;N--)k=(v*k+(this.words[N]|0))%y;return k},n.prototype.idivn=function(y){t(y<=67108863);for(var v=0,k=this.length-1;k>=0;k--){var N=(this.words[k]|0)+v*67108864;this.words[k]=N/y|0,v=N%y}return this.strip()},n.prototype.divn=function(y){return this.clone().idivn(y)},n.prototype.egcd=function(y){t(y.negative===0),t(!y.isZero());var v=this,k=y.clone();v.negative!==0?v=v.umod(y):v=v.clone();for(var N=new n(1),L=new n(0),$=new n(0),X=new n(1),q=0;v.isEven()&&k.isEven();)v.iushrn(1),k.iushrn(1),++q;for(var x=k.clone(),z=v.clone();!v.isZero();){for(var pe=0,G=1;(v.words[0]&G)==0&&pe<26;++pe,G<<=1);if(pe>0)for(v.iushrn(pe);pe-- >0;)(N.isOdd()||L.isOdd())&&(N.iadd(x),L.isub(z)),N.iushrn(1),L.iushrn(1);for(var be=0,U=1;(k.words[0]&U)==0&&be<26;++be,U<<=1);if(be>0)for(k.iushrn(be);be-- >0;)($.isOdd()||X.isOdd())&&($.iadd(x),X.isub(z)),$.iushrn(1),X.iushrn(1);v.cmp(k)>=0?(v.isub(k),N.isub($),L.isub(X)):(k.isub(v),$.isub(N),X.isub(L))}return{a:$,b:X,gcd:k.iushln(q)}},n.prototype._invmp=function(y){t(y.negative===0),t(!y.isZero());var v=this,k=y.clone();v.negative!==0?v=v.umod(y):v=v.clone();for(var N=new n(1),L=new n(0),$=k.clone();v.cmpn(1)>0&&k.cmpn(1)>0;){for(var X=0,q=1;(v.words[0]&q)==0&&X<26;++X,q<<=1);if(X>0)for(v.iushrn(X);X-- >0;)N.isOdd()&&N.iadd($),N.iushrn(1);for(var x=0,z=1;(k.words[0]&z)==0&&x<26;++x,z<<=1);if(x>0)for(k.iushrn(x);x-- >0;)L.isOdd()&&L.iadd($),L.iushrn(1);v.cmp(k)>=0?(v.isub(k),N.isub(L)):(k.isub(v),L.isub(N))}var pe;return v.cmpn(1)===0?pe=N:pe=L,pe.cmpn(0)<0&&pe.iadd(y),pe},n.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var v=this.clone(),k=y.clone();v.negative=0,k.negative=0;for(var N=0;v.isEven()&&k.isEven();N++)v.iushrn(1),k.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;k.isEven();)k.iushrn(1);var L=v.cmp(k);if(L<0){var $=v;v=k,k=$}else if(L===0||k.cmpn(1)===0)break;v.isub(k)}while(!0);return k.iushln(N)},n.prototype.invm=function(y){return this.egcd(y).a.umod(y)},n.prototype.isEven=function(){return(this.words[0]&1)==0},n.prototype.isOdd=function(){return(this.words[0]&1)==1},n.prototype.andln=function(y){return this.words[0]&y},n.prototype.bincn=function(y){t(typeof y=="number");var v=y%26,k=(y-v)/26,N=1<<v;if(this.length<=k)return this._expand(k+1),this.words[k]|=N,this;for(var L=N,$=k;L!==0&&$<this.length;$++){var X=this.words[$]|0;X+=L,L=X>>>26,X&=67108863,this.words[$]=X}return L!==0&&(this.words[$]=L,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(y){var v=y<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this.strip();var k;if(this.length>1)k=1;else{v&&(y=-y),t(y<=67108863,"Number is too big");var N=this.words[0]|0;k=N===y?0:N<y?-1:1}return this.negative!==0?-k|0:k},n.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var v=this.ucmp(y);return this.negative!==0?-v|0:v},n.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var v=0,k=this.length-1;k>=0;k--){var N=this.words[k]|0,L=y.words[k]|0;if(N!==L){N<L?v=-1:N>L&&(v=1);break}}return v},n.prototype.gtn=function(y){return this.cmpn(y)===1},n.prototype.gt=function(y){return this.cmp(y)===1},n.prototype.gten=function(y){return this.cmpn(y)>=0},n.prototype.gte=function(y){return this.cmp(y)>=0},n.prototype.ltn=function(y){return this.cmpn(y)===-1},n.prototype.lt=function(y){return this.cmp(y)===-1},n.prototype.lten=function(y){return this.cmpn(y)<=0},n.prototype.lte=function(y){return this.cmp(y)<=0},n.prototype.eqn=function(y){return this.cmpn(y)===0},n.prototype.eq=function(y){return this.cmp(y)===0},n.red=function(y){return new ne(y)},n.prototype.toRed=function(y){return t(!this.red,"Already a number in reduction context"),t(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},n.prototype.fromRed=function(){return t(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(y){return this.red=y,this},n.prototype.forceRed=function(y){return t(!this.red,"Already a number in reduction context"),this._forceRed(y)},n.prototype.redAdd=function(y){return t(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},n.prototype.redIAdd=function(y){return t(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},n.prototype.redSub=function(y){return t(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},n.prototype.redISub=function(y){return t(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},n.prototype.redShl=function(y){return t(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},n.prototype.redMul=function(y){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},n.prototype.redIMul=function(y){return t(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},n.prototype.redSqr=function(){return t(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return t(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return t(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return t(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return t(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(y){return t(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var A={k256:null,p224:null,p192:null,p25519:null};function I(M,y){this.name=M,this.p=new n(y,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}I.prototype._tmp=function(){var y=new n(null);return y.words=new Array(Math.ceil(this.n/13)),y},I.prototype.ireduce=function(y){var v=y,k;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),k=v.bitLength();while(k>this.n);var N=k<this.n?-1:v.ucmp(this.p);return N===0?(v.words[0]=0,v.length=1):N>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},I.prototype.split=function(y,v){y.iushrn(this.n,0,v)},I.prototype.imulK=function(y){return y.imul(this.k)};function F(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,I),F.prototype.split=function(y,v){for(var k=4194303,N=Math.min(y.length,9),L=0;L<N;L++)v.words[L]=y.words[L];if(v.length=N,y.length<=9){y.words[0]=0,y.length=1;return}var $=y.words[9];for(v.words[v.length++]=$&k,L=10;L<y.length;L++){var X=y.words[L]|0;y.words[L-10]=(X&k)<<4|$>>>22,$=X}$>>>=22,y.words[L-10]=$,$===0&&y.length>10?y.length-=10:y.length-=9},F.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var v=0,k=0;k<y.length;k++){var N=y.words[k]|0;v+=N*977,y.words[k]=v&67108863,v=N*64+(v/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y};function V(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(V,I);function P(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(P,I);function W(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(W,I),W.prototype.imulK=function(y){for(var v=0,k=0;k<y.length;k++){var N=(y.words[k]|0)*19+v,L=N&67108863;N>>>=26,y.words[k]=L,v=N}return v!==0&&(y.words[y.length++]=v),y},n._prime=function(y){if(A[y])return A[y];var v;if(y==="k256")v=new F;else if(y==="p224")v=new V;else if(y==="p192")v=new P;else if(y==="p25519")v=new W;else throw new Error("Unknown prime "+y);return A[y]=v,v};function ne(M){if(typeof M=="string"){var y=n._prime(M);this.m=y.p,this.prime=y}else t(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}ne.prototype._verify1=function(y){t(y.negative===0,"red works only with positives"),t(y.red,"red works only with red numbers")},ne.prototype._verify2=function(y,v){t((y.negative|v.negative)==0,"red works only with positives"),t(y.red&&y.red===v.red,"red works only with red numbers")},ne.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):y.umod(this.m)._forceRed(this)},ne.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},ne.prototype.add=function(y,v){this._verify2(y,v);var k=y.add(v);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},ne.prototype.iadd=function(y,v){this._verify2(y,v);var k=y.iadd(v);return k.cmp(this.m)>=0&&k.isub(this.m),k},ne.prototype.sub=function(y,v){this._verify2(y,v);var k=y.sub(v);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},ne.prototype.isub=function(y,v){this._verify2(y,v);var k=y.isub(v);return k.cmpn(0)<0&&k.iadd(this.m),k},ne.prototype.shl=function(y,v){return this._verify1(y),this.imod(y.ushln(v))},ne.prototype.imul=function(y,v){return this._verify2(y,v),this.imod(y.imul(v))},ne.prototype.mul=function(y,v){return this._verify2(y,v),this.imod(y.mul(v))},ne.prototype.isqr=function(y){return this.imul(y,y.clone())},ne.prototype.sqr=function(y){return this.mul(y,y)},ne.prototype.sqrt=function(y){if(y.isZero())return y.clone();var v=this.m.andln(3);if(t(v%2==1),v===3){var k=this.m.add(new n(1)).iushrn(2);return this.pow(y,k)}for(var N=this.m.subn(1),L=0;!N.isZero()&&N.andln(1)===0;)L++,N.iushrn(1);t(!N.isZero());var $=new n(1).toRed(this),X=$.redNeg(),q=this.m.subn(1).iushrn(1),x=this.m.bitLength();for(x=new n(2*x*x).toRed(this);this.pow(x,q).cmp(X)!==0;)x.redIAdd(X);for(var z=this.pow(x,N),pe=this.pow(y,N.addn(1).iushrn(1)),G=this.pow(y,N),be=L;G.cmp($)!==0;){for(var U=G,_=0;U.cmp($)!==0;_++)U=U.redSqr();t(_<be);var ue=this.pow(z,new n(1).iushln(be-_-1));pe=pe.redMul(ue),z=ue.redSqr(),G=G.redMul(z),be=_}return pe},ne.prototype.invm=function(y){var v=y._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},ne.prototype.pow=function(y,v){if(v.isZero())return new n(1).toRed(this);if(v.cmpn(1)===0)return y.clone();var k=4,N=new Array(1<<k);N[0]=new n(1).toRed(this),N[1]=y;for(var L=2;L<N.length;L++)N[L]=this.mul(N[L-1],y);var $=N[0],X=0,q=0,x=v.bitLength()%26;for(x===0&&(x=26),L=v.length-1;L>=0;L--){for(var z=v.words[L],pe=x-1;pe>=0;pe--){var G=z>>pe&1;if($!==N[0]&&($=this.sqr($)),G===0&&X===0){q=0;continue}X<<=1,X|=G,q++,!(q!==k&&(L!==0||pe!==0))&&($=this.mul($,N[X]),q=0,X=0)}x=26}return $},ne.prototype.convertTo=function(y){var v=y.umod(this.m);return v===y?v.clone():v},ne.prototype.convertFrom=function(y){var v=y.clone();return v.red=null,v},n.mont=function(y){return new Q(y)};function Q(M){ne.call(this,M),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Q,ne),Q.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},Q.prototype.convertFrom=function(y){var v=this.imod(y.mul(this.rinv));return v.red=null,v},Q.prototype.imul=function(y,v){if(y.isZero()||v.isZero())return y.words[0]=0,y.length=1,y;var k=y.imul(v),N=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=k.isub(N).iushrn(this.shift),$=L;return L.cmp(this.m)>=0?$=L.isub(this.m):L.cmpn(0)<0&&($=L.iadd(this.m)),$._forceRed(this)},Q.prototype.mul=function(y,v){if(y.isZero()||v.isZero())return new n(0)._forceRed(this);var k=y.mul(v),N=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),L=k.isub(N).iushrn(this.shift),$=L;return L.cmp(this.m)>=0?$=L.isub(this.m):L.cmpn(0)<0&&($=L.iadd(this.m)),$._forceRed(this)},Q.prototype.invm=function(y){var v=this.imod(y._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(typeof VA=="undefined"||VA,YG)});var Of=h((Cnr,XG)=>{XG.exports=JG;function JG(r,e){if(!r)throw new Error(e||"Assertion failed")}JG.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)}});var jA=h(ZG=>{"use strict";var i4=ZG;function tJe(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r!="string"){for(var i=0;i<r.length;i++)t[i]=r[i]|0;return t}if(e==="hex"){r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!=0&&(r="0"+r);for(var i=0;i<r.length;i+=2)t.push(parseInt(r[i]+r[i+1],16))}else for(var i=0;i<r.length;i++){var n=r.charCodeAt(i),s=n>>8,o=n&255;s?t.push(s,o):t.push(o)}return t}i4.toArray=tJe;function QG(r){return r.length===1?"0"+r:r}i4.zero2=QG;function e$(r){for(var e="",t=0;t<r.length;t++)e+=QG(r[t].toString(16));return e}i4.toHex=e$;i4.encode=function(e,t){return t==="hex"?e$(e):e}});var $s=h(t$=>{"use strict";var aa=t$,rJe=rc(),iJe=Of(),n4=jA();aa.assert=iJe;aa.toArray=n4.toArray;aa.zero2=n4.zero2;aa.toHex=n4.toHex;aa.encode=n4.encode;function nJe(r,e,t){var i=new Array(Math.max(r.bitLength(),t)+1);i.fill(0);for(var n=1<<e+1,s=r.clone(),o=0;o<i.length;o++){var a,c=s.andln(n-1);s.isOdd()?(c>(n>>1)-1?a=(n>>1)-c:a=c,s.isubn(a)):a=0,i[o]=a,s.iushrn(1)}return i}aa.getNAF=nJe;function sJe(r,e){var t=[[],[]];r=r.clone(),e=e.clone();for(var i=0,n=0,s;r.cmpn(-i)>0||e.cmpn(-n)>0;){var o=r.andln(3)+i&3,a=e.andln(3)+n&3;o===3&&(o=-1),a===3&&(a=-1);var c;(o&1)==0?c=0:(s=r.andln(7)+i&7,(s===3||s===5)&&a===2?c=-o:c=o),t[0].push(c);var u;(a&1)==0?u=0:(s=e.andln(7)+n&7,(s===3||s===5)&&o===2?u=-a:u=a),t[1].push(u),2*i===c+1&&(i=1-i),2*n===u+1&&(n=1-n),r.iushrn(1),e.iushrn(1)}return t}aa.getJSF=sJe;function oJe(r,e,t){var i="_"+e;r.prototype[e]=function(){return this[i]!==void 0?this[i]:this[i]=t.call(this)}}aa.cachedProperty=oJe;function aJe(r){return typeof r=="string"?aa.toArray(r,"hex"):r}aa.parseBytes=aJe;function cJe(r){return new rJe(r,"hex","le")}aa.intFromLE=cJe});var WA=h((Pnr,HA)=>{var GA;HA.exports=function(e){return GA||(GA=new Lf(null)),GA.generate(e)};function Lf(r){this.rand=r}HA.exports.Rand=Lf;Lf.prototype.generate=function(e){return this._rand(e)};Lf.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),i=0;i<t.length;i++)t[i]=this.rand.getByte();return t};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?Lf.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?Lf.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:typeof window=="object"&&(Lf.prototype._rand=function(){throw new Error("Not implemented yet")});else try{if($A=ny(),typeof $A.randomBytes!="function")throw new Error("Not supported");Lf.prototype._rand=function(e){return $A.randomBytes(e)}}catch(r){}var $A});var wy=h((Dnr,r$)=>{"use strict";var ll=rc(),xy=$s(),s4=xy.getNAF,uJe=xy.getJSF,o4=xy.assert;function Ff(r,e){this.type=r,this.p=new ll(e.p,16),this.red=e.prime?ll.red(e.prime):ll.mont(this.p),this.zero=new ll(0).toRed(this.red),this.one=new ll(1).toRed(this.red),this.two=new ll(2).toRed(this.red),this.n=e.n&&new ll(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}r$.exports=Ff;Ff.prototype.point=function(){throw new Error("Not implemented")};Ff.prototype.validate=function(){throw new Error("Not implemented")};Ff.prototype._fixedNafMul=function(e,t){o4(e.precomputed);var i=e._getDoubles(),n=s4(t,1,this._bitLength),s=(1<<i.step+1)-(i.step%2==0?2:1);s/=3;var o=[],a,c;for(a=0;a<n.length;a+=i.step){c=0;for(var u=a+i.step-1;u>=a;u--)c=(c<<1)+n[u];o.push(c)}for(var f=this.jpoint(null,null,null),l=this.jpoint(null,null,null),d=s;d>0;d--){for(a=0;a<o.length;a++)c=o[a],c===d?l=l.mixedAdd(i.points[a]):c===-d&&(l=l.mixedAdd(i.points[a].neg()));f=f.add(l)}return f.toP()};Ff.prototype._wnafMul=function(e,t){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var s=n.points,o=s4(t,i,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var u=0;c>=0&&o[c]===0;c--)u++;if(c>=0&&u++,a=a.dblp(u),c<0)break;var f=o[c];o4(f!==0),e.type==="affine"?f>0?a=a.mixedAdd(s[f-1>>1]):a=a.mixedAdd(s[-f-1>>1].neg()):f>0?a=a.add(s[f-1>>1]):a=a.add(s[-f-1>>1].neg())}return e.type==="affine"?a.toP():a};Ff.prototype._wnafMulAdd=function(e,t,i,n,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,u=0,f,l,d;for(f=0;f<n;f++){d=t[f];var p=d._getNAFPoints(e);o[f]=p.wnd,a[f]=p.points}for(f=n-1;f>=1;f-=2){var b=f-1,g=f;if(o[b]!==1||o[g]!==1){c[b]=s4(i[b],o[b],this._bitLength),c[g]=s4(i[g],o[g],this._bitLength),u=Math.max(c[b].length,u),u=Math.max(c[g].length,u);continue}var m=[t[b],null,null,t[g]];t[b].y.cmp(t[g].y)===0?(m[1]=t[b].add(t[g]),m[2]=t[b].toJ().mixedAdd(t[g].neg())):t[b].y.cmp(t[g].y.redNeg())===0?(m[1]=t[b].toJ().mixedAdd(t[g]),m[2]=t[b].add(t[g].neg())):(m[1]=t[b].toJ().mixedAdd(t[g]),m[2]=t[b].toJ().mixedAdd(t[g].neg()));var w=[-3,-1,-5,-7,0,7,5,1,3],A=uJe(i[b],i[g]);for(u=Math.max(A[0].length,u),c[b]=new Array(u),c[g]=new Array(u),l=0;l<u;l++){var I=A[0][l]|0,F=A[1][l]|0;c[b][l]=w[(I+1)*3+(F+1)],c[g][l]=0,a[b]=m}}var V=this.jpoint(null,null,null),P=this._wnafT4;for(f=u;f>=0;f--){for(var W=0;f>=0;){var ne=!0;for(l=0;l<n;l++)P[l]=c[l][f]|0,P[l]!==0&&(ne=!1);if(!ne)break;W++,f--}if(f>=0&&W++,V=V.dblp(W),f<0)break;for(l=0;l<n;l++){var Q=P[l];Q!==0&&(Q>0?d=a[l][Q-1>>1]:Q<0&&(d=a[l][-Q-1>>1].neg()),d.type==="affine"?V=V.mixedAdd(d):V=V.add(d))}}for(f=0;f<n;f++)a[f]=null;return s?V:V.toP()};function vo(r,e){this.curve=r,this.type=e,this.precomputed=null}Ff.BasePoint=vo;vo.prototype.eq=function(){throw new Error("Not implemented")};vo.prototype.validate=function(){return this.curve.validate(this)};Ff.prototype.decodePoint=function(e,t){e=xy.toArray(e,t);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1==2*i){e[0]===6?o4(e[e.length-1]%2==0):e[0]===7&&o4(e[e.length-1]%2==1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};vo.prototype.encodeCompressed=function(e){return this.encode(e,!0)};vo.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))};vo.prototype.encode=function(e,t){return xy.encode(this._encode(t),e)};vo.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};vo.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};vo.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,s=0;s<t;s+=e){for(var o=0;o<e;o++)n=n.dbl();i.push(n)}return{step:e,points:i}};vo.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),s=1;s<i;s++)t[s]=t[s-1].add(n);return{wnd:e,points:t}};vo.prototype._getBeta=function(){return null};vo.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t}});var cn=h((Onr,YA)=>{typeof Object.create=="function"?YA.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:YA.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}});var n$=h((Lnr,i$)=>{"use strict";var fJe=$s(),Yr=rc(),XA=cn(),Wd=wy(),lJe=fJe.assert;function Eo(r){Wd.call(this,"short",r),this.a=new Yr(r.a,16).toRed(this.red),this.b=new Yr(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}XA(Eo,Wd);i$.exports=Eo;Eo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,i;if(e.beta)t=new Yr(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=n[0].cmp(n[1])<0?n[0]:n[1],t=t.toRed(this.red)}if(e.lambda)i=new Yr(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?i=s[0]:(i=s[1],lJe(this.g.mul(i).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Yr(a.a,16),b:new Yr(a.b,16)}}):o=this._getEndoBasis(i),{beta:t,lambda:i,basis:o}}};Eo.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Yr.mont(e),i=new Yr(2).toRed(t).redInvm(),n=i.redNeg(),s=new Yr(3).toRed(t).redNeg().redSqrt().redMul(i),o=n.redAdd(s).fromRed(),a=n.redSub(s).fromRed();return[o,a]};Eo.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),s=new Yr(1),o=new Yr(0),a=new Yr(0),c=new Yr(1),u,f,l,d,p,b,g,m=0,w,A;i.cmpn(0)!==0;){var I=n.div(i);w=n.sub(I.mul(i)),A=a.sub(I.mul(s));var F=c.sub(I.mul(o));if(!l&&w.cmp(t)<0)u=g.neg(),f=s,l=w.neg(),d=A;else if(l&&++m==2)break;g=w,n=i,i=w,a=s,s=A,c=o,o=F}p=w.neg(),b=A;var V=l.sqr().add(d.sqr()),P=p.sqr().add(b.sqr());return P.cmp(V)>=0&&(p=u,b=f),l.negative&&(l=l.neg(),d=d.neg()),p.negative&&(p=p.neg(),b=b.neg()),[{a:l,b:d},{a:p,b}]};Eo.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],n=t[1],s=n.b.mul(e).divRound(this.n),o=i.b.neg().mul(e).divRound(this.n),a=s.mul(i.a),c=o.mul(n.a),u=s.mul(i.b),f=o.mul(n.b),l=e.sub(a).sub(c),d=u.add(f).neg();return{k1:l,k2:d}};Eo.prototype.pointFromX=function(e,t){e=new Yr(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var s=n.fromRed().isOdd();return(t&&!s||!t&&s)&&(n=n.redNeg()),this.point(e,n)};Eo.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,n=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(s).cmpn(0)===0};Eo.prototype._endoWnafMulAdd=function(e,t,i){for(var n=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),c=e[o],u=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),n[o*2]=c,n[o*2+1]=u,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var f=this._wnafMulAdd(1,n,s,o*2,i),l=0;l<o*2;l++)n[l]=null,s[l]=null;return f};function Oi(r,e,t,i){Wd.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Yr(e,16),this.y=new Yr(t,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}XA(Oi,Wd.BasePoint);Eo.prototype.point=function(e,t,i){return new Oi(this,e,t,i)};Eo.prototype.pointFromJSON=function(e,t){return Oi.fromJSON(this,e,t)};Oi.prototype._getBeta=function(){if(!!this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(s){return i.point(s.x.redMul(i.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}};Oi.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Oi.fromJSON=function(e,t,i){typeof t=="string"&&(t=JSON.parse(t));var n=e.point(t[0],t[1],i);if(!t[2])return n;function s(a){return e.point(a[0],a[1],i)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(s))}},n};Oi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Oi.prototype.isInfinity=function(){return this.inf};Oi.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};Oi.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(n),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Oi.prototype.getX=function(){return this.x.fromRed()};Oi.prototype.getY=function(){return this.y.fromRed()};Oi.prototype.mul=function(e){return e=new Yr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Oi.prototype.mulAdd=function(e,t,i){var n=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s):this.curve._wnafMulAdd(1,n,s,2)};Oi.prototype.jmulAdd=function(e,t,i){var n=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s,!0):this.curve._wnafMulAdd(1,n,s,2,!0)};Oi.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Oi.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(s){return s.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return t};Oi.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function un(r,e,t,i){Wd.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Yr(0)):(this.x=new Yr(e,16),this.y=new Yr(t,16),this.z=new Yr(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}XA(un,Wd.BasePoint);Eo.prototype.jpoint=function(e,t,i){return new un(this,e,t,i)};un.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(i,n)};un.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};un.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(t),s=e.x.redMul(i),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(i.redMul(this.z)),c=n.redSub(s),u=o.redSub(a);if(c.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var f=c.redSqr(),l=f.redMul(c),d=n.redMul(f),p=u.redSqr().redIAdd(l).redISub(d).redISub(d),b=u.redMul(d.redISub(p)).redISub(o.redMul(l)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(p,b,g)};un.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,n=e.x.redMul(t),s=this.y,o=e.y.redMul(t).redMul(this.z),a=i.redSub(n),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),f=u.redMul(a),l=i.redMul(u),d=c.redSqr().redIAdd(f).redISub(l).redISub(l),p=c.redMul(l.redISub(d)).redISub(s.redMul(f)),b=this.z.redMul(a);return this.curve.jpoint(d,p,b)};un.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var i=this;for(t=0;t<e;t++)i=i.dbl();return i}var n=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,u=c.redSqr().redSqr(),f=a.redAdd(a);for(t=0;t<e;t++){var l=o.redSqr(),d=f.redSqr(),p=d.redSqr(),b=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),g=o.redMul(d),m=b.redSqr().redISub(g.redAdd(g)),w=g.redISub(m),A=b.redMul(w);A=A.redIAdd(A).redISub(p);var I=f.redMul(c);t+1<e&&(u=u.redMul(p)),o=m,c=I,f=A}return this.curve.jpoint(o,f.redMul(s),c)};un.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};un.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var c=n.redAdd(n).redIAdd(n),u=c.redSqr().redISub(a).redISub(a),f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),e=u,t=c.redMul(a.redISub(u)).redISub(f),i=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),d=this.y.redSqr(),p=d.redSqr(),b=this.x.redAdd(d).redSqr().redISub(l).redISub(p);b=b.redIAdd(b);var g=l.redAdd(l).redIAdd(l),m=g.redSqr(),w=p.redIAdd(p);w=w.redIAdd(w),w=w.redIAdd(w),e=m.redISub(b).redISub(b),t=g.redMul(b.redISub(e)).redISub(w),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,t,i)};un.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var c=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=c.redSqr().redISub(a).redISub(a);e=u;var f=o.redIAdd(o);f=f.redIAdd(f),f=f.redIAdd(f),t=c.redMul(a.redISub(u)).redISub(f),i=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),d=this.y.redSqr(),p=this.x.redMul(d),b=this.x.redSub(l).redMul(this.x.redAdd(l));b=b.redAdd(b).redIAdd(b);var g=p.redIAdd(p);g=g.redIAdd(g);var m=g.redAdd(g);e=b.redSqr().redISub(m),i=this.y.redAdd(this.z).redSqr().redISub(d).redISub(l);var w=d.redSqr();w=w.redIAdd(w),w=w.redIAdd(w),w=w.redIAdd(w),t=b.redMul(g.redISub(e)).redISub(w)}return this.curve.jpoint(e,t,i)};un.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,n=this.z,s=n.redSqr().redSqr(),o=t.redSqr(),a=i.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),u=t.redAdd(t);u=u.redIAdd(u);var f=u.redMul(a),l=c.redSqr().redISub(f.redAdd(f)),d=f.redISub(l),p=a.redSqr();p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var b=c.redMul(d).redISub(p),g=i.redAdd(i).redMul(n);return this.curve.jpoint(l,b,g)};un.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),n=t.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),u=n.redIAdd(n);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var f=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(u),l=t.redMul(f);l=l.redIAdd(l),l=l.redIAdd(l);var d=this.x.redMul(c).redISub(l);d=d.redIAdd(d),d=d.redIAdd(d);var p=this.y.redMul(f.redMul(u.redISub(f)).redISub(a.redMul(c)));p=p.redIAdd(p),p=p.redIAdd(p),p=p.redIAdd(p);var b=this.z.redAdd(a).redSqr().redISub(i).redISub(c);return this.curve.jpoint(d,p,b)};un.prototype.mul=function(e,t){return e=new Yr(e,t),this.curve._wnafMul(this,e)};un.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var n=t.redMul(this.z),s=i.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(n)).cmpn(0)===0};un.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),this.x.cmp(i)===0)return!0}};un.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};un.prototype.isInfinity=function(){return this.z.cmpn(0)===0}});var a$=h((Fnr,s$)=>{"use strict";var Yd=rc(),o$=cn(),a4=wy(),hJe=$s();function Xd(r){a4.call(this,"mont",r),this.a=new Yd(r.a,16).toRed(this.red),this.b=new Yd(r.b,16).toRed(this.red),this.i4=new Yd(4).toRed(this.red).redInvm(),this.two=new Yd(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}o$(Xd,a4);s$.exports=Xd;Xd.prototype.validate=function(e){var t=e.normalize().x,i=t.redSqr(),n=i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t),s=n.redSqrt();return s.redSqr().cmp(n)===0};function Li(r,e,t){a4.BasePoint.call(this,r,"projective"),e===null&&t===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Yd(e,16),this.z=new Yd(t,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o$(Li,a4.BasePoint);Xd.prototype.decodePoint=function(e,t){return this.point(hJe.toArray(e,t),1)};Xd.prototype.point=function(e,t){return new Li(this,e,t)};Xd.prototype.pointFromJSON=function(e){return Li.fromJSON(this,e)};Li.prototype.precompute=function(){};Li.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Li.fromJSON=function(e,t){return new Li(e,t[0],t[1]||e.one)};Li.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Li.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Li.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),i=this.x.redSub(this.z),n=i.redSqr(),s=t.redSub(n),o=t.redMul(n),a=s.redMul(n.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};Li.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Li.prototype.diffAdd=function(e,t){var i=this.x.redAdd(this.z),n=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(i),c=s.redMul(n),u=t.z.redMul(a.redAdd(c).redSqr()),f=t.x.redMul(a.redISub(c).redSqr());return this.curve.point(u,f)};Li.prototype.mul=function(e){for(var t=e.clone(),i=this,n=this.curve.point(null,null),s=this,o=[];t.cmpn(0)!==0;t.iushrn(1))o.push(t.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(i=i.diffAdd(n,s),n=n.dbl()):(n=i.diffAdd(n,s),i=i.dbl());return n};Li.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Li.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Li.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Li.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Li.prototype.getX=function(){return this.normalize(),this.x.fromRed()}});var f$=h((Unr,c$)=>{"use strict";var dJe=$s(),du=rc(),u$=cn(),c4=wy(),pJe=dJe.assert;function ic(r){this.twisted=(r.a|0)!=1,this.mOneA=this.twisted&&(r.a|0)==-1,this.extended=this.mOneA,c4.call(this,"edwards",r),this.a=new du(r.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new du(r.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new du(r.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),pJe(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(r.c|0)==1}u$(ic,c4);c$.exports=ic;ic.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};ic.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};ic.prototype.jpoint=function(e,t,i,n){return this.point(e,t,i,n)};ic.prototype.pointFromX=function(e,t){e=new du(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=this.c2.redSub(this.a.redMul(i)),s=this.one.redSub(this.c2.redMul(this.d).redMul(i)),o=n.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var c=a.fromRed().isOdd();return(t&&!c||!t&&c)&&(a=a.redNeg()),this.point(e,a)};ic.prototype.pointFromY=function(e,t){e=new du(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr(),n=i.redSub(this.c2),s=i.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)};ic.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),i=e.y.redSqr(),n=t.redMul(this.a).redAdd(i),s=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));return n.cmp(s)===0};function Rr(r,e,t,i,n){c4.BasePoint.call(this,r,"projective"),e===null&&t===null&&i===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new du(e,16),this.y=new du(t,16),this.z=i?new du(i,16):this.curve.one,this.t=n&&new du(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}u$(Rr,c4.BasePoint);ic.prototype.pointFromJSON=function(e){return Rr.fromJSON(this,e)};ic.prototype.point=function(e,t,i,n){return new Rr(this,e,t,i,n)};Rr.fromJSON=function(e,t){return new Rr(e,t[0],t[1],t[2])};Rr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Rr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Rr.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr();i=i.redIAdd(i);var n=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(i),c=n.redSub(t),u=s.redMul(a),f=o.redMul(c),l=s.redMul(c),d=a.redMul(o);return this.curve.point(u,f,d,l)};Rr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),i=this.y.redSqr(),n,s,o,a,c,u;if(this.curve.twisted){a=this.curve._mulA(t);var f=a.redAdd(i);this.zOne?(n=e.redSub(t).redSub(i).redMul(f.redSub(this.curve.two)),s=f.redMul(a.redSub(i)),o=f.redSqr().redSub(f).redSub(f)):(c=this.z.redSqr(),u=f.redSub(c).redISub(c),n=e.redSub(t).redISub(i).redMul(u),s=f.redMul(a.redSub(i)),o=f.redMul(u))}else a=t.redAdd(i),c=this.curve._mulC(this.z).redSqr(),u=a.redSub(c).redSub(c),n=this.curve._mulC(e.redISub(a)).redMul(u),s=this.curve._mulC(a).redMul(t.redISub(i)),o=a.redMul(u);return this.curve.point(n,s,o)};Rr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Rr.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=i.redSub(t),a=s.redSub(n),c=s.redAdd(n),u=i.redAdd(t),f=o.redMul(a),l=c.redMul(u),d=o.redMul(u),p=a.redMul(c);return this.curve.point(f,l,p,d)};Rr.prototype._projAdd=function(e){var t=this.z.redMul(e.z),i=t.redSqr(),n=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(n).redMul(s),a=i.redSub(o),c=i.redAdd(o),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(s),f=t.redMul(a).redMul(u),l,d;return this.curve.twisted?(l=t.redMul(c).redMul(s.redSub(this.curve._mulA(n))),d=a.redMul(c)):(l=t.redMul(c).redMul(s.redSub(n)),d=this.curve._mulC(a).redMul(c)),this.curve.point(f,l,d)};Rr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Rr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Rr.prototype.mulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!1)};Rr.prototype.jmulAdd=function(e,t,i){return this.curve._wnafMulAdd(1,[this,t],[e,i],2,!0)};Rr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Rr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Rr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Rr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Rr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Rr.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(this.z);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),this.x.cmp(t)===0)return!0}};Rr.prototype.toP=Rr.prototype.normalize;Rr.prototype.mixedAdd=Rr.prototype.add});var JA=h(l$=>{"use strict";var u4=l$;u4.base=wy();u4.short=n$();u4.mont=a$();u4.edwards=f$()});var ca=h(wr=>{"use strict";var bJe=Of(),yJe=cn();wr.inherits=yJe;function gJe(r,e){return(r.charCodeAt(e)&64512)!=55296||e<0||e+1>=r.length?!1:(r.charCodeAt(e+1)&64512)==56320}function mJe(r,e){if(Array.isArray(r))return r.slice();if(!r)return[];var t=[];if(typeof r=="string")if(e){if(e==="hex")for(r=r.replace(/[^a-z0-9]+/ig,""),r.length%2!=0&&(r="0"+r),n=0;n<r.length;n+=2)t.push(parseInt(r[n]+r[n+1],16))}else for(var i=0,n=0;n<r.length;n++){var s=r.charCodeAt(n);s<128?t[i++]=s:s<2048?(t[i++]=s>>6|192,t[i++]=s&63|128):gJe(r,n)?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),t[i++]=s>>18|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128,t[i++]=s&63|128):(t[i++]=s>>12|224,t[i++]=s>>6&63|128,t[i++]=s&63|128)}else for(n=0;n<r.length;n++)t[n]=r[n]|0;return t}wr.toArray=mJe;function xJe(r){for(var e="",t=0;t<r.length;t++)e+=h$(r[t].toString(16));return e}wr.toHex=xJe;function d$(r){var e=r>>>24|r>>>8&65280|r<<8&16711680|(r&255)<<24;return e>>>0}wr.htonl=d$;function wJe(r,e){for(var t="",i=0;i<r.length;i++){var n=r[i];e==="little"&&(n=d$(n)),t+=p$(n.toString(16))}return t}wr.toHex32=wJe;function h$(r){return r.length===1?"0"+r:r}wr.zero2=h$;function p$(r){return r.length===7?"0"+r:r.length===6?"00"+r:r.length===5?"000"+r:r.length===4?"0000"+r:r.length===3?"00000"+r:r.length===2?"000000"+r:r.length===1?"0000000"+r:r}wr.zero8=p$;function vJe(r,e,t,i){var n=t-e;bJe(n%4==0);for(var s=new Array(n/4),o=0,a=e;o<s.length;o++,a+=4){var c;i==="big"?c=r[a]<<24|r[a+1]<<16|r[a+2]<<8|r[a+3]:c=r[a+3]<<24|r[a+2]<<16|r[a+1]<<8|r[a],s[o]=c>>>0}return s}wr.join32=vJe;function EJe(r,e){for(var t=new Array(r.length*4),i=0,n=0;i<r.length;i++,n+=4){var s=r[i];e==="big"?(t[n]=s>>>24,t[n+1]=s>>>16&255,t[n+2]=s>>>8&255,t[n+3]=s&255):(t[n+3]=s>>>24,t[n+2]=s>>>16&255,t[n+1]=s>>>8&255,t[n]=s&255)}return t}wr.split32=EJe;function _Je(r,e){return r>>>e|r<<32-e}wr.rotr32=_Je;function SJe(r,e){return r<<e|r>>>32-e}wr.rotl32=SJe;function kJe(r,e){return r+e>>>0}wr.sum32=kJe;function AJe(r,e,t){return r+e+t>>>0}wr.sum32_3=AJe;function IJe(r,e,t,i){return r+e+t+i>>>0}wr.sum32_4=IJe;function TJe(r,e,t,i,n){return r+e+t+i+n>>>0}wr.sum32_5=TJe;function RJe(r,e,t,i){var n=r[e],s=r[e+1],o=i+s>>>0,a=(o<i?1:0)+t+n;r[e]=a>>>0,r[e+1]=o}wr.sum64=RJe;function qJe(r,e,t,i){var n=e+i>>>0,s=(n<e?1:0)+r+t;return s>>>0}wr.sum64_hi=qJe;function BJe(r,e,t,i){var n=e+i;return n>>>0}wr.sum64_lo=BJe;function CJe(r,e,t,i,n,s,o,a){var c=0,u=e;u=u+i>>>0,c+=u<e?1:0,u=u+s>>>0,c+=u<s?1:0,u=u+a>>>0,c+=u<a?1:0;var f=r+t+n+o+c;return f>>>0}wr.sum64_4_hi=CJe;function MJe(r,e,t,i,n,s,o,a){var c=e+i+s+a;return c>>>0}wr.sum64_4_lo=MJe;function NJe(r,e,t,i,n,s,o,a,c,u){var f=0,l=e;l=l+i>>>0,f+=l<e?1:0,l=l+s>>>0,f+=l<s?1:0,l=l+a>>>0,f+=l<a?1:0,l=l+u>>>0,f+=l<u?1:0;var d=r+t+n+o+c+f;return d>>>0}wr.sum64_5_hi=NJe;function PJe(r,e,t,i,n,s,o,a,c,u){var f=e+i+s+a+u;return f>>>0}wr.sum64_5_lo=PJe;function DJe(r,e,t){var i=e<<32-t|r>>>t;return i>>>0}wr.rotr64_hi=DJe;function OJe(r,e,t){var i=r<<32-t|e>>>t;return i>>>0}wr.rotr64_lo=OJe;function LJe(r,e,t){return r>>>t}wr.shr64_hi=LJe;function FJe(r,e,t){var i=r<<32-t|e>>>t;return i>>>0}wr.shr64_lo=FJe});var Jd=h(b$=>{"use strict";var y$=ca(),UJe=Of();function f4(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}b$.BlockHash=f4;f4.prototype.update=function(e,t){if(e=y$.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var i=e.length%this._delta8;this.pending=e.slice(e.length-i,e.length),this.pending.length===0&&(this.pending=null),e=y$.join32(e,0,e.length-i,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};f4.prototype.digest=function(e){return this.update(this._pad()),UJe(this.pending===null),this._digest(e)};f4.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,i=t-(e+this.padLength)%t,n=new Array(i+this.padLength);n[0]=128;for(var s=1;s<i;s++)n[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)n[s++]=0;n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=e>>>24&255,n[s++]=e>>>16&255,n[s++]=e>>>8&255,n[s++]=e&255}else for(n[s++]=e&255,n[s++]=e>>>8&255,n[s++]=e>>>16&255,n[s++]=e>>>24&255,n[s++]=0,n[s++]=0,n[s++]=0,n[s++]=0,o=8;o<this.padLength;o++)n[s++]=0;return n}});var ZA=h(pu=>{"use strict";var zJe=ca(),nc=zJe.rotr32;function KJe(r,e,t,i){if(r===0)return g$(e,t,i);if(r===1||r===3)return x$(e,t,i);if(r===2)return m$(e,t,i)}pu.ft_1=KJe;function g$(r,e,t){return r&e^~r&t}pu.ch32=g$;function m$(r,e,t){return r&e^r&t^e&t}pu.maj32=m$;function x$(r,e,t){return r^e^t}pu.p32=x$;function VJe(r){return nc(r,2)^nc(r,13)^nc(r,22)}pu.s0_256=VJe;function jJe(r){return nc(r,6)^nc(r,11)^nc(r,25)}pu.s1_256=jJe;function HJe(r){return nc(r,7)^nc(r,18)^r>>>3}pu.g0_256=HJe;function GJe(r){return nc(r,17)^nc(r,19)^r>>>10}pu.g1_256=GJe});var E$=h((Hnr,w$)=>{"use strict";var Zd=ca(),$Je=Jd(),WJe=ZA(),QA=Zd.rotl32,vy=Zd.sum32,YJe=Zd.sum32_5,XJe=WJe.ft_1,v$=$Je.BlockHash,JJe=[1518500249,1859775393,2400959708,3395469782];function sc(){if(!(this instanceof sc))return new sc;v$.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Zd.inherits(sc,v$);w$.exports=sc;sc.blockSize=512;sc.outSize=160;sc.hmacStrength=80;sc.padLength=64;sc.prototype._update=function(e,t){for(var i=this.W,n=0;n<16;n++)i[n]=e[t+n];for(;n<i.length;n++)i[n]=QA(i[n-3]^i[n-8]^i[n-14]^i[n-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],u=this.h[4];for(n=0;n<i.length;n++){var f=~~(n/20),l=YJe(QA(s,5),XJe(f,o,a,c),u,i[n],JJe[f]);u=c,c=a,a=QA(o,30),o=s,s=l}this.h[0]=vy(this.h[0],s),this.h[1]=vy(this.h[1],o),this.h[2]=vy(this.h[2],a),this.h[3]=vy(this.h[3],c),this.h[4]=vy(this.h[4],u)};sc.prototype._digest=function(e){return e==="hex"?Zd.toHex32(this.h,"big"):Zd.split32(this.h,"big")}});var e7=h((Gnr,_$)=>{"use strict";var Qd=ca(),ZJe=Jd(),ep=ZA(),QJe=Of(),ua=Qd.sum32,eZe=Qd.sum32_4,tZe=Qd.sum32_5,rZe=ep.ch32,iZe=ep.maj32,nZe=ep.s0_256,sZe=ep.s1_256,oZe=ep.g0_256,aZe=ep.g1_256,S$=ZJe.BlockHash,cZe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function oc(){if(!(this instanceof oc))return new oc;S$.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=cZe,this.W=new Array(64)}Qd.inherits(oc,S$);_$.exports=oc;oc.blockSize=512;oc.outSize=256;oc.hmacStrength=192;oc.padLength=64;oc.prototype._update=function(e,t){for(var i=this.W,n=0;n<16;n++)i[n]=e[t+n];for(;n<i.length;n++)i[n]=eZe(aZe(i[n-2]),i[n-7],oZe(i[n-15]),i[n-16]);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],u=this.h[4],f=this.h[5],l=this.h[6],d=this.h[7];for(QJe(this.k.length===i.length),n=0;n<i.length;n++){var p=tZe(d,sZe(u),rZe(u,f,l),this.k[n],i[n]),b=ua(nZe(s),iZe(s,o,a));d=l,l=f,f=u,u=ua(c,p),c=a,a=o,o=s,s=ua(p,b)}this.h[0]=ua(this.h[0],s),this.h[1]=ua(this.h[1],o),this.h[2]=ua(this.h[2],a),this.h[3]=ua(this.h[3],c),this.h[4]=ua(this.h[4],u),this.h[5]=ua(this.h[5],f),this.h[6]=ua(this.h[6],l),this.h[7]=ua(this.h[7],d)};oc.prototype._digest=function(e){return e==="hex"?Qd.toHex32(this.h,"big"):Qd.split32(this.h,"big")}});var I$=h(($nr,k$)=>{"use strict";var t7=ca(),A$=e7();function bu(){if(!(this instanceof bu))return new bu;A$.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}t7.inherits(bu,A$);k$.exports=bu;bu.blockSize=512;bu.outSize=224;bu.hmacStrength=192;bu.padLength=64;bu.prototype._digest=function(e){return e==="hex"?t7.toHex32(this.h.slice(0,7),"big"):t7.split32(this.h.slice(0,7),"big")}});var n7=h((Wnr,T$)=>{"use strict";var Es=ca(),uZe=Jd(),fZe=Of(),ac=Es.rotr64_hi,cc=Es.rotr64_lo,R$=Es.shr64_hi,q$=Es.shr64_lo,Uf=Es.sum64,r7=Es.sum64_hi,i7=Es.sum64_lo,lZe=Es.sum64_4_hi,hZe=Es.sum64_4_lo,dZe=Es.sum64_5_hi,pZe=Es.sum64_5_lo,B$=uZe.BlockHash,bZe=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function fa(){if(!(this instanceof fa))return new fa;B$.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=bZe,this.W=new Array(160)}Es.inherits(fa,B$);T$.exports=fa;fa.blockSize=1024;fa.outSize=512;fa.hmacStrength=192;fa.padLength=128;fa.prototype._prepareBlock=function(e,t){for(var i=this.W,n=0;n<32;n++)i[n]=e[t+n];for(;n<i.length;n+=2){var s=mZe(i[n-4],i[n-3]),o=xZe(i[n-4],i[n-3]),a=i[n-14],c=i[n-13],u=yZe(i[n-30],i[n-29]),f=gZe(i[n-30],i[n-29]),l=i[n-32],d=i[n-31];i[n]=lZe(s,o,a,c,u,f,l,d),i[n+1]=hZe(s,o,a,c,u,f,l,d)}};fa.prototype._update=function(e,t){this._prepareBlock(e,t);var i=this.W,n=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],f=this.h[6],l=this.h[7],d=this.h[8],p=this.h[9],b=this.h[10],g=this.h[11],m=this.h[12],w=this.h[13],A=this.h[14],I=this.h[15];fZe(this.k.length===i.length);for(var F=0;F<i.length;F+=2){var V=A,P=I,W=AZe(d,p),ne=IZe(d,p),Q=wZe(d,p,b,g,m,w),M=vZe(d,p,b,g,m,w),y=this.k[F],v=this.k[F+1],k=i[F],N=i[F+1],L=dZe(V,P,W,ne,Q,M,y,v,k,N),$=pZe(V,P,W,ne,Q,M,y,v,k,N);V=SZe(n,s),P=kZe(n,s),W=EZe(n,s,o,a,c,u),ne=_Ze(n,s,o,a,c,u);var X=r7(V,P,W,ne),q=i7(V,P,W,ne);A=m,I=w,m=b,w=g,b=d,g=p,d=r7(f,l,L,$),p=i7(l,l,L,$),f=c,l=u,c=o,u=a,o=n,a=s,n=r7(L,$,X,q),s=i7(L,$,X,q)}Uf(this.h,0,n,s),Uf(this.h,2,o,a),Uf(this.h,4,c,u),Uf(this.h,6,f,l),Uf(this.h,8,d,p),Uf(this.h,10,b,g),Uf(this.h,12,m,w),Uf(this.h,14,A,I)};fa.prototype._digest=function(e){return e==="hex"?Es.toHex32(this.h,"big"):Es.split32(this.h,"big")};function wZe(r,e,t,i,n){var s=r&t^~r&n;return s<0&&(s+=4294967296),s}function vZe(r,e,t,i,n,s){var o=e&i^~e&s;return o<0&&(o+=4294967296),o}function EZe(r,e,t,i,n){var s=r&t^r&n^t&n;return s<0&&(s+=4294967296),s}function _Ze(r,e,t,i,n,s){var o=e&i^e&s^i&s;return o<0&&(o+=4294967296),o}function SZe(r,e){var t=ac(r,e,28),i=ac(e,r,2),n=ac(e,r,7),s=t^i^n;return s<0&&(s+=4294967296),s}function kZe(r,e){var t=cc(r,e,28),i=cc(e,r,2),n=cc(e,r,7),s=t^i^n;return s<0&&(s+=4294967296),s}function AZe(r,e){var t=ac(r,e,14),i=ac(r,e,18),n=ac(e,r,9),s=t^i^n;return s<0&&(s+=4294967296),s}function IZe(r,e){var t=cc(r,e,14),i=cc(r,e,18),n=cc(e,r,9),s=t^i^n;return s<0&&(s+=4294967296),s}function yZe(r,e){var t=ac(r,e,1),i=ac(r,e,8),n=R$(r,e,7),s=t^i^n;return s<0&&(s+=4294967296),s}function gZe(r,e){var t=cc(r,e,1),i=cc(r,e,8),n=q$(r,e,7),s=t^i^n;return s<0&&(s+=4294967296),s}function mZe(r,e){var t=ac(r,e,19),i=ac(e,r,29),n=R$(r,e,6),s=t^i^n;return s<0&&(s+=4294967296),s}function xZe(r,e){var t=cc(r,e,19),i=cc(e,r,29),n=q$(r,e,6),s=t^i^n;return s<0&&(s+=4294967296),s}});var N$=h((Ynr,C$)=>{"use strict";var s7=ca(),M$=n7();function yu(){if(!(this instanceof yu))return new yu;M$.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}s7.inherits(yu,M$);C$.exports=yu;yu.blockSize=1024;yu.outSize=384;yu.hmacStrength=192;yu.padLength=128;yu.prototype._digest=function(e){return e==="hex"?s7.toHex32(this.h.slice(0,12),"big"):s7.split32(this.h.slice(0,12),"big")}});var P$=h(tp=>{"use strict";tp.sha1=E$();tp.sha224=I$();tp.sha256=e7();tp.sha384=N$();tp.sha512=n7()});var z$=h(D$=>{"use strict";var hl=ca(),TZe=Jd(),l4=hl.rotl32,O$=hl.sum32,Ey=hl.sum32_3,L$=hl.sum32_4,F$=TZe.BlockHash;function uc(){if(!(this instanceof uc))return new uc;F$.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}hl.inherits(uc,F$);D$.ripemd160=uc;uc.blockSize=512;uc.outSize=160;uc.hmacStrength=192;uc.padLength=64;uc.prototype._update=function(e,t){for(var i=this.h[0],n=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=i,u=n,f=s,l=o,d=a,p=0;p<80;p++){var b=O$(l4(L$(i,U$(p,n,s,o),e[BZe[p]+t],RZe(p)),MZe[p]),a);i=a,a=o,o=l4(s,10),s=n,n=b,b=O$(l4(L$(c,U$(79-p,u,f,l),e[CZe[p]+t],qZe(p)),NZe[p]),d),c=d,d=l,l=l4(f,10),f=u,u=b}b=Ey(this.h[1],s,l),this.h[1]=Ey(this.h[2],o,d),this.h[2]=Ey(this.h[3],a,c),this.h[3]=Ey(this.h[4],i,u),this.h[4]=Ey(this.h[0],n,f),this.h[0]=b};uc.prototype._digest=function(e){return e==="hex"?hl.toHex32(this.h,"little"):hl.split32(this.h,"little")};function U$(r,e,t,i){return r<=15?e^t^i:r<=31?e&t|~e&i:r<=47?(e|~t)^i:r<=63?e&i|t&~i:e^(t|~i)}function RZe(r){return r<=15?0:r<=31?1518500249:r<=47?1859775393:r<=63?2400959708:2840853838}function qZe(r){return r<=15?1352829926:r<=31?1548603684:r<=47?1836072691:r<=63?2053994217:0}var BZe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],CZe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],MZe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],NZe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]});var V$=h((Znr,K$)=>{"use strict";var PZe=ca(),DZe=Of();function rp(r,e,t){if(!(this instanceof rp))return new rp(r,e,t);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(PZe.toArray(e,t))}K$.exports=rp;rp.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),DZe(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};rp.prototype.update=function(e,t){return this.inner.update(e,t),this};rp.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}});var h4=h(j$=>{var fn=j$;fn.utils=ca();fn.common=Jd();fn.sha=P$();fn.ripemd=z$();fn.hmac=V$();fn.sha1=fn.sha.sha1;fn.sha256=fn.sha.sha256;fn.sha224=fn.sha.sha224;fn.sha384=fn.sha.sha384;fn.sha512=fn.sha.sha512;fn.ripemd160=fn.ripemd.ripemd160});var G$=h((esr,H$)=>{H$.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}});var d4=h($$=>{"use strict";var o7=$$,zf=h4(),a7=JA(),OZe=$s(),W$=OZe.assert;function Y$(r){r.type==="short"?this.curve=new a7.short(r):r.type==="edwards"?this.curve=new a7.edwards(r):this.curve=new a7.mont(r),this.g=this.curve.g,this.n=this.curve.n,this.hash=r.hash,W$(this.g.validate(),"Invalid curve"),W$(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}o7.PresetCurve=Y$;function Kf(r,e){Object.defineProperty(o7,r,{configurable:!0,enumerable:!0,get:function(){var t=new Y$(e);return Object.defineProperty(o7,r,{configurable:!0,enumerable:!0,value:t}),t}})}Kf("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:zf.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]});Kf("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:zf.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]});Kf("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:zf.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]});Kf("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:zf.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]});Kf("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:zf.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]});Kf("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:zf.sha256,gRed:!1,g:["9"]});Kf("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:zf.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c7;try{c7=G$()}catch(r){c7=void 0}Kf("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:zf.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c7]})});var Z$=h((rsr,X$)=>{"use strict";var LZe=h4(),dl=jA(),J$=Of();function Vf(r){if(!(this instanceof Vf))return new Vf(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=dl.toArray(r.entropy,r.entropyEnc||"hex"),t=dl.toArray(r.nonce,r.nonceEnc||"hex"),i=dl.toArray(r.pers,r.persEnc||"hex");J$(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,i)}X$.exports=Vf;Vf.prototype._init=function(e,t,i){var n=e.concat(t).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};Vf.prototype._hmac=function(){return new LZe.hmac(this.hash,this.K)};Vf.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),!!e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Vf.prototype.reseed=function(e,t,i,n){typeof t!="string"&&(n=i,i=t,t=null),e=dl.toArray(e,t),i=dl.toArray(i,n),J$(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};Vf.prototype.generate=function(e,t,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(n=i,i=t,t=null),i&&(i=dl.toArray(i,n||"hex"),this._update(i));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(i),this._reseed++,dl.encode(o,t)}});var eW=h((isr,Q$)=>{"use strict";var FZe=rc(),UZe=$s(),u7=UZe.assert;function On(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}Q$.exports=On;On.fromPublic=function(e,t,i){return t instanceof On?t:new On(e,{pub:t,pubEnc:i})};On.fromPrivate=function(e,t,i){return t instanceof On?t:new On(e,{priv:t,privEnc:i})};On.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};On.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};On.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};On.prototype._importPrivate=function(e,t){this.priv=new FZe(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};On.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?u7(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&u7(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};On.prototype.derive=function(e){return e.validate()||u7(e.validate(),"public point not validated"),e.mul(this.priv).getX()};On.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)};On.prototype.verify=function(e,t){return this.ec.verify(e,t,this)};On.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}});var iW=h((nsr,tW)=>{"use strict";var p4=rc(),f7=$s(),zZe=f7.assert;function b4(r,e){if(r instanceof b4)return r;this._importDER(r,e)||(zZe(r.r&&r.s,"Signature without r or s"),this.r=new p4(r.r,16),this.s=new p4(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}tW.exports=b4;function KZe(){this.place=0}function l7(r,e){var t=r[e.place++];if(!(t&128))return t;var i=t&15;if(i===0||i>4)return!1;for(var n=0,s=0,o=e.place;s<i;s++,o++)n<<=8,n|=r[o],n>>>=0;return n<=127?!1:(e.place=o,n)}function rW(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}b4.prototype._importDER=function(e,t){e=f7.toArray(e,t);var i=new KZe;if(e[i.place++]!==48)return!1;var n=l7(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var s=l7(e,i);if(s===!1)return!1;var o=e.slice(i.place,s+i.place);if(i.place+=s,e[i.place++]!==2)return!1;var a=l7(e,i);if(a===!1||e.length!==a+i.place)return!1;var c=e.slice(i.place,a+i.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new p4(o),this.s=new p4(c),this.recoveryParam=null,!0};function h7(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}b4.prototype.toDER=function(e){var t=this.r.toArray(),i=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),i[0]&128&&(i=[0].concat(i)),t=rW(t),i=rW(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];h7(n,t.length),n=n.concat(t),n.push(2),h7(n,i.length);var s=n.concat(i),o=[48];return h7(o,s.length),o=o.concat(s),f7.encode(o,e)}});var aW=h((ssr,nW)=>{"use strict";var pl=rc(),sW=Z$(),VZe=$s(),d7=d4(),jZe=WA(),oW=VZe.assert,p7=eW(),y4=iW();function _o(r){if(!(this instanceof _o))return new _o(r);typeof r=="string"&&(oW(Object.prototype.hasOwnProperty.call(d7,r),"Unknown curve "+r),r=d7[r]),r instanceof d7.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}nW.exports=_o;_o.prototype.keyPair=function(e){return new p7(this,e)};_o.prototype.keyFromPrivate=function(e,t){return p7.fromPrivate(this,e,t)};_o.prototype.keyFromPublic=function(e,t){return p7.fromPublic(this,e,t)};_o.prototype.genKeyPair=function(e){e||(e={});for(var t=new sW({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||jZe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new pl(2));;){var s=new pl(t.generate(i));if(!(s.cmp(n)>0))return s.iaddn(1),this.keyFromPrivate(s)}};_o.prototype._truncateToN=function(e,t){var i=e.byteLength()*8-this.n.bitLength();return i>0&&(e=e.ushrn(i)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};_o.prototype.sign=function(e,t,i,n){typeof i=="object"&&(n=i,i=null),n||(n={}),t=this.keyFromPrivate(t,i),e=this._truncateToN(new pl(e,16));for(var s=this.n.byteLength(),o=t.getPrivate().toArray("be",s),a=e.toArray("be",s),c=new sW({hash:this.hash,entropy:o,nonce:a,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new pl(1)),f=0;;f++){var l=n.k?n.k(f):new pl(c.generate(this.n.byteLength()));if(l=this._truncateToN(l,!0),!(l.cmpn(1)<=0||l.cmp(u)>=0)){var d=this.g.mul(l);if(!d.isInfinity()){var p=d.getX(),b=p.umod(this.n);if(b.cmpn(0)!==0){var g=l.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(g=g.umod(this.n),g.cmpn(0)!==0){var m=(d.getY().isOdd()?1:0)|(p.cmp(b)!==0?2:0);return n.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),m^=1),new y4({r:b,s:g,recoveryParam:m})}}}}}};_o.prototype.verify=function(e,t,i,n){e=this._truncateToN(new pl(e,16)),i=this.keyFromPublic(i,n),t=new y4(t,"hex");var s=t.r,o=t.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),c=a.mul(e).umod(this.n),u=a.mul(s).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(c,i.getPublic(),u),f.isInfinity()?!1:f.eqXToP(s)):(f=this.g.mulAdd(c,i.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(s)===0)};_o.prototype.recoverPubKey=function(r,e,t,i){oW((3&t)===t,"The recovery param is more than two bits"),e=new y4(e,i);var n=this.n,s=new pl(r),o=e.r,a=e.s,c=t&1,u=t>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var f=e.r.invm(n),l=n.sub(s).mul(f).umod(n),d=a.mul(f).umod(n);return this.g.mulAdd(l,o,d)};_o.prototype.getKeyRecoveryParam=function(r,e,t,i){if(e=new y4(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(r,e,n)}catch(o){continue}if(s.eq(t))return n}throw new Error("Unable to find valid recovery factor")}});var lW=h((osr,cW)=>{"use strict";var _y=$s(),uW=_y.assert,fW=_y.parseBytes,ip=_y.cachedProperty;function Fi(r,e){this.eddsa=r,this._secret=fW(e.secret),r.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=fW(e.pub)}Fi.fromPublic=function(e,t){return t instanceof Fi?t:new Fi(e,{pub:t})};Fi.fromSecret=function(e,t){return t instanceof Fi?t:new Fi(e,{secret:t})};Fi.prototype.secret=function(){return this._secret};ip(Fi,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});ip(Fi,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});ip(Fi,"privBytes",function(){var e=this.eddsa,t=this.hash(),i=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[i]&=127,n[i]|=64,n});ip(Fi,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});ip(Fi,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});ip(Fi,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Fi.prototype.sign=function(e){return uW(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Fi.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)};Fi.prototype.getSecret=function(e){return uW(this._secret,"KeyPair is public only"),_y.encode(this.secret(),e)};Fi.prototype.getPublic=function(e){return _y.encode(this.pubBytes(),e)};cW.exports=Fi});var dW=h((asr,hW)=>{"use strict";var HZe=rc(),g4=$s(),GZe=g4.assert,m4=g4.cachedProperty,$Ze=g4.parseBytes;function bl(r,e){this.eddsa=r,typeof e!="object"&&(e=$Ze(e)),Array.isArray(e)&&(e={R:e.slice(0,r.encodingLength),S:e.slice(r.encodingLength)}),GZe(e.R&&e.S,"Signature without R or S"),r.isPoint(e.R)&&(this._R=e.R),e.S instanceof HZe&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}m4(bl,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});m4(bl,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});m4(bl,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});m4(bl,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});bl.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};bl.prototype.toHex=function(){return g4.encode(this.toBytes(),"hex").toUpperCase()};hW.exports=bl});var mW=h((csr,pW)=>{"use strict";var WZe=h4(),YZe=d4(),np=$s(),XZe=np.assert,bW=np.parseBytes,yW=lW(),gW=dW();function _s(r){if(XZe(r==="ed25519","only tested with ed25519 so far"),!(this instanceof _s))return new _s(r);r=YZe[r].curve,this.curve=r,this.g=r.g,this.g.precompute(r.n.bitLength()+1),this.pointClass=r.point().constructor,this.encodingLength=Math.ceil(r.n.bitLength()/8),this.hash=WZe.sha512}pW.exports=_s;_s.prototype.sign=function(e,t){e=bW(e);var i=this.keyFromSecret(t),n=this.hashInt(i.messagePrefix(),e),s=this.g.mul(n),o=this.encodePoint(s),a=this.hashInt(o,i.pubBytes(),e).mul(i.priv()),c=n.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:c,Rencoded:o})};_s.prototype.verify=function(e,t,i){e=bW(e),t=this.makeSignature(t);var n=this.keyFromPublic(i),s=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S()),a=t.R().add(n.pub().mul(s));return a.eq(o)};_s.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return np.intFromLE(e.digest()).umod(this.curve.n)};_s.prototype.keyFromPublic=function(e){return yW.fromPublic(this,e)};_s.prototype.keyFromSecret=function(e){return yW.fromSecret(this,e)};_s.prototype.makeSignature=function(e){return e instanceof gW?e:new gW(this,e)};_s.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t};_s.prototype.decodePoint=function(e){e=np.parseBytes(e);var t=e.length-1,i=e.slice(0,t).concat(e[t]&~128),n=(e[t]&128)!=0,s=np.intFromLE(i);return this.curve.pointFromY(s,n)};_s.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};_s.prototype.decodeInt=function(e){return np.intFromLE(e)};_s.prototype.isPoint=function(e){return e instanceof this.pointClass}});var wW=h(xW=>{"use strict";var yl=xW;yl.version=$G().version;yl.utils=$s();yl.rand=WA();yl.curve=JA();yl.curves=d4();yl.ec=aW();yl.eddsa=mW()});var EW=h((fsr,vW)=>{var JZe=wW().ec,fc=new JZe("secp256k1"),Mt=fc.curve,vr=Mt.n.constructor;function ZZe(r,e){let t=new vr(e);if(t.cmp(Mt.p)>=0)return null;t=t.toRed(Mt.red);let i=t.redSqr().redIMul(t).redIAdd(Mt.b).redSqrt();return r===3!==i.isOdd()&&(i=i.redNeg()),fc.keyPair({pub:{x:t,y:i}})}function QZe(r,e,t){let i=new vr(e),n=new vr(t);if(i.cmp(Mt.p)>=0||n.cmp(Mt.p)>=0||(i=i.toRed(Mt.red),n=n.toRed(Mt.red),(r===6||r===7)&&n.isOdd()!==(r===7)))return null;let s=i.redSqr().redIMul(i);return n.redSqr().redISub(s.redIAdd(Mt.b)).isZero()?fc.keyPair({pub:{x:i,y:n}}):null}function jf(r){let e=r[0];switch(e){case 2:case 3:return r.length!==33?null:ZZe(e,r.subarray(1,33));case 4:case 6:case 7:return r.length!==65?null:QZe(e,r.subarray(1,33),r.subarray(33,65));default:return null}}function gl(r,e){let t=e.encode(null,r.length===33);for(let i=0;i<r.length;++i)r[i]=t[i]}vW.exports={contextRandomize(){return 0},privateKeyVerify(r){let e=new vr(r);return e.cmp(Mt.n)<0&&!e.isZero()?0:1},privateKeyNegate(r){let e=new vr(r),t=Mt.n.sub(e).umod(Mt.n).toArrayLike(Uint8Array,"be",32);return r.set(t),0},privateKeyTweakAdd(r,e){let t=new vr(e);if(t.cmp(Mt.n)>=0||(t.iadd(new vr(r)),t.cmp(Mt.n)>=0&&t.isub(Mt.n),t.isZero()))return 1;let i=t.toArrayLike(Uint8Array,"be",32);return r.set(i),0},privateKeyTweakMul(r,e){let t=new vr(e);if(t.cmp(Mt.n)>=0||t.isZero())return 1;t.imul(new vr(r)),t.cmp(Mt.n)>=0&&(t=t.umod(Mt.n));let i=t.toArrayLike(Uint8Array,"be",32);return r.set(i),0},publicKeyVerify(r){return jf(r)===null?1:0},publicKeyCreate(r,e){let t=new vr(e);if(t.cmp(Mt.n)>=0||t.isZero())return 1;let i=fc.keyFromPrivate(e).getPublic();return gl(r,i),0},publicKeyConvert(r,e){let t=jf(e);if(t===null)return 1;let i=t.getPublic();return gl(r,i),0},publicKeyNegate(r,e){let t=jf(e);if(t===null)return 1;let i=t.getPublic();return i.y=i.y.redNeg(),gl(r,i),0},publicKeyCombine(r,e){let t=new Array(e.length);for(let n=0;n<e.length;++n)if(t[n]=jf(e[n]),t[n]===null)return 1;let i=t[0].getPublic();for(let n=1;n<t.length;++n)i=i.add(t[n].pub);return i.isInfinity()?2:(gl(r,i),0)},publicKeyTweakAdd(r,e,t){let i=jf(e);if(i===null)return 1;if(t=new vr(t),t.cmp(Mt.n)>=0)return 2;let n=i.getPublic().add(Mt.g.mul(t));return n.isInfinity()?2:(gl(r,n),0)},publicKeyTweakMul(r,e,t){let i=jf(e);if(i===null)return 1;if(t=new vr(t),t.cmp(Mt.n)>=0||t.isZero())return 2;let n=i.getPublic().mul(t);return gl(r,n),0},signatureNormalize(r){let e=new vr(r.subarray(0,32)),t=new vr(r.subarray(32,64));return e.cmp(Mt.n)>=0||t.cmp(Mt.n)>=0?1:(t.cmp(fc.nh)===1&&r.set(Mt.n.sub(t).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(r,e){let t=e.subarray(0,32),i=e.subarray(32,64);if(new vr(t).cmp(Mt.n)>=0||new vr(i).cmp(Mt.n)>=0)return 1;let{output:n}=r,s=n.subarray(4,4+33);s[0]=0,s.set(t,1);let o=33,a=0;for(;o>1&&s[a]===0&&!(s[a+1]&128);--o,++a);if(s=s.subarray(a),s[0]&128||o>1&&s[0]===0&&!(s[1]&128))return 1;let c=n.subarray(6+33,6+33+33);c[0]=0,c.set(i,1);let u=33,f=0;for(;u>1&&c[f]===0&&!(c[f+1]&128);--u,++f);return c=c.subarray(f),c[0]&128||u>1&&c[0]===0&&!(c[1]&128)?1:(r.outputlen=6+o+u,n[0]=48,n[1]=r.outputlen-2,n[2]=2,n[3]=s.length,n.set(s,4),n[4+o]=2,n[5+o]=c.length,n.set(c,6+o),0)},signatureImport(r,e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return 1;let t=e[3];if(t===0||5+t>=e.length||e[4+t]!==2)return 1;let i=e[5+t];if(i===0||6+t+i!==e.length||e[4]&128||t>1&&e[4]===0&&!(e[5]&128)||e[t+6]&128||i>1&&e[t+6]===0&&!(e[t+7]&128))return 1;let n=e.subarray(4,4+t);if(n.length===33&&n[0]===0&&(n=n.subarray(1)),n.length>32)return 1;let s=e.subarray(6+t);if(s.length===33&&s[0]===0&&(s=s.slice(1)),s.length>32)throw new Error("S length is too long");let o=new vr(n);o.cmp(Mt.n)>=0&&(o=new vr(0));let a=new vr(e.subarray(6+t));return a.cmp(Mt.n)>=0&&(a=new vr(0)),r.set(o.toArrayLike(Uint8Array,"be",32),0),r.set(a.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(r,e,t,i,n){if(n){let a=n;n=c=>{let u=a(e,t,null,i,c);if(!(u instanceof Uint8Array&&u.length===32))throw new Error("This is the way");return new vr(u)}}let s=new vr(t);if(s.cmp(Mt.n)>=0||s.isZero())return 1;let o;try{o=fc.sign(e,t,{canonical:!0,k:n,pers:i})}catch(a){return 1}return r.signature.set(o.r.toArrayLike(Uint8Array,"be",32),0),r.signature.set(o.s.toArrayLike(Uint8Array,"be",32),32),r.recid=o.recoveryParam,0},ecdsaVerify(r,e,t){let i={r:r.subarray(0,32),s:r.subarray(32,64)},n=new vr(i.r),s=new vr(i.s);if(n.cmp(Mt.n)>=0||s.cmp(Mt.n)>=0)return 1;if(s.cmp(fc.nh)===1||n.isZero()||s.isZero())return 3;let o=jf(t);if(o===null)return 2;let a=o.getPublic();return fc.verify(e,i,a)?0:3},ecdsaRecover(r,e,t,i){let n={r:e.slice(0,32),s:e.slice(32,64)},s=new vr(n.r),o=new vr(n.s);if(s.cmp(Mt.n)>=0||o.cmp(Mt.n)>=0)return 1;if(s.isZero()||o.isZero())return 2;let a;try{a=fc.recoverPubKey(i,n,t)}catch(c){return 2}return gl(r,a),0},ecdh(r,e,t,i,n,s,o){let a=jf(e);if(a===null)return 1;let c=new vr(t);if(c.cmp(Mt.n)>=0||c.isZero())return 2;let u=a.getPublic().mul(c);if(n===void 0){let f=u.encode(null,!0),l=fc.hash().update(f).digest();for(let d=0;d<32;++d)r[d]=l[d]}else{s||(s=new Uint8Array(32));let f=u.getX().toArray("be",32);for(let b=0;b<32;++b)s[b]=f[b];o||(o=new Uint8Array(32));let l=u.getY().toArray("be",32);for(let b=0;b<32;++b)o[b]=l[b];let d=n(s,o,i);if(!(d instanceof Uint8Array&&d.length===r.length))return 2;r.set(d)}return 0}}});var SW=h((lsr,_W)=>{_W.exports=HG()(EW())});var TW=h((hsr,kW)=>{"use strict";var la=SW(),AW=Fd(),IW="sha2-256";kW.exports=r=>{let e=32;function t(){let f;do f=r(32);while(!la.privateKeyVerify(f));return f}async function i(f,l){let d=await AW.digest(l,IW),p=la.ecdsaSign(d,f);return la.signatureExport(p.signature)}async function n(f,l,d){let p=await AW.digest(d,IW);return l=la.signatureImport(l),la.ecdsaVerify(l,p,f)}function s(f){if(!la.publicKeyVerify(f))throw new Error("Invalid public key");return la.publicKeyConvert(f,!0)}function o(f){return la.publicKeyConvert(f,!1)}function a(f){if(!la.privateKeyVerify(f))throw new Error("Invalid private key")}function c(f){if(!la.publicKeyVerify(f))throw new Error("Invalid public key")}function u(f){return a(f),la.publicKeyCreate(f)}return{generateKey:t,privateKeyLength:e,hashAndSign:i,hashAndVerify:n,compressPublicKey:s,decompressPublicKey:o,validatePrivateKey:a,validatePublicKey:c,computePublicKey:u}}});var CW=h((dsr,RW)=>{"use strict";var qW=Fd(),eQe=qe(),BW=ly(),tQe=Nf(),rQe=Jw();RW.exports=(r,e,t)=>{t=t||TW()(e);class i{constructor(u){t.validatePublicKey(u),this._key=u}verify(u,f){return t.hashAndVerify(this._key,f,u)}marshal(){return t.compressPublicKey(this._key)}get bytes(){return r.PublicKey.encode({Type:r.KeyType.Secp256k1,Data:this.marshal()})}equals(u){return BW(this.bytes,u.bytes)}hash(){return qW.multihashing(this.bytes,"sha2-256")}}class n{constructor(u,f){this._key=u,this._publicKey=f||t.computePublicKey(u),t.validatePrivateKey(this._key),t.validatePublicKey(this._publicKey)}sign(u){return t.hashAndSign(this._key,u)}get public(){return new i(this._publicKey)}marshal(){return this._key}get bytes(){return r.PrivateKey.encode({Type:r.KeyType.Secp256k1,Data:this.marshal()})}equals(u){return BW(this.bytes,u.bytes)}hash(){return qW.multihashing(this.bytes,"sha2-256")}async id(){let u=await this.public.hash();return tQe(u,"base58btc")}async export(u,f="libp2p-key"){if(f==="libp2p-key")return rQe.export(this.bytes,u);throw eQe(new Error(`export format '${f}' is not supported`),"ERR_INVALID_EXPORT_FORMAT")}}function s(c){return new n(c)}function o(c){return new i(c)}async function a(){let c=await t.generateKey();return new n(c)}return{Secp256k1PublicKey:i,Secp256k1PrivateKey:n,unmarshalSecp256k1PrivateKey:s,unmarshalSecp256k1PublicKey:o,generateKeyPair:a}}});var NW=h((psr,MW)=>{"use strict";MW.exports={SHA1:20,SHA256:32,SHA512:64}});var b7=h(PW=>{"use strict";var DW=fy(),iQe=NW(),nQe={SHA1:"SHA-1",SHA256:"SHA-256",SHA512:"SHA-512"},sQe=async(r,e)=>{let t=await DW.get().subtle.sign({name:"HMAC"},r,e);return new Uint8Array(t,t.byteOffset,t.byteLength)};PW.create=async function(r,e){let t=nQe[r],i=await DW.get().subtle.importKey("raw",e,{name:"HMAC",hash:{name:t}},!1,["sign"]);return{async digest(n){return sQe(i,n)},length:iQe[r]}}});var zW=h((ysr,OW)=>{"use strict";var LW=qe(),FW=uy(),oQe=Mf(),aQe=b7(),UW={"AES-128":{ivSize:16,keySize:16},"AES-256":{ivSize:16,keySize:32},Blowfish:{ivSize:8,cipherKeySize:32}};OW.exports=async(r,e,t)=>{let i=UW[r];if(!i){let A=Object.keys(UW).join(" / ");throw LW(new Error(`unknown cipher type '${r}'. Must be ${A}`),"ERR_INVALID_CIPHER_TYPE")}if(!e)throw LW(new Error("missing hash type"),"ERR_MISSING_HASH_TYPE");let n=i.keySize,s=i.ivSize,o=20,a=oQe("key expansion"),c=2*(s+n+o),u=await aQe.create(e,t),f=await u.digest(a),l=[],d=0;for(;d<c;){let A=await u.digest(FW([f,a])),I=A.length;d+I>c&&(I=c-d),l.push(A),d+=I,f=await u.digest(f)}let p=c/2,b=FW(l),g=b.slice(0,p),m=b.slice(p,c),w=A=>({iv:A.slice(0,s),cipherKey:A.slice(s,s+n),macKey:A.slice(s+n)});return{k1:w(g),k2:w(m)}}});var VW=h((gsr,KW)=>{"use strict";var cQe=qe();KW.exports=function(r,e){if(!r.includes(e)){let t=r.join(" / ");throw cQe(new Error(`Unknown curve: ${e}. Must be ${t}`),"ERR_INVALID_CURVE")}}});var YW=h(jW=>{"use strict";var uQe=qe(),Sy=fy(),{base64urlToBuffer:HW}=Xw(),fQe=VW(),y7=Nf(),lQe=uy(),hQe=ly(),GW={"P-256":256,"P-384":384,"P-521":521};jW.generateEphmeralKeyPair=async function(r){fQe(Object.keys(GW),r);let e=await Sy.get().subtle.generateKey({name:"ECDH",namedCurve:r},!0,["deriveBits"]),t=async(n,s)=>{let o;s?o=await Sy.get().subtle.importKey("jwk",pQe(r,s),{name:"ECDH",namedCurve:r},!1,["deriveBits"]):o=e.privateKey;let a=[await Sy.get().subtle.importKey("jwk",$W(r,n),{name:"ECDH",namedCurve:r},!1,[]),o],c=await Sy.get().subtle.deriveBits({name:"ECDH",namedCurve:r,public:a[0]},a[1],GW[r]);return new Uint8Array(c,c.byteOffset,c.byteLength)},i=await Sy.get().subtle.exportKey("jwk",e.publicKey);return{key:dQe(i),genSharedKey:t}};var WW={"P-256":32,"P-384":48,"P-521":66};function dQe(r){let e=WW[r.crv];return lQe([Uint8Array.from([4]),HW(r.x,e),HW(r.y,e)],1+e*2)}function $W(r,e){let t=WW[r];if(hQe(!e.slice(0,1),Uint8Array.from([4])))throw uQe(new Error("Cannot unmarshal public key - invalid key format"),"ERR_INVALID_KEY_FORMAT");return{kty:"EC",crv:r,x:y7(e.slice(1,t+1),"base64url"),y:y7(e.slice(1+t),"base64url"),ext:!0}}var pQe=(r,e)=>({...$W(r,e.public),d:y7(e.private,"base64url")})});var JW=h((xsr,XW)=>{"use strict";var bQe=YW();XW.exports=async r=>bQe.generateEphmeralKeyPair(r)});var w4=h((Ss,ZW)=>{"use strict";var yQe=ni(),lc=yQe(Ew());nu();wA();var g7=Et(),ky=qe(),gQe=Mf(),mQe=LH();Ss=ZW.exports;var So={rsa:OG(),ed25519:VG(),secp256k1:CW()(lc,by())};Ss.supportedKeys=So;Ss.keysPBM=lc;var x4={message:"secp256k1 support requires libp2p-crypto-secp256k1 package",code:"ERR_MISSING_PACKAGE"};function sp(r){let e=So[r.toLowerCase()];if(!e){let t=Object.keys(So).join(" / ");throw ky(new Error(`invalid or unsupported key type ${r}. Must be ${t}`),"ERR_UNSUPPORTED_KEY_TYPE")}return e}Ss.keyStretcher=zW();Ss.generateEphemeralKeyPair=JW();Ss.generateKeyPair=async(r,e)=>sp(r).generateKeyPair(e);Ss.generateKeyPairFromSeed=async(r,e,t)=>{let i=sp(r);if(r.toLowerCase()!=="ed25519")throw ky(new Error("Seed key derivation is unimplemented for RSA or secp256k1"),"ERR_UNSUPPORTED_KEY_DERIVATION_TYPE");return i.generateKeyPairFromSeed(e,t)};Ss.unmarshalPublicKey=r=>{let e=lc.PublicKey.decode(r),t=e.Data;switch(e.Type){case lc.KeyType.RSA:return So.rsa.unmarshalRsaPublicKey(t);case lc.KeyType.Ed25519:return So.ed25519.unmarshalEd25519PublicKey(t);case lc.KeyType.Secp256k1:if(So.secp256k1)return So.secp256k1.unmarshalSecp256k1PublicKey(t);throw ky(new Error(x4.message),x4.code);default:sp(e.Type)}};Ss.marshalPublicKey=(r,e)=>(e=(e||"rsa").toLowerCase(),sp(e),r.bytes);Ss.unmarshalPrivateKey=async r=>{let e=lc.PrivateKey.decode(r),t=e.Data;switch(e.Type){case lc.KeyType.RSA:return So.rsa.unmarshalRsaPrivateKey(t);case lc.KeyType.Ed25519:return So.ed25519.unmarshalEd25519PrivateKey(t);case lc.KeyType.Secp256k1:if(So.secp256k1)return So.secp256k1.unmarshalSecp256k1PrivateKey(t);throw ky(new Error(x4.message),x4.code);default:sp(e.Type)}};Ss.marshalPrivateKey=(r,e)=>(e=(e||"rsa").toLowerCase(),sp(e),r.bytes);Ss.import=async(r,e)=>{try{let n=await mQe.import(r,e);return Ss.unmarshalPrivateKey(n)}catch(n){}let t=g7.pki.decryptRsaPrivateKey(r,e);if(t===null)throw ky(new Error("Cannot read the key, most likely the password is wrong or not a RSA key"),"ERR_CANNOT_DECRYPT_PEM");let i=g7.asn1.toDer(g7.pki.privateKeyToAsn1(t));return i=gQe(i.getBytes(),"ascii"),So.rsa.unmarshalRsaPrivateKey(i)}});var gu=h((wsr,m7)=>{"use strict";function xQe(r,{className:e,symbolName:t}){let i=Symbol.for(t),n={[e]:class extends r{constructor(...s){super(...s);Object.defineProperty(this,i,{value:!0})}get[Symbol.toStringTag](){return e}}}[e];return n[`is${e}`]=s=>!!(s&&s[i]),n}function wQe(r,{className:e,symbolName:t,withoutNew:i}){let n=Symbol.for(t),s={[e]:function(...o){if(i&&!(this instanceof s))return new s(...o);let a=r.call(this,...o)||this;return a&&!a[n]&&Object.defineProperty(a,n,{value:!0}),a}}[e];return s.prototype=Object.create(r.prototype),s.prototype.constructor=s,Object.defineProperty(s.prototype,Symbol.toStringTag,{get(){return e}}),s[`is${e}`]=o=>!!(o&&o[n]),s}m7.exports=xQe;m7.exports.proto=wQe});var eY=h((vsr,QW)=>{"use strict";var vQe=ni();QW.exports=vQe(`

message PeerIdProto {
  required bytes id = 1;
  bytes pubKey = 2;
  bytes privKey = 3;
}

`)});var yt=h((Ws,tY)=>{"use strict";var ml=rz(),x7=ot(),hc=w4(),EQe=gu(),{PeerIdProto:rY}=eY(),xl=yo(),Ay=pr(),_Qe=dr(),iY=class{constructor(e,t,i){if(!(e instanceof Uint8Array))throw new Error("invalid id provided");if(t&&i&&!xl(t.public.bytes,i.bytes))throw new Error("inconsistent arguments");this._id=e,this._idB58String=ml.toB58String(this.id),this._privKey=t,this._pubKey=i}get id(){return this._id}set id(e){throw new Error("Id is immutable")}get privKey(){return this._privKey}set privKey(e){this._privKey=e}get pubKey(){if(this._pubKey)return this._pubKey;if(this._privKey)return this._privKey.public;try{let e=ml.decode(this.id);e.name==="identity"&&(this._pubKey=hc.unmarshalPublicKey(e.digest))}catch(e){}return this._pubKey}set pubKey(e){this._pubKey=e}marshalPubKey(){if(this.pubKey)return hc.marshalPublicKey(this.pubKey)}marshalPrivKey(){if(this.privKey)return hc.marshalPrivateKey(this.privKey)}marshal(e){return rY.encode({id:this.toBytes(),pubKey:this.marshalPubKey(),privKey:e?null:this.marshalPrivKey()})}toPrint(){let e=this.toB58String();e.startsWith("Qm")&&(e=e.slice(2));let t=6;return e.length<t&&(t=e.length),"<peer.ID "+e.substr(0,t)+">"}toJSON(){return{id:this.toB58String(),privKey:nY(this.marshalPrivKey()),pubKey:nY(this.marshalPubKey())}}toHexString(){return ml.toHexString(this.id)}toBytes(){return this.id}toB58String(){return this._idB58String}toString(){if(!this._idCIDString){let e=new x7(1,"libp2p-key",this.id,"base32");this._idCIDString=e.toBaseEncodedString("base32")}return this._idCIDString}equals(e){if(e instanceof Uint8Array)return xl(this.id,e);if(e.id)return xl(this.id,e.id);throw new Error("not valid Id")}isEqual(e){return this.equals(e)}isValid(){return Boolean(this.privKey&&this.privKey.public&&this.privKey.public.bytes&&this.pubKey.bytes instanceof Uint8Array&&xl(this.privKey.public.bytes,this.pubKey.bytes))}hasInlinePublicKey(){try{if(ml.decode(this.id).name==="identity")return!0}catch(e){}return!1}},dc=EQe(iY,{className:"PeerId",symbolName:"@libp2p/js-peer-id/PeerId"});Ws=tY.exports=dc;var Iy=r=>r.bytes.length<=42?ml.encode(r.bytes,"identity"):r.hash(),w7=async(r,e)=>{let t=await Iy(e);return new dc(t,r,e)};Ws.create=async r=>{r=r||{},r.bits=r.bits||2048,r.keyType=r.keyType||"RSA";let e=await hc.generateKeyPair(r.keyType,r.bits);return w7(e,e.public)};Ws.createFromHexString=r=>new dc(ml.fromHexString(r));Ws.createFromBytes=r=>new dc(r);Ws.createFromB58String=r=>Ws.createFromCID(r);var SQe=r=>r.codec==="libp2p-key"||r.codec==="dag-pb";Ws.createFromCID=r=>{if(r=x7.isCID(r)?r:new x7(r),!SQe(r))throw new Error("Supplied PeerID CID has invalid multicodec: "+r.codec);return new dc(r.multihash)};Ws.createFromPubKey=async r=>{let e=r;if(typeof e=="string"&&(e=Ay(r,"base64pad")),!(e instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let t=await hc.unmarshalPublicKey(e);return w7(null,t)};Ws.createFromPrivKey=async r=>{if(typeof r=="string"&&(r=Ay(r,"base64pad")),!(r instanceof Uint8Array))throw new Error("Supplied key is neither a base64 string nor a Uint8Array");let e=await hc.unmarshalPrivateKey(r);return w7(e,e.public)};Ws.createFromJSON=async r=>{let e=ml.fromB58String(r.id),t=r.privKey&&Ay(r.privKey,"base64pad"),i=r.pubKey&&Ay(r.pubKey,"base64pad"),n=i&&await hc.unmarshalPublicKey(i);if(!t)return new dc(e,null,n);let s=await hc.unmarshalPrivateKey(t),o=await Iy(s.public),a;if(n&&(a=await Iy(n)),n&&!xl(o,a))throw new Error("Public and private key do not match");if(e&&!xl(o,e))throw new Error("Id and private key do not match");return new dc(e,s,n)};Ws.createFromProtobuf=async r=>{typeof r=="string"&&(r=Ay(r,"base16"));let{id:e,privKey:t,pubKey:i}=rY.decode(r);t=t?await hc.unmarshalPrivateKey(t):!1,i=i?await hc.unmarshalPublicKey(i):!1;let n,s;if(t&&(s=await Iy(t.public)),i&&(n=await Iy(i)),t){if(i&&!xl(s,n))throw new Error("Public and private key do not match");return new dc(s,t,t.public)}if(i)return new dc(n,null,i);if(e)return new dc(e);throw new Error("Protobuf did not contain any usable key material")};Ws.isPeerId=r=>Boolean(typeof r=="object"&&r._id&&r._idB58String);function nY(r){if(r)return _Qe(r,"base64pad")}});var aY=h((Esr,sY)=>{"use strict";Nd();var v4=Et(),op=Nf(),oY=Mf();sY.exports={createCipheriv:(r,e,t)=>{let i=v4.cipher.createCipher("AES-CTR",op(e,"ascii"));return i.start({iv:op(t,"ascii")}),{update:n=>(i.update(v4.util.createBuffer(op(n,"ascii"))),oY(i.output.getBytes(),"ascii"))}},createDecipheriv:(r,e,t)=>{let i=v4.cipher.createDecipher("AES-CTR",op(e,"ascii"));return i.start({iv:op(t,"ascii")}),{update:n=>(i.update(v4.util.createBuffer(op(n,"ascii"))),oY(i.output.getBytes(),"ascii"))}}}});var fY=h((_sr,cY)=>{"use strict";var kQe=qe(),uY={16:"aes-128-ctr",32:"aes-256-ctr"};cY.exports=function(r){let e=uY[r.length];if(!e){let t=Object.entries(uY).map(([i,n])=>`${i} (${n})`).join(" / ");throw kQe(new Error(`Invalid key length ${r.length} bytes. Must be ${t}`),"ERR_INVALID_KEY_LENGTH")}return e}});var dY=h(lY=>{"use strict";var hY=aY(),AQe=fY();lY.create=async function(r,e){let t=AQe(r),i=hY.createCipheriv(t,r,e),n=hY.createDecipheriv(t,r,e);return{async encrypt(o){return i.update(o)},async decrypt(o){return n.update(o)}}}});var yY=h((ksr,pY)=>{"use strict";var IQe=fA(),TQe=mr(),RQe=qe(),bY={sha1:"sha1","sha2-256":"sha256","sha2-512":"sha512"};function qQe(r,e,t,i,n){let s=bY[n];if(!s){let a=Object.keys(bY).join(" / ");throw RQe(new Error(`Hash '${n}' is unknown or not supported. Must be ${a}`),"ERR_UNSUPPORTED_HASH_TYPE")}let o=IQe(r,e,t,i,s);return TQe.encode64(o)}pY.exports=qQe});var pc=h(ap=>{"use strict";var BQe=b7(),CQe=dY(),MQe=w4();ap.aes=CQe;ap.hmac=BQe;ap.keys=MQe;ap.randomBytes=by();ap.pbkdf2=yY()});var E4=h((Isr,gY)=>{"use strict";var{TextEncoder:NQe,TextDecoder:PQe}=ct(),DQe=new PQe,OQe=r=>DQe.decode(r),LQe=new NQe,FQe=r=>LQe.encode(r);function UQe(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}gY.exports={decodeText:OQe,encodeText:FQe,concat:UQe}});var wY=h((Tsr,mY)=>{"use strict";var{encodeText:zQe}=E4(),xY=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=zQe(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};mY.exports=xY});var EY=h((Rsr,vY)=>{"use strict";var KQe=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},VQe=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},jQe=r=>e=>({encode(t){return VQe(t,e,r)},decode(t){return KQe(t,e,r)}});vY.exports={rfc4648:jQe}});var v7=h((qsr,_Y)=>{"use strict";var Ty=ri(),HQe=wY(),{rfc4648:ln}=EY(),{decodeText:GQe,encodeText:$Qe}=E4(),WQe=()=>({encode:GQe,decode:$Qe}),SY=[["identity","\0",WQe,""],["base2","0",ln(1),"01"],["base8","7",ln(3),"01234567"],["base10","9",Ty,"0123456789"],["base16","f",ln(4),"0123456789abcdef"],["base16upper","F",ln(4),"0123456789ABCDEF"],["base32hex","v",ln(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",ln(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",ln(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",ln(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",ln(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",ln(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",ln(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",ln(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",ln(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",Ty,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",Ty,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",Ty,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",Ty,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",ln(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",ln(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",ln(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",ln(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],kY=SY.reduce((r,e)=>(r[e[0]]=new HQe(e[0],e[1],e[2],e[3]),r),{}),YQe=SY.reduce((r,e)=>(r[e[1]]=kY[e[0]],r),{});_Y.exports={names:kY,codes:YQe}});var E7=h((mu,AY)=>{"use strict";var cp=v7(),{encodeText:XQe,decodeText:_4,concat:IY}=E4();function ZQe(r,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:t,codeBuf:i}=wl(r);return JQe(t,e),IY([i,e],i.length+e.length)}function QQe(r,e){let t=wl(r),i=XQe(t.encode(e));return IY([t.codeBuf,i],t.codeBuf.length+i.length)}function eet(r){r instanceof Uint8Array&&(r=_4(r));let e=r[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(r=r.toLowerCase()),wl(r[0]).decode(r.substring(1))}function tet(r){if(r instanceof Uint8Array&&(r=_4(r)),Object.prototype.toString.call(r)!=="[object String]")return!1;try{return wl(r[0]).name}catch(e){return!1}}function JQe(r,e){wl(r).decode(_4(e))}function wl(r){if(Object.prototype.hasOwnProperty.call(cp.names,r))return cp.names[r];if(Object.prototype.hasOwnProperty.call(cp.codes,r))return cp.codes[r];throw new Error(`Unsupported encoding: ${r}`)}function ret(r){return r instanceof Uint8Array&&(r=_4(r)),wl(r[0])}mu=AY.exports=ZQe;mu.encode=QQe;mu.decode=eet;mu.isEncoded=tet;mu.encoding=wl;mu.encodingFromData=ret;mu.names=Object.freeze(cp.names);mu.codes=Object.freeze(cp.codes)});var RY=h((Bsr,TY)=>{"use strict";var iet=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});TY.exports={names:iet}});var S4=h((Csr,qY)=>{"use strict";var{TextEncoder:net,TextDecoder:set}=ct(),oet=new set,aet=r=>oet.decode(r),cet=new net,uet=r=>cet.encode(r);function fet(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}qY.exports={decodeText:aet,encodeText:uet,concat:fet}});var MY=h((Msr,BY)=>{"use strict";var{encodeText:het}=S4(),CY=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=het(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};BY.exports=CY});var PY=h((Nsr,NY)=>{"use strict";var det=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},pet=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},bet=r=>e=>({encode(t){return pet(t,e,r)},decode(t){return det(t,e,r)}});NY.exports={rfc4648:bet}});var FY=h((Psr,DY)=>{"use strict";var Ry=ri(),yet=MY(),{rfc4648:hn}=PY(),{decodeText:get,encodeText:met}=S4(),xet=()=>({encode:get,decode:met}),OY=[["identity","\0",xet,""],["base2","0",hn(1),"01"],["base8","7",hn(3),"01234567"],["base10","9",Ry,"0123456789"],["base16","f",hn(4),"0123456789abcdef"],["base16upper","F",hn(4),"0123456789ABCDEF"],["base32hex","v",hn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",hn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",hn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",hn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",hn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",hn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",hn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",hn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",hn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",Ry,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",Ry,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",Ry,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",Ry,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",hn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",hn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",hn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",hn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],LY=OY.reduce((r,e)=>(r[e[0]]=new yet(e[0],e[1],e[2],e[3]),r),{}),wet=OY.reduce((r,e)=>(r[e[1]]=LY[e[0]],r),{});DY.exports={names:LY,codes:wet}});var _7=h((xu,UY)=>{"use strict";var up=FY(),{encodeText:vet,decodeText:k4,concat:zY}=S4();function _et(r,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:t,codeBuf:i}=vl(r);return Eet(t,e),zY([i,e],i.length+e.length)}function ket(r,e){let t=vl(r),i=vet(t.encode(e));return zY([t.codeBuf,i],t.codeBuf.length+i.length)}function Aet(r){r instanceof Uint8Array&&(r=k4(r));let e=r[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(r=r.toLowerCase()),vl(r[0]).decode(r.substring(1))}function Iet(r){if(r instanceof Uint8Array&&(r=k4(r)),Object.prototype.toString.call(r)!=="[object String]")return!1;try{return vl(r[0]).name}catch(e){return!1}}function Eet(r,e){vl(r).decode(k4(e))}function vl(r){if(Object.prototype.hasOwnProperty.call(up.names,r))return up.names[r];if(Object.prototype.hasOwnProperty.call(up.codes,r))return up.codes[r];throw new Error(`Unsupported encoding: ${r}`)}function Tet(r){return r instanceof Uint8Array&&(r=k4(r)),vl(r[0])}xu=UY.exports=_et;xu.encode=ket;xu.decode=Aet;xu.isEncoded=Iet;xu.encoding=vl;xu.encodingFromData=Tet;var Ret=Object.freeze(up.names),qet=Object.freeze(up.codes);xu.names=Ret;xu.codes=qet});var VY=h((Dsr,KY)=>{"use strict";var{encoding:Bet}=_7(),{TextDecoder:Cet}=ct(),Met=new Cet("utf8");function Net(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function Pet(r,e="utf8"){return e==="utf8"||e==="utf-8"?Met.decode(r):e==="ascii"?Net(r):Bet(e).encode(r)}KY.exports=Pet});var HY=h((Osr,jY)=>{"use strict";var{encoding:Det}=_7(),{TextEncoder:Oet}=ct(),Let=new Oet;function Fet(r){let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function Uet(r,e="utf8"){return e==="utf8"||e==="utf-8"?Let.encode(r):e==="ascii"?Fet(r):Det(e).decode(r)}jY.exports=Uet});var $Y=h((Lsr,GY)=>{"use strict";function zet(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}GY.exports=zet});var eX=h((Fsr,WY)=>{"use strict";var YY=E7(),fp=ii(),{names:qy}=RY(),A4=VY(),Ket=HY(),Vet=$Y(),By={};for(let r in qy){let e=r;By[qy[e]]=e}function jet(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return A4(r,"base16")}function Het(r){return Ket(r,"base16")}function Get(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return A4(YY.encode("base58btc",r)).slice(1)}function $et(r){let e=r instanceof Uint8Array?A4(r):r;return YY.decode("z"+e)}function JY(r){if(!(r instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(r.length<2)throw new Error("multihash too short. must be > 2 bytes.");let e=fp.decode(r);if(!XY(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);r=r.slice(fp.decode.bytes);let t=fp.decode(r);if(t<0)throw new Error(`multihash invalid length: ${t}`);if(r=r.slice(fp.decode.bytes),r.length!==t)throw new Error(`multihash length inconsistent: 0x${A4(r,"base16")}`);return{code:e,name:By[e],length:t,digest:r}}function Wet(r,e,t){if(!r||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");let i=ZY(e);if(!(r instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(t==null&&(t=r.length),t&&r.length!==t)throw new Error("digest length should be equal to specified length.");let n=fp.encode(i),s=fp.encode(t);return Vet([n,s,r],n.length+s.length+r.length)}function ZY(r){let e=r;if(typeof r=="string"){if(qy[r]===void 0)throw new Error(`Unrecognized hash function named: ${r}`);e=qy[r]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(By[e]===void 0&&!S7(e))throw new Error(`Unrecognized function code: ${e}`);return e}function S7(r){return r>0&&r<16}function XY(r){return!!(S7(r)||By[r])}function QY(r){JY(r)}function Yet(r){return QY(r),r.subarray(0,2)}WY.exports={names:qy,codes:Object.freeze(By),toHexString:jet,fromHexString:Het,toB58String:Get,fromB58String:$et,decode:JY,encode:Wet,coerceCode:ZY,isAppCode:S7,validate:QY,prefix:Yet,isValidCode:XY}});var iX=h((Usr,tX)=>{"use strict";var rX="[a-fA-F\\d:]",Hf=r=>r&&r.includeBoundaries?`(?:(?<=\\s|^)(?=${rX})|(?<=${rX})(?=\\s|$))`:"",ha="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",di="[a-fA-F\\d]{1,4}",I4=`
(?:
(?:${di}:){7}(?:${di}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:${di}:){6}(?:${ha}|:${di}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:${di}:){5}(?::${ha}|(?::${di}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:${di}:){4}(?:(?::${di}){0,1}:${ha}|(?::${di}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:${di}:){3}(?:(?::${di}){0,2}:${ha}|(?::${di}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:${di}:){2}(?:(?::${di}){0,3}:${ha}|(?::${di}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:${di}:){1}(?:(?::${di}){0,4}:${ha}|(?::${di}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::${di}){0,5}:${ha}|(?::${di}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),Xet=new RegExp(`(?:^${ha}$)|(?:^${I4}$)`),Jet=new RegExp(`^${ha}$`),Zet=new RegExp(`^${I4}$`),k7=r=>r&&r.exact?Xet:new RegExp(`(?:${Hf(r)}${ha}${Hf(r)})|(?:${Hf(r)}${I4}${Hf(r)})`,"g");k7.v4=r=>r&&r.exact?Jet:new RegExp(`${Hf(r)}${ha}${Hf(r)}`,"g");k7.v6=r=>r&&r.exact?Zet:new RegExp(`${Hf(r)}${I4}${Hf(r)}`,"g");tX.exports=k7});var I7=h((zsr,nX)=>{"use strict";var A7=iX(),lp=r=>A7({exact:!0}).test(r);lp.v4=r=>A7.v4({exact:!0}).test(r);lp.v6=r=>A7.v6({exact:!0}).test(r);lp.version=r=>lp(r)?lp.v4(r)?4:6:void 0;nX.exports=lp});var T4=h((Ksr,sX)=>{"use strict";var{TextEncoder:Qet,TextDecoder:ett}=ct(),ttt=new ett,rtt=r=>ttt.decode(r),itt=new Qet,ntt=r=>itt.encode(r);function stt(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}sX.exports={decodeText:rtt,encodeText:ntt,concat:stt}});var cX=h((Vsr,oX)=>{"use strict";var{encodeText:ott}=T4(),aX=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=ott(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};oX.exports=aX});var fX=h((jsr,uX)=>{"use strict";var att=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},ctt=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},utt=r=>e=>({encode(t){return ctt(t,e,r)},decode(t){return att(t,e,r)}});uX.exports={rfc4648:utt}});var R4=h((Hsr,lX)=>{"use strict";var Cy=ri(),ftt=cX(),{rfc4648:dn}=fX(),{decodeText:ltt,encodeText:htt}=T4(),dtt=()=>({encode:ltt,decode:htt}),hX=[["identity","\0",dtt,""],["base2","0",dn(1),"01"],["base8","7",dn(3),"01234567"],["base10","9",Cy,"0123456789"],["base16","f",dn(4),"0123456789abcdef"],["base16upper","F",dn(4),"0123456789ABCDEF"],["base32hex","v",dn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",dn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",dn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",dn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",dn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",dn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",dn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",dn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",dn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",Cy,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",Cy,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",Cy,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",Cy,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",dn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",dn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",dn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",dn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],dX=hX.reduce((r,e)=>(r[e[0]]=new ftt(e[0],e[1],e[2],e[3]),r),{}),ptt=hX.reduce((r,e)=>(r[e[1]]=dX[e[0]],r),{});lX.exports={names:dX,codes:ptt}});var My=h((Gsr,pX)=>{"use strict";var{names:btt}=R4(),{TextDecoder:ytt}=ct(),gtt=new ytt("utf8");function mtt(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function xtt(r,e="utf8"){if(e==="utf8"||e==="utf-8")return gtt.decode(r);if(e==="ascii")return mtt(r);let t=btt[e];if(!t)throw new Error("Unknown base");return t.encode(r)}pX.exports=xtt});var xX=h(($sr,bX)=>{"use strict";var T7=I7(),yX=My(),wtt=T7,R7=T7.v4,gX=T7.v6,mX=function(r,e,t){t=~~t;var i;if(R7(r))i=e||new Uint8Array(t+4),r.split(/\./g).map(function(f){i[t++]=parseInt(f,10)&255});else if(gX(r)){var n=r.split(":",8),s;for(s=0;s<n.length;s++){var o=R7(n[s]),a;o&&(a=mX(n[s]),n[s]=yX(a.slice(0,2),"base16")),a&&++s<8&&n.splice(s,0,yX(a.slice(2,4),"base16"))}if(n[0]==="")for(;n.length<8;)n.unshift("0");else if(n[n.length-1]==="")for(;n.length<8;)n.push("0");else if(n.length<8){for(s=0;s<n.length&&n[s]!=="";s++);var c=[s,"1"];for(s=9-n.length;s>0;s--)c.push("0");n.splice.apply(n,c)}for(i=e||new Uint8Array(t+16),s=0;s<n.length;s++){var u=parseInt(n[s],16);i[t++]=u>>8&255,i[t++]=u&255}}if(!i)throw Error("Invalid ip address: "+r);return i},vtt=function(r,e,t){e=~~e,t=t||r.length-e;var i=[],n;let s=new DataView(r.buffer);if(t===4){for(let o=0;o<t;o++)i.push(r[e+o]);n=i.join(".")}else if(t===16){for(let o=0;o<t;o+=2)i.push(s.getUint16(e+o).toString(16));n=i.join(":"),n=n.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),n=n.replace(/:{3,4}/,"::")}return n};bX.exports={isIP:wtt,isV4:R7,isV6:gX,toBytes:mX,toString:vtt}});var Ny=h((Wsr,wX)=>{"use strict";function ks(r){if(typeof r=="number"){if(ks.codes[r])return ks.codes[r];throw new Error("no protocol with code: "+r)}else if(typeof r=="string"||r instanceof String){if(ks.names[r])return ks.names[r];throw new Error("no protocol with name: "+r)}throw new Error("invalid protocol id type: "+r)}var ko=-1;ks.lengthPrefixedVarSize=ko;ks.V=ko;ks.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,ko,"ip6zone"],[53,ko,"dns","resolvable"],[54,ko,"dns4","resolvable"],[55,ko,"dns6","resolvable"],[56,ko,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,ko,"unix",!1,"path"],[421,ko,"ipfs"],[421,ko,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,ko,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,ko,"memory"]];ks.names={};ks.codes={};ks.table.map(r=>{let e=vX.apply(null,r);ks.codes[e.code]=e,ks.names[e.name]=e});ks.object=vX;function vX(r,e,t,i,n){return{code:r,size:e,name:t,resolvable:Boolean(i),path:Boolean(n)}}wX.exports=ks});var SX=h((wu,EX)=>{"use strict";var hp=R4(),{encodeText:Ett,decodeText:q4,concat:_X}=T4();function Stt(r,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:t,codeBuf:i}=El(r);return _tt(t,e),_X([i,e],i.length+e.length)}function ktt(r,e){let t=El(r),i=Ett(t.encode(e));return _X([t.codeBuf,i],t.codeBuf.length+i.length)}function Att(r){r instanceof Uint8Array&&(r=q4(r));let e=r[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(r=r.toLowerCase()),El(r[0]).decode(r.substring(1))}function Itt(r){if(r instanceof Uint8Array&&(r=q4(r)),Object.prototype.toString.call(r)!=="[object String]")return!1;try{return El(r[0]).name}catch(e){return!1}}function _tt(r,e){El(r).decode(q4(e))}function El(r){if(Object.prototype.hasOwnProperty.call(hp.names,r))return hp.names[r];if(Object.prototype.hasOwnProperty.call(hp.codes,r))return hp.codes[r];throw new Error(`Unsupported encoding: ${r}`)}function Ttt(r){return r instanceof Uint8Array&&(r=q4(r)),El(r[0])}wu=EX.exports=Stt;wu.encode=ktt;wu.decode=Att;wu.isEncoded=Itt;wu.encoding=El;wu.encodingFromData=Ttt;wu.names=Object.freeze(hp.names);wu.codes=Object.freeze(hp.codes)});var TX=h((Ysr,kX)=>{kX.exports=AX;var IX=128,Rtt=127,qtt=~Rtt,Btt=Math.pow(2,31);function AX(r,e,t){e=e||[],t=t||0;for(var i=t;r>=Btt;)e[t++]=r&255|IX,r/=128;for(;r&qtt;)e[t++]=r&255|IX,r>>>=7;return e[t]=r|0,AX.bytes=t-i+1,e}});var BX=h((Xsr,RX)=>{RX.exports=q7;var Ctt=128,qX=127;function q7(r,e){var t=0,e=e||0,i=0,n=e,s,o=r.length;do{if(n>=o)throw q7.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&qX)<<i:(s&qX)*Math.pow(2,i),i+=7}while(s>=Ctt);return q7.bytes=n-e,t}});var MX=h((Jsr,CX)=>{var Mtt=Math.pow(2,7),Ntt=Math.pow(2,14),Ptt=Math.pow(2,21),Dtt=Math.pow(2,28),Ott=Math.pow(2,35),Ltt=Math.pow(2,42),Ftt=Math.pow(2,49),Utt=Math.pow(2,56),ztt=Math.pow(2,63);CX.exports=function(r){return r<Mtt?1:r<Ntt?2:r<Ptt?3:r<Dtt?4:r<Ott?5:r<Ltt?6:r<Ftt?7:r<Utt?8:r<ztt?9:10}});var B4=h((Zsr,NX)=>{NX.exports={encode:TX(),decode:BX(),encodingLength:MX()}});var DX=h((Qsr,PX)=>{"use strict";var{names:Ktt}=R4(),{TextEncoder:Vtt}=ct(),jtt=new Vtt;function Htt(r){let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function Gtt(r,e="utf8"){if(e==="utf8"||e==="utf-8")return jtt.encode(r);if(e==="ascii")return Htt(r);let t=Ktt[e];if(!t)throw new Error("Unknown base");return t.decode(r)}PX.exports=Gtt});var B7=h((eor,OX)=>{"use strict";function $tt(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}OX.exports=$tt});var HX=h((tor,LX)=>{"use strict";var C4=xX(),FX=Ny(),Wtt=ot(),UX=SX(),dp=B4(),M4=My(),zX=DX(),N4=B7();LX.exports=Py;function Py(r,e){return e instanceof Uint8Array?Py.toString(r,e):Py.toBytes(r,e)}Py.toString=function(e,t){switch(e=FX(e),e.code){case 4:case 41:return Ytt(t);case 6:case 273:case 33:case 132:return KX(t);case 53:case 54:case 55:case 56:case 400:case 777:return Xtt(t);case 421:return Jtt(t);case 444:return VX(t);case 445:return VX(t);default:return M4(t,"base16")}};Py.toBytes=function(e,t){switch(e=FX(e),e.code){case 4:return jX(t);case 41:return jX(t);case 6:case 273:case 33:case 132:return C7(parseInt(t,10));case 53:case 54:case 55:case 56:case 400:case 777:return Ztt(t);case 421:return Qtt(t);case 444:return ert(t);case 445:return trt(t);default:return zX(t,"base16")}};function jX(r){if(!C4.isIP(r))throw new Error("invalid ip address");return C4.toBytes(r)}function Ytt(r){let e=C4.toString(r);if(!e||!C4.isIP(e))throw new Error("invalid ip address");return e}function C7(r){let e=new ArrayBuffer(2);return new DataView(e).setUint16(0,r),new Uint8Array(e)}function KX(r){return new DataView(r.buffer).getUint16(0)}function Ztt(r){let e=zX(r),t=Uint8Array.from(dp.encode(e.length));return N4([t,e],t.length+e.length)}function Xtt(r){let e=dp.decode(r);if(r=r.slice(dp.decode.bytes),r.length!==e)throw new Error("inconsistent lengths");return M4(r)}function Qtt(r){let e=new Wtt(r).multihash,t=Uint8Array.from(dp.encode(e.length));return N4([t,e],t.length+e.length)}function Jtt(r){let e=dp.decode(r),t=r.slice(dp.decode.bytes);if(t.length!==e)throw new Error("inconsistent lengths");return M4(t,"base58btc")}function ert(r){let e=r.split(":");if(e.length!==2)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(e[0].length!==16)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion address.");let t=UX.decode("b"+e[0]),i=parseInt(e[1],10);if(i<1||i>65536)throw new Error("Port number is not in range(1, 65536)");let n=C7(i);return N4([t,n],t.length+n.length)}function trt(r){let e=r.split(":");if(e.length!==2)throw new Error("failed to parse onion addr: "+e+" does not contain a port number");if(e[0].length!==56)throw new Error("failed to parse onion addr: "+e[0]+" not a Tor onion3 address.");let t=UX.decode("b"+e[0]),i=parseInt(e[1],10);if(i<1||i>65536)throw new Error("Port number is not in range(1, 65536)");let n=C7(i);return N4([t,n],t.length+n.length)}function VX(r){let e=r.slice(0,r.length-2),t=r.slice(r.length-2),i=M4(e,"base32"),n=KX(t);return i+":"+n}});var iJ=h((ror,GX)=>{"use strict";var $X=HX(),M7=Ny(),Dy=B4(),WX=B7(),rrt=My();GX.exports={stringToStringTuples:YX,stringTuplesToString:XX,tuplesToStringTuples:ZX,stringTuplesToTuples:JX,bytesToTuples:N7,tuplesToBytes:QX,bytesToString:irt,stringToBytes:tJ,fromString:nrt,fromBytes:rJ,validateBytes:P7,isValidBytes:srt,cleanPath:P4,ParseError:D7,protoFromTuple:Oy,sizeForAddr:eJ};function YX(r){let e=[],t=r.split("/").slice(1);if(t.length===1&&t[0]==="")return[];for(let i=0;i<t.length;i++){let n=t[i],s=M7(n);if(s.size===0){e.push([n]);continue}if(i++,i>=t.length)throw D7("invalid address: "+r);if(s.path){e.push([n,P4(t.slice(i).join("/"))]);break}e.push([n,t[i]])}return e}function XX(r){let e=[];return r.map(t=>{let i=Oy(t);e.push(i.name),t.length>1&&e.push(t[1])}),P4(e.join("/"))}function JX(r){return r.map(e=>{Array.isArray(e)||(e=[e]);let t=Oy(e);return e.length>1?[t.code,$X.toBytes(t.code,e[1])]:[t.code]})}function ZX(r){return r.map(e=>{let t=Oy(e);return e.length>1?[t.code,$X.toString(t.code,e[1])]:[t.code]})}function QX(r){return rJ(WX(r.map(e=>{let t=Oy(e),i=Uint8Array.from(Dy.encode(t.code));return e.length>1&&(i=WX([i,e[1]])),i})))}function eJ(r,e){return r.size>0?r.size/8:r.size===0?0:Dy.decode(e)+Dy.decode.bytes}function N7(r){let e=[],t=0;for(;t<r.length;){let i=Dy.decode(r,t),n=Dy.decode.bytes,s=M7(i),o=eJ(s,r.slice(t+n));if(o===0){e.push([i]),t+=n;continue}let a=r.slice(t+n,t+n+o);if(t+=o+n,t>r.length)throw D7("Invalid address Uint8Array: "+rrt(r,"base16"));e.push([i,a])}return e}function irt(r){let e=N7(r),t=ZX(e);return XX(t)}function tJ(r){r=P4(r);let e=YX(r),t=JX(e);return QX(t)}function nrt(r){return tJ(r)}function rJ(r){let e=P7(r);if(e)throw e;return Uint8Array.from(r)}function P7(r){try{N7(r)}catch(e){return e}}function srt(r){return P7(r)===void 0}function P4(r){return"/"+r.trim().split("/").filter(e=>e).join("/")}function D7(r){return new Error("Error parsing address: "+r)}function Oy(r){return M7(r[0])}});var sJ=h((ior,nJ)=>{"use strict";function ort(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}nJ.exports=ort});var tr=h((oJ,aJ)=>{"use strict";var da=iJ(),Ly=Ny(),cJ=B4(),art=ot(),crt=gu(),urt=qe(),frt=Symbol.for("nodejs.util.inspect.custom"),O7=My(),lrt=sJ(),uJ=new Map,qt=crt.proto(function(r){if(!(this instanceof qt))return new qt(r);if(r==null&&(r=""),r instanceof Uint8Array)this.bytes=da.fromBytes(r);else if(typeof r=="string"||r instanceof String){if(r.length>0&&r.charAt(0)!=="/")throw new Error(`multiaddr "${r}" must start with a "/"`);this.bytes=da.fromString(r)}else if(r.bytes&&r.protos&&r.protoCodes)this.bytes=da.fromBytes(r.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr")},{className:"Multiaddr",symbolName:"@multiformats/js-multiaddr/multiaddr"});qt.prototype.toString=function(){return da.bytesToString(this.bytes)};qt.prototype.toJSON=qt.prototype.toString;qt.prototype.toOptions=function(){let e={},t=this.toString().split("/");return e.family=t[1]==="ip4"?"ipv4":"ipv6",e.host=t[2],e.transport=t[3],e.port=parseInt(t[4]),e};qt.prototype[frt]=function(){return"<Multiaddr "+O7(this.bytes,"base16")+" - "+da.bytesToString(this.bytes)+">"};qt.prototype.inspect=function(){return"<Multiaddr "+O7(this.bytes,"base16")+" - "+da.bytesToString(this.bytes)+">"};qt.prototype.protos=function(){return this.protoCodes().map(e=>Object.assign({},Ly(e)))};qt.prototype.protoCodes=function(){let e=[],t=this.bytes,i=0;for(;i<t.length;){let n=cJ.decode(t,i),s=cJ.decode.bytes,o=Ly(n);i+=da.sizeForAddr(o,t.slice(i+s))+s,e.push(n)}return e};qt.prototype.protoNames=function(){return this.protos().map(e=>e.name)};qt.prototype.tuples=function(){return da.bytesToTuples(this.bytes)};qt.prototype.stringTuples=function(){let e=da.bytesToTuples(this.bytes);return da.tuplesToStringTuples(e)};qt.prototype.encapsulate=function(e){return e=qt(e),qt(this.toString()+e.toString())};qt.prototype.decapsulate=function(e){e=e.toString();let t=this.toString(),i=t.lastIndexOf(e);if(i<0)throw new Error("Address "+this+" does not contain subaddress: "+e);return qt(t.slice(0,i))};qt.prototype.decapsulateCode=function(e){let t=this.tuples();for(let i=t.length-1;i>=0;i--)if(t[i][0]===e)return qt(da.tuplesToBytes(t.slice(0,i)));return this};qt.prototype.getPeerId=function(){let e=null;try{e=this.stringTuples().filter(i=>{if(i[0]===Ly.names.ipfs.code)return!0}).pop()[1],e=O7(new art(e).multihash,"base58btc")}catch(t){e=null}return e};qt.prototype.getPath=function(){let e=null;try{e=this.stringTuples().filter(t=>{if(Ly(t[0]).path)return!0})[0][1]}catch(t){e=null}return e};qt.prototype.equals=function(e){return lrt(this.bytes,e.bytes)};qt.prototype.resolve=async function(){let e=this.protos().find(n=>n.resolvable);if(!e)return[this];let t=uJ.get(e.name);if(!t)throw urt(new Error(`no available resolver for ${e.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await t(this)).map(n=>qt(n))};qt.prototype.nodeAddress=function(){let e=this.protoCodes(),t=this.protoNames(),i=this.toString().split("/").slice(1);if(i.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(e[0]!==4&&e[0]!==41&&e[0]!==54&&e[0]!==55)throw new Error(`no protocol with name: "'${t[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if(i[2]!=="tcp"&&i[2]!=="udp")throw new Error(`no protocol with name: "'${t[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:e[0]===41||e[0]===55?6:4,address:i[1],port:parseInt(i[3])}};qt.fromNodeAddress=function(e,t){if(!e)throw new Error("requires node address object");if(!t)throw new Error("requires transport protocol");let i;switch(e.family){case"IPv4":i="ip4";break;case"IPv6":i="ip6";break;default:throw Error(`Invalid addr family. Got '${e.family}' instead of 'IPv4' or 'IPv6'`)}return qt("/"+[i,e.address,t,e.port].join("/"))};qt.prototype.isThinWaistAddress=function(e){let t=(e||this).protos();return!(t.length!==2||t[0].code!==4&&t[0].code!==41||t[1].code!==6&&t[1].code!==273)};qt.protocols=Ly;qt.isName=function(e){return qt.isMultiaddr(e)?e.protos().some(t=>t.resolvable):!1};qt.resolve=function(e){return!qt.isMultiaddr(e)||!qt.isName(e)?Promise.reject(Error("not a valid name")):Promise.reject(new Error("not implemented yet"))};qt.resolvers=uJ;oJ=aJ.exports=qt});var Sl=h(Xr=>{"use strict";var L7=tr(),fJ=ft("dns4"),lJ=ft("dns6"),hJ=ft("dnsaddr"),_l=Ln(ft("dns"),hJ,fJ,lJ),Fy=Ln(ft("ip4"),ft("ip6")),pp=Ln(_t(Fy,ft("tcp")),_t(_l,ft("tcp"))),F7=_t(Fy,ft("udp")),dJ=_t(F7,ft("utp")),pJ=_t(F7,ft("quic")),bp=Ln(_t(pp,ft("ws")),_t(_l,ft("ws"))),yp=Ln(_t(pp,ft("wss")),_t(_l,ft("wss"))),D4=Ln(_t(pp,ft("http")),_t(Fy,ft("http")),_t(_l,ft("http"))),O4=Ln(_t(pp,ft("https")),_t(Fy,ft("https")),_t(_l,ft("https"))),U7=Ln(_t(bp,ft("p2p-webrtc-star"),ft("p2p")),_t(yp,ft("p2p-webrtc-star"),ft("p2p")),_t(bp,ft("p2p-webrtc-star")),_t(yp,ft("p2p-webrtc-star"))),hrt=Ln(_t(bp,ft("p2p-websocket-star"),ft("p2p")),_t(yp,ft("p2p-websocket-star"),ft("p2p")),_t(bp,ft("p2p-websocket-star")),_t(yp,ft("p2p-websocket-star"))),z7=Ln(_t(D4,ft("p2p-webrtc-direct"),ft("p2p")),_t(O4,ft("p2p-webrtc-direct"),ft("p2p")),_t(D4,ft("p2p-webrtc-direct")),_t(O4,ft("p2p-webrtc-direct"))),gp=Ln(bp,yp,D4,O4,U7,z7,pp,dJ,pJ,_l),drt=Ln(_t(gp,ft("p2p-stardust"),ft("p2p")),_t(gp,ft("p2p-stardust"))),Gf=Ln(_t(gp,ft("p2p")),U7,z7,ft("p2p")),bJ=Ln(_t(Gf,ft("p2p-circuit"),Gf),_t(Gf,ft("p2p-circuit")),_t(ft("p2p-circuit"),Gf),_t(gp,ft("p2p-circuit")),_t(ft("p2p-circuit"),gp),ft("p2p-circuit")),yJ=()=>Ln(_t(bJ,yJ),bJ),mp=yJ(),gJ=Ln(_t(mp,Gf,mp),_t(Gf,mp),_t(mp,Gf),mp,Gf);Xr.DNS=_l;Xr.DNS4=fJ;Xr.DNS6=lJ;Xr.DNSADDR=hJ;Xr.IP=Fy;Xr.TCP=pp;Xr.UDP=F7;Xr.QUIC=pJ;Xr.UTP=dJ;Xr.HTTP=D4;Xr.HTTPS=O4;Xr.WebSockets=bp;Xr.WebSocketsSecure=yp;Xr.WebSocketStar=hrt;Xr.WebRTCStar=U7;Xr.WebRTCDirect=z7;Xr.Reliable=gp;Xr.Stardust=drt;Xr.Circuit=mp;Xr.P2P=gJ;Xr.IPFS=gJ;function mJ(r){return function(t){if(!L7.isMultiaddr(t))try{t=L7(t)}catch(n){return!1}let i=r(t.protoNames());return i===null?!1:i.length===0}}function _t(){let r=Array.from(arguments);function e(t){return t.length<r.length?null:(r.some(i=>{if(t=typeof i=="function"?i().partialMatch(t):i.partialMatch(t),t===null)return!0}),t)}return{toString:function(){return"{ "+r.join(" ")+" }"},input:r,matches:mJ(e),partialMatch:e}}function Ln(){let r=Array.from(arguments);function e(i){let n=null;return r.some(s=>{let o=typeof s=="function"?s().partialMatch(i):s.partialMatch(i);if(o)return n=o,!0}),n}return{toString:function(){return"{ "+r.join(" ")+" }"},input:r,matches:mJ(e),partialMatch:e}}function ft(r){let e=r;function t(n){if(typeof n=="string")try{n=L7(n)}catch(o){return!1}let s=n.protoNames();return s.length===1&&s[0]===e}function i(n){return n.length===0?null:n[0]===e?n.slice(1):null}return{toString:function(){return e},matches:t,partialMatch:i}}});var V7=h((sor,xJ)=>{"use strict";var wJ=self.location?self.location.protocol+"//"+self.location.host:"",K7=self.URL,vJ=class{constructor(e="",t=wJ){this.super=new K7(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set origin(e){this.super.origin=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set searchParams(e){this.super.searchParams=e}set username(e){this.super.username=e}createObjectURL(e){return this.super.createObjectURL(e)}revokeObjectURL(e){this.super.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function prt(r){if(typeof r=="string")return new K7(r).toString();if(!(r instanceof K7)){let e=r.username&&r.password?`${r.username}:${r.password}@`:"",t=r.auth?r.auth+"@":"",i=r.port?":"+r.port:"",n=r.protocol?r.protocol+"//":"",s=r.host||"",o=r.hostname||"",a=r.search||(r.query?"?"+r.query:""),c=r.hash||"",u=r.pathname||"",f=r.path||u+a;return`${n}${e||t}${s||o+i}${f}${c}`}}xJ.exports={URLWithLegacySupport:vJ,URLSearchParams:self.URLSearchParams,defaultBase:wJ,format:prt}});var SJ=h((oor,EJ)=>{"use strict";var{URLWithLegacySupport:_J,format:brt}=V7();EJ.exports=(r,e={},t={},i)=>{let n=e.protocol?e.protocol.replace(":",""):"http";n=(t[n]||i||n)+":";let s;try{s=new _J(r)}catch(a){s={}}let o=Object.assign({},e,{protocol:n||s.protocol,host:e.host||s.host});return new _J(r,brt(o)).toString()}});var AJ=h((aor,kJ)=>{"use strict";var{URLWithLegacySupport:yrt,format:grt,URLSearchParams:mrt,defaultBase:xrt}=V7(),wrt=SJ();kJ.exports={URL:yrt,URLSearchParams:mrt,format:grt,relative:wrt,defaultBase:xrt}});var TJ=h((cor,IJ)=>{"use strict";var{names:vrt}=v7(),{TextDecoder:Ert}=ct(),_rt=new Ert("utf8");function Srt(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function krt(r,e="utf8"){if(e==="utf8"||e==="utf-8")return _rt.decode(r);if(e==="ascii")return Srt(r);let t=vrt[e];if(!t)throw new Error("Unknown base");return t.encode(r)}IJ.exports=krt});var $f=h((uor,RJ)=>{"use strict";var Art=eX(),qJ=E7(),BJ=tr(),Irt=Sl(),Trt=ot(),{URL:Rrt}=AJ(),qrt=TJ(),j7=/^https?:\/\/[^/]+\/(ip[fn]s)\/([^/?#]+)/,xp=/^\/(ip[fn]s)\/([^/?#]+)/,CJ=1,Brt=2,Uy=/^https?:\/\/([^/]+)\.(ip[fn]s)\.[^/?]+/,MJ=1,NJ=2,Crt=/^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\.)+([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$/;function Mrt(r){let e=H7(r);try{return Art.decode(qJ.decode("z"+e)),!0}catch(t){return!1}}function Nrt(r){try{return qJ.isEncoded(r)}catch(e){return!1}}function zy(r){try{return new Trt(r),!0}catch(e){return!1}}function PJ(r){if(!r)return!1;if(BJ.isMultiaddr(r))return!0;try{return new BJ(r),!0}catch(e){return!1}}function Prt(r){return PJ(r)&&Irt.IPFS.matches(r)}function Ky(r,e,t=CJ,i=Brt){let n=H7(r);if(!n)return!1;let s=n.match(e);if(!s||s[t]!=="ipfs")return!1;let o=s[i];return o&&e===Uy&&(o=o.toLowerCase()),zy(o)}function L4(r,e,t=CJ,i){let n=H7(r);if(!n)return!1;let s=n.match(e);if(!s||s[t]!=="ipns")return!1;let o=s[i];if(o&&e===Uy){if(o=o.toLowerCase(),zy(o))return!0;try{let{hostname:a}=new Rrt(`http://${o}`);return Crt.test(a)}catch(a){return!1}}return!0}function DJ(r){return typeof r=="string"}function H7(r){return r instanceof Uint8Array?qrt(r,"base58btc"):DJ(r)?r:!1}var G7=r=>Ky(r,Uy,NJ,MJ),$7=r=>L4(r,Uy,NJ,MJ),OJ=r=>G7(r)||$7(r),LJ=r=>Ky(r,j7)||G7(r),FJ=r=>L4(r,j7)||$7(r),UJ=r=>LJ(r)||FJ(r)||OJ(r),zJ=r=>Ky(r,xp)||L4(r,xp);RJ.exports={multihash:Mrt,multiaddr:PJ,peerMultiaddr:Prt,cid:zy,base32cid:r=>Nrt(r)==="base32"&&zy(r),ipfsSubdomain:G7,ipnsSubdomain:$7,subdomain:OJ,subdomainGatewayPattern:Uy,ipfsUrl:LJ,ipnsUrl:FJ,url:UJ,pathGatewayPattern:j7,ipfsPath:r=>Ky(r,xp),ipnsPath:r=>L4(r,xp),path:zJ,pathPattern:xp,urlOrPath:r=>UJ(r)||zJ(r),cidPath:r=>DJ(r)&&!zy(r)&&Ky(`/ipfs/${r}`,xp)}});var jJ=h((lor,KJ)=>{"use strict";function VJ(r,e){for(let t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function Drt(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=""),e&&(t.code=e);try{return VJ(r,t)}catch(i){t.message=r.message,t.stack=r.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(r)),VJ(new n,t)}}KJ.exports=Drt});var HJ=h((hor,F4)=>{(function(){"use strict";var r="input is invalid type",e="finalize already called",t=typeof window=="object",i=t?window:{};i.JS_SHA3_NO_WINDOW&&(t=!1);var n=!t&&typeof self=="object",s=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=globalThis:n&&(i=self);var o=!i.JS_SHA3_NO_COMMON_JS&&typeof F4=="object"&&F4.exports,a=typeof define=="function"&&define.amd,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",u="0123456789abcdef".split(""),f=[31,7936,2031616,520093696],l=[4,1024,262144,67108864],d=[1,256,65536,16777216],p=[6,1536,393216,100663296],b=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],m=[224,256,384,512],w=[128,256],A=["hex","buffer","arrayBuffer","array","digest"],I={"128":168,"256":136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(_){return Object.prototype.toString.call(_)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(_){return typeof _=="object"&&_.buffer&&_.buffer.constructor===ArrayBuffer});for(var F=function(_,ue,fe){return function(E){return new G(_,ue,_).update(E)[fe]()}},V=function(_,ue,fe){return function(E,T){return new G(_,ue,T).update(E)[fe]()}},P=function(_,ue,fe){return function(E,T,D,K){return N["cshake"+_].update(E,T,D,K)[fe]()}},W=function(_,ue,fe){return function(E,T,D,K){return N["kmac"+_].update(E,T,D,K)[fe]()}},ne=function(_,ue,fe,E){for(var T=0;T<A.length;++T){var D=A[T];_[D]=ue(fe,E,D)}return _},Q=function(_,ue){var fe=F(_,ue,"hex");return fe.create=function(){return new G(_,ue,_)},fe.update=function(E){return fe.create().update(E)},ne(fe,F,_,ue)},M=function(_,ue){var fe=V(_,ue,"hex");return fe.create=function(E){return new G(_,ue,E)},fe.update=function(E,T){return fe.create(T).update(E)},ne(fe,V,_,ue)},y=function(_,ue){var fe=I[_],E=P(_,ue,"hex");return E.create=function(T,D,K){return!D&&!K?N["shake"+_].create(T):new G(_,ue,T).bytepad([D,K],fe)},E.update=function(T,D,K,H){return E.create(D,K,H).update(T)},ne(E,P,_,ue)},v=function(_,ue){var fe=I[_],E=W(_,ue,"hex");return E.create=function(T,D,K){return new be(_,ue,D).bytepad(["KMAC",K],fe).bytepad([T],fe)},E.update=function(T,D,K,H){return E.create(T,K,H).update(D)},ne(E,W,_,ue)},k=[{name:"keccak",padding:d,bits:m,createMethod:Q},{name:"sha3",padding:p,bits:m,createMethod:Q},{name:"shake",padding:f,bits:w,createMethod:M},{name:"cshake",padding:l,bits:w,createMethod:y},{name:"kmac",padding:l,bits:w,createMethod:v}],N={},L=[],$=0;$<k.length;++$)for(var X=k[$],q=X.bits,x=0;x<q.length;++x){var z=X.name+"_"+q[x];if(L.push(z),N[z]=X.createMethod(q[x],X.padding),X.name!=="sha3"){var pe=X.name+q[x];L.push(pe),N[pe]=N[z]}}function G(_,ue,fe){this.blocks=[],this.s=[],this.padding=ue,this.outputBits=fe,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(_<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=fe>>5,this.extraBytes=(fe&31)>>3;for(var E=0;E<50;++E)this.s[E]=0}G.prototype.update=function(_){if(this.finalized)throw new Error(e);var ue,fe=typeof _;if(fe!=="string"){if(fe==="object"){if(_===null)throw new Error(r);if(c&&_.constructor===ArrayBuffer)_=new Uint8Array(_);else if(!Array.isArray(_)&&(!c||!ArrayBuffer.isView(_)))throw new Error(r)}else throw new Error(r);ue=!0}for(var E=this.blocks,T=this.byteCount,D=_.length,K=this.blockCount,H=0,ee=this.s,Z,J;H<D;){if(this.reset)for(this.reset=!1,E[0]=this.block,Z=1;Z<K+1;++Z)E[Z]=0;if(ue)for(Z=this.start;H<D&&Z<T;++H)E[Z>>2]|=_[H]<<b[Z++&3];else for(Z=this.start;H<D&&Z<T;++H)J=_.charCodeAt(H),J<128?E[Z>>2]|=J<<b[Z++&3]:J<2048?(E[Z>>2]|=(192|J>>6)<<b[Z++&3],E[Z>>2]|=(128|J&63)<<b[Z++&3]):J<55296||J>=57344?(E[Z>>2]|=(224|J>>12)<<b[Z++&3],E[Z>>2]|=(128|J>>6&63)<<b[Z++&3],E[Z>>2]|=(128|J&63)<<b[Z++&3]):(J=65536+((J&1023)<<10|_.charCodeAt(++H)&1023),E[Z>>2]|=(240|J>>18)<<b[Z++&3],E[Z>>2]|=(128|J>>12&63)<<b[Z++&3],E[Z>>2]|=(128|J>>6&63)<<b[Z++&3],E[Z>>2]|=(128|J&63)<<b[Z++&3]);if(this.lastByteIndex=Z,Z>=T){for(this.start=Z-T,this.block=E[K],Z=0;Z<K;++Z)ee[Z]^=E[Z];U(ee),this.reset=!0}else this.start=Z}return this},G.prototype.encode=function(_,ue){var fe=_&255,E=1,T=[fe];for(_=_>>8,fe=_&255;fe>0;)T.unshift(fe),_=_>>8,fe=_&255,++E;return ue?T.push(E):T.unshift(E),this.update(T),T.length},G.prototype.encodeString=function(_){var ue,fe=typeof _;if(fe!=="string"){if(fe==="object"){if(_===null)throw new Error(r);if(c&&_.constructor===ArrayBuffer)_=new Uint8Array(_);else if(!Array.isArray(_)&&(!c||!ArrayBuffer.isView(_)))throw new Error(r)}else throw new Error(r);ue=!0}var E=0,T=_.length;if(ue)E=T;else for(var D=0;D<_.length;++D){var K=_.charCodeAt(D);K<128?E+=1:K<2048?E+=2:K<55296||K>=57344?E+=3:(K=65536+((K&1023)<<10|_.charCodeAt(++D)&1023),E+=4)}return E+=this.encode(E*8),this.update(_),E},G.prototype.bytepad=function(_,ue){for(var fe=this.encode(ue),E=0;E<_.length;++E)fe+=this.encodeString(_[E]);var T=ue-fe%ue,D=[];return D.length=T,this.update(D),this},G.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var _=this.blocks,ue=this.lastByteIndex,fe=this.blockCount,E=this.s;if(_[ue>>2]|=this.padding[ue&3],this.lastByteIndex===this.byteCount)for(_[0]=_[fe],ue=1;ue<fe+1;++ue)_[ue]=0;for(_[fe-1]|=2147483648,ue=0;ue<fe;++ue)E[ue]^=_[ue];U(E)}},G.prototype.toString=G.prototype.hex=function(){this.finalize();for(var _=this.blockCount,ue=this.s,fe=this.outputBlocks,E=this.extraBytes,T=0,D=0,K="",H;D<fe;){for(T=0;T<_&&D<fe;++T,++D)H=ue[T],K+=u[H>>4&15]+u[H&15]+u[H>>12&15]+u[H>>8&15]+u[H>>20&15]+u[H>>16&15]+u[H>>28&15]+u[H>>24&15];D%_==0&&(U(ue),T=0)}return E&&(H=ue[T],K+=u[H>>4&15]+u[H&15],E>1&&(K+=u[H>>12&15]+u[H>>8&15]),E>2&&(K+=u[H>>20&15]+u[H>>16&15])),K},G.prototype.arrayBuffer=function(){this.finalize();var _=this.blockCount,ue=this.s,fe=this.outputBlocks,E=this.extraBytes,T=0,D=0,K=this.outputBits>>3,H;E?H=new ArrayBuffer(fe+1<<2):H=new ArrayBuffer(K);for(var ee=new Uint32Array(H);D<fe;){for(T=0;T<_&&D<fe;++T,++D)ee[D]=ue[T];D%_==0&&U(ue)}return E&&(ee[T]=ue[T],H=H.slice(0,K)),H},G.prototype.buffer=G.prototype.arrayBuffer,G.prototype.digest=G.prototype.array=function(){this.finalize();for(var _=this.blockCount,ue=this.s,fe=this.outputBlocks,E=this.extraBytes,T=0,D=0,K=[],H,ee;D<fe;){for(T=0;T<_&&D<fe;++T,++D)H=D<<2,ee=ue[T],K[H]=ee&255,K[H+1]=ee>>8&255,K[H+2]=ee>>16&255,K[H+3]=ee>>24&255;D%_==0&&U(ue)}return E&&(H=D<<2,ee=ue[T],K[H]=ee&255,E>1&&(K[H+1]=ee>>8&255),E>2&&(K[H+2]=ee>>16&255)),K};function be(_,ue,fe){G.call(this,_,ue,fe)}be.prototype=new G,be.prototype.finalize=function(){return this.encode(this.outputBits,!0),G.prototype.finalize.call(this)};var U=function(_){var ue,fe,E,T,D,K,H,ee,Z,J,te,ae,ce,ye,Me,Be,Je,$e,nt,Qe,Ue,Ye,It,it,je,re,S,Y,Yt,tt,Pt,Yn,Ut,rt,Xn,zt,Kt,Jn,Vt,kt,ps,Xt,Jt,bs,at,Zt,ys,hr,sr,Jo,or,ar,ir,cr,jt,Vs,oo,ao,co,uo,fo,dt,lo;for(E=0;E<48;E+=2)T=_[0]^_[10]^_[20]^_[30]^_[40],D=_[1]^_[11]^_[21]^_[31]^_[41],K=_[2]^_[12]^_[22]^_[32]^_[42],H=_[3]^_[13]^_[23]^_[33]^_[43],ee=_[4]^_[14]^_[24]^_[34]^_[44],Z=_[5]^_[15]^_[25]^_[35]^_[45],J=_[6]^_[16]^_[26]^_[36]^_[46],te=_[7]^_[17]^_[27]^_[37]^_[47],ae=_[8]^_[18]^_[28]^_[38]^_[48],ce=_[9]^_[19]^_[29]^_[39]^_[49],ue=ae^(K<<1|H>>>31),fe=ce^(H<<1|K>>>31),_[0]^=ue,_[1]^=fe,_[10]^=ue,_[11]^=fe,_[20]^=ue,_[21]^=fe,_[30]^=ue,_[31]^=fe,_[40]^=ue,_[41]^=fe,ue=T^(ee<<1|Z>>>31),fe=D^(Z<<1|ee>>>31),_[2]^=ue,_[3]^=fe,_[12]^=ue,_[13]^=fe,_[22]^=ue,_[23]^=fe,_[32]^=ue,_[33]^=fe,_[42]^=ue,_[43]^=fe,ue=K^(J<<1|te>>>31),fe=H^(te<<1|J>>>31),_[4]^=ue,_[5]^=fe,_[14]^=ue,_[15]^=fe,_[24]^=ue,_[25]^=fe,_[34]^=ue,_[35]^=fe,_[44]^=ue,_[45]^=fe,ue=ee^(ae<<1|ce>>>31),fe=Z^(ce<<1|ae>>>31),_[6]^=ue,_[7]^=fe,_[16]^=ue,_[17]^=fe,_[26]^=ue,_[27]^=fe,_[36]^=ue,_[37]^=fe,_[46]^=ue,_[47]^=fe,ue=J^(T<<1|D>>>31),fe=te^(D<<1|T>>>31),_[8]^=ue,_[9]^=fe,_[18]^=ue,_[19]^=fe,_[28]^=ue,_[29]^=fe,_[38]^=ue,_[39]^=fe,_[48]^=ue,_[49]^=fe,ye=_[0],Me=_[1],Zt=_[11]<<4|_[10]>>>28,ys=_[10]<<4|_[11]>>>28,Y=_[20]<<3|_[21]>>>29,Yt=_[21]<<3|_[20]>>>29,uo=_[31]<<9|_[30]>>>23,fo=_[30]<<9|_[31]>>>23,Xt=_[40]<<18|_[41]>>>14,Jt=_[41]<<18|_[40]>>>14,rt=_[2]<<1|_[3]>>>31,Xn=_[3]<<1|_[2]>>>31,Be=_[13]<<12|_[12]>>>20,Je=_[12]<<12|_[13]>>>20,hr=_[22]<<10|_[23]>>>22,sr=_[23]<<10|_[22]>>>22,tt=_[33]<<13|_[32]>>>19,Pt=_[32]<<13|_[33]>>>19,dt=_[42]<<2|_[43]>>>30,lo=_[43]<<2|_[42]>>>30,cr=_[5]<<30|_[4]>>>2,jt=_[4]<<30|_[5]>>>2,zt=_[14]<<6|_[15]>>>26,Kt=_[15]<<6|_[14]>>>26,$e=_[25]<<11|_[24]>>>21,nt=_[24]<<11|_[25]>>>21,Jo=_[34]<<15|_[35]>>>17,or=_[35]<<15|_[34]>>>17,Yn=_[45]<<29|_[44]>>>3,Ut=_[44]<<29|_[45]>>>3,it=_[6]<<28|_[7]>>>4,je=_[7]<<28|_[6]>>>4,Vs=_[17]<<23|_[16]>>>9,oo=_[16]<<23|_[17]>>>9,Jn=_[26]<<25|_[27]>>>7,Vt=_[27]<<25|_[26]>>>7,Qe=_[36]<<21|_[37]>>>11,Ue=_[37]<<21|_[36]>>>11,ar=_[47]<<24|_[46]>>>8,ir=_[46]<<24|_[47]>>>8,bs=_[8]<<27|_[9]>>>5,at=_[9]<<27|_[8]>>>5,re=_[18]<<20|_[19]>>>12,S=_[19]<<20|_[18]>>>12,ao=_[29]<<7|_[28]>>>25,co=_[28]<<7|_[29]>>>25,kt=_[38]<<8|_[39]>>>24,ps=_[39]<<8|_[38]>>>24,Ye=_[48]<<14|_[49]>>>18,It=_[49]<<14|_[48]>>>18,_[0]=ye^~Be&$e,_[1]=Me^~Je&nt,_[10]=it^~re&Y,_[11]=je^~S&Yt,_[20]=rt^~zt&Jn,_[21]=Xn^~Kt&Vt,_[30]=bs^~Zt&hr,_[31]=at^~ys&sr,_[40]=cr^~Vs&ao,_[41]=jt^~oo&co,_[2]=Be^~$e&Qe,_[3]=Je^~nt&Ue,_[12]=re^~Y&tt,_[13]=S^~Yt&Pt,_[22]=zt^~Jn&kt,_[23]=Kt^~Vt&ps,_[32]=Zt^~hr&Jo,_[33]=ys^~sr&or,_[42]=Vs^~ao&uo,_[43]=oo^~co&fo,_[4]=$e^~Qe&Ye,_[5]=nt^~Ue&It,_[14]=Y^~tt&Yn,_[15]=Yt^~Pt&Ut,_[24]=Jn^~kt&Xt,_[25]=Vt^~ps&Jt,_[34]=hr^~Jo&ar,_[35]=sr^~or&ir,_[44]=ao^~uo&dt,_[45]=co^~fo&lo,_[6]=Qe^~Ye&ye,_[7]=Ue^~It&Me,_[16]=tt^~Yn&it,_[17]=Pt^~Ut&je,_[26]=kt^~Xt&rt,_[27]=ps^~Jt&Xn,_[36]=Jo^~ar&bs,_[37]=or^~ir&at,_[46]=uo^~dt&cr,_[47]=fo^~lo&jt,_[8]=Ye^~ye&Be,_[9]=It^~Me&Je,_[18]=Yn^~it&re,_[19]=Ut^~je&S,_[28]=Xt^~rt&zt,_[29]=Jt^~Xn&Kt,_[38]=ar^~bs&Zt,_[39]=ir^~at&ys,_[48]=dt^~cr&Vs,_[49]=lo^~jt&oo,_[0]^=g[E],_[1]^=g[E+1]};if(o)F4.exports=N;else{for($=0;$<L.length;++$)i[L[$]]=N[L[$]];a&&define(function(){return N})}})()});var GJ=h((Vy,U4)=>{(function(r,e){"use strict";var t={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function i(p){if(!Array.isArray(p)&&!ArrayBuffer.isView(p))return!1;for(var b=0;b<p.length;b++)if(!Number.isInteger(p[b])||p[b]<0||p[b]>255)return!1;return!0}function n(p,b){return(p&65535)*b+(((p>>>16)*b&65535)<<16)}function s(p,b){return p<<b|p>>>32-b}function o(p){return p^=p>>>16,p=n(p,2246822507),p^=p>>>13,p=n(p,3266489909),p^=p>>>16,p}function a(p,b){p=[p[0]>>>16,p[0]&65535,p[1]>>>16,p[1]&65535],b=[b[0]>>>16,b[0]&65535,b[1]>>>16,b[1]&65535];var g=[0,0,0,0];return g[3]+=p[3]+b[3],g[2]+=g[3]>>>16,g[3]&=65535,g[2]+=p[2]+b[2],g[1]+=g[2]>>>16,g[2]&=65535,g[1]+=p[1]+b[1],g[0]+=g[1]>>>16,g[1]&=65535,g[0]+=p[0]+b[0],g[0]&=65535,[g[0]<<16|g[1],g[2]<<16|g[3]]}function c(p,b){p=[p[0]>>>16,p[0]&65535,p[1]>>>16,p[1]&65535],b=[b[0]>>>16,b[0]&65535,b[1]>>>16,b[1]&65535];var g=[0,0,0,0];return g[3]+=p[3]*b[3],g[2]+=g[3]>>>16,g[3]&=65535,g[2]+=p[2]*b[3],g[1]+=g[2]>>>16,g[2]&=65535,g[2]+=p[3]*b[2],g[1]+=g[2]>>>16,g[2]&=65535,g[1]+=p[1]*b[3],g[0]+=g[1]>>>16,g[1]&=65535,g[1]+=p[2]*b[2],g[0]+=g[1]>>>16,g[1]&=65535,g[1]+=p[3]*b[1],g[0]+=g[1]>>>16,g[1]&=65535,g[0]+=p[0]*b[3]+p[1]*b[2]+p[2]*b[1]+p[3]*b[0],g[0]&=65535,[g[0]<<16|g[1],g[2]<<16|g[3]]}function u(p,b){return b%=64,b===32?[p[1],p[0]]:b<32?[p[0]<<b|p[1]>>>32-b,p[1]<<b|p[0]>>>32-b]:(b-=32,[p[1]<<b|p[0]>>>32-b,p[0]<<b|p[1]>>>32-b])}function f(p,b){return b%=64,b===0?p:b<32?[p[0]<<b|p[1]>>>32-b,p[1]<<b]:[p[1]<<b-32,0]}function l(p,b){return[p[0]^b[0],p[1]^b[1]]}function d(p){return p=l(p,[0,p[0]>>>1]),p=c(p,[4283543511,3981806797]),p=l(p,[0,p[0]>>>1]),p=c(p,[3301882366,444984403]),p=l(p,[0,p[0]>>>1]),p}t.x86.hash32=function(p,b){if(t.inputValidation&&!i(p))return e;b=b||0;for(var g=p.length%4,m=p.length-g,w=b,A=0,I=3432918353,F=461845907,V=0;V<m;V=V+4)A=p[V]|p[V+1]<<8|p[V+2]<<16|p[V+3]<<24,A=n(A,I),A=s(A,15),A=n(A,F),w^=A,w=s(w,13),w=n(w,5)+3864292196;switch(A=0,g){case 3:A^=p[V+2]<<16;case 2:A^=p[V+1]<<8;case 1:A^=p[V],A=n(A,I),A=s(A,15),A=n(A,F),w^=A}return w^=p.length,w=o(w),w>>>0},t.x86.hash128=function(p,b){if(t.inputValidation&&!i(p))return e;b=b||0;for(var g=p.length%16,m=p.length-g,w=b,A=b,I=b,F=b,V=0,P=0,W=0,ne=0,Q=597399067,M=2869860233,y=951274213,v=2716044179,k=0;k<m;k=k+16)V=p[k]|p[k+1]<<8|p[k+2]<<16|p[k+3]<<24,P=p[k+4]|p[k+5]<<8|p[k+6]<<16|p[k+7]<<24,W=p[k+8]|p[k+9]<<8|p[k+10]<<16|p[k+11]<<24,ne=p[k+12]|p[k+13]<<8|p[k+14]<<16|p[k+15]<<24,V=n(V,Q),V=s(V,15),V=n(V,M),w^=V,w=s(w,19),w+=A,w=n(w,5)+1444728091,P=n(P,M),P=s(P,16),P=n(P,y),A^=P,A=s(A,17),A+=I,A=n(A,5)+197830471,W=n(W,y),W=s(W,17),W=n(W,v),I^=W,I=s(I,15),I+=F,I=n(I,5)+2530024501,ne=n(ne,v),ne=s(ne,18),ne=n(ne,Q),F^=ne,F=s(F,13),F+=w,F=n(F,5)+850148119;switch(V=0,P=0,W=0,ne=0,g){case 15:ne^=p[k+14]<<16;case 14:ne^=p[k+13]<<8;case 13:ne^=p[k+12],ne=n(ne,v),ne=s(ne,18),ne=n(ne,Q),F^=ne;case 12:W^=p[k+11]<<24;case 11:W^=p[k+10]<<16;case 10:W^=p[k+9]<<8;case 9:W^=p[k+8],W=n(W,y),W=s(W,17),W=n(W,v),I^=W;case 8:P^=p[k+7]<<24;case 7:P^=p[k+6]<<16;case 6:P^=p[k+5]<<8;case 5:P^=p[k+4],P=n(P,M),P=s(P,16),P=n(P,y),A^=P;case 4:V^=p[k+3]<<24;case 3:V^=p[k+2]<<16;case 2:V^=p[k+1]<<8;case 1:V^=p[k],V=n(V,Q),V=s(V,15),V=n(V,M),w^=V}return w^=p.length,A^=p.length,I^=p.length,F^=p.length,w+=A,w+=I,w+=F,A+=w,I+=w,F+=w,w=o(w),A=o(A),I=o(I),F=o(F),w+=A,w+=I,w+=F,A+=w,I+=w,F+=w,("00000000"+(w>>>0).toString(16)).slice(-8)+("00000000"+(A>>>0).toString(16)).slice(-8)+("00000000"+(I>>>0).toString(16)).slice(-8)+("00000000"+(F>>>0).toString(16)).slice(-8)},t.x64.hash128=function(p,b){if(t.inputValidation&&!i(p))return e;b=b||0;for(var g=p.length%16,m=p.length-g,w=[0,b],A=[0,b],I=[0,0],F=[0,0],V=[2277735313,289559509],P=[1291169091,658871167],W=0;W<m;W=W+16)I=[p[W+4]|p[W+5]<<8|p[W+6]<<16|p[W+7]<<24,p[W]|p[W+1]<<8|p[W+2]<<16|p[W+3]<<24],F=[p[W+12]|p[W+13]<<8|p[W+14]<<16|p[W+15]<<24,p[W+8]|p[W+9]<<8|p[W+10]<<16|p[W+11]<<24],I=c(I,V),I=u(I,31),I=c(I,P),w=l(w,I),w=u(w,27),w=a(w,A),w=a(c(w,[0,5]),[0,1390208809]),F=c(F,P),F=u(F,33),F=c(F,V),A=l(A,F),A=u(A,31),A=a(A,w),A=a(c(A,[0,5]),[0,944331445]);switch(I=[0,0],F=[0,0],g){case 15:F=l(F,f([0,p[W+14]],48));case 14:F=l(F,f([0,p[W+13]],40));case 13:F=l(F,f([0,p[W+12]],32));case 12:F=l(F,f([0,p[W+11]],24));case 11:F=l(F,f([0,p[W+10]],16));case 10:F=l(F,f([0,p[W+9]],8));case 9:F=l(F,[0,p[W+8]]),F=c(F,P),F=u(F,33),F=c(F,V),A=l(A,F);case 8:I=l(I,f([0,p[W+7]],56));case 7:I=l(I,f([0,p[W+6]],48));case 6:I=l(I,f([0,p[W+5]],40));case 5:I=l(I,f([0,p[W+4]],32));case 4:I=l(I,f([0,p[W+3]],24));case 3:I=l(I,f([0,p[W+2]],16));case 2:I=l(I,f([0,p[W+1]],8));case 1:I=l(I,[0,p[W]]),I=c(I,V),I=u(I,31),I=c(I,P),w=l(w,I)}return w=l(w,[0,p.length]),A=l(A,[0,p.length]),w=a(w,A),A=a(A,w),w=d(w),A=d(A),w=a(w,A),A=a(A,w),("00000000"+(w[0]>>>0).toString(16)).slice(-8)+("00000000"+(w[1]>>>0).toString(16)).slice(-8)+("00000000"+(A[0]>>>0).toString(16)).slice(-8)+("00000000"+(A[1]>>>0).toString(16)).slice(-8)},typeof Vy!="undefined"?(typeof U4!="undefined"&&U4.exports&&(Vy=U4.exports=t),Vy.murmurHash3=t):typeof define=="function"&&define.amd?define([],function(){return t}):(t._murmurHash3=r.murmurHash3,t.noConflict=function(){return r.murmurHash3=t._murmurHash3,t._murmurHash3=e,t.noConflict=e,t},r.murmurHash3=t)})(Vy)});var WJ=h((dor,$J)=>{$J.exports=GJ()});var XJ=h((por,YJ)=>{"use strict";var Ort=r=>{let e=new Uint8Array(4);for(let t=0;t<4;t++)e[t]=r&255,r=r>>8;return e};YJ.exports={fromNumberTo32BitBuf:Ort}});var W7=h((bor,JJ)=>{var Lrt="Input must be an string, Buffer or Uint8Array";function Frt(r){var e;if(r instanceof Uint8Array)e=r;else if(r instanceof Buffer)e=new Uint8Array(r);else if(typeof r=="string")e=new Uint8Array(Buffer.from(r,"utf8"));else throw new Error(Lrt);return e}function Urt(r){return Array.prototype.map.call(r,function(e){return(e<16?"0":"")+e.toString(16)}).join("")}function z4(r){return(4294967296+r).toString(16).substring(1)}function zrt(r,e,t){for(var i=`
`+r+" = ",n=0;n<e.length;n+=2){if(t===32)i+=z4(e[n]).toUpperCase(),i+=" ",i+=z4(e[n+1]).toUpperCase();else if(t===64)i+=z4(e[n+1]).toUpperCase(),i+=z4(e[n]).toUpperCase();else throw new Error("Invalid size "+t);n%6==4?i+=`
`+new Array(r.length+4).join(" "):n<e.length-2&&(i+=" ")}console.log(i)}function Krt(r,e,t){for(var i=new Date().getTime(),n=new Uint8Array(e),s=0;s<e;s++)n[s]=s%256;var o=new Date().getTime();for(console.log("Generated random input in "+(o-i)+"ms"),i=o,s=0;s<t;s++){var a=r(n),c=new Date().getTime(),u=c-i;i=c,console.log("Hashed in "+u+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(e/(1<<20)/(u/1e3)*100)/100+" MB PER SECOND")}}JJ.exports={normalizeInput:Frt,toHex:Urt,debugPrint:zrt,testSpeed:Krt}});var oZ=h((yor,ZJ)=>{var QJ=W7();function K4(r,e,t){var i=r[e]+r[t],n=r[e+1]+r[t+1];i>=4294967296&&n++,r[e]=i,r[e+1]=n}function eZ(r,e,t,i){var n=r[e]+t;t<0&&(n+=4294967296);var s=r[e+1]+i;n>=4294967296&&s++,r[e]=n,r[e+1]=s}function Vrt(r,e){return r[e]^r[e+1]<<8^r[e+2]<<16^r[e+3]<<24}function Wf(r,e,t,i,n,s){var o=jy[n],a=jy[n+1],c=jy[s],u=jy[s+1];K4(mt,r,e),eZ(mt,r,o,a);var f=mt[i]^mt[r],l=mt[i+1]^mt[r+1];mt[i]=l,mt[i+1]=f,K4(mt,t,i),f=mt[e]^mt[t],l=mt[e+1]^mt[t+1],mt[e]=f>>>24^l<<8,mt[e+1]=l>>>24^f<<8,K4(mt,r,e),eZ(mt,r,c,u),f=mt[i]^mt[r],l=mt[i+1]^mt[r+1],mt[i]=f>>>16^l<<16,mt[i+1]=l>>>16^f<<16,K4(mt,t,i),f=mt[e]^mt[t],l=mt[e+1]^mt[t+1],mt[e]=l>>>31^f<<1,mt[e+1]=f>>>31^l<<1}var tZ=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),jrt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Fn=new Uint8Array(jrt.map(function(r){return r*2})),mt=new Uint32Array(32),jy=new Uint32Array(32);function rZ(r,e){var t=0;for(t=0;t<16;t++)mt[t]=r.h[t],mt[t+16]=tZ[t];for(mt[24]=mt[24]^r.t,mt[25]=mt[25]^r.t/4294967296,e&&(mt[28]=~mt[28],mt[29]=~mt[29]),t=0;t<32;t++)jy[t]=Vrt(r.b,4*t);for(t=0;t<12;t++)Wf(0,8,16,24,Fn[t*16+0],Fn[t*16+1]),Wf(2,10,18,26,Fn[t*16+2],Fn[t*16+3]),Wf(4,12,20,28,Fn[t*16+4],Fn[t*16+5]),Wf(6,14,22,30,Fn[t*16+6],Fn[t*16+7]),Wf(0,10,20,30,Fn[t*16+8],Fn[t*16+9]),Wf(2,12,22,24,Fn[t*16+10],Fn[t*16+11]),Wf(4,14,16,26,Fn[t*16+12],Fn[t*16+13]),Wf(6,8,18,28,Fn[t*16+14],Fn[t*16+15]);for(t=0;t<16;t++)r.h[t]=r.h[t]^mt[t]^mt[t+16]}function iZ(r,e){if(r===0||r>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(e&&e.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var t={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:r},i=0;i<16;i++)t.h[i]=tZ[i];var n=e?e.length:0;return t.h[0]^=16842752^n<<8^r,e&&(Y7(t,e),t.c=128),t}function Y7(r,e){for(var t=0;t<e.length;t++)r.c===128&&(r.t+=r.c,rZ(r,!1),r.c=0),r.b[r.c++]=e[t]}function nZ(r){for(r.t+=r.c;r.c<128;)r.b[r.c++]=0;rZ(r,!0);for(var e=new Uint8Array(r.outlen),t=0;t<r.outlen;t++)e[t]=r.h[t>>2]>>8*(t&3);return e}function sZ(r,e,t){t=t||64,r=QJ.normalizeInput(r);var i=iZ(t,e);return Y7(i,r),nZ(i)}function Hrt(r,e,t){var i=sZ(r,e,t);return QJ.toHex(i)}ZJ.exports={blake2b:sZ,blake2bHex:Hrt,blake2bInit:iZ,blake2bUpdate:Y7,blake2bFinal:nZ}});var pZ=h((gor,aZ)=>{var cZ=W7();function Grt(r,e){return r[e]^r[e+1]<<8^r[e+2]<<16^r[e+3]<<24}function Yf(r,e,t,i,n,s){er[r]=er[r]+er[e]+n,er[i]=V4(er[i]^er[r],16),er[t]=er[t]+er[i],er[e]=V4(er[e]^er[t],12),er[r]=er[r]+er[e]+s,er[i]=V4(er[i]^er[r],8),er[t]=er[t]+er[i],er[e]=V4(er[e]^er[t],7)}function V4(r,e){return r>>>e^r<<32-e}var uZ=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Un=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),er=new Uint32Array(16),pn=new Uint32Array(16);function fZ(r,e){var t=0;for(t=0;t<8;t++)er[t]=r.h[t],er[t+8]=uZ[t];for(er[12]^=r.t,er[13]^=r.t/4294967296,e&&(er[14]=~er[14]),t=0;t<16;t++)pn[t]=Grt(r.b,4*t);for(t=0;t<10;t++)Yf(0,4,8,12,pn[Un[t*16+0]],pn[Un[t*16+1]]),Yf(1,5,9,13,pn[Un[t*16+2]],pn[Un[t*16+3]]),Yf(2,6,10,14,pn[Un[t*16+4]],pn[Un[t*16+5]]),Yf(3,7,11,15,pn[Un[t*16+6]],pn[Un[t*16+7]]),Yf(0,5,10,15,pn[Un[t*16+8]],pn[Un[t*16+9]]),Yf(1,6,11,12,pn[Un[t*16+10]],pn[Un[t*16+11]]),Yf(2,7,8,13,pn[Un[t*16+12]],pn[Un[t*16+13]]),Yf(3,4,9,14,pn[Un[t*16+14]],pn[Un[t*16+15]]);for(t=0;t<8;t++)r.h[t]^=er[t]^er[t+8]}function lZ(r,e){if(!(r>0&&r<=32))throw new Error("Incorrect output length, should be in [1, 32]");var t=e?e.length:0;if(e&&!(t>0&&t<=32))throw new Error("Incorrect key length, should be in [1, 32]");var i={h:new Uint32Array(uZ),b:new Uint32Array(64),c:0,t:0,outlen:r};return i.h[0]^=16842752^t<<8^r,t>0&&(X7(i,e),i.c=64),i}function X7(r,e){for(var t=0;t<e.length;t++)r.c===64&&(r.t+=r.c,fZ(r,!1),r.c=0),r.b[r.c++]=e[t]}function hZ(r){for(r.t+=r.c;r.c<64;)r.b[r.c++]=0;fZ(r,!0);for(var e=new Uint8Array(r.outlen),t=0;t<r.outlen;t++)e[t]=r.h[t>>2]>>8*(t&3)&255;return e}function dZ(r,e,t){t=t||32,r=cZ.normalizeInput(r);var i=lZ(t,e);return X7(i,r),hZ(i)}function $rt(r,e,t){var i=dZ(r,e,t);return cZ.toHex(i)}aZ.exports={blake2s:dZ,blake2sHex:$rt,blake2sInit:lZ,blake2sUpdate:X7,blake2sFinal:hZ}});var yZ=h((mor,bZ)=>{var Hy=oZ(),Gy=pZ();bZ.exports={blake2b:Hy.blake2b,blake2bHex:Hy.blake2bHex,blake2bInit:Hy.blake2bInit,blake2bUpdate:Hy.blake2bUpdate,blake2bFinal:Hy.blake2bFinal,blake2s:Gy.blake2s,blake2sHex:Gy.blake2sHex,blake2sInit:Gy.blake2sInit,blake2sUpdate:Gy.blake2sUpdate,blake2sFinal:Gy.blake2sFinal}});var xZ=h((xor,gZ)=>{"use strict";var wp=yZ(),Wrt=45569,Yrt=45633,Xrt={init:wp.blake2bInit,update:wp.blake2bUpdate,digest:wp.blake2bFinal},Jrt={init:wp.blake2sInit,update:wp.blake2sUpdate,digest:wp.blake2sFinal},mZ=(r,e)=>async t=>{let i=e.init(r,null);return e.update(i,t),e.digest(i)};gZ.exports=r=>{for(let e=0;e<64;e++)r[Wrt+e]=mZ(e+1,Xrt);for(let e=0;e<32;e++)r[Yrt+e]=mZ(e+1,Jrt)}});var EZ=h((wor,wZ)=>{"use strict";var bc=HJ(),vZ=WJ(),{factory:j4}=Fd(),{fromNumberTo32BitBuf:Zrt}=XJ(),Qrt=pr(),Ao=r=>async e=>{switch(r){case"sha3-224":return new Uint8Array(bc.sha3_224.arrayBuffer(e));case"sha3-256":return new Uint8Array(bc.sha3_256.arrayBuffer(e));case"sha3-384":return new Uint8Array(bc.sha3_384.arrayBuffer(e));case"sha3-512":return new Uint8Array(bc.sha3_512.arrayBuffer(e));case"shake-128":return new Uint8Array(bc.shake128.create(128).update(e).arrayBuffer());case"shake-256":return new Uint8Array(bc.shake256.create(256).update(e).arrayBuffer());case"keccak-224":return new Uint8Array(bc.keccak224.arrayBuffer(e));case"keccak-256":return new Uint8Array(bc.keccak256.arrayBuffer(e));case"keccak-384":return new Uint8Array(bc.keccak384.arrayBuffer(e));case"keccak-512":return new Uint8Array(bc.keccak512.arrayBuffer(e));case"murmur3-128":return Qrt(vZ.x64.hash128(e),"base16");case"murmur3-32":return Zrt(vZ.x86.hash32(e));default:throw new TypeError(`${r} is not a supported algorithm`)}},eit=r=>r;wZ.exports={identity:eit,sha1:j4("sha1"),sha2256:j4("sha2-256"),sha2512:j4("sha2-512"),dblSha2256:j4("dbl-sha2-256"),sha3224:Ao("sha3-224"),sha3256:Ao("sha3-256"),sha3384:Ao("sha3-384"),sha3512:Ao("sha3-512"),shake128:Ao("shake-128"),shake256:Ao("shake-256"),keccak224:Ao("keccak-224"),keccak256:Ao("keccak-256"),keccak384:Ao("keccak-384"),keccak512:Ao("keccak-512"),murmur3128:Ao("murmur3-128"),murmur332:Ao("murmur3-32"),addBlake:xZ()}});var Er=h((vor,_Z)=>{"use strict";var SZ=jJ(),H4=V2(),Ui=EZ(),tit=yo();async function Io(r,e,t){let i=await Io.digest(r,e,t);return H4.encode(i,e,t)}Io.multihash=H4;Io.digest=async(r,e,t)=>{let n=await Io.createHash(e)(r);return t?n.slice(0,t):n};Io.createHash=function(r){if(!r)throw SZ(new Error("hash algorithm must be specified"),"ERR_HASH_ALGORITHM_NOT_SPECIFIED");let e=H4.coerceCode(r);if(!Io.functions[e])throw SZ(new Error(`multihash function '${r}' not yet supported`),"ERR_HASH_ALGORITHM_NOT_SUPPORTED");return Io.functions[e]};Io.functions={0:Ui.identity,17:Ui.sha1,18:Ui.sha2256,19:Ui.sha2512,20:Ui.sha3512,21:Ui.sha3384,22:Ui.sha3256,23:Ui.sha3224,24:Ui.shake128,25:Ui.shake256,26:Ui.keccak224,27:Ui.keccak256,28:Ui.keccak384,29:Ui.keccak512,34:Ui.murmur3128,35:Ui.murmur332,86:Ui.dblSha2256};Ui.addBlake(Io.functions);Io.validate=async(r,e)=>{let t=await Io(r,H4.decode(e).name);return tit(e,t)};_Z.exports=Io});var kl=h(rit=>{Vx(rit);jx(rit,{customAlphabet:()=>iit,customRandom:()=>IZ,nanoid:()=>nit,random:()=>AZ,urlAlphabet:()=>kZ});if(process.env.NODE_ENV!=="production"){if(typeof navigator!="undefined"&&navigator.product==="ReactNative"&&typeof crypto=="undefined")throw new Error("React Native does not have a built-in secure random generator. If you don\u2019t need unpredictable IDs use `nanoid/non-secure`. For secure IDs, import `react-native-get-random-values` before Nano ID. If you use Expo, install `expo-random` and use `nanoid/async`.");if(typeof msCrypto!="undefined"&&typeof crypto=="undefined")throw new Error("Import file with `if (!window.crypto) window.crypto = window.msCrypto` before importing Nano ID to fix IE 11 support");if(typeof crypto=="undefined")throw new Error("Your browser does not have secure random generator. If you don\u2019t need unpredictable IDs, you can use nanoid/non-secure.")}var AZ=r=>crypto.getRandomValues(new Uint8Array(r)),IZ=(r,e,t)=>{let i=(2<<Math.log(r.length-1)/Math.LN2)-1,n=-~(1.6*i*e/r.length);return()=>{let s="";for(;;){let o=t(n),a=n;for(;a--;)if(s+=r[o[a]&i]||"",s.length===e)return s}}},iit=(r,e)=>IZ(r,e,AZ),nit=(r=21)=>{let e="",t=crypto.getRandomValues(new Uint8Array(r));for(;r--;){let i=t[r]&63;i<36?e+=i.toString(36):i<62?e+=(i-26).toString(36).toUpperCase():i<63?e+="_":e+="-"}return e}});var RZ=h((kor,TZ)=>{"use strict";var{nanoid:sit}=kl(),oit=(r=e=>e)=>r(sit());TZ.exports=oit});var J7=h((Aor,qZ)=>{"use strict";var{TextEncoder:ait}=ct();qZ.exports=ait});var G4=h((Ior,BZ)=>{"use strict";var cit=RZ(),uit=J7(),fit=rw(),lit=new uit,hit=new fit("utf8"),dit=(r,e)=>async function*(){for await(let t of r)!await e(t)||(yield t)}(),pit=(r,e)=>async function*(){let t=[];for await(let i of r)t.push(i);t=await e(t);for(let i of t)yield i}(),bit=(r,e)=>async function*(){if(e<=0)return;let t=0;for await(let i of r)if(yield i,t++,t>=e)return}(),yit=(r,e)=>async function*(){for await(let t of r)yield e(t)}(),git=(r,e)=>{let t=new RegExp("^"+e);return r.replace(t,"")};BZ.exports={map:yit,take:bit,sortAll:pit,filter:dit,utf8Encoder:lit,utf8Decoder:hit,tmpdir:cit,replaceStartWith:git}});var Z7=h((Tor,CZ)=>{"use strict";var{nanoid:mit}=kl(),{utf8Encoder:MZ,utf8Decoder:xit}=G4(),wit=rw(),NZ=Symbol.for("@ipfs/interface-datastore/key"),vu="/",PZ=MZ.encode(vu),$4=PZ[0],Ys=class{constructor(e,t){if(typeof e=="string")this._buf=MZ.encode(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(t==null&&(t=!0),t&&this.clean(),this._buf.byteLength===0||this._buf[0]!==$4)throw new Error("Invalid key")}toString(e="utf8"){return e==="utf8"||e==="utf-8"?xit.decode(this._buf):new wit(e).decode(this._buf)}uint8Array(){return this._buf}get[NZ](){return!0}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new Ys(e.join(vu))}static random(){return new Ys(mit().replace(/-/g,""))}clean(){if((!this._buf||this._buf.byteLength===0)&&(this._buf=PZ),this._buf[0]!==$4){let e=new Uint8Array(this._buf.byteLength+1);e.fill($4,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===$4;)this._buf=this._buf.subarray(0,-1)}less(e){let t=this.list(),i=e.list();for(let n=0;n<t.length;n++){if(i.length<n+1)return!1;let s=t[n],o=i[n];if(s<o)return!0;if(s>o)return!1}return t.length<i.length}reverse(){return Ys.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(vu).slice(1)}type(){return vit(this.baseNamespace())}name(){return Eit(this.baseNamespace())}instance(e){return new Ys(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(vu)||(e+=vu),e+=this.type(),new Ys(e)}parent(){let e=this.list();return e.length===1?new Ys(vu):new Ys(e.slice(0,-1).join(vu))}child(e){return this.toString()===vu?e:e.toString()===vu?this:new Ys(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return Ys.withNamespaces([...this.namespaces(),..._it(e.map(t=>t.namespaces()))])}static isKey(e){return e instanceof Ys||Boolean(e&&e[NZ])}};function vit(r){let e=r.split(":");return e.length<2?"":e.slice(0,-1).join(":")}function Eit(r){let e=r.split(":");return e[e.length-1]}function _it(r){return[].concat(...r)}CZ.exports=Ys});var $y=h((Ror,DZ)=>{"use strict";var Sit=async r=>{for await(let e of r);};DZ.exports=Sit});var eI=h((qor,OZ)=>{"use strict";var{filter:Q7,sortAll:kit,take:Ait,map:Iit}=G4(),LZ=$y(),FZ=class{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,t,i){return Promise.reject(new Error(".put is not implemented"))}get(e,t){return Promise.reject(new Error(".get is not implemented"))}has(e,t){return Promise.reject(new Error(".has is not implemented"))}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e,t={}){for await(let{key:i,value:n}of e)await this.put(i,n,t),yield{key:i,value:n}}async*getMany(e,t={}){for await(let i of e)yield this.get(i,t)}async*deleteMany(e,t={}){for await(let i of e)await this.delete(i,t),yield i}batch(){let e=[],t=[];return{put(i,n){e.push({key:i,value:n})},delete(i){t.push(i)},commit:async i=>{await LZ(this.putMany(e,i)),e=[],await LZ(this.deleteMany(t,i)),t=[]}}}async*_all(e,t){throw new Error("._all is not implemented")}query(e,t){let i=this._all(e,t);if(e.prefix!=null&&(i=Q7(i,n=>n.key.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(i=e.filters.reduce((n,s)=>Q7(n,s),i)),Array.isArray(e.orders)&&(i=e.orders.reduce((n,s)=>kit(n,s),i)),e.offset!=null){let n=0;i=Q7(i,()=>n++>=e.offset)}return e.limit!=null&&(i=Ait(i,e.limit)),e.keysOnly===!0?Iit(i,n=>({key:n.key})):i}};OZ.exports=FZ});var KZ=h((Bor,UZ)=>{"use strict";function zZ(r,e){for(let t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function Tit(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=""),e&&(t.code=e);try{return zZ(r,t)}catch(i){t.message=r.message,t.stack=r.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(r)),zZ(new n,t)}}UZ.exports=Tit});var tI=h((Cor,VZ)=>{"use strict";var Wy=KZ();function Rit(r){return r=r||new Error("Cannot open database"),Wy(r,"ERR_DB_OPEN_FAILED")}function qit(r){return r=r||new Error("Delete failed"),Wy(r,"ERR_DB_DELETE_FAILED")}function Bit(r){return r=r||new Error("Write failed"),Wy(r,"ERR_DB_WRITE_FAILED")}function Cit(r){return r=r||new Error("Not Found"),Wy(r,"ERR_NOT_FOUND")}function Mit(r){return r=r||new Error("Aborted"),Wy(r,"ERR_ABORTED")}VZ.exports={dbOpenFailedError:Rit,dbDeleteFailedError:qit,dbWriteFailedError:Bit,notFoundError:Cit,abortedError:Mit}});var GZ=h((Mor,jZ)=>{"use strict";var Nit=Z7(),Pit=eI(),Dit=tI(),HZ=class extends Pit{constructor(){super();this.data={}}open(){return Promise.resolve()}close(){return Promise.resolve()}async put(e,t){this.data[e.toString()]=t}async get(e){if(!await this.has(e))throw Dit.notFoundError();return this.data[e.toString()]}async has(e){return this.data[e.toString()]!==void 0}async delete(e){delete this.data[e.toString()]}async*_all(){yield*Object.entries(this.data).map(([e,t])=>({key:new Nit(e),value:t}))}};jZ.exports=HZ});var ur=h((Nor,$Z)=>{"use strict";var Oit=Z7(),Lit=GZ(),Fit=G4(),Uit=tI(),zit=eI();$Z.exports={Key:Oit,MemoryDatastore:Lit,utils:Fit,Errors:Uit,Adapter:zit}});var Yy=h((Por,WZ)=>{"use strict";var rI=ot(),YZ=qe(),XZ="/ipfs/",Kit=r=>{if(r instanceof Uint8Array)try{r=new rI(r)}catch(n){throw YZ(n,"ERR_INVALID_CID")}if(rI.isCID(r))return{cid:r,path:void 0};r.startsWith(XZ)&&(r=r.substring(XZ.length));let e=r.split("/"),t,i;try{t=new rI(e.shift())}catch(n){throw YZ(n,"ERR_INVALID_CID")}return e.length&&(i=`/${e.join("/")}`),{cid:t,path:i}};WZ.exports=Kit});var ZZ=h((Dor,JZ)=>{"use strict";JZ.exports=function(){return Date.now()}});var W4=h((Oor,QZ)=>{"use strict";var iI=ZZ();function nI(r,e,t){var i=this;this._started=iI(),this._rescheduled=0,this._scheduled=e,this._args=t,this._timer=setTimeout(n,e);function n(){i._rescheduled>0?(i._scheduled=i._rescheduled-(iI()-i._started),i._timer=setTimeout(n,i._scheduled),i._rescheduled=0):r.apply(null,i._args)}}nI.prototype.reschedule=function(r){var e=iI();return e+r-(this._started+this._scheduled)<0?!1:(this._started=e,this._rescheduled=r,!0)};nI.prototype.clear=function(){clearTimeout(this._timer)};function Vit(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("timeout needed");var r;if(arguments.length>0){r=new Array(arguments.length-2);for(var e=0;e<r.length;e++)r[e]=arguments[e+2]}return new nI(arguments[0],arguments[1],r)}QZ.exports=Vit});var oI=h((Lor,sI)=>{"use strict";var{AbortController:jit}=typeof self!="undefined"?self:typeof window!="undefined"?window:Sf(),eQ=W4(),Xy=class extends jit{constructor(e){super();this._ms=e,this._timer=eQ(()=>this.abort(),e),Object.setPrototypeOf(this,Xy.prototype)}abort(){return this._timer.clear(),super.abort()}clear(){this._timer.clear()}reset(){this._timer.clear(),this._timer=eQ(()=>this.abort(),this._ms)}};sI.exports=Xy;sI.exports.TimeoutController=Xy});var Y4=h(Hit=>{Vx(Hit);jx(Hit,{default:()=>St});var Git=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([a-zµμ]*)/ig;St.nanosecond=St.ns=1/1e6;St.\u00B5s=St.\u03BCs=St.us=St.microsecond=1/1e3;St.millisecond=St.ms=1;St.second=St.sec=St.s=St.ms*1e3;St.minute=St.min=St.m=St.s*60;St.hour=St.hr=St.h=St.m*60;St.day=St.d=St.h*24;St.week=St.wk=St.w=St.d*7;St.month=St.b=St.d*(365.25/12);St.year=St.yr=St.y=St.d*365.25;function St(r="",e="ms"){var t=null;return r=r.replace(/(\d),(\d)/g,"$1$2"),r.replace(Git,function(i,n,s){s=St[s]||St[s.toLowerCase().replace(/s$/,"")],s&&(t=(t||0)+parseFloat(n,10)*s)}),t&&t/St[e]}});var rQ=h(tQ=>{"use strict";var Jy=class extends Error{constructor(e="request timed out"){super(e);this.name="TimeoutError",this.code=Jy.code}};Jy.code="ERR_TIMEOUT";tQ.TimeoutError=Jy});var Ke=h((zor,iQ)=>{"use strict";var $it=oI(),{anySignal:Wit}=Sd(),{default:Yit}=Y4(),{TimeoutError:aI}=rQ();function Xit(r,e){return(...t)=>{let i=t[e??t.length-1];if(!i||!i.timeout)return r(...t);let n=typeof i.timeout=="string"?Yit(i.timeout):i.timeout,s=new $it(n);i.signal=Wit([i.signal,s.signal]);let o=r(...t),a=new Promise((f,l)=>{s.signal.addEventListener("abort",()=>{l(new aI)})}),c=Date.now(),u=()=>{if(s.signal.aborted)throw new aI;if(Date.now()-c>n)throw s.abort(),new aI};return o[Symbol.asyncIterator]?async function*(){let f=o[Symbol.asyncIterator]();try{for(;;){let{value:l,done:d}=await Promise.race([f.next(),a]);if(d)break;u(),yield l}}catch(l){throw u(),l}finally{s.clear(),f.return&&f.return()}}():(async()=>{try{let f=await Promise.race([o,a]);return u(),f}catch(f){throw u(),f}finally{s.clear()}})()}}iQ.exports=Xit});var pi=h(To=>{"use strict";var cI=$f(),X4=ot(),Jit=ur().Key,Zit=qe(),Qit=Yy(),nQ=Ke(),ent=hi();To.mergeOptions=ent;var tnt="ERR_BAD_PATH";To.OFFLINE_ERROR="This command must be run in online mode. Try running 'ipfs daemon' first.";To.MFS_ROOT_KEY=new Jit("/local/filesroot");To.MFS_MAX_CHUNK_SIZE=262144;To.MFS_MAX_LINKS=174;var rnt=r=>{if(cI.cid(r))return`/ipfs/${new X4(r)}`;if(cI.path(r))return r;throw Zit(new Error(`invalid path: ${r}`),tnt)},int=r=>r instanceof Uint8Array?new X4(r).toString():X4.isCID(r)?r.toString():(r.indexOf("/ipfs/")===0&&(r=r.substring("/ipfs/".length)),r.charAt(r.length-1)==="/"&&(r=r.substring(0,r.length-1)),r),nnt=async function(r,e,t={}){if(cI.cid(e))return new X4(e);let{cid:i,path:n}=Qit(e);return n?(await r.resolve(i,{...t,path:n})).cid:i},snt=(r,e={})=>{let t={cid:r.cid,path:r.path,name:r.name,depth:r.path.split("/").length,size:0,type:"file"};return r.unixfs&&(t.type=r.unixfs.type==="directory"?"dir":"file",r.unixfs.type==="file"&&(t.size=r.unixfs.fileSize(),e.includeContent&&(t.content=r.content())),t.mode=r.unixfs.mode,t.mtime=r.unixfs.mtime),t},ont=nQ(async(r,e)=>await r);To.normalizePath=rnt;To.normalizeCidPath=int;To.resolvePath=nnt;To.mapFile=snt;To.withTimeoutOption=nQ;To.withTimeout=ont});var oQ=h((Vor,sQ)=>{var vp=1e3,Ep=vp*60,_p=Ep*60,Al=_p*24,ant=Al*7,cnt=Al*365.25;sQ.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return unt(r);if(t==="number"&&isFinite(r))return e.long?lnt(r):fnt(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function unt(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!!e){var t=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return t*cnt;case"weeks":case"week":case"w":return t*ant;case"days":case"day":case"d":return t*Al;case"hours":case"hour":case"hrs":case"hr":case"h":return t*_p;case"minutes":case"minute":case"mins":case"min":case"m":return t*Ep;case"seconds":case"second":case"secs":case"sec":case"s":return t*vp;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function fnt(r){var e=Math.abs(r);return e>=Al?Math.round(r/Al)+"d":e>=_p?Math.round(r/_p)+"h":e>=Ep?Math.round(r/Ep)+"m":e>=vp?Math.round(r/vp)+"s":r+"ms"}function lnt(r){var e=Math.abs(r);return e>=Al?J4(r,e,Al,"day"):e>=_p?J4(r,e,_p,"hour"):e>=Ep?J4(r,e,Ep,"minute"):e>=vp?J4(r,e,vp,"second"):r+" ms"}function J4(r,e,t,i){var n=e>=t*1.5;return Math.round(r/t)+" "+i+(n?"s":"")}});var cQ=h((jor,aQ)=>{function hnt(r){t.debug=t,t.default=t,t.coerce=c,t.disable=s,t.enable=n,t.enabled=o,t.humanize=oQ(),t.destroy=u,Object.keys(r).forEach(f=>{t[f]=r[f]}),t.names=[],t.skips=[],t.formatters={};function e(f){let l=0;for(let d=0;d<f.length;d++)l=(l<<5)-l+f.charCodeAt(d),l|=0;return t.colors[Math.abs(l)%t.colors.length]}t.selectColor=e;function t(f){let l,d=null;function p(...b){if(!p.enabled)return;let g=p,m=Number(new Date),w=m-(l||m);g.diff=w,g.prev=l,g.curr=m,l=m,b[0]=t.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let A=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(F,V)=>{if(F==="%%")return"%";A++;let P=t.formatters[V];if(typeof P=="function"){let W=b[A];F=P.call(g,W),b.splice(A,1),A--}return F}),t.formatArgs.call(g,b),(g.log||t.log).apply(g,b)}return p.namespace=f,p.useColors=t.useColors(),p.color=t.selectColor(f),p.extend=i,p.destroy=t.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>d===null?t.enabled(f):d,set:b=>{d=b}}),typeof t.init=="function"&&t.init(p),p}function i(f,l){let d=t(this.namespace+(typeof l=="undefined"?":":l)+f);return d.log=this.log,d}function n(f){t.save(f),t.names=[],t.skips=[];let l,d=(typeof f=="string"?f:"").split(/[\s,]+/),p=d.length;for(l=0;l<p;l++)!d[l]||(f=d[l].replace(/\*/g,".*?"),f[0]==="-"?t.skips.push(new RegExp("^"+f.substr(1)+"$")):t.names.push(new RegExp("^"+f+"$")))}function s(){let f=[...t.names.map(a),...t.skips.map(a).map(l=>"-"+l)].join(",");return t.enable(""),f}function o(f){if(f[f.length-1]==="*")return!0;let l,d;for(l=0,d=t.skips.length;l<d;l++)if(t.skips[l].test(f))return!1;for(l=0,d=t.names.length;l<d;l++)if(t.names[l].test(f))return!0;return!1}function a(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function c(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}aQ.exports=hnt});var De=h((Xs,Z4)=>{Xs.formatArgs=dnt;Xs.save=pnt;Xs.load=bnt;Xs.useColors=ynt;Xs.storage=gnt();Xs.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Xs.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ynt(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function dnt(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Z4.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;r.splice(1,0,e,"color: inherit");let t=0,i=0;r[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(t++,n==="%c"&&(i=t))}),r.splice(i,0,e)}Xs.log=console.debug||console.log||(()=>{});function pnt(r){try{r?Xs.storage.setItem("debug",r):Xs.storage.removeItem("debug")}catch(e){}}function bnt(){let r;try{r=Xs.storage.getItem("debug")}catch(e){}return!r&&typeof process!="undefined"&&"env"in process&&(r=process.env.DEBUG),r}function gnt(){try{return localStorage}catch(r){}}Z4.exports=cQ()(Xs);var{formatters:mnt}=Z4.exports;mnt.j=function(r){try{return JSON.stringify(r)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var uQ=h((uI,fI)=>{(function(r,e){typeof uI=="object"&&typeof fI!="undefined"?fI.exports=e():typeof define=="function"&&define.amd?define(e):r.stable=e()})(uI,function(){"use strict";var r=function(i,n){return e(i.slice(),n)};r.inplace=function(i,n){var s=e(i,n);return s!==i&&t(s,null,i.length,i),i};function e(i,n){typeof n!="function"&&(n=function(u,f){return String(u).localeCompare(f)});var s=i.length;if(s<=1)return i;for(var o=new Array(s),a=1;a<s;a*=2){t(i,n,a,o);var c=i;i=o,o=c}return i}var t=function(i,n,s,o){var a=i.length,c=0,u=s*2,f,l,d,p,b;for(f=0;f<a;f+=u)for(l=f+s,d=l+s,l>a&&(l=a),d>a&&(d=a),p=f,b=l;;)if(p<l&&b<d)n(i[p],i[b])<=0?o[c++]=i[p++]:o[c++]=i[b++];else if(p<l)o[c++]=i[p++];else if(b<d)o[c++]=i[b++];else break};return r})});var lQ=h((Hor,fQ)=>{"use strict";function xnt(r,e){for(let t=0;t<r.byteLength;t++){if(r[t]<e[t])return-1;if(r[t]>e[t])return 1}return r.byteLength>e.byteLength?1:r.byteLength<e.byteLength?-1:0}fQ.exports=xnt});var lI=h((Gor,hQ)=>{"use strict";var wnt=uQ(),vnt=lQ(),Ent=(r,e)=>{let t=r.nameAsBuffer,i=e.nameAsBuffer;return vnt(t,i)},_nt=r=>{wnt.inplace(r,Ent)};hQ.exports=_nt});var hI=h(($or,dQ)=>{"use strict";var{TextEncoder:Snt,TextDecoder:knt}=ct(),Ant=new knt,Int=r=>Ant.decode(r),Tnt=new Snt,Rnt=r=>Tnt.encode(r);function qnt(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}dQ.exports={decodeText:Int,encodeText:Rnt,concat:qnt}});var yQ=h((Wor,pQ)=>{"use strict";var{encodeText:Bnt}=hI(),bQ=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=Bnt(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};pQ.exports=bQ});var mQ=h((Yor,gQ)=>{"use strict";var Cnt=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},Mnt=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},Nnt=r=>e=>({encode(t){return Mnt(t,e,r)},decode(t){return Cnt(t,e,r)}});gQ.exports={rfc4648:Nnt}});var dI=h((Xor,xQ)=>{"use strict";var Zy=ri(),Pnt=yQ(),{rfc4648:bn}=mQ(),{decodeText:Dnt,encodeText:Ont}=hI(),Lnt=()=>({encode:Dnt,decode:Ont}),wQ=[["identity","\0",Lnt,""],["base2","0",bn(1),"01"],["base8","7",bn(3),"01234567"],["base10","9",Zy,"0123456789"],["base16","f",bn(4),"0123456789abcdef"],["base16upper","F",bn(4),"0123456789ABCDEF"],["base32hex","v",bn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",bn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",bn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",bn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",bn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",bn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",bn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",bn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",bn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",Zy,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",Zy,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",Zy,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",Zy,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",bn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",bn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",bn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",bn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],vQ=wQ.reduce((r,e)=>(r[e[0]]=new Pnt(e[0],e[1],e[2],e[3]),r),{}),Fnt=wQ.reduce((r,e)=>(r[e[1]]=vQ[e[0]],r),{});xQ.exports={names:vQ,codes:Fnt}});var Q4=h((Jor,EQ)=>{"use strict";var{names:Unt}=dI(),{TextEncoder:znt}=ct(),Knt=new znt;function Vnt(r){let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function jnt(r,e="utf8"){if(e==="utf8"||e==="utf-8")return Knt.encode(r);if(e==="ascii")return Vnt(r);let t=Unt[e];if(!t)throw new Error("Unknown base");return t.decode(r)}EQ.exports=jnt});var Il=h((_Q,SQ)=>{"use strict";var Hnt=ot(),Gnt=gu(),$nt=Q4(),kQ=class{constructor(e,t,i){if(!i)throw new Error("A link requires a cid to point to");Object.defineProperties(this,{Name:{value:e||"",writable:!1,enumerable:!0},Tsize:{value:t,writable:!1,enumerable:!0},Hash:{value:new Hnt(i),writable:!1,enumerable:!0},_nameBuf:{value:null,writable:!0,enumerable:!1}})}toString(){return`DAGLink <${this.Hash.toBaseEncodedString()} - name: "${this.Name}", size: ${this.Tsize}>`}toJSON(){return this._json||(this._json=Object.freeze({name:this.Name,size:this.Tsize,cid:this.Hash.toBaseEncodedString()})),Object.assign({},this._json)}get nameAsBuffer(){return this._nameBuf!==null?this._nameBuf:(this._nameBuf=$nt(this.Name),this._nameBuf)}};_Q=SQ.exports=Gnt(kQ,{className:"DAGLink",symbolName:"@ipld/js-ipld-dag-pb/daglink"})});var pI=h((Zor,AQ)=>{"use strict";AQ.exports=`// An IPFS MerkleDAG Link
message PBLink {

  // multihash of the target object
  optional bytes Hash = 1;

  // utf string name. should be unique per object
  optional string Name = 2;

  // cumulative size of target object
  optional uint64 Tsize = 3;
}

// An IPFS MerkleDAG Node
message PBNode {

  // refs to other objects
  repeated PBLink Links = 2;

  // opaque user data
  optional bytes Data = 1;
}`});var bI=h((e6,IQ)=>{"use strict";var Wnt=ni(),Ynt=Wnt(pI()),TQ=Il();e6=IQ.exports;var Xnt=r=>{let e={};return r.Data&&r.Data.byteLength>0?e.Data=r.Data:e.Data=null,r.Links&&r.Links.length>0?e.Links=r.Links.map(t=>({Hash:t.Hash.bytes,Name:t.Name,Tsize:t.Tsize})):e.Links=null,e},RQ=r=>{let e=r.Data,t=r.Links||[];return Ynt.PBNode.encode(Xnt({Data:e,Links:t}))},Jnt=(r,e=[])=>{let t={Data:r};return t.Links=e.map(i=>TQ.isDAGLink(i)?i:TQ.util.createDagLinkFromB58EncodedHash(i)),RQ(t)};e6.serializeDAGNode=RQ;e6.serializeDAGNodeLike=Jnt});var Qy=h((Qor,qQ)=>{"use strict";var Znt=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});qQ.exports={baseTable:Znt}});var NQ=h((ear,BQ)=>{"use strict";var{baseTable:CQ}=Qy(),MQ=new Map;for(let r in CQ){let e=CQ[r];MQ.set(e,r)}BQ.exports=Object.freeze(MQ)});var yI=h((tar,PQ)=>{"use strict";var{names:Qnt}=dI(),{TextDecoder:est}=ct(),tst=new est("utf8");function rst(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function ist(r,e="utf8"){if(e==="utf8"||e==="utf-8")return tst.decode(r);if(e==="ascii")return rst(r);let t=Qnt[e];if(!t)throw new Error("Unknown base");return t.encode(r)}PQ.exports=ist});var gI=h((rar,DQ)=>{"use strict";var OQ=ii(),nst=yI(),sst=Q4();DQ.exports={numberToUint8Array:ost,uint8ArrayToNumber:LQ,varintUint8ArrayEncode:ast,varintEncode:cst};function LQ(r){return parseInt(nst(r,"base16"),16)}function ost(r){let e=r.toString(16);return e.length%2==1&&(e="0"+e),sst(e,"base16")}function ast(r){return Uint8Array.from(OQ.encode(LQ(r)))}function cst(r){return Uint8Array.from(OQ.encode(r))}});var KQ=h((iar,FQ)=>{"use strict";var{baseTable:UQ}=Qy(),ust=gI().varintEncode,zQ={};for(let r in UQ){let e=UQ[r];zQ[r]=ust(e)}FQ.exports=Object.freeze(zQ)});var jQ=h((nar,VQ)=>{"use strict";function fst(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}VQ.exports=fst});var $Q=h((sar,HQ)=>{"use strict";var{baseTable:lst}=Qy(),GQ={};for(let[r,e]of Object.entries(lst)){let t=r.toUpperCase().replace(/-/g,"_");GQ[t]=e}HQ.exports=Object.freeze(GQ)});var YQ=h((oar,WQ)=>{"use strict";var{baseTable:hst}=Qy(),mI={};for(let[r,e]of Object.entries(hst))mI[e]===void 0&&(mI[e]=r);WQ.exports=Object.freeze(mI)});var ZQ=h((aar,XQ)=>{"use strict";var Sp=ii(),JQ=NQ(),t6=KQ(),dst=gI(),pst=jQ();function bst(r,e){let t;if(r instanceof Uint8Array)t=dst.varintUint8ArrayEncode(r);else if(t6[r])t=t6[r];else throw new Error("multicodec not recognized");return pst([t,e],t.length+e.length)}function yst(r){return Sp.decode(r),r.slice(Sp.decode.bytes)}function gst(r){let e=Sp.decode(r),t=JQ.get(e);if(t===void 0)throw new Error(`Code ${e} not found`);return t}function mst(r){return JQ.get(r)}function xst(r){let e=t6[r];if(e===void 0)throw new Error("Codec `"+r+"` not found");return Sp.decode(e)}function wst(r){return Sp.decode(r)}function vst(r){let e=t6[r];if(e===void 0)throw new Error("Codec `"+r+"` not found");return e}function Est(r){return Sp.encode(r)}var _st=$Q(),Sst=YQ();XQ.exports={addPrefix:bst,rmPrefix:yst,getCodec:gst,getName:mst,getNumber:xst,getCode:wst,getCodeVarint:vst,getVarint:Est,print:Sst,..._st}});var wI=h((Tl,QQ)=>{"use strict";var kst=ot(),xI=ZQ(),Ast=Er();Tl=QQ.exports;Tl.codec=xI.DAG_PB;Tl.defaultHashAlg=xI.SHA2_256;var Ist=async(r,e)=>{let t={cidVersion:1,hashAlg:Tl.defaultHashAlg},i=Object.assign(t,e),n=await Ast(r,i.hashAlg),s=xI.print[Tl.codec];return new kst(i.cidVersion,s,n)};Tl.cid=Ist});var tee=h((car,eee)=>{"use strict";var Tst=Il(),Rst=wI(),qst=async(r,e={})=>{let t=await Rst.cid(r.serialize(),e);return new Tst(e.name||"",r.size,t)};eee.exports=qst});var iee=h((vI,ree)=>{"use strict";var Bst=Il();function Cst(r){return new Bst(r.Name||r.name||"",r.Tsize||r.Size||r.size||0,r.Hash||r.hash||r.multihash||r.cid)}vI=ree.exports;vI.createDagLinkFromB58EncodedHash=Cst});var _I=h((EI,nee)=>{"use strict";EI=nee.exports=Il();EI.util=iee()});var aee=h((uar,see)=>{"use strict";var Mst=lI(),oee=_I(),Nst=r=>{if(oee.isDAGLink(r))return r;if(!("cid"in r||"hash"in r||"Hash"in r||"multihash"in r))throw new Error("Link must be a DAGLink or DAGLink-like. Convert the DAGNode into a DAGLink via `node.toDAGLink()`.");return new oee(r.Name||r.name,r.Tsize||r.size,r.Hash||r.multihash||r.hash||r.cid)},Pst=(r,e)=>{let t=Nst(e);r.Links.push(t),Mst(r.Links)};see.exports=Pst});var uee=h((far,cee)=>{"use strict";function Dst(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}cee.exports=Dst});var lee=h((lar,fee)=>{"use strict";var Ost=ot(),Lst=uee(),Fst=(r,e)=>{let t=null;if(typeof e=="string"?t=i=>i.Name===e:(e instanceof Uint8Array||Ost.isCID(e))&&(t=i=>Lst(i.Hash,e)),t){let i=r.Links,n=0;for(;n<i.length;){let s=i[n];t(s)?i.splice(n,1):n++}}else throw new Error("second arg needs to be a name or CID")};fee.exports=Fst});var SI=h((hee,dee)=>{"use strict";var Ust=gu(),zst=lI(),pee=Il(),{serializeDAGNode:Kst}=bI(),Vst=tee(),jst=aee(),Hst=lee(),Gst=Q4(),$st=yI(),bee=class{constructor(e,t=[],i=null){if(e||(e=new Uint8Array(0)),typeof e=="string"&&(e=Gst(e)),!(e instanceof Uint8Array))throw new Error("Passed 'data' is not a Uint8Array or a String!");if(i!==null&&typeof i!="number")throw new Error("Passed 'serializedSize' must be a number!");t=t.map(n=>pee.isDAGLink(n)?n:pee.util.createDagLinkFromB58EncodedHash(n)),zst(t),Object.defineProperties(this,{Data:{value:e,writable:!1,enumerable:!0},Links:{value:t,writable:!1,enumerable:!0},_serializedSize:{value:i,writable:!0,enumerable:!1},_size:{value:null,writable:!0,enumerable:!1}})}toJSON(){return this._json||(this._json=Object.freeze({data:this.Data,links:this.Links.map(e=>e.toJSON()),size:this.size})),Object.assign({},this._json)}toString(){return`DAGNode <data: "${$st(this.Data,"base64urlpad")}", links: ${this.Links.length}, size: ${this.size}>`}_invalidateCached(){this._serializedSize=null,this._size=null}addLink(e){return this._invalidateCached(),jst(this,e)}rmLink(e){return this._invalidateCached(),Hst(this,e)}toDAGLink(e){return Vst(this,e)}serialize(){return Kst(this)}get size(){return this._size===null&&(this._serializedSize===null&&(this._serializedSize=this.serialize().length),this._size=this.Links.reduce((e,t)=>e+t.Tsize,this._serializedSize)),this._size}set size(e){throw new Error("Can't set property: 'size' is immutable")}};hee=dee.exports=Ust(bee,{className:"DAGNode",symbolName:"@ipld/js-ipld-dag-pb/dagnode"})});var mee=h((yee,gee)=>{"use strict";yee=gee.exports=SI()});var AI=h((Rl,xee)=>{"use strict";var Wst=ni(),Yst=Wst(pI()),Xst=Il(),wee=SI(),{serializeDAGNodeLike:Jst}=bI(),kI=wI();Rl=xee.exports;Rl.codec=kI.codec;Rl.defaultHashAlg=kI.defaultHashAlg;var Zst=(r,e)=>kI.cid(r,e),Qst=r=>wee.isDAGNode(r)?r.serialize():Jst(r.Data,r.Links),eot=r=>{let e=Yst.PBNode.decode(r),t=e.Links.map(n=>new Xst(n.Name,n.Tsize,n.Hash)),i=e.Data==null?new Uint8Array(0):e.Data;return new wee(i,t,r.byteLength)};Rl.serialize=Qst;Rl.deserialize=eot;Rl.cid=Zst});var Eee=h(II=>{"use strict";var tot=ot(),vee=AI();II.resolve=(r,e)=>{let t=vee.deserialize(r),i=e.split("/").filter(Boolean);for(;i.length;){let n=i.shift();if(t[n]===void 0){for(let s of t.Links)if(s.Name===n)return{value:s.Hash,remainderPath:i.join("/")};throw new Error(`Object has no property '${n}'`)}if(t=t[n],tot.isCID(t))return{value:t,remainderPath:i.join("/")}}return{value:t,remainderPath:""}};II.tree=function*(r){let e=vee.deserialize(r);yield"Data",yield"Links";for(let t=0;t<e.Links.length;t++)yield`Links/${t}`,yield`Links/${t}/Name`,yield`Links/${t}/Tsize`,yield`Links/${t}/Hash`}});var Nr=h(Eu=>{"use strict";Eu.DAGNode=mee();Eu.DAGLink=_I();Eu.resolver=Eee();Eu.util=AI();Eu.codec=Eu.util.codec;Eu.defaultHashAlg=Eu.util.defaultHashAlg});var See=h((par,_ee)=>{"use strict";_ee.exports=`
syntax = "proto2";

message Data {
  enum DataType {
    Raw = 0;
    Directory = 1;
    File = 2;
    Metadata = 3;
    Symlink = 4;
    HAMTShard = 5;
  }

  required DataType Type = 1;
  optional bytes Data = 2;
  optional uint64 filesize = 3;
  repeated uint64 blocksizes = 4;
  optional uint64 hashType = 5;
  optional uint64 fanout = 6;
  optional uint32 mode = 7;
  optional UnixTime mtime = 8;
}

message UnixTime {
  required int64 Seconds = 1;
  optional fixed32 FractionalNanoseconds = 2;
}

message Metadata {
  optional string MimeType = 1;
}
`});var yn=h((bar,kee)=>{"use strict";var rot=ni(),iot=rot(See()),Xf=iot.Data,TI=qe(),Aee=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],not=["directory","hamt-sharded-directory"],Iee=parseInt("0644",8),Tee=parseInt("0755",8);function sot(r){return r.length===0?{type:"file"}:r.length===2?{type:r[0],data:r[1]}:typeof r[0]=="string"||r[0]instanceof String?{type:r[0]}:r[0]}function Ree(r){if(r!=null){if(Object.prototype.hasOwnProperty.call(r,"secs")&&(r={secs:r.secs,nsecs:r.nsecs}),Object.prototype.hasOwnProperty.call(r,"Seconds")&&(r={secs:r.Seconds,nsecs:r.FractionalNanoseconds}),Array.isArray(r)&&(r={secs:r[0],nsecs:r[1]}),r instanceof Date){let e=r.getTime(),t=Math.floor(e/1e3);r={secs:t,nsecs:(e-t*1e3)*1e3}}if(!!Object.prototype.hasOwnProperty.call(r,"secs")){if(r.nsecs<0||r.nsecs>999999999)throw TI(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return r}}}function qee(r){if(r!=null)return(typeof r=="string"||r instanceof String)&&(r=parseInt(r,8)),r&4095}var r6=class{static unmarshal(e){let t=Xf.decode(e),i=new r6({type:Aee[t.Type],data:t.hasData()?t.Data:void 0,blockSizes:t.blocksizes,mode:t.hasMode()?t.mode:void 0,mtime:t.hasMtime()?t.mtime:void 0});return i._originalMode=t.hasMode()?t.mode:void 0,i}constructor(...e){let{type:t,data:i,blockSizes:n,hashType:s,fanout:o,mtime:a,mode:c}=sot(e);if(!Aee.includes(t))throw TI(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE");this.type=t,this.data=i,this.hashType=s,this.fanout=o,this.blockSizes=n||[];let u=qee(c);u!==void 0&&(this.mode=u),this.mode===void 0&&t==="file"&&(this.mode=Iee),this.mode===void 0&&this.isDirectory()&&(this.mode=Tee);let f=Ree(a);f&&(this.mtime=f)}isDirectory(){return not.includes(this.type)}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return;let e=0;return this.blockSizes.forEach(t=>{e+=t}),this.data&&(e+=this.data.length),e}marshal(){let e;switch(this.type){case"raw":e=Xf.DataType.Raw;break;case"directory":e=Xf.DataType.Directory;break;case"file":e=Xf.DataType.File;break;case"metadata":e=Xf.DataType.Metadata;break;case"symlink":e=Xf.DataType.Symlink;break;case"hamt-sharded-directory":e=Xf.DataType.HAMTShard;break;default:throw TI(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let t=this.data;(!this.data||!this.data.length)&&(t=void 0);let i=this.blockSizes;(!this.blockSizes||!this.blockSizes.length)&&(i=void 0);let n;this.mode!=null&&(n=this._originalMode&4294963200|qee(this.mode),n===Iee&&this.type==="file"&&(n=void 0),n===Tee&&this.isDirectory()&&(n=void 0));let s;if(this.mtime!=null){let o=Ree(this.mtime);o&&(s={Seconds:o.secs,FractionalNanoseconds:o.nsecs},s.FractionalNanoseconds===0&&delete s.FractionalNanoseconds)}return Xf.encode({Type:e,Data:t,filesize:this.fileSize(),blocksizes:i,hashType:this.hashType,fanout:this.fanout,mode:n,mtime:s})}};kee.exports=r6});var Cee=h((yar,Bee)=>{"use strict";Bee.exports=()=>{}});var ql=h(Jf=>{"use strict";var eg=class extends Error{constructor(e="not initialized"){super(e);this.name="NotInitializedError",this.code=eg.code}};eg.code="ERR_NOT_INITIALIZED";Jf.NotInitializedError=eg;var RI=class extends Error{constructor(e="cannot initialize an initializing node"){super(e);this.name="AlreadyInitializingError",this.code=kp.code}};RI.code="ERR_ALREADY_INITIALIZING";Jf.AlreadyInitializingError=RI;var kp=class extends Error{constructor(e="cannot re-initialize an initialized node"){super(e);this.name="AlreadyInitializedError",this.code=kp.code}};kp.code="ERR_ALREADY_INITIALIZED";Jf.AlreadyInitializedError=kp;var tg=class extends Error{constructor(e="not started"){super(e);this.name="NotStartedError",this.code=tg.code}};tg.code="ERR_NOT_STARTED";Jf.NotStartedError=tg;var rg=class extends Error{constructor(e="cannot start, already startin"){super(e);this.name="AlreadyStartingError",this.code=rg.code}};rg.code="ERR_ALREADY_STARTING";Jf.AlreadyStartingError=rg;var ig=class extends Error{constructor(e="cannot start, already started"){super(e);this.name="AlreadyStartedError",this.code=ig.code}};ig.code="ERR_ALREADY_STARTED";Jf.AlreadyStartedError=ig;var ng=class extends Error{constructor(e="not enabled"){super(e);this.name="NotEnabledError",this.code=ng.code}};ng.code="ERR_NOT_ENABLED";Jf.NotEnabledError=ng});var i6=h((mar,Mee)=>{"use strict";var{NotStartedError:oot,AlreadyStartingError:aot,AlreadyStartedError:cot}=ql(),{withTimeout:uot}=pi(),yc=class{static create({start:e,stop:t}){return new yc(e,t)}static async start(e,t){let{state:i,activate:n}=e;switch(i.status){case"stopped":try{let s=n(t);e.state={status:"starting",ready:s};let o=await s;return e.state={status:"started",value:o},o}catch(s){throw e.state={status:"stopped"},s}case"starting":throw new aot;case"started":throw new cot;case"stopping":return await i.ready,await yc.start(e,t);default:return yc.panic(e)}}static async stop(e){let{state:t,deactivate:i}=e;switch(t.status){case"stopped":break;case"starting":{try{await t.ready}catch(n){}return await yc.stop(e)}case"stopping":return await t.ready;case"started":{i&&await i(t.value),e.state={status:"stopped"};break}default:yc.panic(t)}}static try({state:e}){switch(e.status){case"started":return e.value;default:return null}}static async use({state:e},t){switch(e.status){case"started":return e.value;case"starting":return await uot(e.ready,t);default:throw new oot}}static panic({state:e}){let t=JSON.stringify({status:e.status});throw RangeError(`Service in invalid state ${t}, should never happen if you see this please report a bug`)}constructor(e,t){this.activate=e,this.deactivate=t,this.state={status:"stopped"}}async use(e){return await yc.use(this,e)}try(){return yc.try(this)}};Mee.exports=yc});var Pee=h((xar,Nee)=>{"use strict";var fot=i6();Nee.exports=({network:r,preload:e,peerId:t,keychain:i,repo:n,ipns:s,blockService:o,mfsPreload:a,print:c,options:u})=>async()=>{let{bitswap:l,libp2p:d}=await fot.start(r,{peerId:t,repo:n,print:c,options:u});o.setExchange(l),await Promise.all([s.startOnline({keychain:i,libp2p:d,peerId:t,repo:n}),e.start(),a.start()])}});var Oee=h((war,Dee)=>{"use strict";var lot=i6();Dee.exports=({network:r,preload:e,blockService:t,ipns:i,repo:n,mfsPreload:s})=>async()=>{t.unsetExchange(),await Promise.all([e.stop(),i.stop(),s.stop(),lot.stop(r),n.close()])}});var sg=h((Ear,Lee)=>{Lee.exports=function(r){if(!r)throw Error("hashlru must have a max value, of type number, greater than 0");var e=0,t=Object.create(null),i=Object.create(null);function n(s,o){t[s]=o,e++,e>=r&&(e=0,i=t,t=Object.create(null))}return{has:function(s){return t[s]!==void 0||i[s]!==void 0},remove:function(s){t[s]!==void 0&&(t[s]=void 0),i[s]!==void 0&&(i[s]=void 0)},get:function(s){var o=t[s];if(o!==void 0)return o;if((o=i[s])!==void 0)return n(s,o),o},set:function(s,o){t[s]!==void 0?t[s]=o:n(s,o)},clear:function(){t=Object.create(null),i=Object.create(null)}}}});var qI=h((_ar,Fee)=>{"use strict";var hot=sg(),Uee=class{constructor(e){this.lru=hot(e)}get(e){let t=this.lru.get(e);if(t){if(t.expire&&t.expire<Date.now()){this.lru.remove(e);return}return t.value}}set(e,t,i){this.lru.set(e,{value:t,expire:Date.now()+i})}has(e){return!!this.get(e)}remove(e){this.lru.remove(e)}clear(){this.lru.clear()}};Fee.exports=Uee});var Kee=h((Sar,BI)=>{"use strict";var dot=Object.prototype.hasOwnProperty,ts="~";function og(){}Object.create&&(og.prototype=Object.create(null),new og().__proto__||(ts=!1));function pot(r,e,t){this.fn=r,this.context=e,this.once=t||!1}function zee(r,e,t,i,n){if(typeof t!="function")throw new TypeError("The listener must be a function");var s=new pot(t,i||r,n),o=ts?ts+e:e;return r._events[o]?r._events[o].fn?r._events[o]=[r._events[o],s]:r._events[o].push(s):(r._events[o]=s,r._eventsCount++),r}function n6(r,e){--r._eventsCount==0?r._events=new og:delete r._events[e]}function zn(){this._events=new og,this._eventsCount=0}zn.prototype.eventNames=function(){var e=[],t,i;if(this._eventsCount===0)return e;for(i in t=this._events)dot.call(t,i)&&e.push(ts?i.slice(1):i);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};zn.prototype.listeners=function(e){var t=ts?ts+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,o=new Array(s);n<s;n++)o[n]=i[n].fn;return o};zn.prototype.listenerCount=function(e){var t=ts?ts+e:e,i=this._events[t];return i?i.fn?1:i.length:0};zn.prototype.emit=function(e,t,i,n,s,o){var a=ts?ts+e:e;if(!this._events[a])return!1;var c=this._events[a],u=arguments.length,f,l;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,i),!0;case 4:return c.fn.call(c.context,t,i,n),!0;case 5:return c.fn.call(c.context,t,i,n,s),!0;case 6:return c.fn.call(c.context,t,i,n,s,o),!0}for(l=1,f=new Array(u-1);l<u;l++)f[l-1]=arguments[l];c.fn.apply(c.context,f)}else{var d=c.length,p;for(l=0;l<d;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),u){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,i);break;case 4:c[l].fn.call(c[l].context,t,i,n);break;default:if(!f)for(p=1,f=new Array(u-1);p<u;p++)f[p-1]=arguments[p];c[l].fn.apply(c[l].context,f)}}return!0};zn.prototype.on=function(e,t,i){return zee(this,e,t,i,!1)};zn.prototype.once=function(e,t,i){return zee(this,e,t,i,!0)};zn.prototype.removeListener=function(e,t,i,n){var s=ts?ts+e:e;if(!this._events[s])return this;if(!t)return n6(this,s),this;var o=this._events[s];if(o.fn)o.fn===t&&(!n||o.once)&&(!i||o.context===i)&&n6(this,s);else{for(var a=0,c=[],u=o.length;a<u;a++)(o[a].fn!==t||n&&!o[a].once||i&&o[a].context!==i)&&c.push(o[a]);c.length?this._events[s]=c.length===1?c[0]:c:n6(this,s)}return this};zn.prototype.removeAllListeners=function(e){var t;return e?(t=ts?ts+e:e,this._events[t]&&n6(this,t)):(this._events=new og,this._eventsCount=0),this};zn.prototype.off=zn.prototype.removeListener;zn.prototype.addListener=zn.prototype.on;zn.prefixed=ts;zn.EventEmitter=zn;typeof BI!="undefined"&&(BI.exports=zn)});var jee=h((kar,Vee)=>{"use strict";Vee.exports=(r,e)=>(e=e||(()=>{}),r.then(t=>new Promise(i=>{i(e())}).then(()=>t),t=>new Promise(i=>{i(e())}).then(()=>{throw t})))});var Gee=h((Aar,s6)=>{"use strict";var bot=jee(),CI=class extends Error{constructor(e){super(e);this.name="TimeoutError"}},Hee=(r,e,t)=>new Promise((i,n)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===Infinity){i(r);return}let s=setTimeout(()=>{if(typeof t=="function"){try{i(t())}catch(c){n(c)}return}let o=typeof t=="string"?t:`Promise timed out after ${e} milliseconds`,a=t instanceof Error?t:new CI(o);typeof r.cancel=="function"&&r.cancel(),n(a)},e);bot(r.then(i,n),()=>{clearTimeout(s)})});s6.exports=Hee;s6.exports.default=Hee;s6.exports.TimeoutError=CI});var $ee=h(MI=>{"use strict";Object.defineProperty(MI,"__esModule",{value:!0});function yot(r,e,t){let i=0,n=r.length;for(;n>0;){let s=n/2|0,o=i+s;t(r[o],e)<=0?(i=++o,n-=s+1):n=s}return i}MI.default=yot});var Yee=h(NI=>{"use strict";Object.defineProperty(NI,"__esModule",{value:!0});var got=$ee(),Wee=class{constructor(){this._queue=[]}enqueue(e,t){t=Object.assign({priority:0},t);let i={priority:t.priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority){this._queue.push(i);return}let n=got.default(this._queue,i,(s,o)=>o.priority-s.priority);this._queue.splice(n,0,i)}dequeue(){let e=this._queue.shift();return e==null?void 0:e.run}filter(e){return this._queue.filter(t=>t.priority===e.priority).map(t=>t.run)}get size(){return this._queue.length}};NI.default=Wee});var Ap=h(PI=>{"use strict";Object.defineProperty(PI,"__esModule",{value:!0});var mot=Kee(),Xee=Gee(),xot=Yee(),o6=()=>{},wot=new Xee.TimeoutError,Jee=class extends mot{constructor(e){var t,i,n,s;super();if(this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=o6,this._resolveIdle=o6,e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:Infinity,interval:0,concurrency:Infinity,autoStart:!0,queueClass:xot.default},e),!(typeof e.intervalCap=="number"&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(i=(t=e.intervalCap)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:""}\` (${typeof e.intervalCap})`);if(e.interval===void 0||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(s=(n=e.interval)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===Infinity||e.interval===0,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=e.throwOnTimeout===!0,this._isPaused=e.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=o6,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=o6,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let e=Date.now();if(this._intervalId===void 0){let t=this._intervalEnd-e;if(t<0)this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0;else return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},t)),!0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let t=this._queue.dequeue();return t?(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0):!1}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!(typeof e=="number"&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise((i,n)=>{let s=async()=>{this._pendingCount++,this._intervalCount++;try{let o=this._timeout===void 0&&t.timeout===void 0?e():Xee.default(Promise.resolve(e()),t.timeout===void 0?this._timeout:t.timeout,()=>{(t.throwOnTimeout===void 0?this._throwOnTimeout:t.throwOnTimeout)&&n(wot)});i(await o)}catch(o){n(o)}this._next()};this._queue.enqueue(s,t),this._tryToStartAnother(),this.emit("add")})}async addAll(e,t){return Promise.all(e.map(async i=>this.add(i,t)))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(e=>{let t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}})}async onIdle(){if(!(this._pendingCount===0&&this._queue.size===0))return new Promise(e=>{let t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}})}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}};PI.default=Jee});var ete=h((qar,Zee)=>{"use strict";var vot=qI(),{default:Eot}=Ap(),_ot=ow(),DI=new vot(1e3),Sot=60*1e3,kot=new Eot({concurrency:4}),Qee=r=>{if(r.Path)return r.Path;throw new Error(r.Message)};Zee.exports=async(r,e)=>(async(i,n={})=>{let s=new URLSearchParams(n);s.set("arg",i);let o=s.toString();if(!n.nocache&&DI.has(o)){let c=DI.get(o);return Qee(c)}let a=await kot.add(async()=>{let c=await _ot.get("https://ipfs.io/api/v0/dns",{searchParams:s}),u=new URL(c.url).search.slice(1),f=await c.json();return DI.set(u,f,Sot),f});return Qee(a)})(r,e)});var rte=h((Bar,tte)=>{"use strict";var Aot=ete(),Iot=Ke();function Tot(r){return r.endsWith(".eth")&&(r=r.replace(/.eth$/,".eth.link")),r}tte.exports=()=>Iot(async(e,t={})=>{if(typeof e!="string")throw new Error("Invalid arguments, domain must be a string");return e=Tot(e),Aot(e,t)})});var nte=h((Car,ite)=>{"use strict";ite.exports=({network:r})=>()=>{let e=r.try();return e!=null&&Boolean(e.libp2p.isStarted())}});var OI=h(ste=>{"use strict";var ote=ot();ste.cidToString=(r,e={})=>{let t=e.upgrade!==!1,i=ote.isCID(r)?r:new ote(r);if(i.version===0&&e.base&&e.base!=="base58btc"){if(!t)return i.toString();i=i.toV1()}return i.toBaseEncodedString(e.base)}});var lte=h((Nar,ate)=>{"use strict";var cte=$f(),ute=ot(),{cidToString:fte}=OI(),Rot=Ke();ate.exports=({ipld:r,name:e})=>{async function t(i,n={}){if(!cte.path(i))throw new Error("invalid argument "+i);if(cte.ipnsPath(i)){if(!e)throw new Error("failed to resolve IPNS path: name API unavailable");for await(let l of e.resolve(i,n))i=l}let[,,s,...o]=i.split("/"),a=new ute(s);if(o.length===0)return`/ipfs/${fte(a,{base:n.cidBase})}`;i=o.join("/");let c=r.resolve(a,i),u=a,f=i;for await(let l of c)ute.isCID(l.value)&&(u=l.value,f=l.remainderPath);return`/ipfs/${fte(u,{base:n.cidBase})}${f?"/"+f:""}`}return Rot(t)}});var gc=h((Par,hte)=>{"use strict";var qot=async r=>{let e;for await(let t of r)e=t;return e};hte.exports=qot});var pte=h((Dar,dte)=>{"use strict";var Bot=gc();dte.exports=({addAll:r})=>async(e,t={})=>await Bot(r({path:e,...t},t))});var ag=h(Ip=>{"use strict";var LI=ra(),Tp=bo(),bte=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ip.Buffer=Ee;Ip.SlowBuffer=Cot;Ip.INSPECT_MAX_BYTES=50;var a6=2147483647;Ip.kMaxLength=a6;Ee.TYPED_ARRAY_SUPPORT=Mot();!Ee.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Mot(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(t){return!1}}Object.defineProperty(Ee.prototype,"parent",{enumerable:!0,get:function(){if(!!Ee.isBuffer(this))return this.buffer}});Object.defineProperty(Ee.prototype,"offset",{enumerable:!0,get:function(){if(!!Ee.isBuffer(this))return this.byteOffset}});function _u(r){if(r>a6)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,Ee.prototype),e}function Ee(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return FI(r)}return yte(r,e,t)}Ee.poolSize=8192;function yte(r,e,t){if(typeof r=="string")return Not(r,e);if(ArrayBuffer.isView(r))return Pot(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(mc(r,ArrayBuffer)||r&&mc(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(mc(r,SharedArrayBuffer)||r&&mc(r.buffer,SharedArrayBuffer)))return UI(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return Ee.from(i,e,t);var n=Dot(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return Ee.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}Ee.from=function(r,e,t){return yte(r,e,t)};Object.setPrototypeOf(Ee.prototype,Uint8Array.prototype);Object.setPrototypeOf(Ee,Uint8Array);function gte(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function Oot(r,e,t){return gte(r),r<=0?_u(r):e!==void 0?typeof t=="string"?_u(r).fill(e,t):_u(r).fill(e):_u(r)}Ee.alloc=function(r,e,t){return Oot(r,e,t)};function FI(r){return gte(r),_u(r<0?0:zI(r)|0)}Ee.allocUnsafe=function(r){return FI(r)};Ee.allocUnsafeSlow=function(r){return FI(r)};function Not(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Ee.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=mte(r,e)|0,i=_u(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function KI(r){for(var e=r.length<0?0:zI(r.length)|0,t=_u(e),i=0;i<e;i+=1)t[i]=r[i]&255;return t}function Pot(r){if(mc(r,Uint8Array)){var e=new Uint8Array(r);return UI(e.buffer,e.byteOffset,e.byteLength)}return KI(r)}function UI(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,Ee.prototype),i}function Dot(r){if(Ee.isBuffer(r)){var e=zI(r.length)|0,t=_u(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||VI(r.length)?_u(0):KI(r);if(r.type==="Buffer"&&Array.isArray(r.data))return KI(r.data)}function zI(r){if(r>=a6)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a6.toString(16)+" bytes");return r|0}function Cot(r){return+r!=r&&(r=0),Ee.alloc(+r)}Ee.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Ee.prototype};Ee.compare=function(e,t){if(mc(e,Uint8Array)&&(e=Ee.from(e,e.offset,e.byteLength)),mc(t,Uint8Array)&&(t=Ee.from(t,t.offset,t.byteLength)),!Ee.isBuffer(e)||!Ee.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};Ee.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Ee.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Ee.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=Ee.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var o=e[i];if(mc(o,Uint8Array))s+o.length>n.length?Ee.from(o).copy(n,s):Uint8Array.prototype.set.call(n,o,s);else if(Ee.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function mte(r,e){if(Ee.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||mc(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return jI(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return xte(r).length;default:if(n)return i?-1:jI(r).length;e=(""+e).toLowerCase(),n=!0}}Ee.byteLength=mte;function Vot(r,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return zot(this,e,t);case"utf8":case"utf-8":return wte(this,e,t);case"ascii":return Fot(this,e,t);case"latin1":case"binary":return Uot(this,e,t);case"base64":return Lot(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kot(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}Ee.prototype._isBuffer=!0;function Bl(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}Ee.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Bl(this,t,t+1);return this};Ee.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Bl(this,t,t+3),Bl(this,t+1,t+2);return this};Ee.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Bl(this,t,t+7),Bl(this,t+1,t+6),Bl(this,t+2,t+5),Bl(this,t+3,t+4);return this};Ee.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?wte(this,0,e):Vot.apply(this,arguments)};Ee.prototype.toLocaleString=Ee.prototype.toString;Ee.prototype.equals=function(e){if(!Ee.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Ee.compare(this,e)===0};Ee.prototype.inspect=function(){var e="",t=Ip.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};bte&&(Ee.prototype[bte]=Ee.prototype.inspect);Ee.prototype.compare=function(e,t,i,n,s){if(mc(e,Uint8Array)&&(e=Ee.from(e,e.offset,e.byteLength)),!Ee.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,a=i-t,c=Math.min(o,a),u=this.slice(n,s),f=e.slice(t,i),l=0;l<c;++l)if(u[l]!==f[l]){o=u[l],a=f[l];break}return o<a?-1:a<o?1:0};function Ete(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,VI(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=Ee.from(e,i)),Ee.isBuffer(e))return e.length===0?-1:vte(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):vte(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function vte(r,e,t,i,n){var s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function c(p,b){return s===1?p[b]:p.readUInt16BE(b*s)}var u;if(n){var f=-1;for(u=t;u<o;u++)if(c(r,u)===c(e,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===a)return f*s}else f!==-1&&(u-=u-f),f=-1}else for(t+a>o&&(t=o-a),u=t;u>=0;u--){for(var l=!0,d=0;d<a;d++)if(c(r,u+d)!==c(e,d)){l=!1;break}if(l)return u}return-1}Ee.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};Ee.prototype.indexOf=function(e,t,i){return Ete(this,e,t,i,!0)};Ee.prototype.lastIndexOf=function(e,t,i){return Ete(this,e,t,i,!1)};function jot(r,e,t,i){t=Number(t)||0;var n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(o*2,2),16);if(VI(a))return o;r[t+o]=a}return o}function Hot(r,e,t,i){return c6(jI(e,r.length-t),r,t,i)}function $ot(r,e,t,i){return c6(Got(e),r,t,i)}function Wot(r,e,t,i){return c6(xte(e),r,t,i)}function Xot(r,e,t,i){return c6(Yot(e,r.length-t),r,t,i)}Ee.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return jot(this,e,t,i);case"utf8":case"utf-8":return Hot(this,e,t,i);case"ascii":case"latin1":case"binary":return $ot(this,e,t,i);case"base64":return Wot(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xot(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};Ee.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Lot(r,e,t){return e===0&&t===r.length?LI.fromByteArray(r):LI.fromByteArray(r.slice(e,t))}function wte(r,e,t){t=Math.min(r.length,t);for(var i=[],n=e;n<t;){var s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){var c,u,f,l;switch(a){case 1:s<128&&(o=s);break;case 2:c=r[n+1],(c&192)==128&&(l=(s&31)<<6|c&63,l>127&&(o=l));break;case 3:c=r[n+1],u=r[n+2],(c&192)==128&&(u&192)==128&&(l=(s&15)<<12|(c&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:c=r[n+1],u=r[n+2],f=r[n+3],(c&192)==128&&(u&192)==128&&(f&192)==128&&(l=(s&15)<<18|(c&63)<<12|(u&63)<<6|f&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return Jot(i)}var _te=4096;function Jot(r){var e=r.length;if(e<=_te)return String.fromCharCode.apply(String,r);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=_te));return t}function Fot(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function Uot(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function zot(r,e,t){var i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var n="",s=e;s<t;++s)n+=Zot[r[s]];return n}function Kot(r,e,t){for(var i=r.slice(e,t),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}Ee.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,Ee.prototype),n};function zi(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}Ee.prototype.readUintLE=Ee.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||zi(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n};Ee.prototype.readUintBE=Ee.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||zi(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n};Ee.prototype.readUint8=Ee.prototype.readUInt8=function(e,t){return e=e>>>0,t||zi(e,1,this.length),this[e]};Ee.prototype.readUint16LE=Ee.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||zi(e,2,this.length),this[e]|this[e+1]<<8};Ee.prototype.readUint16BE=Ee.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||zi(e,2,this.length),this[e]<<8|this[e+1]};Ee.prototype.readUint32LE=Ee.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||zi(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Ee.prototype.readUint32BE=Ee.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||zi(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Ee.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||zi(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};Ee.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||zi(e,t,this.length);for(var n=t,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};Ee.prototype.readInt8=function(e,t){return e=e>>>0,t||zi(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Ee.prototype.readInt16LE=function(e,t){e=e>>>0,t||zi(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};Ee.prototype.readInt16BE=function(e,t){e=e>>>0,t||zi(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};Ee.prototype.readInt32LE=function(e,t){return e=e>>>0,t||zi(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Ee.prototype.readInt32BE=function(e,t){return e=e>>>0,t||zi(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Ee.prototype.readFloatLE=function(e,t){return e=e>>>0,t||zi(e,4,this.length),Tp.read(this,e,!0,23,4)};Ee.prototype.readFloatBE=function(e,t){return e=e>>>0,t||zi(e,4,this.length),Tp.read(this,e,!1,23,4)};Ee.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||zi(e,8,this.length),Tp.read(this,e,!0,52,8)};Ee.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||zi(e,8,this.length),Tp.read(this,e,!1,52,8)};function As(r,e,t,i,n,s){if(!Ee.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}Ee.prototype.writeUintLE=Ee.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;As(this,e,t,i,s,0)}var o=1,a=0;for(this[t]=e&255;++a<i&&(o*=256);)this[t+a]=e/o&255;return t+i};Ee.prototype.writeUintBE=Ee.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;As(this,e,t,i,s,0)}var o=i-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+i};Ee.prototype.writeUint8=Ee.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||As(this,e,t,1,255,0),this[t]=e&255,t+1};Ee.prototype.writeUint16LE=Ee.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||As(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};Ee.prototype.writeUint16BE=Ee.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||As(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};Ee.prototype.writeUint32LE=Ee.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||As(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};Ee.prototype.writeUint32BE=Ee.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||As(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};Ee.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);As(this,e,t,i,s-1,-s)}var o=0,a=1,c=0;for(this[t]=e&255;++o<i&&(a*=256);)e<0&&c===0&&this[t+o-1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};Ee.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);As(this,e,t,i,s-1,-s)}var o=i-1,a=1,c=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&c===0&&this[t+o+1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};Ee.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||As(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};Ee.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||As(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};Ee.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||As(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};Ee.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||As(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};Ee.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||As(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function Ste(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function kte(r,e,t,i,n){return e=+e,t=t>>>0,n||Ste(r,e,t,4,34028234663852886e22,-34028234663852886e22),Tp.write(r,e,t,i,23,4),t+4}Ee.prototype.writeFloatLE=function(e,t,i){return kte(this,e,t,!0,i)};Ee.prototype.writeFloatBE=function(e,t,i){return kte(this,e,t,!1,i)};function Ate(r,e,t,i,n){return e=+e,t=t>>>0,n||Ste(r,e,t,8,17976931348623157e292,-17976931348623157e292),Tp.write(r,e,t,i,52,8),t+8}Ee.prototype.writeDoubleLE=function(e,t,i){return Ate(this,e,t,!0,i)};Ee.prototype.writeDoubleBE=function(e,t,i){return Ate(this,e,t,!1,i)};Ee.prototype.copy=function(e,t,i,n){if(!Ee.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};Ee.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Ee.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{var a=Ee.isBuffer(e)?e:Ee.from(e,n),c=a.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=a[o%c]}return this};var Qot=/[^+/0-9A-Za-z-_]/g;function eat(r){if(r=r.split("=")[0],r=r.trim().replace(Qot,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function jI(r,e){e=e||Infinity;for(var t,i=r.length,n=null,s=[],o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function Got(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Yot(r,e){for(var t,i,n,s=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function xte(r){return LI.toByteArray(eat(r))}function c6(r,e,t,i){for(var n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function mc(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function VI(r){return r!==r}var Zot=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var i=t*16,n=0;n<16;++n)e[i+n]=r[t]+r[n];return e}()});var pa=h((Ite,u6)=>{(function(r){"use strict";var e,t=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,n=Math.floor,s="[BigNumber Error] ",o=s+"Number primitive has more than 15 significant digits: ",a=1e14,c=14,u=9007199254740991,f=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],l=1e7,d=1e9;function p(V){var P,W,ne,Q=G.prototype={constructor:G,toString:null,valueOf:null},M=new G(1),y=20,v=4,k=-7,N=21,L=-1e7,$=1e7,X=!1,q=1,x=0,z={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xA0",suffix:""},pe="0123456789abcdefghijklmnopqrstuvwxyz";function G(E,T){var D,K,H,ee,Z,J,te,ae,ce=this;if(!(ce instanceof G))return new G(E,T);if(T==null){if(E&&E._isBigNumber===!0){ce.s=E.s,!E.c||E.e>$?ce.c=ce.e=null:E.e<L?ce.c=[ce.e=0]:(ce.e=E.e,ce.c=E.c.slice());return}if((J=typeof E=="number")&&E*0==0){if(ce.s=1/E<0?(E=-E,-1):1,E===~~E){for(ee=0,Z=E;Z>=10;Z/=10,ee++);ee>$?ce.c=ce.e=null:(ce.e=ee,ce.c=[E]);return}ae=String(E)}else{if(!t.test(ae=String(E)))return ne(ce,ae,J);ce.s=ae.charCodeAt(0)==45?(ae=ae.slice(1),-1):1}(ee=ae.indexOf("."))>-1&&(ae=ae.replace(".","")),(Z=ae.search(/e/i))>0?(ee<0&&(ee=Z),ee+=+ae.slice(Z+1),ae=ae.substring(0,Z)):ee<0&&(ee=ae.length)}else{if(w(T,2,pe.length,"Base"),T==10)return ce=new G(E),ue(ce,y+ce.e+1,v);if(ae=String(E),J=typeof E=="number"){if(E*0!=0)return ne(ce,ae,J,T);if(ce.s=1/E<0?(ae=ae.slice(1),-1):1,G.DEBUG&&ae.replace(/^0\.0*|\./,"").length>15)throw Error(o+E)}else ce.s=ae.charCodeAt(0)===45?(ae=ae.slice(1),-1):1;for(D=pe.slice(0,T),ee=Z=0,te=ae.length;Z<te;Z++)if(D.indexOf(K=ae.charAt(Z))<0){if(K=="."){if(Z>ee){ee=te;continue}}else if(!H&&(ae==ae.toUpperCase()&&(ae=ae.toLowerCase())||ae==ae.toLowerCase()&&(ae=ae.toUpperCase()))){H=!0,Z=-1,ee=0;continue}return ne(ce,String(E),J,T)}J=!1,ae=W(ae,T,10,ce.s),(ee=ae.indexOf("."))>-1?ae=ae.replace(".",""):ee=ae.length}for(Z=0;ae.charCodeAt(Z)===48;Z++);for(te=ae.length;ae.charCodeAt(--te)===48;);if(ae=ae.slice(Z,++te)){if(te-=Z,J&&G.DEBUG&&te>15&&(E>u||E!==n(E)))throw Error(o+ce.s*E);if((ee=ee-Z-1)>$)ce.c=ce.e=null;else if(ee<L)ce.c=[ce.e=0];else{if(ce.e=ee,ce.c=[],Z=(ee+1)%c,ee<0&&(Z+=c),Z<te){for(Z&&ce.c.push(+ae.slice(0,Z)),te-=c;Z<te;)ce.c.push(+ae.slice(Z,Z+=c));Z=c-(ae=ae.slice(Z)).length}else Z-=te;for(;Z--;ae+="0");ce.c.push(+ae)}}else ce.c=[ce.e=0]}G.clone=p,G.ROUND_UP=0,G.ROUND_DOWN=1,G.ROUND_CEIL=2,G.ROUND_FLOOR=3,G.ROUND_HALF_UP=4,G.ROUND_HALF_DOWN=5,G.ROUND_HALF_EVEN=6,G.ROUND_HALF_CEIL=7,G.ROUND_HALF_FLOOR=8,G.EUCLID=9,G.config=G.set=function(E){var T,D;if(E!=null)if(typeof E=="object"){if(E.hasOwnProperty(T="DECIMAL_PLACES")&&(D=E[T],w(D,0,d,T),y=D),E.hasOwnProperty(T="ROUNDING_MODE")&&(D=E[T],w(D,0,8,T),v=D),E.hasOwnProperty(T="EXPONENTIAL_AT")&&(D=E[T],D&&D.pop?(w(D[0],-d,0,T),w(D[1],0,d,T),k=D[0],N=D[1]):(w(D,-d,d,T),k=-(N=D<0?-D:D))),E.hasOwnProperty(T="RANGE"))if(D=E[T],D&&D.pop)w(D[0],-d,-1,T),w(D[1],1,d,T),L=D[0],$=D[1];else if(w(D,-d,d,T),D)L=-($=D<0?-D:D);else throw Error(s+T+" cannot be zero: "+D);if(E.hasOwnProperty(T="CRYPTO"))if(D=E[T],D===!!D)if(D)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))X=D;else throw X=!D,Error(s+"crypto unavailable");else X=D;else throw Error(s+T+" not true or false: "+D);if(E.hasOwnProperty(T="MODULO_MODE")&&(D=E[T],w(D,0,9,T),q=D),E.hasOwnProperty(T="POW_PRECISION")&&(D=E[T],w(D,0,d,T),x=D),E.hasOwnProperty(T="FORMAT"))if(D=E[T],typeof D=="object")z=D;else throw Error(s+T+" not an object: "+D);if(E.hasOwnProperty(T="ALPHABET"))if(D=E[T],typeof D=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(D))pe=D;else throw Error(s+T+" invalid: "+D)}else throw Error(s+"Object expected: "+E);return{DECIMAL_PLACES:y,ROUNDING_MODE:v,EXPONENTIAL_AT:[k,N],RANGE:[L,$],CRYPTO:X,MODULO_MODE:q,POW_PRECISION:x,FORMAT:z,ALPHABET:pe}},G.isBigNumber=function(E){if(!E||E._isBigNumber!==!0)return!1;if(!G.DEBUG)return!0;var T,D,K=E.c,H=E.e,ee=E.s;e:if({}.toString.call(K)=="[object Array]"){if((ee===1||ee===-1)&&H>=-d&&H<=d&&H===n(H)){if(K[0]===0){if(H===0&&K.length===1)return!0;break e}if(T=(H+1)%c,T<1&&(T+=c),String(K[0]).length==T){for(T=0;T<K.length;T++)if(D=K[T],D<0||D>=a||D!==n(D))break e;if(D!==0)return!0}}}else if(K===null&&H===null&&(ee===null||ee===1||ee===-1))return!0;throw Error(s+"Invalid BigNumber: "+E)},G.maximum=G.max=function(){return U(arguments,Q.lt)},G.minimum=G.min=function(){return U(arguments,Q.gt)},G.random=function(){var E=9007199254740992,T=Math.random()*E&2097151?function(){return n(Math.random()*E)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(D){var K,H,ee,Z,J,te=0,ae=[],ce=new G(M);if(D==null?D=y:w(D,0,d),Z=i(D/c),X)if(crypto.getRandomValues){for(K=crypto.getRandomValues(new Uint32Array(Z*=2));te<Z;)J=K[te]*131072+(K[te+1]>>>11),J>=9e15?(H=crypto.getRandomValues(new Uint32Array(2)),K[te]=H[0],K[te+1]=H[1]):(ae.push(J%1e14),te+=2);te=Z/2}else if(crypto.randomBytes){for(K=crypto.randomBytes(Z*=7);te<Z;)J=(K[te]&31)*281474976710656+K[te+1]*1099511627776+K[te+2]*4294967296+K[te+3]*16777216+(K[te+4]<<16)+(K[te+5]<<8)+K[te+6],J>=9e15?crypto.randomBytes(7).copy(K,te):(ae.push(J%1e14),te+=7);te=Z/7}else throw X=!1,Error(s+"crypto unavailable");if(!X)for(;te<Z;)J=T(),J<9e15&&(ae[te++]=J%1e14);for(Z=ae[--te],D%=c,Z&&D&&(J=f[c-D],ae[te]=n(Z/J)*J);ae[te]===0;ae.pop(),te--);if(te<0)ae=[ee=0];else{for(ee=-1;ae[0]===0;ae.splice(0,1),ee-=c);for(te=1,J=ae[0];J>=10;J/=10,te++);te<c&&(ee-=c-te)}return ce.e=ee,ce.c=ae,ce}}(),G.sum=function(){for(var E=1,T=arguments,D=new G(T[0]);E<T.length;)D=D.plus(T[E++]);return D},W=function(){var E="0123456789";function T(D,K,H,ee){for(var Z,J=[0],te,ae=0,ce=D.length;ae<ce;){for(te=J.length;te--;J[te]*=K);for(J[0]+=ee.indexOf(D.charAt(ae++)),Z=0;Z<J.length;Z++)J[Z]>H-1&&(J[Z+1]==null&&(J[Z+1]=0),J[Z+1]+=J[Z]/H|0,J[Z]%=H)}return J.reverse()}return function(D,K,H,ee,Z){var J,te,ae,ce,ye,Me,Be,Je,$e=D.indexOf("."),nt=y,Qe=v;for($e>=0&&(ce=x,x=0,D=D.replace(".",""),Je=new G(K),Me=Je.pow(D.length-$e),x=ce,Je.c=T(F(g(Me.c),Me.e,"0"),10,H,E),Je.e=Je.c.length),Be=T(D,K,H,Z?(J=pe,E):(J=E,pe)),ae=ce=Be.length;Be[--ce]==0;Be.pop());if(!Be[0])return J.charAt(0);if($e<0?--ae:(Me.c=Be,Me.e=ae,Me.s=ee,Me=P(Me,Je,nt,Qe,H),Be=Me.c,ye=Me.r,ae=Me.e),te=ae+nt+1,$e=Be[te],ce=H/2,ye=ye||te<0||Be[te+1]!=null,ye=Qe<4?($e!=null||ye)&&(Qe==0||Qe==(Me.s<0?3:2)):$e>ce||$e==ce&&(Qe==4||ye||Qe==6&&Be[te-1]&1||Qe==(Me.s<0?8:7)),te<1||!Be[0])D=ye?F(J.charAt(1),-nt,J.charAt(0)):J.charAt(0);else{if(Be.length=te,ye)for(--H;++Be[--te]>H;)Be[te]=0,te||(++ae,Be=[1].concat(Be));for(ce=Be.length;!Be[--ce];);for($e=0,D="";$e<=ce;D+=J.charAt(Be[$e++]));D=F(D,ae,J.charAt(0))}return D}}(),P=function(){function E(K,H,ee){var Z,J,te,ae,ce=0,ye=K.length,Me=H%l,Be=H/l|0;for(K=K.slice();ye--;)te=K[ye]%l,ae=K[ye]/l|0,Z=Be*te+ae*Me,J=Me*te+Z%l*l+ce,ce=(J/ee|0)+(Z/l|0)+Be*ae,K[ye]=J%ee;return ce&&(K=[ce].concat(K)),K}function T(K,H,ee,Z){var J,te;if(ee!=Z)te=ee>Z?1:-1;else for(J=te=0;J<ee;J++)if(K[J]!=H[J]){te=K[J]>H[J]?1:-1;break}return te}function D(K,H,ee,Z){for(var J=0;ee--;)K[ee]-=J,J=K[ee]<H[ee]?1:0,K[ee]=J*Z+K[ee]-H[ee];for(;!K[0]&&K.length>1;K.splice(0,1));}return function(K,H,ee,Z,J){var te,ae,ce,ye,Me,Be,Je,$e,nt,Qe,Ue,Ye,It,it,je,re,S,Y=K.s==H.s?1:-1,Yt=K.c,tt=H.c;if(!Yt||!Yt[0]||!tt||!tt[0])return new G(!K.s||!H.s||(Yt?tt&&Yt[0]==tt[0]:!tt)?NaN:Yt&&Yt[0]==0||!tt?Y*0:Y/0);for($e=new G(Y),nt=$e.c=[],ae=K.e-H.e,Y=ee+ae+1,J||(J=a,ae=b(K.e/c)-b(H.e/c),Y=Y/c|0),ce=0;tt[ce]==(Yt[ce]||0);ce++);if(tt[ce]>(Yt[ce]||0)&&ae--,Y<0)nt.push(1),ye=!0;else{for(it=Yt.length,re=tt.length,ce=0,Y+=2,Me=n(J/(tt[0]+1)),Me>1&&(tt=E(tt,Me,J),Yt=E(Yt,Me,J),re=tt.length,it=Yt.length),It=re,Qe=Yt.slice(0,re),Ue=Qe.length;Ue<re;Qe[Ue++]=0);S=tt.slice(),S=[0].concat(S),je=tt[0],tt[1]>=J/2&&je++;do{if(Me=0,te=T(tt,Qe,re,Ue),te<0){if(Ye=Qe[0],re!=Ue&&(Ye=Ye*J+(Qe[1]||0)),Me=n(Ye/je),Me>1)for(Me>=J&&(Me=J-1),Be=E(tt,Me,J),Je=Be.length,Ue=Qe.length;T(Be,Qe,Je,Ue)==1;)Me--,D(Be,re<Je?S:tt,Je,J),Je=Be.length,te=1;else Me==0&&(te=Me=1),Be=tt.slice(),Je=Be.length;if(Je<Ue&&(Be=[0].concat(Be)),D(Qe,Be,Ue,J),Ue=Qe.length,te==-1)for(;T(tt,Qe,re,Ue)<1;)Me++,D(Qe,re<Ue?S:tt,Ue,J),Ue=Qe.length}else te===0&&(Me++,Qe=[0]);nt[ce++]=Me,Qe[0]?Qe[Ue++]=Yt[It]||0:(Qe=[Yt[It]],Ue=1)}while((It++<it||Qe[0]!=null)&&Y--);ye=Qe[0]!=null,nt[0]||nt.splice(0,1)}if(J==a){for(ce=1,Y=nt[0];Y>=10;Y/=10,ce++);ue($e,ee+($e.e=ce+ae*c-1)+1,Z,ye)}else $e.e=ae,$e.r=+ye;return $e}}();function be(E,T,D,K){var H,ee,Z,J,te;if(D==null?D=v:w(D,0,8),!E.c)return E.toString();if(H=E.c[0],Z=E.e,T==null)te=g(E.c),te=K==1||K==2&&(Z<=k||Z>=N)?I(te,Z):F(te,Z,"0");else if(E=ue(new G(E),T,D),ee=E.e,te=g(E.c),J=te.length,K==1||K==2&&(T<=ee||ee<=k)){for(;J<T;te+="0",J++);te=I(te,ee)}else if(T-=Z,te=F(te,ee,"0"),ee+1>J){if(--T>0)for(te+=".";T--;te+="0");}else if(T+=ee-J,T>0)for(ee+1==J&&(te+=".");T--;te+="0");return E.s<0&&H?"-"+te:te}function U(E,T){for(var D,K=1,H=new G(E[0]);K<E.length;K++)if(D=new G(E[K]),D.s)T.call(H,D)&&(H=D);else{H=D;break}return H}function _(E,T,D){for(var K=1,H=T.length;!T[--H];T.pop());for(H=T[0];H>=10;H/=10,K++);return(D=K+D*c-1)>$?E.c=E.e=null:D<L?E.c=[E.e=0]:(E.e=D,E.c=T),E}ne=function(){var E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,D=/^\.([^.]+)$/,K=/^-?(Infinity|NaN)$/,H=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(ee,Z,J,te){var ae,ce=J?Z:Z.replace(H,"");if(K.test(ce))ee.s=isNaN(ce)?null:ce<0?-1:1;else{if(!J&&(ce=ce.replace(E,function(ye,Me,Be){return ae=(Be=Be.toLowerCase())=="x"?16:Be=="b"?2:8,!te||te==ae?Me:ye}),te&&(ae=te,ce=ce.replace(T,"$1").replace(D,"0.$1")),Z!=ce))return new G(ce,ae);if(G.DEBUG)throw Error(s+"Not a"+(te?" base "+te:"")+" number: "+Z);ee.s=null}ee.c=ee.e=null}}();function ue(E,T,D,K){var H,ee,Z,J,te,ae,ce,ye=E.c,Me=f;if(ye){e:{for(H=1,J=ye[0];J>=10;J/=10,H++);if(ee=T-H,ee<0)ee+=c,Z=T,te=ye[ae=0],ce=te/Me[H-Z-1]%10|0;else if(ae=i((ee+1)/c),ae>=ye.length)if(K){for(;ye.length<=ae;ye.push(0));te=ce=0,H=1,ee%=c,Z=ee-c+1}else break e;else{for(te=J=ye[ae],H=1;J>=10;J/=10,H++);ee%=c,Z=ee-c+H,ce=Z<0?0:te/Me[H-Z-1]%10|0}if(K=K||T<0||ye[ae+1]!=null||(Z<0?te:te%Me[H-Z-1]),K=D<4?(ce||K)&&(D==0||D==(E.s<0?3:2)):ce>5||ce==5&&(D==4||K||D==6&&(ee>0?Z>0?te/Me[H-Z]:0:ye[ae-1])%10&1||D==(E.s<0?8:7)),T<1||!ye[0])return ye.length=0,K?(T-=E.e+1,ye[0]=Me[(c-T%c)%c],E.e=-T||0):ye[0]=E.e=0,E;if(ee==0?(ye.length=ae,J=1,ae--):(ye.length=ae+1,J=Me[c-ee],ye[ae]=Z>0?n(te/Me[H-Z]%Me[Z])*J:0),K)for(;;)if(ae==0){for(ee=1,Z=ye[0];Z>=10;Z/=10,ee++);for(Z=ye[0]+=J,J=1;Z>=10;Z/=10,J++);ee!=J&&(E.e++,ye[0]==a&&(ye[0]=1));break}else{if(ye[ae]+=J,ye[ae]!=a)break;ye[ae--]=0,J=1}for(ee=ye.length;ye[--ee]===0;ye.pop());}E.e>$?E.c=E.e=null:E.e<L&&(E.c=[E.e=0])}return E}function fe(E){var T,D=E.e;return D===null?E.toString():(T=g(E.c),T=D<=k||D>=N?I(T,D):F(T,D,"0"),E.s<0?"-"+T:T)}return Q.absoluteValue=Q.abs=function(){var E=new G(this);return E.s<0&&(E.s=1),E},Q.comparedTo=function(E,T){return m(this,new G(E,T))},Q.decimalPlaces=Q.dp=function(E,T){var D,K,H,ee=this;if(E!=null)return w(E,0,d),T==null?T=v:w(T,0,8),ue(new G(ee),E+ee.e+1,T);if(!(D=ee.c))return null;if(K=((H=D.length-1)-b(this.e/c))*c,H=D[H])for(;H%10==0;H/=10,K--);return K<0&&(K=0),K},Q.dividedBy=Q.div=function(E,T){return P(this,new G(E,T),y,v)},Q.dividedToIntegerBy=Q.idiv=function(E,T){return P(this,new G(E,T),0,1)},Q.exponentiatedBy=Q.pow=function(E,T){var D,K,H,ee,Z,J,te,ae,ce,ye=this;if(E=new G(E),E.c&&!E.isInteger())throw Error(s+"Exponent not an integer: "+fe(E));if(T!=null&&(T=new G(T)),J=E.e>14,!ye.c||!ye.c[0]||ye.c[0]==1&&!ye.e&&ye.c.length==1||!E.c||!E.c[0])return ce=new G(Math.pow(+fe(ye),J?2-A(E):+fe(E))),T?ce.mod(T):ce;if(te=E.s<0,T){if(T.c?!T.c[0]:!T.s)return new G(NaN);K=!te&&ye.isInteger()&&T.isInteger(),K&&(ye=ye.mod(T))}else{if(E.e>9&&(ye.e>0||ye.e<-1||(ye.e==0?ye.c[0]>1||J&&ye.c[1]>=24e7:ye.c[0]<8e13||J&&ye.c[0]<=9999975e7)))return ee=(ye.s<0&&A(E),-0),ye.e>-1&&(ee=1/ee),new G(te?1/ee:ee);x&&(ee=i(x/c+2))}for(J?(D=new G(.5),te&&(E.s=1),ae=A(E)):(H=Math.abs(+fe(E)),ae=H%2),ce=new G(M);;){if(ae){if(ce=ce.times(ye),!ce.c)break;ee?ce.c.length>ee&&(ce.c.length=ee):K&&(ce=ce.mod(T))}if(H){if(H=n(H/2),H===0)break;ae=H%2}else if(E=E.times(D),ue(E,E.e+1,1),E.e>14)ae=A(E);else{if(H=+fe(E),H===0)break;ae=H%2}ye=ye.times(ye),ee?ye.c&&ye.c.length>ee&&(ye.c.length=ee):K&&(ye=ye.mod(T))}return K?ce:(te&&(ce=M.div(ce)),T?ce.mod(T):ee?ue(ce,x,v,Z):ce)},Q.integerValue=function(E){var T=new G(this);return E==null?E=v:w(E,0,8),ue(T,T.e+1,E)},Q.isEqualTo=Q.eq=function(E,T){return m(this,new G(E,T))===0},Q.isFinite=function(){return!!this.c},Q.isGreaterThan=Q.gt=function(E,T){return m(this,new G(E,T))>0},Q.isGreaterThanOrEqualTo=Q.gte=function(E,T){return(T=m(this,new G(E,T)))===1||T===0},Q.isInteger=function(){return!!this.c&&b(this.e/c)>this.c.length-2},Q.isLessThan=Q.lt=function(E,T){return m(this,new G(E,T))<0},Q.isLessThanOrEqualTo=Q.lte=function(E,T){return(T=m(this,new G(E,T)))===-1||T===0},Q.isNaN=function(){return!this.s},Q.isNegative=function(){return this.s<0},Q.isPositive=function(){return this.s>0},Q.isZero=function(){return!!this.c&&this.c[0]==0},Q.minus=function(E,T){var D,K,H,ee,Z=this,J=Z.s;if(E=new G(E,T),T=E.s,!J||!T)return new G(NaN);if(J!=T)return E.s=-T,Z.plus(E);var te=Z.e/c,ae=E.e/c,ce=Z.c,ye=E.c;if(!te||!ae){if(!ce||!ye)return ce?(E.s=-T,E):new G(ye?Z:NaN);if(!ce[0]||!ye[0])return ye[0]?(E.s=-T,E):new G(ce[0]?Z:(v==3,-0))}if(te=b(te),ae=b(ae),ce=ce.slice(),J=te-ae){for((ee=J<0)?(J=-J,H=ce):(ae=te,H=ye),H.reverse(),T=J;T--;H.push(0));H.reverse()}else for(K=(ee=(J=ce.length)<(T=ye.length))?J:T,J=T=0;T<K;T++)if(ce[T]!=ye[T]){ee=ce[T]<ye[T];break}if(ee&&(H=ce,ce=ye,ye=H,E.s=-E.s),T=(K=ye.length)-(D=ce.length),T>0)for(;T--;ce[D++]=0);for(T=a-1;K>J;){if(ce[--K]<ye[K]){for(D=K;D&&!ce[--D];ce[D]=T);--ce[D],ce[K]+=a}ce[K]-=ye[K]}for(;ce[0]==0;ce.splice(0,1),--ae);return ce[0]?_(E,ce,ae):(E.s=v==3?-1:1,E.c=[E.e=0],E)},Q.modulo=Q.mod=function(E,T){var D,K,H=this;return E=new G(E,T),!H.c||!E.s||E.c&&!E.c[0]?new G(NaN):!E.c||H.c&&!H.c[0]?new G(H):(q==9?(K=E.s,E.s=1,D=P(H,E,0,3),E.s=K,D.s*=K):D=P(H,E,0,q),E=H.minus(D.times(E)),!E.c[0]&&q==1&&(E.s=H.s),E)},Q.multipliedBy=Q.times=function(E,T){var D,K,H,ee,Z,J,te,ae,ce,ye,Me,Be,Je,$e,nt,Qe=this,Ue=Qe.c,Ye=(E=new G(E,T)).c;if(!Ue||!Ye||!Ue[0]||!Ye[0])return!Qe.s||!E.s||Ue&&!Ue[0]&&!Ye||Ye&&!Ye[0]&&!Ue?E.c=E.e=E.s=null:(E.s*=Qe.s,!Ue||!Ye?E.c=E.e=null:(E.c=[0],E.e=0)),E;for(K=b(Qe.e/c)+b(E.e/c),E.s*=Qe.s,te=Ue.length,ye=Ye.length,te<ye&&(Je=Ue,Ue=Ye,Ye=Je,H=te,te=ye,ye=H),H=te+ye,Je=[];H--;Je.push(0));for($e=a,nt=l,H=ye;--H>=0;){for(D=0,Me=Ye[H]%nt,Be=Ye[H]/nt|0,Z=te,ee=H+Z;ee>H;)ae=Ue[--Z]%nt,ce=Ue[Z]/nt|0,J=Be*ae+ce*Me,ae=Me*ae+J%nt*nt+Je[ee]+D,D=(ae/$e|0)+(J/nt|0)+Be*ce,Je[ee--]=ae%$e;Je[ee]=D}return D?++K:Je.splice(0,1),_(E,Je,K)},Q.negated=function(){var E=new G(this);return E.s=-E.s||null,E},Q.plus=function(E,T){var D,K=this,H=K.s;if(E=new G(E,T),T=E.s,!H||!T)return new G(NaN);if(H!=T)return E.s=-T,K.minus(E);var ee=K.e/c,Z=E.e/c,J=K.c,te=E.c;if(!ee||!Z){if(!J||!te)return new G(H/0);if(!J[0]||!te[0])return te[0]?E:new G(J[0]?K:H*0)}if(ee=b(ee),Z=b(Z),J=J.slice(),H=ee-Z){for(H>0?(Z=ee,D=te):(H=-H,D=J),D.reverse();H--;D.push(0));D.reverse()}for(H=J.length,T=te.length,H-T<0&&(D=te,te=J,J=D,T=H),H=0;T;)H=(J[--T]=J[T]+te[T]+H)/a|0,J[T]=a===J[T]?0:J[T]%a;return H&&(J=[H].concat(J),++Z),_(E,J,Z)},Q.precision=Q.sd=function(E,T){var D,K,H,ee=this;if(E!=null&&E!==!!E)return w(E,1,d),T==null?T=v:w(T,0,8),ue(new G(ee),E,T);if(!(D=ee.c))return null;if(H=D.length-1,K=H*c+1,H=D[H]){for(;H%10==0;H/=10,K--);for(H=D[0];H>=10;H/=10,K++);}return E&&ee.e+1>K&&(K=ee.e+1),K},Q.shiftedBy=function(E){return w(E,-u,u),this.times("1e"+E)},Q.squareRoot=Q.sqrt=function(){var E,T,D,K,H,ee=this,Z=ee.c,J=ee.s,te=ee.e,ae=y+4,ce=new G("0.5");if(J!==1||!Z||!Z[0])return new G(!J||J<0&&(!Z||Z[0])?NaN:Z?ee:1/0);if(J=Math.sqrt(+fe(ee)),J==0||J==1/0?(T=g(Z),(T.length+te)%2==0&&(T+="0"),J=Math.sqrt(+T),te=b((te+1)/2)-(te<0||te%2),J==1/0?T="5e"+te:(T=J.toExponential(),T=T.slice(0,T.indexOf("e")+1)+te),D=new G(T)):D=new G(J+""),D.c[0]){for(te=D.e,J=te+ae,J<3&&(J=0);;)if(H=D,D=ce.times(H.plus(P(ee,H,ae,1))),g(H.c).slice(0,J)===(T=g(D.c)).slice(0,J))if(D.e<te&&--J,T=T.slice(J-3,J+1),T=="9999"||!K&&T=="4999"){if(!K&&(ue(H,H.e+y+2,0),H.times(H).eq(ee))){D=H;break}ae+=4,J+=4,K=1}else{(!+T||!+T.slice(1)&&T.charAt(0)=="5")&&(ue(D,D.e+y+2,1),E=!D.times(D).eq(ee));break}}return ue(D,D.e+y+1,v,E)},Q.toExponential=function(E,T){return E!=null&&(w(E,0,d),E++),be(this,E,T,1)},Q.toFixed=function(E,T){return E!=null&&(w(E,0,d),E=E+this.e+1),be(this,E,T)},Q.toFormat=function(E,T,D){var K,H=this;if(D==null)E!=null&&T&&typeof T=="object"?(D=T,T=null):E&&typeof E=="object"?(D=E,E=T=null):D=z;else if(typeof D!="object")throw Error(s+"Argument not an object: "+D);if(K=H.toFixed(E,T),H.c){var ee,Z=K.split("."),J=+D.groupSize,te=+D.secondaryGroupSize,ae=D.groupSeparator||"",ce=Z[0],ye=Z[1],Me=H.s<0,Be=Me?ce.slice(1):ce,Je=Be.length;if(te&&(ee=J,J=te,te=ee,Je-=ee),J>0&&Je>0){for(ee=Je%J||J,ce=Be.substr(0,ee);ee<Je;ee+=J)ce+=ae+Be.substr(ee,J);te>0&&(ce+=ae+Be.slice(ee)),Me&&(ce="-"+ce)}K=ye?ce+(D.decimalSeparator||"")+((te=+D.fractionGroupSize)?ye.replace(new RegExp("\\d{"+te+"}\\B","g"),"$&"+(D.fractionGroupSeparator||"")):ye):ce}return(D.prefix||"")+K+(D.suffix||"")},Q.toFraction=function(E){var T,D,K,H,ee,Z,J,te,ae,ce,ye,Me,Be=this,Je=Be.c;if(E!=null&&(J=new G(E),!J.isInteger()&&(J.c||J.s!==1)||J.lt(M)))throw Error(s+"Argument "+(J.isInteger()?"out of range: ":"not an integer: ")+fe(J));if(!Je)return new G(Be);for(T=new G(M),ae=D=new G(M),K=te=new G(M),Me=g(Je),ee=T.e=Me.length-Be.e-1,T.c[0]=f[(Z=ee%c)<0?c+Z:Z],E=!E||J.comparedTo(T)>0?ee>0?T:ae:J,Z=$,$=1/0,J=new G(Me),te.c[0]=0;ce=P(J,T,0,1),H=D.plus(ce.times(K)),H.comparedTo(E)!=1;)D=K,K=H,ae=te.plus(ce.times(H=ae)),te=H,T=J.minus(ce.times(H=T)),J=H;return H=P(E.minus(D),K,0,1),te=te.plus(H.times(ae)),D=D.plus(H.times(K)),te.s=ae.s=Be.s,ee=ee*2,ye=P(ae,K,ee,v).minus(Be).abs().comparedTo(P(te,D,ee,v).minus(Be).abs())<1?[ae,K]:[te,D],$=Z,ye},Q.toNumber=function(){return+fe(this)},Q.toPrecision=function(E,T){return E!=null&&w(E,1,d),be(this,E,T,2)},Q.toString=function(E){var T,D=this,K=D.s,H=D.e;return H===null?K?(T="Infinity",K<0&&(T="-"+T)):T="NaN":(E==null?T=H<=k||H>=N?I(g(D.c),H):F(g(D.c),H,"0"):E===10?(D=ue(new G(D),y+H+1,v),T=F(g(D.c),D.e,"0")):(w(E,2,pe.length,"Base"),T=W(F(g(D.c),H,"0"),10,E,K,!0)),K<0&&D.c[0]&&(T="-"+T)),T},Q.valueOf=Q.toJSON=function(){return fe(this)},Q._isBigNumber=!0,V!=null&&G.set(V),G}function b(V){var P=V|0;return V>0||V===P?P:P-1}function g(V){for(var P,W,ne=1,Q=V.length,M=V[0]+"";ne<Q;){for(P=V[ne++]+"",W=c-P.length;W--;P="0"+P);M+=P}for(Q=M.length;M.charCodeAt(--Q)===48;);return M.slice(0,Q+1||1)}function m(V,P){var W,ne,Q=V.c,M=P.c,y=V.s,v=P.s,k=V.e,N=P.e;if(!y||!v)return null;if(W=Q&&!Q[0],ne=M&&!M[0],W||ne)return W?ne?0:-v:y;if(y!=v)return y;if(W=y<0,ne=k==N,!Q||!M)return ne?0:!Q^W?1:-1;if(!ne)return k>N^W?1:-1;for(v=(k=Q.length)<(N=M.length)?k:N,y=0;y<v;y++)if(Q[y]!=M[y])return Q[y]>M[y]^W?1:-1;return k==N?0:k>N^W?1:-1}function w(V,P,W,ne){if(V<P||V>W||V!==n(V))throw Error(s+(ne||"Argument")+(typeof V=="number"?V<P||V>W?" out of range: ":" not an integer: ":" not a primitive number: ")+String(V))}function A(V){var P=V.c.length-1;return b(V.e/c)==P&&V.c[P]%2!=0}function I(V,P){return(V.length>1?V.charAt(0)+"."+V.slice(1):V)+(P<0?"e":"e+")+P}function F(V,P,W){var ne,Q;if(P<0){for(Q=W+".";++P;Q+=W);V=Q+V}else if(ne=V.length,++P>ne){for(Q=W,P-=ne;--P;Q+=W);V+=Q}else P<ne&&(V=V.slice(0,P)+"."+V.slice(P));return V}e=p(),e.default=e.BigNumber=e,typeof define=="function"&&define.amd?define(function(){return e}):typeof u6!="undefined"&&u6.exports?u6.exports=e:(r||(r=typeof self!="undefined"&&self?self:window),r.BigNumber=e)})(Ite)});var Rte=h((Lar,Tte)=>{Tte.exports=function(e,t,i){var n=new e.Uint8Array(i),s=t.pushInt,o=t.pushInt32,a=t.pushInt32Neg,c=t.pushInt64,u=t.pushInt64Neg,f=t.pushFloat,l=t.pushFloatSingle,d=t.pushFloatDouble,p=t.pushTrue,b=t.pushFalse,g=t.pushUndefined,m=t.pushNull,w=t.pushInfinity,A=t.pushInfinityNeg,I=t.pushNaN,F=t.pushNaNNeg,V=t.pushArrayStart,P=t.pushArrayStartFixed,W=t.pushArrayStartFixed32,ne=t.pushArrayStartFixed64,Q=t.pushObjectStart,M=t.pushObjectStartFixed,y=t.pushObjectStartFixed32,v=t.pushObjectStartFixed64,k=t.pushByteString,N=t.pushByteStringStart,L=t.pushUtf8String,$=t.pushUtf8StringStart,X=t.pushSimpleUnassigned,q=t.pushTagStart,x=t.pushTagStart4,z=t.pushTagStart8,pe=t.pushTagUnassigned,G=t.pushBreak,be=e.Math.pow,U=0,_=0,ue=0;function fe(ie){for(ie=ie|0,U=0,_=ie;(U|0)<(_|0)&&(ue=W0[n[U]&255](n[U]|0)|0,!((ue|0)>0)););return ue|0}function E(ie){return ie=ie|0,((U|0)+(ie|0)|0)<(_|0)?0:1}function T(ie){return ie=ie|0,n[ie|0]<<8|n[ie+1|0]|0}function D(ie){return ie=ie|0,n[ie|0]<<24|n[ie+1|0]<<16|n[ie+2|0]<<8|n[ie+3|0]|0}function K(ie){return ie=ie|0,s(ie|0),U=U+1|0,0}function H(ie){return ie=ie|0,E(1)|0?1:(s(n[U+1|0]|0),U=U+2|0,0)}function ee(ie){return ie=ie|0,E(2)|0?1:(s(T(U+1|0)|0),U=U+3|0,0)}function Z(ie){return ie=ie|0,E(4)|0?1:(o(T(U+1|0)|0,T(U+3|0)|0),U=U+5|0,0)}function J(ie){return ie=ie|0,E(8)|0?1:(c(T(U+1|0)|0,T(U+3|0)|0,T(U+5|0)|0,T(U+7|0)|0),U=U+9|0,0)}function te(ie){return ie=ie|0,s(-1-(ie-32|0)|0),U=U+1|0,0}function ae(ie){return ie=ie|0,E(1)|0?1:(s(-1-(n[U+1|0]|0)|0),U=U+2|0,0)}function ce(ie){ie=ie|0;var xt=0;return E(2)|0?1:(xt=T(U+1|0)|0,s(-1-(xt|0)|0),U=U+3|0,0)}function ye(ie){return ie=ie|0,E(4)|0?1:(a(T(U+1|0)|0,T(U+3|0)|0),U=U+5|0,0)}function Me(ie){return ie=ie|0,E(8)|0?1:(u(T(U+1|0)|0,T(U+3|0)|0,T(U+5|0)|0,T(U+7|0)|0),U=U+9|0,0)}function Be(ie){ie=ie|0;var xt=0,vt=0,gt=0;return gt=ie-64|0,E(gt|0)|0?1:(xt=U+1|0,vt=(U+1|0)+(gt|0)|0,k(xt|0,vt|0),U=vt|0,0)}function Je(ie){ie=ie|0;var xt=0,vt=0,gt=0;return E(1)|0||(gt=n[U+1|0]|0,xt=U+2|0,vt=(U+2|0)+(gt|0)|0,E(gt+1|0)|0)?1:(k(xt|0,vt|0),U=vt|0,0)}function $e(ie){ie=ie|0;var xt=0,vt=0,gt=0;return E(2)|0||(gt=T(U+1|0)|0,xt=U+3|0,vt=(U+3|0)+(gt|0)|0,E(gt+2|0)|0)?1:(k(xt|0,vt|0),U=vt|0,0)}function nt(ie){ie=ie|0;var xt=0,vt=0,gt=0;return E(4)|0||(gt=D(U+1|0)|0,xt=U+5|0,vt=(U+5|0)+(gt|0)|0,E(gt+4|0)|0)?1:(k(xt|0,vt|0),U=vt|0,0)}function Qe(ie){return ie=ie|0,1}function Ue(ie){return ie=ie|0,N(),U=U+1|0,0}function Ye(ie){ie=ie|0;var xt=0,vt=0,gt=0;return gt=ie-96|0,E(gt|0)|0?1:(xt=U+1|0,vt=(U+1|0)+(gt|0)|0,L(xt|0,vt|0),U=vt|0,0)}function It(ie){ie=ie|0;var xt=0,vt=0,gt=0;return E(1)|0||(gt=n[U+1|0]|0,xt=U+2|0,vt=(U+2|0)+(gt|0)|0,E(gt+1|0)|0)?1:(L(xt|0,vt|0),U=vt|0,0)}function it(ie){ie=ie|0;var xt=0,vt=0,gt=0;return E(2)|0||(gt=T(U+1|0)|0,xt=U+3|0,vt=(U+3|0)+(gt|0)|0,E(gt+2|0)|0)?1:(L(xt|0,vt|0),U=vt|0,0)}function je(ie){ie=ie|0;var xt=0,vt=0,gt=0;return E(4)|0||(gt=D(U+1|0)|0,xt=U+5|0,vt=(U+5|0)+(gt|0)|0,E(gt+4|0)|0)?1:(L(xt|0,vt|0),U=vt|0,0)}function re(ie){return ie=ie|0,1}function S(ie){return ie=ie|0,$(),U=U+1|0,0}function Y(ie){return ie=ie|0,P(ie-128|0),U=U+1|0,0}function Yt(ie){return ie=ie|0,E(1)|0?1:(P(n[U+1|0]|0),U=U+2|0,0)}function tt(ie){return ie=ie|0,E(2)|0?1:(P(T(U+1|0)|0),U=U+3|0,0)}function Pt(ie){return ie=ie|0,E(4)|0?1:(W(T(U+1|0)|0,T(U+3|0)|0),U=U+5|0,0)}function Yn(ie){return ie=ie|0,E(8)|0?1:(ne(T(U+1|0)|0,T(U+3|0)|0,T(U+5|0)|0,T(U+7|0)|0),U=U+9|0,0)}function Ut(ie){return ie=ie|0,V(),U=U+1|0,0}function rt(ie){ie=ie|0;var xt=0;return xt=ie-160|0,E(xt|0)|0?1:(M(xt|0),U=U+1|0,0)}function Xn(ie){return ie=ie|0,E(1)|0?1:(M(n[U+1|0]|0),U=U+2|0,0)}function zt(ie){return ie=ie|0,E(2)|0?1:(M(T(U+1|0)|0),U=U+3|0,0)}function Kt(ie){return ie=ie|0,E(4)|0?1:(y(T(U+1|0)|0,T(U+3|0)|0),U=U+5|0,0)}function Jn(ie){return ie=ie|0,E(8)|0?1:(v(T(U+1|0)|0,T(U+3|0)|0,T(U+5|0)|0,T(U+7|0)|0),U=U+9|0,0)}function Vt(ie){return ie=ie|0,Q(),U=U+1|0,0}function kt(ie){return ie=ie|0,q(ie-192|0|0),U=U+1|0,0}function ps(ie){return ie=ie|0,q(ie|0),U=U+1|0,0}function Xt(ie){return ie=ie|0,q(ie|0),U=U+1|0,0}function Jt(ie){return ie=ie|0,q(ie|0),U=U+1|0,0}function bs(ie){return ie=ie|0,q(ie|0),U=U+1|0,0}function at(ie){return ie=ie|0,q(ie-192|0|0),U=U+1|0,0}function Zt(ie){return ie=ie|0,q(ie|0),U=U+1|0,0}function ys(ie){return ie=ie|0,q(ie|0),U=U+1|0,0}function hr(ie){return ie=ie|0,q(ie|0),U=U+1|0,0}function sr(ie){return ie=ie|0,E(1)|0?1:(q(n[U+1|0]|0),U=U+2|0,0)}function Jo(ie){return ie=ie|0,E(2)|0?1:(q(T(U+1|0)|0),U=U+3|0,0)}function or(ie){return ie=ie|0,E(4)|0?1:(x(T(U+1|0)|0,T(U+3|0)|0),U=U+5|0,0)}function ar(ie){return ie=ie|0,E(8)|0?1:(z(T(U+1|0)|0,T(U+3|0)|0,T(U+5|0)|0,T(U+7|0)|0),U=U+9|0,0)}function ir(ie){return ie=ie|0,X((ie|0)-224|0),U=U+1|0,0}function cr(ie){return ie=ie|0,b(),U=U+1|0,0}function jt(ie){return ie=ie|0,p(),U=U+1|0,0}function Vs(ie){return ie=ie|0,m(),U=U+1|0,0}function oo(ie){return ie=ie|0,g(),U=U+1|0,0}function ao(ie){return ie=ie|0,E(1)|0?1:(X(n[U+1|0]|0),U=U+2|0,0)}function co(ie){ie=ie|0;var xt=0,vt=0,gt=1,Ua=0,Zo=0,dd=0;return E(2)|0?1:(xt=n[U+1|0]|0,vt=n[U+2|0]|0,(xt|0)&128&&(gt=-1),Ua=+(((xt|0)&124)>>2),Zo=+(((xt|0)&3)<<8|vt),+Ua==0?f(+(+gt*5960464477539063e-23*+Zo)):+Ua==31?+gt==1?+Zo>0?I():w():+Zo>0?F():A():f(+(+gt*be(2,+(+Ua-25))*+(1024+Zo))),U=U+3|0,0)}function uo(ie){return ie=ie|0,E(4)|0?1:(l(n[U+1|0]|0,n[U+2|0]|0,n[U+3|0]|0,n[U+4|0]|0),U=U+5|0,0)}function fo(ie){return ie=ie|0,E(8)|0?1:(d(n[U+1|0]|0,n[U+2|0]|0,n[U+3|0]|0,n[U+4|0]|0,n[U+5|0]|0,n[U+6|0]|0,n[U+7|0]|0,n[U+8|0]|0),U=U+9|0,0)}function dt(ie){return ie=ie|0,1}function lo(ie){return ie=ie|0,G(),U=U+1|0,0}var W0=[K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,K,H,ee,Z,J,dt,dt,dt,dt,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,te,ae,ce,ye,Me,dt,dt,dt,dt,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Be,Je,$e,nt,Qe,dt,dt,dt,Ue,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,Ye,It,it,je,re,dt,dt,dt,S,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Yt,tt,Pt,Yn,dt,dt,dt,Ut,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,rt,Xn,zt,Kt,Jn,dt,dt,dt,Vt,kt,kt,kt,kt,kt,kt,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,at,sr,Jo,or,ar,dt,dt,dt,dt,ir,ir,ir,ir,ir,ir,ir,ir,ir,ir,ir,ir,ir,ir,ir,ir,ir,ir,ir,ir,cr,jt,Vs,oo,ao,co,uo,fo,dt,dt,dt,lo];return{parse:fe}}});var cg=h(Js=>{"use strict";var HI=pa().BigNumber;Js.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};Js.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};Js.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};Js.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};Js.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};Js.SHIFT32=Math.pow(2,32);Js.SHIFT16=Math.pow(2,16);Js.MAX_SAFE_HIGH=2097151;Js.NEG_ONE=new HI(-1);Js.TEN=new HI(10);Js.TWO=new HI(2);Js.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5}});var f6=h(Ro=>{"use strict";var{Buffer:tat}=ag(),qte=pa().BigNumber,Bte=cg(),Cte=Bte.SHIFT32,rat=Bte.SHIFT16,iat=2097151;Ro.parseHalf=function(e){var t,i,n;return n=e[0]&128?-1:1,t=(e[0]&124)>>2,i=(e[0]&3)<<8|e[1],t?t===31?n*(i?0/0:Infinity):n*Math.pow(2,t-25)*(1024+i):n*5960464477539063e-23*i};function nat(r){return r<16?"0"+r.toString(16):r.toString(16)}Ro.arrayBufferToBignumber=function(r){let e=r.byteLength,t="";for(let i=0;i<e;i++)t+=nat(r[i]);return new qte(t,16)};Ro.buildMap=r=>{let e=new Map,t=Object.keys(r),i=t.length;for(let n=0;n<i;n++)e.set(t[n],r[t[n]]);return e};Ro.buildInt32=(r,e)=>r*rat+e;Ro.buildInt64=(r,e,t,i)=>{let n=Ro.buildInt32(r,e),s=Ro.buildInt32(t,i);return n>iat?new qte(n).times(Cte).plus(s):n*Cte+s};Ro.writeHalf=function(e,t){let i=tat.allocUnsafe(4);i.writeFloatBE(t,0);let n=i.readUInt32BE(0);if((n&8191)!=0)return!1;var s=n>>16&32768;let o=n>>23&255,a=n&8388607;if(o>=113&&o<=142)s+=(o-112<<10)+(a>>13);else if(o>=103&&o<113){if(a&(1<<126-o)-1)return!1;s+=a+8388608>>126-o}else return!1;return e.writeUInt16BE(s,0),!0};Ro.keySorter=function(r,e){var t=r[0].byteLength,i=e[0].byteLength;return t>i?1:i>t?-1:r[0].compare(e[0])};Ro.isNegativeZero=r=>r===0&&1/r<0;Ro.nextPowerOf2=r=>{let e=0;if(r&&!(r&r-1))return r;for(;r!==0;)r>>=1,e+=1;return 1<<e}});var WI=h((zar,Mte)=>{"use strict";var GI=cg(),sat=GI.MT,l6=GI.SIMPLE,$I=GI.SYMS,ug=class{constructor(e){if(typeof e!="number")throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(e|0)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,sat.SIMPLE_FLOAT)}static isSimple(e){return e instanceof ug}static decode(e,t){switch(t==null&&(t=!0),e){case l6.FALSE:return!1;case l6.TRUE:return!0;case l6.NULL:return t?null:$I.NULL;case l6.UNDEFINED:return t?void 0:$I.UNDEFINED;case-1:if(!t)throw new Error("Invalid BREAK");return $I.BREAK;default:return new ug(e)}}};Mte.exports=ug});var YI=h((Kar,Nte)=>{"use strict";var fg=class{constructor(e,t,i){if(this.tag=e,this.value=t,this.err=i,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){var t,i;if(i=e!=null?e[this.tag]:void 0,typeof i!="function"&&(i=fg["_tag"+this.tag],typeof i!="function"))return this;try{return i.call(fg,this.value)}catch(n){return t=n,this.err=t,this}}};Nte.exports=fg});var JI=h((Var,Pte)=>{"use strict";var Dte=self.location?self.location.protocol+"//"+self.location.host:"",XI=self.URL,Ote=class{constructor(e="",t=Dte){this.super=new XI(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set origin(e){this.super.origin=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set searchParams(e){this.super.searchParams=e}set username(e){this.super.username=e}createObjectURL(e){return this.super.createObjectURL(e)}revokeObjectURL(e){this.super.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function oat(r){if(typeof r=="string")return new XI(r).toString();if(!(r instanceof XI)){let e=r.username&&r.password?`${r.username}:${r.password}@`:"",t=r.auth?r.auth+"@":"",i=r.port?":"+r.port:"",n=r.protocol?r.protocol+"//":"",s=r.host||"",o=r.hostname||"",a=r.search||(r.query?"?"+r.query:""),c=r.hash||"",u=r.pathname||"",f=r.path||u+a;return`${n}${e||t}${s||o+i}${f}${c}`}}Pte.exports={URLWithLegacySupport:Ote,URLSearchParams:self.URLSearchParams,defaultBase:Dte,format:oat}});var Ute=h((jar,Lte)=>{"use strict";var{URLWithLegacySupport:Fte,format:aat}=JI();Lte.exports=(r,e={},t={},i)=>{let n=e.protocol?e.protocol.replace(":",""):"http";n=(t[n]||i||n)+":";let s;try{s=new Fte(r)}catch(a){s={}}let o=Object.assign({},e,{protocol:n||s.protocol,host:e.host||s.host});return new Fte(r,aat(o)).toString()}});var ZI=h((Har,zte)=>{"use strict";var{URLWithLegacySupport:cat,format:uat,URLSearchParams:fat,defaultBase:lat}=JI(),hat=Ute();zte.exports={URL:cat,URLSearchParams:fat,format:uat,relative:hat,defaultBase:lat}});var QI=h((Gar,Kte)=>{"use strict";var{Buffer:Rp}=ag(),Vte=bo(),dat=pa().BigNumber,pat=Rte(),rs=f6(),br=cg(),bat=WI(),yat=YI(),{URL:gat}=ZI(),Cl=class{constructor(e){e=e||{},!e.size||e.size<65536?e.size=65536:e.size=rs.nextPowerOf2(e.size),this._heap=new ArrayBuffer(e.size),this._heap8=new Uint8Array(this._heap),this._buffer=Rp.from(this._heap),this._reset(),this._knownTags=Object.assign({0:t=>new Date(t),1:t=>new Date(t*1e3),2:t=>rs.arrayBufferToBignumber(t),3:t=>br.NEG_ONE.minus(rs.arrayBufferToBignumber(t)),4:t=>br.TEN.pow(t[0]).times(t[1]),5:t=>br.TWO.pow(t[0]).times(t[1]),32:t=>new gat(t),35:t=>new RegExp(t)},e.tags),this.parser=pat(globalThis,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var e=this._parents.pop();if(e.length>0)throw new Error(`Missing ${e.length} elements`);switch(e.type){case br.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case br.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case br.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case br.PARENT.MAP:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case br.PARENT.OBJECT:if(e.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case br.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length));break;default:break}this._currentParent&&this._currentParent.type===br.PARENT.TAG&&this._dec()}_dec(){let e=this._currentParent;e.length<0||(e.length--,e.length===0&&this._closeParent())}_push(e,t){let i=this._currentParent;switch(i.values++,i.type){case br.PARENT.ARRAY:case br.PARENT.BYTE_STRING:case br.PARENT.UTF8_STRING:i.length>-1?this._ref[this._ref.length-i.length]=e:this._ref.push(e),this._dec();break;case br.PARENT.OBJECT:i.tmpKey!=null?(this._ref[i.tmpKey]=e,i.tmpKey=null,this._dec()):(i.tmpKey=e,typeof i.tmpKey!="string"&&(i.type=br.PARENT.MAP,i.ref=rs.buildMap(i.ref)));break;case br.PARENT.MAP:i.tmpKey!=null?(this._ref.set(i.tmpKey,e),i.tmpKey=null,this._dec()):i.tmpKey=e;break;case br.PARENT.TAG:this._ref.push(e),t||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(e,t,i){this._parents[this._depth]={type:t,length:i,ref:e,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:br.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(e,t){let i=this._knownTags[e];return i?i(t):new yat(e,t)}createMap(e,t){return e}createObject(e,t){return e}createArray(e,t){return e}createByteString(e,t){return Rp.concat(e)}createByteStringFromHeap(e,t){return e===t?Rp.alloc(0):Rp.from(this._heap.slice(e,t))}createInt(e){return e}createInt32(e,t){return rs.buildInt32(e,t)}createInt64(e,t,i,n){return rs.buildInt64(e,t,i,n)}createFloat(e){return e}createFloatSingle(e,t,i,n){return Vte.read([e,t,i,n],0,!1,23,4)}createFloatDouble(e,t,i,n,s,o,a,c){return Vte.read([e,t,i,n,s,o,a,c],0,!1,52,8)}createInt32Neg(e,t){return-1-rs.buildInt32(e,t)}createInt64Neg(e,t,i,n){let s=rs.buildInt32(e,t),o=rs.buildInt32(i,n);return s>br.MAX_SAFE_HIGH?br.NEG_ONE.minus(new dat(s).times(br.SHIFT32).plus(o)):-1-(s*br.SHIFT32+o)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return Infinity}createInfinityNeg(){return-Infinity}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(e,t){return e.join("")}createUtf8StringFromHeap(e,t){return e===t?"":this._buffer.toString("utf8",e,t)}createSimpleUnassigned(e){return new bat(e)}pushInt(e){this._push(this.createInt(e))}pushInt32(e,t){this._push(this.createInt32(e,t))}pushInt64(e,t,i,n){this._push(this.createInt64(e,t,i,n))}pushFloat(e){this._push(this.createFloat(e))}pushFloatSingle(e,t,i,n){this._push(this.createFloatSingle(e,t,i,n))}pushFloatDouble(e,t,i,n,s,o,a,c){this._push(this.createFloatDouble(e,t,i,n,s,o,a,c))}pushInt32Neg(e,t){this._push(this.createInt32Neg(e,t))}pushInt64Neg(e,t,i,n){this._push(this.createInt64Neg(e,t,i,n))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],br.PARENT.ARRAY,-1)}pushArrayStartFixed(e){this._createArrayStartFixed(e)}pushArrayStartFixed32(e,t){let i=rs.buildInt32(e,t);this._createArrayStartFixed(i)}pushArrayStartFixed64(e,t,i,n){let s=rs.buildInt64(e,t,i,n);this._createArrayStartFixed(s)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(e){this._createObjectStartFixed(e)}pushObjectStartFixed32(e,t){let i=rs.buildInt32(e,t);this._createObjectStartFixed(i)}pushObjectStartFixed64(e,t,i,n){let s=rs.buildInt64(e,t,i,n);this._createObjectStartFixed(s)}pushByteStringStart(){this._parents[this._depth]={type:br.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(e,t){this._push(this.createByteStringFromHeap(e,t))}pushUtf8StringStart(){this._parents[this._depth]={type:br.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(e,t){this._push(this.createUtf8StringFromHeap(e,t))}pushSimpleUnassigned(e){this._push(this.createSimpleUnassigned(e))}pushTagStart(e){this._parents[this._depth]={type:br.PARENT.TAG,length:1,ref:[e]}}pushTagStart4(e,t){this.pushTagStart(rs.buildInt32(e,t))}pushTagStart8(e,t,i,n){this.pushTagStart(rs.buildInt64(e,t,i,n))}pushTagUnassigned(e){this._push(this.createTag(e))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(e){if(e===0){this._push(this.createObject({}));return}this._createParent({},br.PARENT.OBJECT,e)}_createArrayStartFixed(e){if(e===0){this._push(this.createArray([]));return}this._createParent(new Array(e),br.PARENT.ARRAY,e)}_decode(e){if(e.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(e);let t=this.parser.parse(e.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(t>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(e){return this._decode(e),this._res[0]}decodeAll(e){return this._decode(e),this._res}static decode(e,t){return typeof e=="string"&&(e=Rp.from(e,t||"hex")),new Cl({size:e.length}).decodeFirst(e)}static decodeAll(e,t){return typeof e=="string"&&(e=Rp.from(e,t||"hex")),new Cl({size:e.length}).decodeAll(e)}};Cl.decodeFirst=Cl.decode;Kte.exports=Cl});var Gte=h(($ar,jte)=>{"use strict";var{Buffer:e9}=ag(),mat=QI(),xat=f6(),h6=class extends mat{createTag(e,t){return`${e}(${t})`}createInt(e){return super.createInt(e).toString()}createInt32(e,t){return super.createInt32(e,t).toString()}createInt64(e,t,i,n){return super.createInt64(e,t,i,n).toString()}createInt32Neg(e,t){return super.createInt32Neg(e,t).toString()}createInt64Neg(e,t,i,n){return super.createInt64Neg(e,t,i,n).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(e){let t=super.createFloat(e);return xat.isNegativeZero(e)?"-0_1":`${t}_1`}createFloatSingle(e,t,i,n){return`${super.createFloatSingle(e,t,i,n)}_2`}createFloatDouble(e,t,i,n,s,o,a,c){return`${super.createFloatDouble(e,t,i,n,s,o,a,c)}_3`}createByteString(e,t){let i=e.join(", ");return t===-1?`(_ ${i})`:`h'${i}`}createByteStringFromHeap(e,t){return`h'${e9.from(super.createByteStringFromHeap(e,t)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(e){return`simple(${e})`}createArray(e,t){let i=super.createArray(e,t);return t===-1?`[_ ${i.join(", ")}]`:`[${i.join(", ")}]`}createMap(e,t){let i=super.createMap(e),n=Array.from(i.keys()).reduce(Hte(i),"");return t===-1?`{_ ${n}}`:`{${n}}`}createObject(e,t){let i=super.createObject(e),n=Object.keys(i).reduce(Hte(i),"");return t===-1?`{_ ${n}}`:`{${n}}`}createUtf8String(e,t){let i=e.join(", ");return t===-1?`(_ ${i})`:`"${i}"`}createUtf8StringFromHeap(e,t){return`"${e9.from(super.createUtf8StringFromHeap(e,t)).toString("utf8")}"`}static diagnose(e,t){return typeof e=="string"&&(e=e9.from(e,t||"hex")),new h6().decodeFirst(e)}};jte.exports=h6;function Hte(r){return(e,t)=>e?`${e}, ${t}: ${r[t]}`:`${t}: ${r[t]}`}});var Jte=h((War,$te)=>{"use strict";var{Buffer:xc}=ag(),{URL:wat}=ZI(),t9=pa().BigNumber,r9=f6(),vi=cg(),ba=vi.MT,d6=vi.NUMBYTES,Wte=vi.SHIFT32,Yte=vi.SYMS,qp=vi.TAG,vat=vi.MT.SIMPLE_FLOAT<<5|vi.NUMBYTES.TWO,Eat=vi.MT.SIMPLE_FLOAT<<5|vi.NUMBYTES.FOUR,_at=vi.MT.SIMPLE_FLOAT<<5|vi.NUMBYTES.EIGHT,Sat=vi.MT.SIMPLE_FLOAT<<5|vi.SIMPLE.TRUE,kat=vi.MT.SIMPLE_FLOAT<<5|vi.SIMPLE.FALSE,Aat=vi.MT.SIMPLE_FLOAT<<5|vi.SIMPLE.UNDEFINED,Xte=vi.MT.SIMPLE_FLOAT<<5|vi.SIMPLE.NULL,Iat=new t9("0x20000000000000"),Tat=xc.from("f97e00","hex"),Rat=xc.from("f9fc00","hex"),qat=xc.from("f97c00","hex");function Bat(r){return{}.toString.call(r).slice(8,-1)}var lg=class{constructor(e){e=e||{},this.streaming=typeof e.stream=="function",this.onData=e.stream,this.semanticTypes=[[wat,this._pushUrl],[t9,this._pushBigNumber]];let t=e.genTypes||[],i=t.length;for(let n=0;n<i;n++)this.addSemanticType(t[n][0],t[n][1]);this._reset()}addSemanticType(e,t){let i=this.semanticTypes.length;for(let n=0;n<i;n++)if(this.semanticTypes[n][0]===e){let o=this.semanticTypes[n][1];return this.semanticTypes[n][1]=t,o}return this.semanticTypes.push([e,t]),null}push(e){return e&&(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(e,t,i){return this.result[this.offset]=e,this.resultMethod[this.offset]=t,this.resultLength[this.offset]=i,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(e){return this.pushWrite(e,1,1)}_pushUInt16BE(e){return this.pushWrite(e,2,2)}_pushUInt32BE(e){return this.pushWrite(e,3,4)}_pushDoubleBE(e){return this.pushWrite(e,4,8)}_pushNaN(){return this.push(Tat)}_pushInfinity(e){let t=e<0?Rat:qat;return this.push(t)}_pushFloat(e){let t=xc.allocUnsafe(2);if(r9.writeHalf(t,e)&&r9.parseHalf(t)===e)return this._pushUInt8(vat)&&this.push(t);let i=xc.allocUnsafe(4);return i.writeFloatBE(e,0),i.readFloatBE(0)===e?this._pushUInt8(Eat)&&this.push(i):this._pushUInt8(_at)&&this._pushDoubleBE(e)}_pushInt(e,t,i){let n=t<<5;return e<24?this._pushUInt8(n|e):e<=255?this._pushUInt8(n|d6.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(n|d6.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(n|d6.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(n|d6.EIGHT)&&this._pushUInt32BE(Math.floor(e/Wte))&&this._pushUInt32BE(e%Wte):t===ba.NEG_INT?this._pushFloat(i):this._pushFloat(e)}_pushIntNum(e){return e<0?this._pushInt(-e-1,ba.NEG_INT,e):this._pushInt(e,ba.POS_INT)}_pushNumber(e){switch(!1){case e===e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!=0:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){let t=xc.byteLength(e,"utf8");return this._pushInt(t,ba.UTF8_STRING)&&this.pushWrite(e,5,t)}_pushBoolean(e){return this._pushUInt8(e?Sat:kat)}_pushUndefined(e){return this._pushUInt8(Aat)}_pushArray(e,t){let i=t.length;if(!e._pushInt(i,ba.ARRAY))return!1;for(let n=0;n<i;n++)if(!e.pushAny(t[n]))return!1;return!0}_pushTag(e){return this._pushInt(e,ba.TAG)}_pushDate(e,t){return e._pushTag(qp.DATE_EPOCH)&&e.pushAny(Math.round(t/1e3))}_pushBuffer(e,t){return e._pushInt(t.length,ba.BYTE_STRING)&&e.push(t)}_pushNoFilter(e,t){return e._pushBuffer(e,t.slice())}_pushRegexp(e,t){return e._pushTag(qp.REGEXP)&&e.pushAny(t.source)}_pushSet(e,t){if(!e._pushInt(t.size,ba.ARRAY))return!1;for(let i of t)if(!e.pushAny(i))return!1;return!0}_pushUrl(e,t){return e._pushTag(qp.URI)&&e.pushAny(t.format())}_pushBigint(e){let t=qp.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),t=qp.NEG_BIGINT);let i=e.toString(16);i.length%2&&(i="0"+i);let n=xc.from(i,"hex");return this._pushTag(t)&&this._pushBuffer(this,n)}_pushBigNumber(e,t){if(t.isNaN())return e._pushNaN();if(!t.isFinite())return e._pushInfinity(t.isNegative()?-Infinity:Infinity);if(t.isInteger())return e._pushBigint(t);if(!(e._pushTag(qp.DECIMAL_FRAC)&&e._pushInt(2,ba.ARRAY)))return!1;let i=t.decimalPlaces(),n=t.multipliedBy(new t9(10).pow(i));return e._pushIntNum(-i)?n.abs().isLessThan(Iat)?e._pushIntNum(n.toNumber()):e._pushBigint(n):!1}_pushMap(e,t){return e._pushInt(t.size,ba.MAP)?this._pushRawMap(t.size,Array.from(t)):!1}_pushObject(e){if(!e)return this._pushUInt8(Xte);for(var t=this.semanticTypes.length,i=0;i<t;i++)if(e instanceof this.semanticTypes[i][0])return this.semanticTypes[i][1].call(e,this,e);var n=e.encodeCBOR;if(typeof n=="function")return n.call(e,this);var s=Object.keys(e),o=s.length;return this._pushInt(o,ba.MAP)?this._pushRawMap(o,s.map(a=>[a,e[a]])):!1}_pushRawMap(e,t){t=t.map(function(n){return n[0]=lg.encode(n[0]),n}).sort(r9.keySorter);for(var i=0;i<e;i++)if(!this.push(t[i][0])||!this.pushAny(t[i][1]))return!1;return!0}write(e){return this.pushAny(e)}pushAny(e){var t=Bat(e);switch(t){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,xc.isBuffer(e)?e:xc.from(e));case"Null":return this._pushUInt8(Xte);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case Yte.NULL:return this._pushObject(null);case Yte.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}finalize(){if(this.offset===0)return null;for(var e=this.result,t=this.resultLength,i=this.resultMethod,n=this.offset,s=0,o=0;o<n;o++)s+=t[o];var a=xc.allocUnsafe(s),c=0,u=0;for(o=0;o<n;o++){switch(u=t[o],i[o]){case 0:e[o].copy(a,c);break;case 1:a.writeUInt8(e[o],c,!0);break;case 2:a.writeUInt16BE(e[o],c,!0);break;case 3:a.writeUInt32BE(e[o],c,!0);break;case 4:a.writeDoubleBE(e[o],c,!0);break;case 5:a.write(e[o],c,u,"utf8");break;default:throw new Error("unkown method")}c+=u}var f=a;return this._reset(),f}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(e){let t=new lg;if(!t.pushAny(e))throw new Error("Failed to encode input");return t.finalize()}};$te.exports=lg});var Zte=h(Ei=>{"use strict";Ei.Diagnose=Gte();Ei.Decoder=QI();Ei.Encoder=Jte();Ei.Simple=WI();Ei.Tagged=YI();Ei.decodeAll=Ei.Decoder.decodeAll;Ei.decodeFirst=Ei.Decoder.decodeFirst;Ei.diagnose=Ei.Diagnose.diagnose;Ei.encode=Ei.Encoder.encode;Ei.decode=Ei.Decoder.decode;Ei.leveldb={decode:Ei.Decoder.decodeAll,encode:Ei.Encoder.encode,buffer:!0,name:"cbor"}});var tre=h((Xar,Qte)=>{Qte.exports=ere;function ere(r,e){this.value=r,this.next=e}ere.prototype.contains=function(r){for(var e=this;e;){if(e.value===r)return!0;e=e.next}return!1}});var nre=h((Jar,rre)=>{var Cat=tre();rre.exports=Mat;function Mat(r){if(!(r instanceof Object))throw new TypeError('"obj" must be an object (or inherit from it)');return ire(r)}function ire(r,e){e=new Cat(r,e);for(var t in r){var i=r[t];if(i instanceof Object&&(e.contains(i)||ire(i,e)))return!0}return!1}});var a9=h((Zar,sre)=>{"use strict";var i9=Zte(),n9=nn(),Nat=Er(),hg=ot(),Pat=nre(),Dat=Gs(),Oat=pr(),ore=42;function Lat(r){return typeof r=="string"?r=new hg(r).bytes:hg.isCID(r)&&(r=r.bytes),new i9.Tagged(ore,Dat([Oat("00","base16"),r],1+r.length))}function Fat(r){let e;try{e=Pat(r)}catch(i){e=!1}if(e)throw new Error("The object passed has circular references");function t(i){if(!i||i instanceof Uint8Array||typeof i=="string")return i;if(Array.isArray(i))return i.map(t);if(hg.isCID(i))return Lat(i);let n=Object.keys(i);if(n.length>0){let s={};return n.forEach(o=>{typeof i[o]=="object"?s[o]=t(i[o]):s[o]=i[o]}),s}else return i}return t(r)}var are=n9.DAG_CBOR,cre=n9.SHA2_256,ure={[ore]:r=>(r=r.slice(1),new hg(r))},fre=64*1024,Bp=fre,lre=64*1024*1024,s9=lre,hre=null;function o9(r){let e=ure;r?(typeof r.size=="number"&&(Bp=r.size),typeof r.maxSize=="number"&&(s9=r.maxSize),r.tags&&(e=Object.assign({},ure,r&&r.tags))):(Bp=fre,s9=lre);let t={tags:e,size:Bp};hre=new i9.Decoder(t),Bp=t.size}o9();function Uat(r){let e=Fat(r);return i9.encode(e)}function zat(r){if(r.length>Bp&&r.length<=s9&&o9({size:r.length}),r.length>Bp)throw new Error("Data is too large to deserialize with current decoder");let e=hre.decodeAll(r);if(e.length!==1)throw new Error("Extraneous CBOR data found beyond initial top-level object");return e[0]}async function Kat(r,e){let i=Object.assign({cidVersion:1,hashAlg:cre},e),n=await Nat(r,i.hashAlg),s=n9.getNameFromCode(are);return new hg(i.cidVersion,s,n)}sre.exports={codec:are,defaultHashAlg:cre,configureDecoder:o9,serialize:Uat,deserialize:zat,cid:Kat}});var yre=h(c9=>{"use strict";var dre=ot(),pre=a9();c9.resolve=(r,e)=>{let t=pre.deserialize(r),i=e.split("/").filter(Boolean);for(;i.length;){let n=i.shift();if(t[n]===void 0)throw new Error(`Object has no property '${n}'`);if(t=t[n],dre.isCID(t))return{value:t,remainderPath:i.join("/")}}return{value:t,remainderPath:""}};var bre=function*(r,e){if(!(r instanceof Uint8Array||dre.isCID(r)||typeof r=="string"||r===null))for(let t of Object.keys(r)){let i=e===void 0?t:e+"/"+t;yield i,yield*bre(r[t],i)}};c9.tree=function*(r){let e=pre.deserialize(r);yield*bre(e)}});var p6=h(Ml=>{"use strict";Ml.util=a9();Ml.resolver=yre();Ml.codec=Ml.util.codec;Ml.defaultHashAlg=Ml.util.defaultHashAlg});var xre=h((tcr,gre)=>{var Vat=p6().util,mre=ot(),u9=(r,e=[],t=!0)=>(t&&Buffer.isBuffer(r)&&(r=Vat.deserialize(r)),function*(){for(let i of Object.keys(r)){let n=e.slice();n.push(i);let s=r[i];if(s&&typeof s=="object")if(Array.isArray(s))for(let o=0;o<s.length;o++){let a=n.slice();a.push(o);let c=s[o];mre.isCID(c)?yield[a.join("/"),c]:typeof c=="object"&&(yield*u9(c,n,!1))}else mre.isCID(s)?yield[n.join("/"),s]:yield*u9(s,n,!1)}}());gre.exports=u9});var b6=h((rcr,wre)=>{"use strict";var jat=async r=>{for await(let e of r)return e};wre.exports=jat});var dg=h((icr,vre)=>{"use strict";var Hat=async r=>{let e=[];for await(let t of r)e.push(t);return e};vre.exports=Hat});var wc=h(qo=>{"use strict";var{BigNumber:Zf}=pa();qo.BigNumber=Zf;qo.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};qo.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};qo.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};qo.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};qo.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};qo.SHIFT32=4294967296;qo.BI={MINUS_ONE:BigInt(-1),NEG_MAX:BigInt(-1)-BigInt(Number.MAX_SAFE_INTEGER),MAXINT32:BigInt("0xffffffff"),MAXINT64:BigInt("0xffffffffffffffff"),SHIFT32:BigInt(qo.SHIFT32)};var Ere=new Zf(-1);qo.BN={MINUS_ONE:Ere,NEG_MAX:Ere.minus(new Zf(Number.MAX_SAFE_INTEGER.toString(16),16)),TWO:new Zf(2),MAXINT:new Zf("0x20000000000000"),MAXINT32:new Zf(4294967295),MAXINT64:new Zf("0xffffffffffffffff"),SHIFT32:new Zf(qo.SHIFT32)}});var Pr=h((scr,f9)=>{"use strict";var Cp=typeof Reflect=="object"?Reflect:null,_re=Cp&&typeof Cp.apply=="function"?Cp.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)},y6;Cp&&typeof Cp.ownKeys=="function"?y6=Cp.ownKeys:Object.getOwnPropertySymbols?y6=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:y6=function(e){return Object.getOwnPropertyNames(e)};function Gat(r){console&&console.warn&&console.warn(r)}var Sre=Number.isNaN||function(e){return e!==e};function yr(){yr.init.call(this)}f9.exports=yr;f9.exports.once=$at;yr.EventEmitter=yr;yr.prototype._events=void 0;yr.prototype._eventsCount=0;yr.prototype._maxListeners=void 0;var kre=10;function g6(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(yr,"defaultMaxListeners",{enumerable:!0,get:function(){return kre},set:function(r){if(typeof r!="number"||r<0||Sre(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");kre=r}});yr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};yr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Sre(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Are(r){return r._maxListeners===void 0?yr.defaultMaxListeners:r._maxListeners}yr.prototype.getMaxListeners=function(){return Are(this)};yr.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n=e==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")_re(c,this,t);else for(var u=c.length,f=Ire(c,u),i=0;i<u;++i)_re(f[i],this,t);return!0};function Tre(r,e,t,i){var n,s,o;if(g6(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),o=s[e]),o===void 0)o=s[e]=t,++r._eventsCount;else if(typeof o=="function"?o=s[e]=i?[t,o]:[o,t]:i?o.unshift(t):o.push(t),n=Are(r),n>0&&o.length>n&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=r,a.type=e,a.count=o.length,Gat(a)}return r}yr.prototype.addListener=function(e,t){return Tre(this,e,t,!1)};yr.prototype.on=yr.prototype.addListener;yr.prototype.prependListener=function(e,t){return Tre(this,e,t,!0)};function Wat(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Rre(r,e,t){var i={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},n=Wat.bind(i);return n.listener=t,i.wrapFn=n,n}yr.prototype.once=function(e,t){return g6(t),this.on(e,Rre(this,e,t)),this};yr.prototype.prependOnceListener=function(e,t){return g6(t),this.prependListener(e,Rre(this,e,t)),this};yr.prototype.removeListener=function(e,t){var i,n,s,o,a;if(g6(t),n=this._events,n===void 0)return this;if(i=n[e],i===void 0)return this;if(i===t||i.listener===t)--this._eventsCount==0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if(typeof i!="function"){for(s=-1,o=i.length-1;o>=0;o--)if(i[o]===t||i[o].listener===t){a=i[o].listener,s=o;break}if(s<0)return this;s===0?i.shift():Yat(i,s),i.length===1&&(n[e]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",e,a||t)}return this};yr.prototype.off=yr.prototype.removeListener;yr.prototype.removeAllListeners=function(e){var t,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[e]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete i[e]),this;if(arguments.length===0){var s=Object.keys(i),o;for(n=0;n<s.length;++n)o=s[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=i[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function qre(r,e,t){var i=r._events;if(i===void 0)return[];var n=i[e];return n===void 0?[]:typeof n=="function"?t?[n.listener||n]:[n]:t?Xat(n):Ire(n,n.length)}yr.prototype.listeners=function(e){return qre(this,e,!0)};yr.prototype.rawListeners=function(e){return qre(this,e,!1)};yr.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):Bre.call(r,e)};yr.prototype.listenerCount=Bre;function Bre(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}yr.prototype.eventNames=function(){return this._eventsCount>0?y6(this._events):[]};function Ire(r,e){for(var t=new Array(e),i=0;i<e;++i)t[i]=r[i];return t}function Yat(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function Xat(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function $at(r,e){return new Promise(function(t,i){function n(o){r.removeListener(e,s),i(o)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",n),t([].slice.call(arguments))}Cre(r,e,s,{once:!0}),e!=="error"&&Jat(r,n,{once:!0})})}function Jat(r,e,t){typeof r.on=="function"&&Cre(r,"error",e,t)}function Cre(r,e,t,i){if(typeof r.on=="function")i.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function n(s){i.once&&r.removeEventListener(e,n),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}});var l9=h((ocr,Mre)=>{Mre.exports=Pr().EventEmitter});var h9=h(()=>{});var Ore=h((ucr,Nre)=>{"use strict";function Pre(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(r);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable})),t.push.apply(t,i)}return t}function Qat(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Pre(Object(t),!0).forEach(function(i){Zat(r,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):Pre(Object(t)).forEach(function(i){Object.defineProperty(r,i,Object.getOwnPropertyDescriptor(t,i))})}return r}function Zat(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ect(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Dre(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function tct(r,e,t){return e&&Dre(r.prototype,e),t&&Dre(r,t),r}var rct=Pn(),m6=rct.Buffer,ict=h9(),d9=ict.inspect,nct=d9&&d9.custom||"inspect";function sct(r,e,t){m6.prototype.copy.call(r,e,t)}Nre.exports=function(){function r(){ect(this,r),this.head=null,this.tail=null,this.length=0}return tct(r,[{key:"push",value:function(t){var i={data:t,next:null};this.length>0?this.tail.next=i:this.head=i,this.tail=i,++this.length}},{key:"unshift",value:function(t){var i={data:t,next:this.head};this.length===0&&(this.tail=i),this.head=i,++this.length}},{key:"shift",value:function(){if(this.length!==0){var t=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(this.length===0)return"";for(var i=this.head,n=""+i.data;i=i.next;)n+=t+i.data;return n}},{key:"concat",value:function(t){if(this.length===0)return m6.alloc(0);for(var i=m6.allocUnsafe(t>>>0),n=this.head,s=0;n;)sct(n.data,i,s),s+=n.data.length,n=n.next;return i}},{key:"consume",value:function(t,i){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):t===this.head.data.length?n=this.shift():n=i?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var i=this.head,n=1,s=i.data;for(t-=s.length;i=i.next;){var o=i.data,a=t>o.length?o.length:t;if(a===o.length?s+=o:s+=o.slice(0,t),t-=a,t===0){a===o.length?(++n,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=o.slice(a));break}++n}return this.length-=n,s}},{key:"_getBuffer",value:function(t){var i=m6.allocUnsafe(t),n=this.head,s=1;for(n.data.copy(i),t-=n.data.length;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(o.copy(i,i.length-t,0,a),t-=a,t===0){a===o.length?(++s,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=o.slice(a));break}++s}return this.length-=s,i}},{key:nct,value:function(t,i){return d9(this,Qat({},i,{depth:0,customInspect:!1}))}}]),r}()});var b9=h((fcr,Lre)=>{"use strict";function oct(r,e){var t=this,i=this._readableState&&this._readableState.destroyed,n=this._writableState&&this._writableState.destroyed;return i||n?(e?e(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(p9,this,r)):process.nextTick(p9,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(s){!e&&s?t._writableState?t._writableState.errorEmitted?process.nextTick(x6,t):(t._writableState.errorEmitted=!0,process.nextTick(Fre,t,s)):process.nextTick(Fre,t,s):e?(process.nextTick(x6,t),e(s)):process.nextTick(x6,t)}),this)}function Fre(r,e){p9(r,e),x6(r)}function x6(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function act(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function p9(r,e){r.emit("error",e)}function cct(r,e){var t=r._readableState,i=r._writableState;t&&t.autoDestroy||i&&i.autoDestroy?r.destroy(e):r.emit("error",e)}Lre.exports={destroy:oct,undestroy:act,errorOrDestroy:cct}});var Nl=h((lcr,Ure)=>{"use strict";function uct(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}var zre={};function Bo(r,e,t){t||(t=Error);function i(s,o,a){return typeof e=="string"?e:e(s,o,a)}var n=function(s){uct(o,s);function o(a,c,u){return s.call(this,i(a,c,u))||this}return o}(t);n.prototype.name=t.name,n.prototype.code=r,zre[r]=n}function Kre(r,e){if(Array.isArray(r)){var t=r.length;return r=r.map(function(i){return String(i)}),t>2?"one of ".concat(e," ").concat(r.slice(0,t-1).join(", "),", or ")+r[t-1]:t===2?"one of ".concat(e," ").concat(r[0]," or ").concat(r[1]):"of ".concat(e," ").concat(r[0])}else return"of ".concat(e," ").concat(String(r))}function fct(r,e,t){return r.substr(!t||t<0?0:+t,e.length)===e}function lct(r,e,t){return(t===void 0||t>r.length)&&(t=r.length),r.substring(t-e.length,t)===e}function hct(r,e,t){return typeof t!="number"&&(t=0),t+e.length>r.length?!1:r.indexOf(e,t)!==-1}Bo("ERR_INVALID_OPT_VALUE",function(r,e){return'The value "'+e+'" is invalid for option "'+r+'"'},TypeError);Bo("ERR_INVALID_ARG_TYPE",function(r,e,t){var i;typeof e=="string"&&fct(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(lct(r," argument"))n="The ".concat(r," ").concat(i," ").concat(Kre(e,"type"));else{var s=hct(r,".")?"property":"argument";n='The "'.concat(r,'" ').concat(s," ").concat(i," ").concat(Kre(e,"type"))}return n+=". Received type ".concat(typeof t),n},TypeError);Bo("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Bo("ERR_METHOD_NOT_IMPLEMENTED",function(r){return"The "+r+" method is not implemented"});Bo("ERR_STREAM_PREMATURE_CLOSE","Premature close");Bo("ERR_STREAM_DESTROYED",function(r){return"Cannot call "+r+" after a stream was destroyed"});Bo("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Bo("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Bo("ERR_STREAM_WRITE_AFTER_END","write after end");Bo("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Bo("ERR_UNKNOWN_ENCODING",function(r){return"Unknown encoding: "+r},TypeError);Bo("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Ure.exports.codes=zre});var y9=h((hcr,Vre)=>{"use strict";var dct=Nl().codes.ERR_INVALID_OPT_VALUE;function pct(r,e,t){return r.highWaterMark!=null?r.highWaterMark:e?r[t]:null}function bct(r,e,t,i){var n=pct(e,i,t);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var s=i?t:"highWaterMark";throw new dct(s,n)}return Math.floor(n)}return r.objectMode?16:16*1024}Vre.exports={getHighWaterMark:bct}});var Hre=h((dcr,jre)=>{jre.exports=yct;function yct(r,e){if(g9("noDeprecation"))return r;var t=!1;function i(){if(!t){if(g9("throwDeprecation"))throw new Error(e);g9("traceDeprecation")?console.trace(e):console.warn(e),t=!0}return r.apply(this,arguments)}return i}function g9(r){try{if(!globalThis.localStorage)return!1}catch(t){return!1}var e=globalThis.localStorage[r];return e==null?!1:String(e).toLowerCase()==="true"}});var E6=h((pcr,Gre)=>{"use strict";Gre.exports=Jr;function $re(r){var e=this;this.next=null,this.entry=null,this.finish=function(){gct(e,r)}}var Mp;Jr.WritableState=pg;var mct={deprecate:Hre()},Wre=l9(),w6=Pn().Buffer,xct=globalThis.Uint8Array||function(){};function wct(r){return w6.from(r)}function vct(r){return w6.isBuffer(r)||r instanceof xct}var m9=b9(),Ect=y9(),_ct=Ect.getHighWaterMark,Qf=Nl().codes,Sct=Qf.ERR_INVALID_ARG_TYPE,kct=Qf.ERR_METHOD_NOT_IMPLEMENTED,Act=Qf.ERR_MULTIPLE_CALLBACK,Ict=Qf.ERR_STREAM_CANNOT_PIPE,Tct=Qf.ERR_STREAM_DESTROYED,Rct=Qf.ERR_STREAM_NULL_VALUES,qct=Qf.ERR_STREAM_WRITE_AFTER_END,Bct=Qf.ERR_UNKNOWN_ENCODING,Np=m9.errorOrDestroy;cn()(Jr,Wre);function Cct(){}function pg(r,e,t){Mp=Mp||e0(),r=r||{},typeof t!="boolean"&&(t=e instanceof Mp),this.objectMode=!!r.objectMode,t&&(this.objectMode=this.objectMode||!!r.writableObjectMode),this.highWaterMark=_ct(this,r,"writableHighWaterMark",t),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=r.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=r.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(n){Mct(e,n)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=r.emitClose!==!1,this.autoDestroy=!!r.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new $re(this)}pg.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t};(function(){try{Object.defineProperty(pg.prototype,"buffer",{get:mct.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(r){}})();var v6;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v6=Function.prototype[Symbol.hasInstance],Object.defineProperty(Jr,Symbol.hasInstance,{value:function(e){return v6.call(this,e)?!0:this!==Jr?!1:e&&e._writableState instanceof pg}})):v6=function(e){return e instanceof this};function Jr(r){Mp=Mp||e0();var e=this instanceof Mp;if(!e&&!v6.call(Jr,this))return new Jr(r);this._writableState=new pg(r,this,e),this.writable=!0,r&&(typeof r.write=="function"&&(this._write=r.write),typeof r.writev=="function"&&(this._writev=r.writev),typeof r.destroy=="function"&&(this._destroy=r.destroy),typeof r.final=="function"&&(this._final=r.final)),Wre.call(this)}Jr.prototype.pipe=function(){Np(this,new Ict)};function Nct(r,e){var t=new qct;Np(r,t),process.nextTick(e,t)}function Pct(r,e,t,i){var n;return t===null?n=new Rct:typeof t!="string"&&!e.objectMode&&(n=new Sct("chunk",["string","Buffer"],t)),n?(Np(r,n),process.nextTick(i,n),!1):!0}Jr.prototype.write=function(r,e,t){var i=this._writableState,n=!1,s=!i.objectMode&&vct(r);return s&&!w6.isBuffer(r)&&(r=wct(r)),typeof e=="function"&&(t=e,e=null),s?e="buffer":e||(e=i.defaultEncoding),typeof t!="function"&&(t=Cct),i.ending?Nct(this,t):(s||Pct(this,i,r,t))&&(i.pendingcb++,n=Dct(this,i,s,r,e,t)),n};Jr.prototype.cork=function(){this._writableState.corked++};Jr.prototype.uncork=function(){var r=this._writableState;r.corked&&(r.corked--,!r.writing&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&Yre(this,r))};Jr.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new Bct(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(Jr.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Oct(r,e,t){return!r.objectMode&&r.decodeStrings!==!1&&typeof e=="string"&&(e=w6.from(e,t)),e}Object.defineProperty(Jr.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Dct(r,e,t,i,n,s){if(!t){var o=Oct(e,i,n);i!==o&&(t=!0,n="buffer",i=o)}var a=e.objectMode?1:i.length;e.length+=a;var c=e.length<e.highWaterMark;if(c||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:n,isBuf:t,callback:s,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else x9(r,e,!1,a,i,n,s);return c}function x9(r,e,t,i,n,s,o){e.writelen=i,e.writecb=o,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Tct("write")):t?r._writev(n,e.onwrite):r._write(n,s,e.onwrite),e.sync=!1}function Lct(r,e,t,i,n){--e.pendingcb,t?(process.nextTick(n,i),process.nextTick(bg,r,e),r._writableState.errorEmitted=!0,Np(r,i)):(n(i),r._writableState.errorEmitted=!0,Np(r,i),bg(r,e))}function Fct(r){r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0}function Mct(r,e){var t=r._writableState,i=t.sync,n=t.writecb;if(typeof n!="function")throw new Act;if(Fct(t),e)Lct(r,t,i,e,n);else{var s=Jre(t)||r.destroyed;!s&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&Yre(r,t),i?process.nextTick(Xre,r,t,s,n):Xre(r,t,s,n)}}function Xre(r,e,t,i){t||Uct(r,e),e.pendingcb--,i(),bg(r,e)}function Uct(r,e){e.length===0&&e.needDrain&&(e.needDrain=!1,r.emit("drain"))}function Yre(r,e){e.bufferProcessing=!0;var t=e.bufferedRequest;if(r._writev&&t&&t.next){var i=e.bufferedRequestCount,n=new Array(i),s=e.corkedRequestsFree;s.entry=t;for(var o=0,a=!0;t;)n[o]=t,t.isBuf||(a=!1),t=t.next,o+=1;n.allBuffers=a,x9(r,e,!0,e.length,n,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new $re(e),e.bufferedRequestCount=0}else{for(;t;){var c=t.chunk,u=t.encoding,f=t.callback,l=e.objectMode?1:c.length;if(x9(r,e,!1,l,c,u,f),t=t.next,e.bufferedRequestCount--,e.writing)break}t===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=t,e.bufferProcessing=!1}Jr.prototype._write=function(r,e,t){t(new kct("_write()"))};Jr.prototype._writev=null;Jr.prototype.end=function(r,e,t){var i=this._writableState;return typeof r=="function"?(t=r,r=null,e=null):typeof e=="function"&&(t=e,e=null),r!=null&&this.write(r,e),i.corked&&(i.corked=1,this.uncork()),i.ending||zct(this,i,t),this};Object.defineProperty(Jr.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Jre(r){return r.ending&&r.length===0&&r.bufferedRequest===null&&!r.finished&&!r.writing}function Kct(r,e){r._final(function(t){e.pendingcb--,t&&Np(r,t),e.prefinished=!0,r.emit("prefinish"),bg(r,e)})}function Vct(r,e){!e.prefinished&&!e.finalCalled&&(typeof r._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Kct,r,e)):(e.prefinished=!0,r.emit("prefinish")))}function bg(r,e){var t=Jre(e);if(t&&(Vct(r,e),e.pendingcb===0&&(e.finished=!0,r.emit("finish"),e.autoDestroy))){var i=r._readableState;(!i||i.autoDestroy&&i.endEmitted)&&r.destroy()}return t}function zct(r,e,t){e.ending=!0,bg(r,e),t&&(e.finished?process.nextTick(t):r.once("finish",t)),e.ended=!0,r.writable=!1}function gct(r,e,t){var i=r.entry;for(r.entry=null;i;){var n=i.callback;e.pendingcb--,n(t),i=i.next}e.corkedRequestsFree.next=r}Object.defineProperty(Jr.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});Jr.prototype.destroy=m9.destroy;Jr.prototype._undestroy=m9.undestroy;Jr.prototype._destroy=function(r,e){e(r)}});var e0=h((bcr,Zre)=>{"use strict";var jct=Object.keys||function(r){var e=[];for(var t in r)e.push(t);return e};Zre.exports=vc;var Qre=_6(),w9=E6();cn()(vc,Qre);for(v9=jct(w9.prototype),S6=0;S6<v9.length;S6++)k6=v9[S6],vc.prototype[k6]||(vc.prototype[k6]=w9.prototype[k6]);var v9,k6,S6;function vc(r){if(!(this instanceof vc))return new vc(r);Qre.call(this,r),w9.call(this,r),this.allowHalfOpen=!0,r&&(r.readable===!1&&(this.readable=!1),r.writable===!1&&(this.writable=!1),r.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Hct)))}Object.defineProperty(vc.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(vc.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(vc.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Hct(){this._writableState.ended||process.nextTick(Gct,this)}function Gct(r){r.end()}Object.defineProperty(vc.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var _9=h((E9,eie)=>{var A6=Pn(),Ec=A6.Buffer;function tie(r,e){for(var t in r)e[t]=r[t]}Ec.from&&Ec.alloc&&Ec.allocUnsafe&&Ec.allocUnsafeSlow?eie.exports=A6:(tie(A6,E9),E9.Buffer=Pl);function Pl(r,e,t){return Ec(r,e,t)}Pl.prototype=Object.create(Ec.prototype);tie(Ec,Pl);Pl.from=function(r,e,t){if(typeof r=="number")throw new TypeError("Argument must not be a number");return Ec(r,e,t)};Pl.alloc=function(r,e,t){if(typeof r!="number")throw new TypeError("Argument must be a number");var i=Ec(r);return e!==void 0?typeof t=="string"?i.fill(e,t):i.fill(e):i.fill(0),i};Pl.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return Ec(r)};Pl.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return A6.SlowBuffer(r)}});var A9=h(rie=>{"use strict";var S9=_9().Buffer,iie=S9.isEncoding||function(r){switch(r=""+r,r&&r.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function $ct(r){if(!r)return"utf8";for(var e;;)switch(r){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return r;default:if(e)return;r=(""+r).toLowerCase(),e=!0}}function Wct(r){var e=$ct(r);if(typeof e!="string"&&(S9.isEncoding===iie||!iie(r)))throw new Error("Unknown encoding: "+r);return e||r}rie.StringDecoder=yg;function yg(r){this.encoding=Wct(r);var e;switch(this.encoding){case"utf16le":this.text=Xct,this.end=Jct,e=4;break;case"utf8":this.fillLast=Yct,e=4;break;case"base64":this.text=Zct,this.end=Qct,e=3;break;default:this.write=eut,this.end=tut;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=S9.allocUnsafe(e)}yg.prototype.write=function(r){if(r.length===0)return"";var e,t;if(this.lastNeed){if(e=this.fillLast(r),e===void 0)return"";t=this.lastNeed,this.lastNeed=0}else t=0;return t<r.length?e?e+this.text(r,t):this.text(r,t):e||""};yg.prototype.end=rut;yg.prototype.text=iut;yg.prototype.fillLast=function(r){if(this.lastNeed<=r.length)return r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,this.lastTotal-this.lastNeed,0,r.length),this.lastNeed-=r.length};function k9(r){return r<=127?0:r>>5==6?2:r>>4==14?3:r>>3==30?4:r>>6==2?-1:-2}function nut(r,e,t){var i=e.length-1;if(i<t)return 0;var n=k9(e[i]);return n>=0?(n>0&&(r.lastNeed=n-1),n):--i<t||n===-2?0:(n=k9(e[i]),n>=0?(n>0&&(r.lastNeed=n-2),n):--i<t||n===-2?0:(n=k9(e[i]),n>=0?(n>0&&(n===2?n=0:r.lastNeed=n-3),n):0))}function sut(r,e,t){if((e[0]&192)!=128)return r.lastNeed=0,"\uFFFD";if(r.lastNeed>1&&e.length>1){if((e[1]&192)!=128)return r.lastNeed=1,"\uFFFD";if(r.lastNeed>2&&e.length>2&&(e[2]&192)!=128)return r.lastNeed=2,"\uFFFD"}}function Yct(r){var e=this.lastTotal-this.lastNeed,t=sut(this,r,e);if(t!==void 0)return t;if(this.lastNeed<=r.length)return r.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);r.copy(this.lastChar,e,0,r.length),this.lastNeed-=r.length}function iut(r,e){var t=nut(this,r,e);if(!this.lastNeed)return r.toString("utf8",e);this.lastTotal=t;var i=r.length-(t-this.lastNeed);return r.copy(this.lastChar,0,i),r.toString("utf8",e,i)}function rut(r){var e=r&&r.length?this.write(r):"";return this.lastNeed?e+"\uFFFD":e}function Xct(r,e){if((r.length-e)%2==0){var t=r.toString("utf16le",e);if(t){var i=t.charCodeAt(t.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=r[r.length-1],r.toString("utf16le",e,r.length-1)}function Jct(r){var e=r&&r.length?this.write(r):"";if(this.lastNeed){var t=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,t)}return e}function Zct(r,e){var t=(r.length-e)%3;return t===0?r.toString("base64",e):(this.lastNeed=3-t,this.lastTotal=3,t===1?this.lastChar[0]=r[r.length-1]:(this.lastChar[0]=r[r.length-2],this.lastChar[1]=r[r.length-1]),r.toString("base64",e,r.length-t))}function Qct(r){var e=r&&r.length?this.write(r):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function eut(r){return r.toString(this.encoding)}function tut(r){return r&&r.length?this.write(r):""}});var gg=h((gcr,nie)=>{"use strict";var sie=Nl().codes.ERR_STREAM_PREMATURE_CLOSE;function out(r){var e=!1;return function(){if(!e){e=!0;for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];r.apply(this,i)}}}function aut(){}function cut(r){return r.setHeader&&typeof r.abort=="function"}function oie(r,e,t){if(typeof e=="function")return oie(r,null,e);e||(e={}),t=out(t||aut);var i=e.readable||e.readable!==!1&&r.readable,n=e.writable||e.writable!==!1&&r.writable,s=function(){r.writable||a()},o=r._writableState&&r._writableState.finished,a=function(){n=!1,o=!0,i||t.call(r)},c=r._readableState&&r._readableState.endEmitted,u=function(){i=!1,c=!0,n||t.call(r)},f=function(b){t.call(r,b)},l=function(){var b;if(i&&!c)return(!r._readableState||!r._readableState.ended)&&(b=new sie),t.call(r,b);if(n&&!o)return(!r._writableState||!r._writableState.ended)&&(b=new sie),t.call(r,b)},d=function(){r.req.on("finish",a)};return cut(r)?(r.on("complete",a),r.on("abort",l),r.req?d():r.on("request",d)):n&&!r._writableState&&(r.on("end",s),r.on("close",s)),r.on("end",u),r.on("finish",a),e.error!==!1&&r.on("error",f),r.on("close",l),function(){r.removeListener("complete",a),r.removeListener("abort",l),r.removeListener("request",d),r.req&&r.req.removeListener("finish",a),r.removeListener("end",s),r.removeListener("close",s),r.removeListener("finish",a),r.removeListener("end",u),r.removeListener("error",f),r.removeListener("close",l)}}nie.exports=oie});var cie=h((mcr,aie)=>{"use strict";var I6;function t0(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var uut=gg(),r0=Symbol("lastResolve"),Dl=Symbol("lastReject"),mg=Symbol("error"),T6=Symbol("ended"),Ol=Symbol("lastPromise"),I9=Symbol("handlePromise"),Ll=Symbol("stream");function i0(r,e){return{value:r,done:e}}function fut(r){var e=r[r0];if(e!==null){var t=r[Ll].read();t!==null&&(r[Ol]=null,r[r0]=null,r[Dl]=null,e(i0(t,!1)))}}function lut(r){process.nextTick(fut,r)}function hut(r,e){return function(t,i){r.then(function(){if(e[T6]){t(i0(void 0,!0));return}e[I9](t,i)},i)}}var dut=Object.getPrototypeOf(function(){}),put=Object.setPrototypeOf((I6={get stream(){return this[Ll]},next:function(){var e=this,t=this[mg];if(t!==null)return Promise.reject(t);if(this[T6])return Promise.resolve(i0(void 0,!0));if(this[Ll].destroyed)return new Promise(function(o,a){process.nextTick(function(){e[mg]?a(e[mg]):o(i0(void 0,!0))})});var i=this[Ol],n;if(i)n=new Promise(hut(i,this));else{var s=this[Ll].read();if(s!==null)return Promise.resolve(i0(s,!1));n=new Promise(this[I9])}return this[Ol]=n,n}},t0(I6,Symbol.asyncIterator,function(){return this}),t0(I6,"return",function(){var e=this;return new Promise(function(t,i){e[Ll].destroy(null,function(n){if(n){i(n);return}t(i0(void 0,!0))})})}),I6),dut),but=function(e){var t,i=Object.create(put,(t={},t0(t,Ll,{value:e,writable:!0}),t0(t,r0,{value:null,writable:!0}),t0(t,Dl,{value:null,writable:!0}),t0(t,mg,{value:null,writable:!0}),t0(t,T6,{value:e._readableState.endEmitted,writable:!0}),t0(t,I9,{value:function(s,o){var a=i[Ll].read();a?(i[Ol]=null,i[r0]=null,i[Dl]=null,s(i0(a,!1))):(i[r0]=s,i[Dl]=o)},writable:!0}),t));return i[Ol]=null,uut(e,function(n){if(n&&n.code!=="ERR_STREAM_PREMATURE_CLOSE"){var s=i[Dl];s!==null&&(i[Ol]=null,i[r0]=null,i[Dl]=null,s(n)),i[mg]=n;return}var o=i[r0];o!==null&&(i[Ol]=null,i[r0]=null,i[Dl]=null,o(i0(void 0,!0))),i[T6]=!0}),e.on("readable",lut.bind(null,i)),i};aie.exports=but});var fie=h((xcr,uie)=>{uie.exports=function(){throw new Error("Readable.from is not available in the browser")}});var _6=h((vcr,lie)=>{"use strict";lie.exports=Gt;var Pp;Gt.ReadableState=hie;var wcr=Pr().EventEmitter,die=function(e,t){return e.listeners(t).length},xg=l9(),R6=Pn().Buffer,yut=globalThis.Uint8Array||function(){};function gut(r){return R6.from(r)}function mut(r){return R6.isBuffer(r)||r instanceof yut}var T9=h9(),At;T9&&T9.debuglog?At=T9.debuglog("stream"):At=function(){};var xut=Ore(),R9=b9(),wut=y9(),vut=wut.getHighWaterMark,q6=Nl().codes,Eut=q6.ERR_INVALID_ARG_TYPE,_ut=q6.ERR_STREAM_PUSH_AFTER_EOF,Sut=q6.ERR_METHOD_NOT_IMPLEMENTED,kut=q6.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Dp,q9,B9;cn()(Gt,xg);var wg=R9.errorOrDestroy,C9=["error","close","destroy","pause","resume"];function Aut(r,e,t){if(typeof r.prependListener=="function")return r.prependListener(e,t);!r._events||!r._events[e]?r.on(e,t):Array.isArray(r._events[e])?r._events[e].unshift(t):r._events[e]=[t,r._events[e]]}function hie(r,e,t){Pp=Pp||e0(),r=r||{},typeof t!="boolean"&&(t=e instanceof Pp),this.objectMode=!!r.objectMode,t&&(this.objectMode=this.objectMode||!!r.readableObjectMode),this.highWaterMark=vut(this,r,"readableHighWaterMark",t),this.buffer=new xut,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=r.emitClose!==!1,this.autoDestroy=!!r.autoDestroy,this.destroyed=!1,this.defaultEncoding=r.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,r.encoding&&(Dp||(Dp=A9().StringDecoder),this.decoder=new Dp(r.encoding),this.encoding=r.encoding)}function Gt(r){if(Pp=Pp||e0(),!(this instanceof Gt))return new Gt(r);var e=this instanceof Pp;this._readableState=new hie(r,this,e),this.readable=!0,r&&(typeof r.read=="function"&&(this._read=r.read),typeof r.destroy=="function"&&(this._destroy=r.destroy)),xg.call(this)}Object.defineProperty(Gt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});Gt.prototype.destroy=R9.destroy;Gt.prototype._undestroy=R9.undestroy;Gt.prototype._destroy=function(r,e){e(r)};Gt.prototype.push=function(r,e){var t=this._readableState,i;return t.objectMode?i=!0:typeof r=="string"&&(e=e||t.defaultEncoding,e!==t.encoding&&(r=R6.from(r,e),e=""),i=!0),pie(this,r,e,!1,i)};Gt.prototype.unshift=function(r){return pie(this,r,null,!0,!1)};function pie(r,e,t,i,n){At("readableAddChunk",e);var s=r._readableState;if(e===null)s.reading=!1,Tut(r,s);else{var o;if(n||(o=Iut(s,e)),o)wg(r,o);else if(s.objectMode||e&&e.length>0)if(typeof e!="string"&&!s.objectMode&&Object.getPrototypeOf(e)!==R6.prototype&&(e=gut(e)),i)s.endEmitted?wg(r,new kut):M9(r,s,e,!0);else if(s.ended)wg(r,new _ut);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!t?(e=s.decoder.write(e),s.objectMode||e.length!==0?M9(r,s,e,!1):N9(r,s)):M9(r,s,e,!1)}else i||(s.reading=!1,N9(r,s))}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function M9(r,e,t,i){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,r.emit("data",t)):(e.length+=e.objectMode?1:t.length,i?e.buffer.unshift(t):e.buffer.push(t),e.needReadable&&B6(r)),N9(r,e)}function Iut(r,e){var t;return!mut(e)&&typeof e!="string"&&e!==void 0&&!r.objectMode&&(t=new Eut("chunk",["string","Buffer","Uint8Array"],e)),t}Gt.prototype.isPaused=function(){return this._readableState.flowing===!1};Gt.prototype.setEncoding=function(r){Dp||(Dp=A9().StringDecoder);var e=new Dp(r);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var t=this._readableState.buffer.head,i="";t!==null;)i+=e.write(t.data),t=t.next;return this._readableState.buffer.clear(),i!==""&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var bie=1073741824;function Rut(r){return r>=bie?r=bie:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r}function yie(r,e){return r<=0||e.length===0&&e.ended?0:e.objectMode?1:r!==r?e.flowing&&e.length?e.buffer.head.data.length:e.length:(r>e.highWaterMark&&(e.highWaterMark=Rut(r)),r<=e.length?r:e.ended?e.length:(e.needReadable=!0,0))}Gt.prototype.read=function(r){At("read",r),r=parseInt(r,10);var e=this._readableState,t=r;if(r!==0&&(e.emittedReadable=!1),r===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return At("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?P9(this):B6(this),null;if(r=yie(r,e),r===0&&e.ended)return e.length===0&&P9(this),null;var i=e.needReadable;At("need readable",i),(e.length===0||e.length-r<e.highWaterMark)&&(i=!0,At("length less than watermark",i)),e.ended||e.reading?(i=!1,At("reading or ended",i)):i&&(At("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(r=yie(t,e)));var n;return r>0?n=gie(r,e):n=null,n===null?(e.needReadable=e.length<=e.highWaterMark,r=0):(e.length-=r,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),t!==r&&e.ended&&P9(this)),n!==null&&this.emit("data",n),n};function Tut(r,e){if(At("onEofChunk"),!e.ended){if(e.decoder){var t=e.decoder.end();t&&t.length&&(e.buffer.push(t),e.length+=e.objectMode?1:t.length)}e.ended=!0,e.sync?B6(r):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,mie(r)))}}function B6(r){var e=r._readableState;At("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(At("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(mie,r))}function mie(r){var e=r._readableState;At("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(r.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,D9(r)}function N9(r,e){e.readingMore||(e.readingMore=!0,process.nextTick(qut,r,e))}function qut(r,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var t=e.length;if(At("maybeReadMore read 0"),r.read(0),t===e.length)break}e.readingMore=!1}Gt.prototype._read=function(r){wg(this,new Sut("_read()"))};Gt.prototype.pipe=function(r,e){var t=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r);break}i.pipesCount+=1,At("pipe count=%d opts=%j",i.pipesCount,e);var n=(!e||e.end!==!1)&&r!==process.stdout&&r!==process.stderr,s=n?a:g;i.endEmitted?process.nextTick(s):t.once("end",s),r.on("unpipe",o);function o(m,w){At("onunpipe"),m===t&&w&&w.hasUnpiped===!1&&(w.hasUnpiped=!0,f())}function a(){At("onend"),r.end()}var c=But(t);r.on("drain",c);var u=!1;function f(){At("cleanup"),r.removeListener("close",p),r.removeListener("finish",b),r.removeListener("drain",c),r.removeListener("error",d),r.removeListener("unpipe",o),t.removeListener("end",a),t.removeListener("end",g),t.removeListener("data",l),u=!0,i.awaitDrain&&(!r._writableState||r._writableState.needDrain)&&c()}t.on("data",l);function l(m){At("ondata");var w=r.write(m);At("dest.write",w),w===!1&&((i.pipesCount===1&&i.pipes===r||i.pipesCount>1&&xie(i.pipes,r)!==-1)&&!u&&(At("false write response, pause",i.awaitDrain),i.awaitDrain++),t.pause())}function d(m){At("onerror",m),g(),r.removeListener("error",d),die(r,"error")===0&&wg(r,m)}Aut(r,"error",d);function p(){r.removeListener("finish",b),g()}r.once("close",p);function b(){At("onfinish"),r.removeListener("close",p),g()}r.once("finish",b);function g(){At("unpipe"),t.unpipe(r)}return r.emit("pipe",t),i.flowing||(At("pipe resume"),t.resume()),r};function But(r){return function(){var t=r._readableState;At("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,t.awaitDrain===0&&die(r,"data")&&(t.flowing=!0,D9(r))}}Gt.prototype.unpipe=function(r){var e=this._readableState,t={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return r&&r!==e.pipes?this:(r||(r=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,r&&r.emit("unpipe",this,t),this);if(!r){var i=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=xie(e.pipes,r);return o===-1?this:(e.pipes.splice(o,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),r.emit("unpipe",this,t),this)};Gt.prototype.on=function(r,e){var t=xg.prototype.on.call(this,r,e),i=this._readableState;return r==="data"?(i.readableListening=this.listenerCount("readable")>0,i.flowing!==!1&&this.resume()):r==="readable"&&!i.endEmitted&&!i.readableListening&&(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,At("on readable",i.length,i.reading),i.length?B6(this):i.reading||process.nextTick(Cut,this)),t};Gt.prototype.addListener=Gt.prototype.on;Gt.prototype.removeListener=function(r,e){var t=xg.prototype.removeListener.call(this,r,e);return r==="readable"&&process.nextTick(wie,this),t};Gt.prototype.removeAllListeners=function(r){var e=xg.prototype.removeAllListeners.apply(this,arguments);return(r==="readable"||r===void 0)&&process.nextTick(wie,this),e};function wie(r){var e=r._readableState;e.readableListening=r.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:r.listenerCount("data")>0&&r.resume()}function Cut(r){At("readable nexttick read 0"),r.read(0)}Gt.prototype.resume=function(){var r=this._readableState;return r.flowing||(At("resume"),r.flowing=!r.readableListening,Mut(this,r)),r.paused=!1,this};function Mut(r,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(Nut,r,e))}function Nut(r,e){At("resume",e.reading),e.reading||r.read(0),e.resumeScheduled=!1,r.emit("resume"),D9(r),e.flowing&&!e.reading&&r.read(0)}Gt.prototype.pause=function(){return At("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(At("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function D9(r){var e=r._readableState;for(At("flow",e.flowing);e.flowing&&r.read()!==null;);}Gt.prototype.wrap=function(r){var e=this,t=this._readableState,i=!1;r.on("end",function(){if(At("wrapped end"),t.decoder&&!t.ended){var o=t.decoder.end();o&&o.length&&e.push(o)}e.push(null)}),r.on("data",function(o){if(At("wrapped data"),t.decoder&&(o=t.decoder.write(o)),!(t.objectMode&&o==null)&&!(!t.objectMode&&(!o||!o.length))){var a=e.push(o);a||(i=!0,r.pause())}});for(var n in r)this[n]===void 0&&typeof r[n]=="function"&&(this[n]=function(a){return function(){return r[a].apply(r,arguments)}}(n));for(var s=0;s<C9.length;s++)r.on(C9[s],this.emit.bind(this,C9[s]));return this._read=function(o){At("wrapped _read",o),i&&(i=!1,r.resume())},this};typeof Symbol=="function"&&(Gt.prototype[Symbol.asyncIterator]=function(){return q9===void 0&&(q9=cie()),q9(this)});Object.defineProperty(Gt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Gt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Gt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Gt._fromList=gie;Object.defineProperty(Gt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function gie(r,e){if(e.length===0)return null;var t;return e.objectMode?t=e.buffer.shift():!r||r>=e.length?(e.decoder?t=e.buffer.join(""):e.buffer.length===1?t=e.buffer.first():t=e.buffer.concat(e.length),e.buffer.clear()):t=e.buffer.consume(r,e.decoder),t}function P9(r){var e=r._readableState;At("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(Put,e,r))}function Put(r,e){if(At("endReadableNT",r.endEmitted,r.length),!r.endEmitted&&r.length===0&&(r.endEmitted=!0,e.readable=!1,e.emit("end"),r.autoDestroy)){var t=e._writableState;(!t||t.autoDestroy&&t.finished)&&e.destroy()}}typeof Symbol=="function"&&(Gt.from=function(r,e){return B9===void 0&&(B9=fie()),B9(Gt,r,e)});function xie(r,e){for(var t=0,i=r.length;t<i;t++)if(r[t]===e)return t;return-1}});var N6=h((Ecr,vie)=>{"use strict";vie.exports=Su;var C6=Nl().codes,Dut=C6.ERR_METHOD_NOT_IMPLEMENTED,Out=C6.ERR_MULTIPLE_CALLBACK,Lut=C6.ERR_TRANSFORM_ALREADY_TRANSFORMING,Fut=C6.ERR_TRANSFORM_WITH_LENGTH_0,M6=e0();cn()(Su,M6);function Uut(r,e){var t=this._transformState;t.transforming=!1;var i=t.writecb;if(i===null)return this.emit("error",new Out);t.writechunk=null,t.writecb=null,e!=null&&this.push(e),i(r);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function Su(r){if(!(this instanceof Su))return new Su(r);M6.call(this,r),this._transformState={afterTransform:Uut.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,r&&(typeof r.transform=="function"&&(this._transform=r.transform),typeof r.flush=="function"&&(this._flush=r.flush)),this.on("prefinish",zut)}function zut(){var r=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,t){Eie(r,e,t)}):Eie(this,null,null)}Su.prototype.push=function(r,e){return this._transformState.needTransform=!1,M6.prototype.push.call(this,r,e)};Su.prototype._transform=function(r,e,t){t(new Dut("_transform()"))};Su.prototype._write=function(r,e,t){var i=this._transformState;if(i.writecb=t,i.writechunk=r,i.writeencoding=e,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}};Su.prototype._read=function(r){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Su.prototype._destroy=function(r,e){M6.prototype._destroy.call(this,r,function(t){e(t)})};function Eie(r,e,t){if(e)return r.emit("error",e);if(t!=null&&r.push(t),r._writableState.length)throw new Fut;if(r._transformState.transforming)throw new Lut;return r.push(null)}});var O9=h((_cr,_ie)=>{"use strict";_ie.exports=vg;var Sie=N6();cn()(vg,Sie);function vg(r){if(!(this instanceof vg))return new vg(r);Sie.call(this,r)}vg.prototype._transform=function(r,e,t){t(null,r)}});var F9=h((Scr,kie)=>{"use strict";var L9;function Kut(r){var e=!1;return function(){e||(e=!0,r.apply(void 0,arguments))}}var Aie=Nl().codes,Vut=Aie.ERR_MISSING_ARGS,jut=Aie.ERR_STREAM_DESTROYED;function Iie(r){if(r)throw r}function Hut(r){return r.setHeader&&typeof r.abort=="function"}function Gut(r,e,t,i){i=Kut(i);var n=!1;r.on("close",function(){n=!0}),L9===void 0&&(L9=gg()),L9(r,{readable:e,writable:t},function(o){if(o)return i(o);n=!0,i()});var s=!1;return function(o){if(!n&&!s){if(s=!0,Hut(r))return r.abort();if(typeof r.destroy=="function")return r.destroy();i(o||new jut("pipe"))}}}function Tie(r){r()}function $ut(r,e){return r.pipe(e)}function Wut(r){return!r.length||typeof r[r.length-1]!="function"?Iie:r.pop()}function Yut(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];var i=Wut(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Vut("streams");var n,s=e.map(function(o,a){var c=a<e.length-1,u=a>0;return Gut(o,c,u,function(f){n||(n=f),f&&s.forEach(Tie),!c&&(s.forEach(Tie),i(n))})});return e.reduce($ut)}kie.exports=Yut});var ku=h((Co,Eg)=>{var _g=ku();process.env.READABLE_STREAM==="disable"&&_g?(Eg.exports=_g.Readable,Object.assign(Eg.exports,_g),Eg.exports.Stream=_g):(Co=Eg.exports=_6(),Co.Stream=_g||Co,Co.Readable=Co,Co.Writable=E6(),Co.Duplex=e0(),Co.Transform=N6(),Co.PassThrough=O9(),Co.finished=gg(),Co.pipeline=F9())});var qie=h((kcr,Rie)=>{"use strict";Rie.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),i=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[t]=n;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==n||o.enumerable!==!0)return!1}return!0}});var P6=h((Acr,Bie)=>{"use strict";var Cie=typeof Symbol!="undefined"&&Symbol,Xut=qie();Bie.exports=function(){return typeof Cie!="function"||typeof Symbol!="function"||typeof Cie("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Xut()}});var Nie=h((Icr,Mie)=>{"use strict";var Jut="Function.prototype.bind called on incompatible ",U9=Array.prototype.slice,Zut=Object.prototype.toString,Qut="[object Function]";Mie.exports=function(e){var t=this;if(typeof t!="function"||Zut.call(t)!==Qut)throw new TypeError(Jut+t);for(var i=U9.call(arguments,1),n,s=function(){if(this instanceof n){var f=t.apply(this,i.concat(U9.call(arguments)));return Object(f)===f?f:this}else return t.apply(e,i.concat(U9.call(arguments)))},o=Math.max(0,t.length-i.length),a=[],c=0;c<o;c++)a.push("$"+c);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var u=function(){};u.prototype=t.prototype,n.prototype=new u,u.prototype=null}return n}});var D6=h((Tcr,Pie)=>{"use strict";var eft=Nie();Pie.exports=Function.prototype.bind||eft});var Oie=h((Rcr,Die)=>{"use strict";var tft=D6();Die.exports=tft.call(Function.call,Object.prototype.hasOwnProperty)});var U6=h((qcr,Lie)=>{"use strict";var Lt,Sg=SyntaxError,Fie=Function,Op=TypeError,z9=function(r){try{return Fie('"use strict"; return ('+r+").constructor;")()}catch(e){}},Fl=Object.getOwnPropertyDescriptor;if(Fl)try{Fl({},"")}catch(r){Fl=null}var K9=function(){throw new Op},rft=Fl?function(){try{return arguments.callee,K9}catch(r){try{return Fl(arguments,"callee").get}catch(e){return K9}}}():K9,Lp=P6()(),n0=Object.getPrototypeOf||function(r){return r.__proto__},Fp={},ift=typeof Uint8Array=="undefined"?Lt:n0(Uint8Array),Up={"%AggregateError%":typeof AggregateError=="undefined"?Lt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?Lt:ArrayBuffer,"%ArrayIteratorPrototype%":Lp?n0([][Symbol.iterator]()):Lt,"%AsyncFromSyncIteratorPrototype%":Lt,"%AsyncFunction%":Fp,"%AsyncGenerator%":Fp,"%AsyncGeneratorFunction%":Fp,"%AsyncIteratorPrototype%":Fp,"%Atomics%":typeof Atomics=="undefined"?Lt:Atomics,"%BigInt%":typeof BigInt=="undefined"?Lt:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?Lt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?Lt:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?Lt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?Lt:FinalizationRegistry,"%Function%":Fie,"%GeneratorFunction%":Fp,"%Int8Array%":typeof Int8Array=="undefined"?Lt:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?Lt:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?Lt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Lp?n0(n0([][Symbol.iterator]())):Lt,"%JSON%":typeof JSON=="object"?JSON:Lt,"%Map%":typeof Map=="undefined"?Lt:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!Lp?Lt:n0(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?Lt:Promise,"%Proxy%":typeof Proxy=="undefined"?Lt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?Lt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?Lt:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!Lp?Lt:n0(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?Lt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Lp?n0(""[Symbol.iterator]()):Lt,"%Symbol%":Lp?Symbol:Lt,"%SyntaxError%":Sg,"%ThrowTypeError%":rft,"%TypedArray%":ift,"%TypeError%":Op,"%Uint8Array%":typeof Uint8Array=="undefined"?Lt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?Lt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?Lt:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?Lt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?Lt:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?Lt:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?Lt:WeakSet},nft=function r(e){var t;if(e==="%AsyncFunction%")t=z9("async function () {}");else if(e==="%GeneratorFunction%")t=z9("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=z9("async function* () {}");else if(e==="%AsyncGenerator%"){var i=r("%AsyncGeneratorFunction%");i&&(t=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=r("%AsyncGenerator%");n&&(t=n0(n.prototype))}return Up[e]=t,t},Uie={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},O6=D6(),L6=Oie(),sft=O6.call(Function.call,Array.prototype.concat),oft=O6.call(Function.apply,Array.prototype.splice),zie=O6.call(Function.call,String.prototype.replace),F6=O6.call(Function.call,String.prototype.slice),aft=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,cft=/\\(\\)?/g,uft=function(e){var t=F6(e,0,1),i=F6(e,-1);if(t==="%"&&i!=="%")throw new Sg("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&t!=="%")throw new Sg("invalid intrinsic syntax, expected opening `%`");var n=[];return zie(e,aft,function(s,o,a,c){n[n.length]=a?zie(c,cft,"$1"):o||s}),n},fft=function(e,t){var i=e,n;if(L6(Uie,i)&&(n=Uie[i],i="%"+n[0]+"%"),L6(Up,i)){var s=Up[i];if(s===Fp&&(s=nft(i)),typeof s=="undefined"&&!t)throw new Op("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new Sg("intrinsic "+e+" does not exist!")};Lie.exports=function(e,t){if(typeof e!="string"||e.length===0)throw new Op("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Op('"allowMissing" argument must be a boolean');var i=uft(e),n=i.length>0?i[0]:"",s=fft("%"+n+"%",t),o=s.name,a=s.value,c=!1,u=s.alias;u&&(n=u[0],oft(i,sft([0,1],u)));for(var f=1,l=!0;f<i.length;f+=1){var d=i[f],p=F6(d,0,1),b=F6(d,-1);if((p==='"'||p==="'"||p==="`"||b==='"'||b==="'"||b==="`")&&p!==b)throw new Sg("property names with quotes must have matching quotes");if((d==="constructor"||!l)&&(c=!0),n+="."+d,o="%"+n+"%",L6(Up,o))a=Up[o];else if(a!=null){if(!(d in a)){if(!t)throw new Op("base intrinsic for "+e+" exists, but the property is not available.");return}if(Fl&&f+1>=i.length){var g=Fl(a,d);l=!!g,l&&"get"in g&&!("originalValue"in g.get)?a=g.get:a=a[d]}else l=L6(a,d),a=a[d];l&&!c&&(Up[o]=a)}}return a}});var K6=h((Bcr,z6)=>{"use strict";var V9=D6(),zp=U6(),Kie=zp("%Function.prototype.apply%"),Vie=zp("%Function.prototype.call%"),jie=zp("%Reflect.apply%",!0)||V9.call(Vie,Kie),Hie=zp("%Object.getOwnPropertyDescriptor%",!0),Ul=zp("%Object.defineProperty%",!0),lft=zp("%Math.max%");if(Ul)try{Ul({},"a",{value:1})}catch(r){Ul=null}z6.exports=function(e){var t=jie(V9,Vie,arguments);if(Hie&&Ul){var i=Hie(t,"length");i.configurable&&Ul(t,"length",{value:1+lft(0,e.length-(arguments.length-1))})}return t};var Gie=function(){return jie(V9,Kie,arguments)};Ul?Ul(z6.exports,"apply",{value:Gie}):z6.exports.apply=Gie});var V6=h((Ccr,$ie)=>{"use strict";var Wie=U6(),Yie=K6(),hft=Yie(Wie("String.prototype.indexOf"));$ie.exports=function(e,t){var i=Wie(e,!!t);return typeof i=="function"&&hft(e,".prototype.")>-1?Yie(i):i}});var Zie=h((Mcr,Xie)=>{"use strict";var dft=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",pft=V6(),j9=pft("Object.prototype.toString"),j6=function(e){return dft&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:j9(e)==="[object Arguments]"},Jie=function(e){return j6(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&j9(e)!=="[object Array]"&&j9(e.callee)==="[object Function]"},bft=function(){return j6(arguments)}();j6.isLegacyArguments=Jie;Xie.exports=bft?j6:Jie});var rne=h((Ncr,Qie)=>{"use strict";var yft=Object.prototype.toString,gft=Function.prototype.toString,mft=/^\s*(?:function)?\*/,ene=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",H6=Object.getPrototypeOf,xft=function(){if(!ene)return!1;try{return Function("return function*() {}")()}catch(r){}},tne=xft(),wft=H6&&tne?H6(tne):!1;Qie.exports=function(e){if(typeof e!="function")return!1;if(mft.test(gft.call(e)))return!0;if(!ene){var t=yft.call(e);return t==="[object GeneratorFunction]"}return H6&&H6(e)===wft}});var H9=h((Pcr,ine)=>{var vft=Object.prototype.hasOwnProperty,Eft=Object.prototype.toString;ine.exports=function(e,t,i){if(Eft.call(t)!=="[object Function]")throw new TypeError("iterator must be a function");var n=e.length;if(n===+n)for(var s=0;s<n;s++)t.call(i,e[s],s,e);else for(var o in e)vft.call(e,o)&&t.call(i,e[o],o,e)}});var sne=h((Dcr,nne)=>{nne.exports=function(r,e,t){if(r.filter)return r.filter(e,t);if(r==null)throw new TypeError;if(typeof e!="function")throw new TypeError;for(var i=[],n=0;n<r.length;n++)if(!!_ft.call(r,n)){var s=r[n];e.call(t,s,n,r)&&i.push(s)}return i};var _ft=Object.prototype.hasOwnProperty});var G9=h((Ocr,one)=>{"use strict";var Sft=sne();one.exports=function(){return Sft(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(e){return typeof globalThis[e]=="function"})}});var $9=h((Lcr,ane)=>{"use strict";var kft=U6(),G6=kft("%Object.getOwnPropertyDescriptor%");if(G6)try{G6([],"length")}catch(r){G6=null}ane.exports=G6});var X9=h((Fcr,cne)=>{"use strict";var une=H9(),Aft=G9(),W9=V6(),Ift=W9("Object.prototype.toString"),Tft=P6()(),fne=Tft&&typeof Symbol.toStringTag=="symbol",lne=Aft(),Rft=W9("Array.prototype.indexOf",!0)||function(e,t){for(var i=0;i<e.length;i+=1)if(e[i]===t)return i;return-1},qft=W9("String.prototype.slice"),hne={},$6=$9(),Y9=Object.getPrototypeOf;fne&&$6&&Y9&&une(lne,function(r){var e=new globalThis[r];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+r+" does not have the property! Please report this.");var t=Y9(e),i=$6(t,Symbol.toStringTag);if(!i){var n=Y9(t);i=$6(n,Symbol.toStringTag)}hne[r]=i.get});var Bft=function(e){var t=!1;return une(hne,function(i,n){if(!t)try{t=i.call(e)===n}catch(s){}}),t};cne.exports=function(e){if(!e||typeof e!="object")return!1;if(!fne){var t=qft(Ift(e),8,-1);return Rft(lne,t)>-1}return $6?Bft(e):!1}});var mne=h((Ucr,dne)=>{"use strict";var pne=H9(),Cft=G9(),bne=V6(),Mft=bne("Object.prototype.toString"),Nft=P6()(),yne=Nft&&typeof Symbol.toStringTag=="symbol",Pft=Cft(),Dft=bne("String.prototype.slice"),gne={},J9=$9(),Z9=Object.getPrototypeOf;yne&&J9&&Z9&&pne(Pft,function(r){if(typeof globalThis[r]=="function"){var e=new globalThis[r];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+r+" does not have the property! Please report this.");var t=Z9(e),i=J9(t,Symbol.toStringTag);if(!i){var n=Z9(t);i=J9(n,Symbol.toStringTag)}gne[r]=i.get}});var Oft=function(e){var t=!1;return pne(gne,function(i,n){if(!t)try{var s=i.call(e);s===n&&(t=s)}catch(o){}}),t},Lft=X9();dne.exports=function(e){return Lft(e)?yne?Oft(e):Dft(Mft(e),8,-1):!1}});var Cne=h(Bt=>{"use strict";var Fft=Zie(),Uft=rne(),ya=mne(),xne=X9();function Kp(r){return r.call.bind(r)}var wne=typeof BigInt!="undefined",vne=typeof Symbol!="undefined",Mo=Kp(Object.prototype.toString),zft=Kp(Number.prototype.valueOf),Kft=Kp(String.prototype.valueOf),Vft=Kp(Boolean.prototype.valueOf);wne&&(Ene=Kp(BigInt.prototype.valueOf));var Ene;vne&&(_ne=Kp(Symbol.prototype.valueOf));var _ne;function kg(r,e){if(typeof r!="object")return!1;try{return e(r),!0}catch(t){return!1}}Bt.isArgumentsObject=Fft;Bt.isGeneratorFunction=Uft;Bt.isTypedArray=xne;function jft(r){return typeof Promise!="undefined"&&r instanceof Promise||r!==null&&typeof r=="object"&&typeof r.then=="function"&&typeof r.catch=="function"}Bt.isPromise=jft;function Hft(r){return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?ArrayBuffer.isView(r):xne(r)||Sne(r)}Bt.isArrayBufferView=Hft;function Gft(r){return ya(r)==="Uint8Array"}Bt.isUint8Array=Gft;function $ft(r){return ya(r)==="Uint8ClampedArray"}Bt.isUint8ClampedArray=$ft;function Wft(r){return ya(r)==="Uint16Array"}Bt.isUint16Array=Wft;function Yft(r){return ya(r)==="Uint32Array"}Bt.isUint32Array=Yft;function Xft(r){return ya(r)==="Int8Array"}Bt.isInt8Array=Xft;function Jft(r){return ya(r)==="Int16Array"}Bt.isInt16Array=Jft;function Zft(r){return ya(r)==="Int32Array"}Bt.isInt32Array=Zft;function Qft(r){return ya(r)==="Float32Array"}Bt.isFloat32Array=Qft;function e0t(r){return ya(r)==="Float64Array"}Bt.isFloat64Array=e0t;function t0t(r){return ya(r)==="BigInt64Array"}Bt.isBigInt64Array=t0t;function r0t(r){return ya(r)==="BigUint64Array"}Bt.isBigUint64Array=r0t;function W6(r){return Mo(r)==="[object Map]"}W6.working=typeof Map!="undefined"&&W6(new Map);function i0t(r){return typeof Map=="undefined"?!1:W6.working?W6(r):r instanceof Map}Bt.isMap=i0t;function Y6(r){return Mo(r)==="[object Set]"}Y6.working=typeof Set!="undefined"&&Y6(new Set);function n0t(r){return typeof Set=="undefined"?!1:Y6.working?Y6(r):r instanceof Set}Bt.isSet=n0t;function X6(r){return Mo(r)==="[object WeakMap]"}X6.working=typeof WeakMap!="undefined"&&X6(new WeakMap);function s0t(r){return typeof WeakMap=="undefined"?!1:X6.working?X6(r):r instanceof WeakMap}Bt.isWeakMap=s0t;function Q9(r){return Mo(r)==="[object WeakSet]"}Q9.working=typeof WeakSet!="undefined"&&Q9(new WeakSet);function o0t(r){return Q9(r)}Bt.isWeakSet=o0t;function J6(r){return Mo(r)==="[object ArrayBuffer]"}J6.working=typeof ArrayBuffer!="undefined"&&J6(new ArrayBuffer);function kne(r){return typeof ArrayBuffer=="undefined"?!1:J6.working?J6(r):r instanceof ArrayBuffer}Bt.isArrayBuffer=kne;function Z6(r){return Mo(r)==="[object DataView]"}Z6.working=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"&&Z6(new DataView(new ArrayBuffer(1),0,1));function Sne(r){return typeof DataView=="undefined"?!1:Z6.working?Z6(r):r instanceof DataView}Bt.isDataView=Sne;function Q6(r){return Mo(r)==="[object SharedArrayBuffer]"}Q6.working=typeof SharedArrayBuffer!="undefined"&&Q6(new SharedArrayBuffer);function Ane(r){return typeof SharedArrayBuffer=="undefined"?!1:Q6.working?Q6(r):r instanceof SharedArrayBuffer}Bt.isSharedArrayBuffer=Ane;function a0t(r){return Mo(r)==="[object AsyncFunction]"}Bt.isAsyncFunction=a0t;function c0t(r){return Mo(r)==="[object Map Iterator]"}Bt.isMapIterator=c0t;function u0t(r){return Mo(r)==="[object Set Iterator]"}Bt.isSetIterator=u0t;function f0t(r){return Mo(r)==="[object Generator]"}Bt.isGeneratorObject=f0t;function l0t(r){return Mo(r)==="[object WebAssembly.Module]"}Bt.isWebAssemblyCompiledModule=l0t;function Ine(r){return kg(r,zft)}Bt.isNumberObject=Ine;function Tne(r){return kg(r,Kft)}Bt.isStringObject=Tne;function Rne(r){return kg(r,Vft)}Bt.isBooleanObject=Rne;function qne(r){return wne&&kg(r,Ene)}Bt.isBigIntObject=qne;function Bne(r){return vne&&kg(r,_ne)}Bt.isSymbolObject=Bne;function h0t(r){return Ine(r)||Tne(r)||Rne(r)||qne(r)||Bne(r)}Bt.isBoxedPrimitive=h0t;function d0t(r){return typeof Uint8Array!="undefined"&&(kne(r)||Ane(r))}Bt.isAnyArrayBuffer=d0t;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(r){Object.defineProperty(Bt,r,{enumerable:!1,value:function(){throw new Error(r+" is not supported in userland")}})})});var Nne=h((Kcr,Mne)=>{Mne.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var No=h(Ct=>{var Pne=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),i={},n=0;n<t.length;n++)i[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return i},p0t=/%[sdj%]/g;Ct.format=function(r){if(!tv(r)){for(var e=[],t=0;t<arguments.length;t++)e.push(s0(arguments[t]));return e.join(" ")}for(var t=1,i=arguments,n=i.length,s=String(r).replace(p0t,function(a){if(a==="%%")return"%";if(t>=n)return a;switch(a){case"%s":return String(i[t++]);case"%d":return Number(i[t++]);case"%j":try{return JSON.stringify(i[t++])}catch(c){return"[Circular]"}default:return a}}),o=i[t];t<n;o=i[++t])ev(o)||!Vp(o)?s+=" "+o:s+=" "+s0(o);return s};Ct.deprecate=function(r,e){if(typeof process!="undefined"&&process.noDeprecation===!0)return r;if(typeof process=="undefined")return function(){return Ct.deprecate(r,e).apply(this,arguments)};var t=!1;function i(){if(!t){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),t=!0}return r.apply(this,arguments)}return i};var rv={},Dne=/^$/;process.env.NODE_DEBUG&&(iv=process.env.NODE_DEBUG,iv=iv.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),Dne=new RegExp("^"+iv+"$","i"));var iv;Ct.debuglog=function(r){if(r=r.toUpperCase(),!rv[r])if(Dne.test(r)){var e=process.pid;rv[r]=function(){var t=Ct.format.apply(Ct,arguments);console.error("%s %d: %s",r,e,t)}}else rv[r]=function(){};return rv[r]};function s0(r,e){var t={seen:[],stylize:y0t};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),eT(e)?t.showHidden=e:e&&Ct._extend(t,e),zl(t.showHidden)&&(t.showHidden=!1),zl(t.depth)&&(t.depth=2),zl(t.colors)&&(t.colors=!1),zl(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=b0t),nv(t,r,t.depth)}Ct.inspect=s0;s0.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};s0.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function b0t(r,e){var t=s0.styles[e];return t?"["+s0.colors[t][0]+"m"+r+"["+s0.colors[t][1]+"m":r}function y0t(r,e){return r}function g0t(r){var e={};return r.forEach(function(t,i){e[t]=!0}),e}function nv(r,e,t){if(r.customInspect&&e&&ov(e.inspect)&&e.inspect!==Ct.inspect&&!(e.constructor&&e.constructor.prototype===e)){var i=e.inspect(t,r);return tv(i)||(i=nv(r,i,t)),i}var n=m0t(r,e);if(n)return n;var s=Object.keys(e),o=g0t(s);if(r.showHidden&&(s=Object.getOwnPropertyNames(e)),Ig(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return tT(e);if(s.length===0){if(ov(e)){var a=e.name?": "+e.name:"";return r.stylize("[Function"+a+"]","special")}if(Ag(e))return r.stylize(RegExp.prototype.toString.call(e),"regexp");if(sv(e))return r.stylize(Date.prototype.toString.call(e),"date");if(Ig(e))return tT(e)}var c="",u=!1,f=["{","}"];if(One(e)&&(u=!0,f=["[","]"]),ov(e)){var l=e.name?": "+e.name:"";c=" [Function"+l+"]"}if(Ag(e)&&(c=" "+RegExp.prototype.toString.call(e)),sv(e)&&(c=" "+Date.prototype.toUTCString.call(e)),Ig(e)&&(c=" "+tT(e)),s.length===0&&(!u||e.length==0))return f[0]+c+f[1];if(t<0)return Ag(e)?r.stylize(RegExp.prototype.toString.call(e),"regexp"):r.stylize("[Object]","special");r.seen.push(e);var d;return u?d=x0t(r,e,t,o,s):d=s.map(function(p){return rT(r,e,t,o,p,u)}),r.seen.pop(),w0t(d,c,f)}function m0t(r,e){if(zl(e))return r.stylize("undefined","undefined");if(tv(e)){var t="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return r.stylize(t,"string")}if(Lne(e))return r.stylize(""+e,"number");if(eT(e))return r.stylize(""+e,"boolean");if(ev(e))return r.stylize("null","null")}function tT(r){return"["+Error.prototype.toString.call(r)+"]"}function x0t(r,e,t,i,n){for(var s=[],o=0,a=e.length;o<a;++o)Fne(e,String(o))?s.push(rT(r,e,t,i,String(o),!0)):s.push("");return n.forEach(function(c){c.match(/^\d+$/)||s.push(rT(r,e,t,i,c,!0))}),s}function rT(r,e,t,i,n,s){var o,a,c;if(c=Object.getOwnPropertyDescriptor(e,n)||{value:e[n]},c.get?c.set?a=r.stylize("[Getter/Setter]","special"):a=r.stylize("[Getter]","special"):c.set&&(a=r.stylize("[Setter]","special")),Fne(i,n)||(o="["+n+"]"),a||(r.seen.indexOf(c.value)<0?(ev(t)?a=nv(r,c.value,null):a=nv(r,c.value,t-1),a.indexOf(`
`)>-1&&(s?a=a.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):a=`
`+a.split(`
`).map(function(u){return"   "+u}).join(`
`))):a=r.stylize("[Circular]","special")),zl(o)){if(s&&n.match(/^\d+$/))return a;o=JSON.stringify(""+n),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=r.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=r.stylize(o,"string"))}return o+": "+a}function w0t(r,e,t){var i=0,n=r.reduce(function(s,o){return i++,o.indexOf(`
`)>=0&&i++,s+o.replace(/\u001b\[\d\d?m/g,"").length+1},0);return n>60?t[0]+(e===""?"":e+`
 `)+" "+r.join(`,
  `)+" "+t[1]:t[0]+e+" "+r.join(", ")+" "+t[1]}Ct.types=Cne();function One(r){return Array.isArray(r)}Ct.isArray=One;function eT(r){return typeof r=="boolean"}Ct.isBoolean=eT;function ev(r){return r===null}Ct.isNull=ev;function v0t(r){return r==null}Ct.isNullOrUndefined=v0t;function Lne(r){return typeof r=="number"}Ct.isNumber=Lne;function tv(r){return typeof r=="string"}Ct.isString=tv;function E0t(r){return typeof r=="symbol"}Ct.isSymbol=E0t;function zl(r){return r===void 0}Ct.isUndefined=zl;function Ag(r){return Vp(r)&&iT(r)==="[object RegExp]"}Ct.isRegExp=Ag;Ct.types.isRegExp=Ag;function Vp(r){return typeof r=="object"&&r!==null}Ct.isObject=Vp;function sv(r){return Vp(r)&&iT(r)==="[object Date]"}Ct.isDate=sv;Ct.types.isDate=sv;function Ig(r){return Vp(r)&&(iT(r)==="[object Error]"||r instanceof Error)}Ct.isError=Ig;Ct.types.isNativeError=Ig;function ov(r){return typeof r=="function"}Ct.isFunction=ov;function _0t(r){return r===null||typeof r=="boolean"||typeof r=="number"||typeof r=="string"||typeof r=="symbol"||typeof r=="undefined"}Ct.isPrimitive=_0t;Ct.isBuffer=Nne();function iT(r){return Object.prototype.toString.call(r)}function nT(r){return r<10?"0"+r.toString(10):r.toString(10)}var S0t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k0t(){var r=new Date,e=[nT(r.getHours()),nT(r.getMinutes()),nT(r.getSeconds())].join(":");return[r.getDate(),S0t[r.getMonth()],e].join(" ")}Ct.log=function(){console.log("%s - %s",k0t(),Ct.format.apply(Ct,arguments))};Ct.inherits=cn();Ct._extend=function(r,e){if(!e||!Vp(e))return r;for(var t=Object.keys(e),i=t.length;i--;)r[t[i]]=e[t[i]];return r};function Fne(r,e){return Object.prototype.hasOwnProperty.call(r,e)}var Kl=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;Ct.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(Kl&&e[Kl]){var t=e[Kl];if(typeof t!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,Kl,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var i,n,s=new Promise(function(c,u){i=c,n=u}),o=[],a=0;a<arguments.length;a++)o.push(arguments[a]);o.push(function(c,u){c?n(c):i(u)});try{e.apply(this,o)}catch(c){n(c)}return s}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Kl&&Object.defineProperty(t,Kl,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,Pne(e))};Ct.promisify.custom=Kl;function A0t(r,e){if(!r){var t=new Error("Promise was rejected with a falsy value");t.reason=r,r=t}return e(r)}function I0t(r){if(typeof r!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i]);var n=t.pop();if(typeof n!="function")throw new TypeError("The last argument must be of type Function");var s=this,o=function(){return n.apply(s,arguments)};r.apply(this,t).then(function(a){process.nextTick(o.bind(null,null,a))},function(a){process.nextTick(A0t.bind(null,a,o))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(r)),Object.defineProperties(e,Pne(r)),e}Ct.callbackify=I0t});var jl=h((jcr,Une)=>{"use strict";var T0t=ku(),Tg=No(),Vl=class extends T0t.Transform{constructor(e,t,i){i==null&&(i={});let n,s;switch(typeof e){case"object":Buffer.isBuffer(e)?(n=e,t!=null&&typeof t=="object"&&(i=t)):i=e;break;case"string":n=e,t!=null&&typeof t=="object"?i=t:s=t;break}i==null&&(i={}),n==null&&(n=i.input),s==null&&(s=i.inputEncoding),delete i.input,delete i.inputEncoding;let o=i.watchPipe!=null?i.watchPipe:!0;delete i.watchPipe;let a=!!i.readError;delete i.readError,super(i),this.readError=a,o&&this.on("pipe",c=>{let u=c._readableState.objectMode;if(this.length>0&&u!==this._readableState.objectMode)throw new Error("Do not switch objectMode in the middle of the stream");return this._readableState.objectMode=u,this._writableState.objectMode=u}),n!=null&&this.end(n,s)}static isNoFilter(e){return e instanceof this}static compare(e,t){if(!(e instanceof this))throw new TypeError("Arguments must be NoFilters");return e===t?0:e.compare(t)}static concat(e,t){if(!Array.isArray(e))throw new TypeError("list argument must be an Array of NoFilters");if(e.length===0||t===0)return Buffer.alloc(0);t==null&&(t=e.reduce((o,a)=>{if(!(a instanceof Vl))throw new TypeError("list argument must be an Array of NoFilters");return o+a.length},0));let i=!0,n=!0,s=e.map(o=>{if(!(o instanceof Vl))throw new TypeError("list argument must be an Array of NoFilters");let a=o.slice();return Buffer.isBuffer(a)?n=!1:i=!1,a});if(i)return Buffer.concat(s,t);if(n)return[].concat(...s).slice(0,t);throw new Error("Concatenating mixed object and byte streams not supported")}_transform(e,t,i){!this._readableState.objectMode&&!Buffer.isBuffer(e)&&(e=Buffer.from(e,t)),this.push(e),i()}_bufArray(){let e=this._readableState.buffer;if(!Array.isArray(e)){let t=e.head;for(e=[];t!=null;)e.push(t.data),t=t.next}return e}read(e){let t=super.read(e);if(t!=null){if(this.emit("read",t),this.readError&&t.length<e)throw new Error(`Read ${t.length}, wanted ${e}`)}else if(this.readError)throw new Error(`No data available, wanted ${e}`);return t}promise(e){let t=!1;return new Promise((i,n)=>{this.on("finish",()=>{let s=this.read();e!=null&&!t&&(t=!0,e(null,s)),i(s)}),this.on("error",s=>{e!=null&&!t&&(t=!0,e(s)),n(s)})})}compare(e){if(!(e instanceof Vl))throw new TypeError("Arguments must be NoFilters");if(this===e)return 0;{let t=this.slice(),i=e.slice();if(Buffer.isBuffer(t)&&Buffer.isBuffer(i))return t.compare(i);throw new Error("Cannot compare streams in object mode")}}equals(e){return this.compare(e)===0}slice(e,t){if(this._readableState.objectMode)return this._bufArray().slice(e,t);let i=this._bufArray();switch(i.length){case 0:return Buffer.alloc(0);case 1:return i[0].slice(e,t);default:return Buffer.concat(i).slice(e,t)}}get(e){return this.slice()[e]}toJSON(){let e=this.slice();return Buffer.isBuffer(e)?e.toJSON():e}toString(e,t,i){let n=this.slice(t,i);return Buffer.isBuffer(n)?(!e||e==="utf8")&&Tg.TextDecoder?new Tg.TextDecoder("utf8",{fatal:!0,ignoreBOM:!0}).decode(n):n.toString(e,t,i):JSON.stringify(n)}inspect(e,t){return this[Tg.inspect.custom](e,t)}[Tg.inspect.custom](e,t){let n=this._bufArray().map(s=>Buffer.isBuffer(s)?(t!=null?t.stylize:void 0)?t.stylize(s.toString("hex"),"string"):s.toString("hex"):Tg.inspect(s,t)).join(", ");return`${this.constructor.name} [${n}]`}get length(){return this._readableState.length}writeBigInt(e){let t=e.toString(16);if(e<0){let i=BigInt(Math.floor(t.length/2));e=(BigInt(1)<<i*BigInt(8))+e,t=e.toString(16)}return t.length%2&&(t="0"+t),this.push(Buffer.from(t,"hex"))}readUBigInt(e){let t=this.read(e);return Buffer.isBuffer(t)?BigInt("0x"+t.toString("hex")):null}readBigInt(e){let t=this.read(e);if(!Buffer.isBuffer(t))return null;let i=BigInt("0x"+t.toString("hex"));if(t[0]&128){let n=BigInt(1)<<BigInt(t.length)*BigInt(8);i=i-n}return i}};function Is(r,e){return function(t){let i=this.read(e);return Buffer.isBuffer(i)?i[r].call(i,0,!0):null}}function Ts(r,e){return function(t){let i=Buffer.alloc(e);return i[r].call(i,t,0,!0),this.push(i)}}Object.assign(Vl.prototype,{writeUInt8:Ts("writeUInt8",1),writeUInt16LE:Ts("writeUInt16LE",2),writeUInt16BE:Ts("writeUInt16BE",2),writeUInt32LE:Ts("writeUInt32LE",4),writeUInt32BE:Ts("writeUInt32BE",4),writeInt8:Ts("writeInt8",1),writeInt16LE:Ts("writeInt16LE",2),writeInt16BE:Ts("writeInt16BE",2),writeInt32LE:Ts("writeInt32LE",4),writeInt32BE:Ts("writeInt32BE",4),writeFloatLE:Ts("writeFloatLE",4),writeFloatBE:Ts("writeFloatBE",4),writeDoubleLE:Ts("writeDoubleLE",8),writeDoubleBE:Ts("writeDoubleBE",8),readUInt8:Is("readUInt8",1),readUInt16LE:Is("readUInt16LE",2),readUInt16BE:Is("readUInt16BE",2),readUInt32LE:Is("readUInt32LE",4),readUInt32BE:Is("readUInt32BE",4),readInt8:Is("readInt8",1),readInt16LE:Is("readInt16LE",2),readInt16BE:Is("readInt16BE",2),readInt32LE:Is("readInt32LE",4),readInt32BE:Is("readInt32BE",4),readFloatLE:Is("readFloatLE",4),readFloatBE:Is("readFloatBE",4),readDoubleLE:Is("readDoubleLE",8),readDoubleBE:Is("readDoubleBE",8)});Une.exports=Vl});var jp=h(Kn=>{"use strict";var av=jl(),R0t=ku(),cv=No(),{BigNumber:sT,NUMBYTES:uv,SHIFT32:zne,BI:q0t,SYMS:oT}=wc(),B0t=2097151,C0t=typeof TextDecoder=="function"?TextDecoder:cv.TextDecoder,M0t=new C0t("utf8",{fatal:!0,ignoreBOM:!0});Kn.utf8=r=>M0t.decode(r);Kn.utf8.checksUTF8=!0;Kn.parseCBORint=function(r,e,t=!0){switch(r){case uv.ONE:return e.readUInt8(0);case uv.TWO:return e.readUInt16BE(0);case uv.FOUR:return e.readUInt32BE(0);case uv.EIGHT:let i=e.readUInt32BE(0),n=e.readUInt32BE(4);return i>B0t?t?BigInt(i)*q0t.SHIFT32+BigInt(n):new sT(i).times(zne).plus(n):i*zne+n;default:throw new Error("Invalid additional info for int: "+r)}};Kn.writeHalf=function(e,t){let i=Buffer.allocUnsafe(4);i.writeFloatBE(t,0);let n=i.readUInt32BE(0);if((n&8191)!=0)return!1;let s=n>>16&32768,o=n>>23&255,a=n&8388607;if(o>=113&&o<=142)s+=(o-112<<10)+(a>>13);else if(o>=103&&o<113){if(a&(1<<126-o)-1)return!1;s+=a+8388608>>126-o}else return!1;return e.writeUInt16BE(s),!0};Kn.parseHalf=function(e){let t=e[0]&128?-1:1,i=(e[0]&124)>>2,n=(e[0]&3)<<8|e[1];return i?i===31?t*(n?0/0:Infinity):t*Math.pow(2,i-25)*(1024+n):t*5960464477539063e-23*n};Kn.parseCBORfloat=function(e){switch(e.length){case 2:return Kn.parseHalf(e);case 4:return e.readFloatBE(0);case 8:return e.readDoubleBE(0);default:throw new Error("Invalid float size: "+e.length)}};Kn.hex=function(e){return Buffer.from(e.replace(/^0x/,""),"hex")};Kn.bin=function(e){e=e.replace(/\s/g,"");let t=0,i=e.length%8||8,n=[];for(;i<=e.length;)n.push(parseInt(e.slice(t,i),2)),t=i,i+=8;return Buffer.from(n)};Kn.arrayEqual=function(e,t){return e==null&&t==null?!0:e==null||t==null?!1:e.length===t.length&&e.every((i,n)=>i===t[n])};Kn.bufferEqual=function(e,t){if(e==null&&t==null)return!0;if(e==null||t==null||!(Buffer.isBuffer(e)&&Buffer.isBuffer(t)&&e.length===t.length))return!1;let i=e.length,n=!0,s,o;for(s=o=0;o<i;s=++o){let a=e[s];n=n&&t[s]===a}return!!n};Kn.bufferToBignumber=function(e){return new sT(e.toString("hex"),16)};Kn.bufferToBigInt=function(e){return BigInt("0x"+e.toString("hex"))};Kn.cborValueToString=function(e,t=-1){switch(typeof e){case"symbol":switch(e){case oT.NULL:return"null";case oT.UNDEFINED:return"undefined";case oT.BREAK:return"BREAK"}if(e.description)return e.description;let n=e.toString().match(/^Symbol\((.*)\)/);return n&&n[1]?n[1]:"Symbol";case"string":return JSON.stringify(e);case"bigint":return e.toString();case"number":return t>0?cv.inspect(e)+"_"+t:cv.inspect(e)}if(Buffer.isBuffer(e)){let i=e.toString("hex");return t===-Infinity?i:`h'${i}'`}return sT.isBigNumber(e)?e.toString():cv.inspect(e)};Kn.guessEncoding=function(e,t){if(typeof e=="string")return new av(e,t??"hex");if(Buffer.isBuffer(e))return new av(e);if(ArrayBuffer.isView(e))return new av(Buffer.from(e.buffer,e.byteOffset,e.byteLength));if(e instanceof ArrayBuffer)return new av(Buffer.from(e));if(e instanceof R0t.Readable)return e;throw new Error("Unknown input type")}});var Hp=h((Gcr,Kne)=>{"use strict";var N0t=No(),aT=wc(),P0t=aT.MT,fv=aT.SIMPLE,cT=aT.SYMS,Rg=class{constructor(e){if(typeof e!="number")throw new Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(e|0)!==e)throw new Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}[N0t.inspect.custom](e,t){return"simple("+this.value+")"}inspect(e,t){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,P0t.SIMPLE_FLOAT)}static isSimple(e){return e instanceof Rg}static decode(e,t=!0,i=!1){switch(e){case fv.FALSE:return!1;case fv.TRUE:return!0;case fv.NULL:return t?null:cT.NULL;case fv.UNDEFINED:return t?void 0:cT.UNDEFINED;case-1:if(!t||!i)throw new Error("Invalid BREAK");return cT.BREAK;default:return new Rg(e)}}};Kne.exports=Rg});var Hne=h(($cr,Vne)=>{"use strict";var D0t=ku(),O0t=jl(),L0t=D0t.Transform,jne=class extends L0t{constructor(e){super(e);this._writableState.objectMode=!1,this._readableState.objectMode=!0,this.bs=new O0t,this.__restart()}_transform(e,t,i){for(this.bs.write(e);this.bs.length>=this.__needed;){let n,s=this.__needed===null?void 0:this.bs.read(this.__needed);try{n=this.__parser.next(s)}catch(o){return i(o)}this.__needed&&(this.__fresh=!1),n.done?(this.push(n.value),this.__restart()):this.__needed=n.value||Infinity}return i()}*_parse(){throw new Error("Must be implemented in subclass")}__restart(){this.__needed=null,this.__parser=this._parse(),this.__fresh=!0}_flush(e){e(this.__fresh?null:new Error("unexpected end of input"))}};Vne.exports=jne});var Gne=h((Gp,$p)=>{(function(r){var e=typeof Gp=="object"&&Gp&&!Gp.nodeType&&Gp,t=typeof $p=="object"&&$p&&!$p.nodeType&&$p,i=typeof globalThis=="object"&&globalThis;(i.global===i||i.window===i||i.self===i)&&(r=i);var n,s=2147483647,o=36,a=1,c=26,u=38,f=700,l=72,d=128,p="-",b=/^xn--/,g=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=o-a,I=Math.floor,F=String.fromCharCode,V;function P(q){throw RangeError(w[q])}function W(q,x){for(var z=q.length,pe=[];z--;)pe[z]=x(q[z]);return pe}function ne(q,x){var z=q.split("@"),pe="";z.length>1&&(pe=z[0]+"@",q=z[1]),q=q.replace(m,".");var G=q.split("."),be=W(G,x).join(".");return pe+be}function Q(q){for(var x=[],z=0,pe=q.length,G,be;z<pe;)G=q.charCodeAt(z++),G>=55296&&G<=56319&&z<pe?(be=q.charCodeAt(z++),(be&64512)==56320?x.push(((G&1023)<<10)+(be&1023)+65536):(x.push(G),z--)):x.push(G);return x}function M(q){return W(q,function(x){var z="";return x>65535&&(x-=65536,z+=F(x>>>10&1023|55296),x=56320|x&1023),z+=F(x),z}).join("")}function y(q){return q-48<10?q-22:q-65<26?q-65:q-97<26?q-97:o}function v(q,x){return q+22+75*(q<26)-((x!=0)<<5)}function k(q,x,z){var pe=0;for(q=z?I(q/f):q>>1,q+=I(q/x);q>A*c>>1;pe+=o)q=I(q/A);return I(pe+(A+1)*q/(q+u))}function N(q){var x=[],z=q.length,pe,G=0,be=d,U=l,_,ue,fe,E,T,D,K,H,ee;for(_=q.lastIndexOf(p),_<0&&(_=0),ue=0;ue<_;++ue)q.charCodeAt(ue)>=128&&P("not-basic"),x.push(q.charCodeAt(ue));for(fe=_>0?_+1:0;fe<z;){for(E=G,T=1,D=o;fe>=z&&P("invalid-input"),K=y(q.charCodeAt(fe++)),(K>=o||K>I((s-G)/T))&&P("overflow"),G+=K*T,H=D<=U?a:D>=U+c?c:D-U,!(K<H);D+=o)ee=o-H,T>I(s/ee)&&P("overflow"),T*=ee;pe=x.length+1,U=k(G-E,pe,E==0),I(G/pe)>s-be&&P("overflow"),be+=I(G/pe),G%=pe,x.splice(G++,0,be)}return M(x)}function L(q){var x,z,pe,G,be,U,_,ue,fe,E,T,D=[],K,H,ee,Z;for(q=Q(q),K=q.length,x=d,z=0,be=l,U=0;U<K;++U)T=q[U],T<128&&D.push(F(T));for(pe=G=D.length,G&&D.push(p);pe<K;){for(_=s,U=0;U<K;++U)T=q[U],T>=x&&T<_&&(_=T);for(H=pe+1,_-x>I((s-z)/H)&&P("overflow"),z+=(_-x)*H,x=_,U=0;U<K;++U)if(T=q[U],T<x&&++z>s&&P("overflow"),T==x){for(ue=z,fe=o;E=fe<=be?a:fe>=be+c?c:fe-be,!(ue<E);fe+=o)Z=ue-E,ee=o-E,D.push(F(v(E+Z%ee,0))),ue=I(Z/ee);D.push(F(v(ue,0))),be=k(z,H,pe==G),z=0,++pe}++z,++x}return D.join("")}function $(q){return ne(q,function(x){return b.test(x)?N(x.slice(4).toLowerCase()):x})}function X(q){return ne(q,function(x){return g.test(x)?"xn--"+L(x):x})}if(n={version:"1.3.2",ucs2:{decode:Q,encode:M},decode:N,encode:L,toASCII:X,toUnicode:$},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return n});else if(e&&t)if($p.exports==e)t.exports=n;else for(V in n)n.hasOwnProperty(V)&&(e[V]=n[V]);else r.punycode=n})(Gp)});var Wne=h((Wcr,$ne)=>{"use strict";$ne.exports={isString:function(r){return typeof r=="string"},isObject:function(r){return typeof r=="object"&&r!==null},isNull:function(r){return r===null},isNullOrUndefined:function(r){return r==null}}});var Xne=h((Ycr,Yne)=>{"use strict";function F0t(r,e){return Object.prototype.hasOwnProperty.call(r,e)}Yne.exports=function(r,e,t,i){e=e||"&",t=t||"=";var n={};if(typeof r!="string"||r.length===0)return n;var s=/\+/g;r=r.split(e);var o=1e3;i&&typeof i.maxKeys=="number"&&(o=i.maxKeys);var a=r.length;o>0&&a>o&&(a=o);for(var c=0;c<a;++c){var u=r[c].replace(s,"%20"),f=u.indexOf(t),l,d,p,b;f>=0?(l=u.substr(0,f),d=u.substr(f+1)):(l=u,d=""),p=decodeURIComponent(l),b=decodeURIComponent(d),F0t(n,p)?Array.isArray(n[p])?n[p].push(b):n[p]=[n[p],b]:n[p]=b}return n}});var Zne=h((Xcr,Jne)=>{"use strict";var qg=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};Jne.exports=function(r,e,t,i){return e=e||"&",t=t||"=",r===null&&(r=void 0),typeof r=="object"?Object.keys(r).map(function(n){var s=encodeURIComponent(qg(n))+t;return Array.isArray(r[n])?r[n].map(function(o){return s+encodeURIComponent(qg(o))}).join(e):s+encodeURIComponent(qg(r[n]))}).join(e):i?encodeURIComponent(qg(i))+t+encodeURIComponent(qg(r)):""}});var Qne=h(Bg=>{"use strict";Bg.decode=Bg.parse=Xne();Bg.encode=Bg.stringify=Zne()});var lv=h(Wp=>{"use strict";var U0t=Gne(),_c=Wne();Wp.parse=Cg;Wp.resolve=z0t;Wp.resolveObject=K0t;Wp.format=V0t;Wp.Url=Po;function Po(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var j0t=/^([a-z0-9.+-]+:)/i,H0t=/:[0-9]*$/,G0t=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,$0t=["<",">",'"',"`"," ","\r",`
`,"	"],W0t=["{","}","|","\\","^","`"].concat($0t),uT=["'"].concat(W0t),ese=["%","/","?",";","#"].concat(uT),tse=["/","?","#"],Y0t=255,rse=/^[+a-z0-9A-Z_-]{0,63}$/,X0t=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,J0t={javascript:!0,"javascript:":!0},fT={javascript:!0,"javascript:":!0},Yp={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},lT=Qne();function Cg(r,e,t){if(r&&_c.isObject(r)&&r instanceof Po)return r;var i=new Po;return i.parse(r,e,t),i}Po.prototype.parse=function(r,e,t){if(!_c.isString(r))throw new TypeError("Parameter 'url' must be a string, not "+typeof r);var i=r.indexOf("?"),n=i!==-1&&i<r.indexOf("#")?"?":"#",s=r.split(n),o=/\\/g;s[0]=s[0].replace(o,"/"),r=s.join(n);var a=r;if(a=a.trim(),!t&&r.split("#").length===1){var c=G0t.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=lT.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=j0t.exec(a);if(u){u=u[0];var f=u.toLowerCase();this.protocol=f,a=a.substr(u.length)}if(t||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var l=a.substr(0,2)==="//";l&&!(u&&fT[u])&&(a=a.substr(2),this.slashes=!0)}if(!fT[u]&&(l||u&&!Yp[u])){for(var d=-1,p=0;p<tse.length;p++){var b=a.indexOf(tse[p]);b!==-1&&(d===-1||b<d)&&(d=b)}var g,m;d===-1?m=a.lastIndexOf("@"):m=a.lastIndexOf("@",d),m!==-1&&(g=a.slice(0,m),a=a.slice(m+1),this.auth=decodeURIComponent(g)),d=-1;for(var p=0;p<ese.length;p++){var b=a.indexOf(ese[p]);b!==-1&&(d===-1||b<d)&&(d=b)}d===-1&&(d=a.length),this.host=a.slice(0,d),a=a.slice(d),this.parseHost(),this.hostname=this.hostname||"";var w=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!w)for(var A=this.hostname.split(/\./),p=0,I=A.length;p<I;p++){var F=A[p];if(!!F&&!F.match(rse)){for(var V="",P=0,W=F.length;P<W;P++)F.charCodeAt(P)>127?V+="x":V+=F[P];if(!V.match(rse)){var ne=A.slice(0,p),Q=A.slice(p+1),M=F.match(X0t);M&&(ne.push(M[1]),Q.unshift(M[2])),Q.length&&(a="/"+Q.join(".")+a),this.hostname=ne.join(".");break}}}this.hostname.length>Y0t?this.hostname="":this.hostname=this.hostname.toLowerCase(),w||(this.hostname=U0t.toASCII(this.hostname));var y=this.port?":"+this.port:"",v=this.hostname||"";this.host=v+y,this.href+=this.host,w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!J0t[f])for(var p=0,I=uT.length;p<I;p++){var k=uT[p];if(a.indexOf(k)!==-1){var N=encodeURIComponent(k);N===k&&(N=escape(k)),a=a.split(k).join(N)}}var L=a.indexOf("#");L!==-1&&(this.hash=a.substr(L),a=a.slice(0,L));var $=a.indexOf("?");if($!==-1?(this.search=a.substr($),this.query=a.substr($+1),e&&(this.query=lT.parse(this.query)),a=a.slice(0,$)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Yp[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var y=this.pathname||"",X=this.search||"";this.path=y+X}return this.href=this.format(),this};function V0t(r){return _c.isString(r)&&(r=Cg(r)),r instanceof Po?r.format():Po.prototype.format.call(r)}Po.prototype.format=function(){var r=this.auth||"";r&&(r=encodeURIComponent(r),r=r.replace(/%3A/i,":"),r+="@");var e=this.protocol||"",t=this.pathname||"",i=this.hash||"",n=!1,s="";this.host?n=r+this.host:this.hostname&&(n=r+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&_c.isObject(this.query)&&Object.keys(this.query).length&&(s=lT.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Yp[e])&&n!==!1?(n="//"+(n||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):n||(n=""),i&&i.charAt(0)!=="#"&&(i="#"+i),o&&o.charAt(0)!=="?"&&(o="?"+o),t=t.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+n+t+o+i};function z0t(r,e){return Cg(r,!1,!0).resolve(e)}Po.prototype.resolve=function(r){return this.resolveObject(Cg(r,!1,!0)).format()};function K0t(r,e){return r?Cg(r,!1,!0).resolveObject(e):e}Po.prototype.resolveObject=function(r){if(_c.isString(r)){var e=new Po;e.parse(r,!1,!0),r=e}for(var t=new Po,i=Object.keys(this),n=0;n<i.length;n++){var s=i[n];t[s]=this[s]}if(t.hash=r.hash,r.href==="")return t.href=t.format(),t;if(r.slashes&&!r.protocol){for(var o=Object.keys(r),a=0;a<o.length;a++){var c=o[a];c!=="protocol"&&(t[c]=r[c])}return Yp[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(r.protocol&&r.protocol!==t.protocol){if(!Yp[r.protocol]){for(var u=Object.keys(r),f=0;f<u.length;f++){var l=u[f];t[l]=r[l]}return t.href=t.format(),t}if(t.protocol=r.protocol,!r.host&&!fT[r.protocol]){for(var I=(r.pathname||"").split("/");I.length&&!(r.host=I.shift()););r.host||(r.host=""),r.hostname||(r.hostname=""),I[0]!==""&&I.unshift(""),I.length<2&&I.unshift(""),t.pathname=I.join("/")}else t.pathname=r.pathname;if(t.search=r.search,t.query=r.query,t.host=r.host||"",t.auth=r.auth,t.hostname=r.hostname||r.host,t.port=r.port,t.pathname||t.search){var d=t.pathname||"",p=t.search||"";t.path=d+p}return t.slashes=t.slashes||r.slashes,t.href=t.format(),t}var b=t.pathname&&t.pathname.charAt(0)==="/",g=r.host||r.pathname&&r.pathname.charAt(0)==="/",m=g||b||t.host&&r.pathname,w=m,A=t.pathname&&t.pathname.split("/")||[],I=r.pathname&&r.pathname.split("/")||[],F=t.protocol&&!Yp[t.protocol];if(F&&(t.hostname="",t.port=null,t.host&&(A[0]===""?A[0]=t.host:A.unshift(t.host)),t.host="",r.protocol&&(r.hostname=null,r.port=null,r.host&&(I[0]===""?I[0]=r.host:I.unshift(r.host)),r.host=null),m=m&&(I[0]===""||A[0]==="")),g)t.host=r.host||r.host===""?r.host:t.host,t.hostname=r.hostname||r.hostname===""?r.hostname:t.hostname,t.search=r.search,t.query=r.query,A=I;else if(I.length)A||(A=[]),A.pop(),A=A.concat(I),t.search=r.search,t.query=r.query;else if(!_c.isNullOrUndefined(r.search)){if(F){t.hostname=t.host=A.shift();var V=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;V&&(t.auth=V.shift(),t.host=t.hostname=V.shift())}return t.search=r.search,t.query=r.query,(!_c.isNull(t.pathname)||!_c.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!A.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var P=A.slice(-1)[0],W=(t.host||r.host||A.length>1)&&(P==="."||P==="..")||P==="",ne=0,Q=A.length;Q>=0;Q--)P=A[Q],P==="."?A.splice(Q,1):P===".."?(A.splice(Q,1),ne++):ne&&(A.splice(Q,1),ne--);if(!m&&!w)for(;ne--;ne)A.unshift("..");m&&A[0]!==""&&(!A[0]||A[0].charAt(0)!=="/")&&A.unshift(""),W&&A.join("/").substr(-1)!=="/"&&A.push("");var M=A[0]===""||A[0]&&A[0].charAt(0)==="/";if(F){t.hostname=t.host=M?"":A.length?A.shift():"";var V=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;V&&(t.auth=V.shift(),t.host=t.hostname=V.shift())}return m=m||t.host&&A.length,m&&!M&&A.unshift(""),A.length?t.pathname=A.join("/"):(t.pathname=null,t.path=null),(!_c.isNull(t.pathname)||!_c.isNull(t.search))&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=r.auth||t.auth,t.slashes=t.slashes||r.slashes,t.href=t.format(),t};Po.prototype.parseHost=function(){var r=this.host,e=H0t.exec(r);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),r=r.substr(0,r.length-e.length)),r&&(this.hostname=r)}});var hv=h((Qcr,ise)=>{"use strict";var Z0t=lv(),{BigNumber:Q0t,BN:nse}=wc(),sse=jp(),Mg=class{constructor(e,t,i){if(this.tag=e,this.value=t,this.err=i,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){let t=e!=null?e[this.tag]:void 0;if(typeof t!="function"&&(t=Mg["_tag_"+this.tag],typeof t!="function"))return this;try{return t.call(Mg,this.value)}catch(i){return this.err=i,this}}static _tag_0(e){return new Date(e)}static _tag_1(e){return new Date(e*1e3)}static _tag_2(e){return sse.bufferToBignumber(e)}static _tag_3(e){return nse.MINUS_ONE.minus(sse.bufferToBignumber(e))}static _tag_4(e){return new Q0t(e[1]).shiftedBy(e[0])}static _tag_5(e){return nse.TWO.pow(e[0]).times(e[1])}static _tag_32(e){return Z0t.parse(e)}static _tag_35(e){return new RegExp(e)}};ise.exports=Mg});var Dg=h((iur,ose)=>{"use strict";var eur=ku(),elt=Hne(),tlt=hv(),rlt=Hp(),Au=jp(),Ng=jl(),{BigNumber:ilt,MT:bi,NUMBYTES:Xp,SIMPLE:tur,SYMS:Iu,BI:hT,BN:ase}=wc(),Jp=Symbol("count"),rur=Symbol("pending_key"),o0=Symbol("major type"),cse=Symbol("error"),Pg=Symbol("not found");function dT(r,e,t){let i=[];return i[Jp]=t,i[Iu.PARENT]=r,i[o0]=e,i}function nlt(r,e){let t=new Ng;return t[Jp]=-1,t[Iu.PARENT]=r,t[o0]=e,t}function slt(r){return Au.bufferToBigInt(r)}function olt(r){return hT.MINUS_ONE-Au.bufferToBigInt(r)}var dv=class extends Error{constructor(e,t){super(`Unexpected data: 0x${e.toString(16)}`);this.name="UnexpectedDataError",this.byte=e,this.value=t}};function pv(r,e){switch(typeof r){case"function":return{options:{},cb:r};case"string":return{options:{encoding:r},cb:e};case"object":return{options:r||{},cb:e};default:throw new TypeError("Unknown option type")}}var Zs=class extends elt{constructor(e={}){let{tags:t={},max_depth:i=-1,bigint:n=!0,preferWeb:s=!1,required:o=!1,encoding:a="hex",extendedResults:c=!1,...u}=e;super({defaultEncoding:a,...u});this.running=!0,this.max_depth=i,this.tags=t,this.preferWeb=s,this.extendedResults=c,this.bigint=n,c&&(this.bs.on("read",this._onRead.bind(this)),this.valueBytes=new Ng),n&&(this.tags[2]==null&&(this.tags[2]=slt),this.tags[3]==null&&(this.tags[3]=olt))}static nullcheck(e){switch(e){case Iu.NULL:return null;case Iu.UNDEFINED:return;case Pg:throw new Error("Value not found");default:return e}}static decodeFirstSync(e,t={}){if(e==null)throw new TypeError("input required");({options:t}=pv(t));let{encoding:i="hex",...n}=t,s=new Zs(n),o=Au.guessEncoding(e,i),a=s._parse(),c=a.next();for(;!c.done;){let f=o.read(c.value);if(f==null||f.length!==c.value)throw new Error("Insufficient data");s.extendedResults&&s.valueBytes.write(f),c=a.next(f)}let u;if(s.extendedResults)u=c.value,u.unused=o.read();else if(u=Zs.nullcheck(c.value),o.length>0){let f=o.read(1);throw o.unshift(f),new dv(f[0],u)}return u}static decodeAllSync(e,t={}){if(e==null)throw new TypeError("input required");({options:t}=pv(t));let{encoding:i="hex",...n}=t,s=new Zs(n),o=Au.guessEncoding(e,i),a=[];for(;o.length>0;){let c=s._parse(),u=c.next();for(;!u.done;){let f=o.read(u.value);if(f==null||f.length!==u.value)throw new Error("Insufficient data");s.extendedResults&&s.valueBytes.write(f),u=c.next(f)}a.push(Zs.nullcheck(u.value))}return a}static decodeFirst(e,t={},i){if(e==null)throw new TypeError("input required");({options:t,cb:i}=pv(t,i));let{encoding:n="hex",required:s=!1,...o}=t,a=new Zs(o),c=Pg,u=Au.guessEncoding(e,n),f=new Promise((l,d)=>{a.on("data",p=>{c=Zs.nullcheck(p),a.close()}),a.once("error",p=>a.extendedResults&&p instanceof dv?(c.unused=a.bs.slice(),l(c)):(c!==Pg&&(p.value=c),c=cse,a.close(),d(p))),a.once("end",()=>{switch(c){case Pg:return s?d(new Error("No CBOR found")):l(c);case cse:return;default:return l(c)}})});return typeof i=="function"&&f.then(l=>i(null,l),i),u.pipe(a),f}static decodeAll(e,t={},i){if(e==null)throw new TypeError("input required");({options:t,cb:i}=pv(t,i));let{encoding:n="hex",...s}=t,o=new Zs(s),a=[];o.on("data",u=>a.push(Zs.nullcheck(u)));let c=new Promise((u,f)=>{o.on("error",f),o.on("end",()=>u(a))});return typeof i=="function"&&c.then(u=>i(void 0,u),u=>i(u,void 0)),Au.guessEncoding(e,n).pipe(o),c}close(){this.running=!1,this.__fresh=!0}_onRead(e){this.valueBytes.write(e)}*_parse(){let e=null,t=0,i=null;for(;;){if(this.max_depth>=0&&t>this.max_depth)throw new Error("Maximum depth "+this.max_depth+" exceeded");let n=(yield 1)[0];if(!this.running)throw this.bs.unshift(Buffer.from([n])),new dv(n);let s=n>>5,o=n&31,a=e!=null?e[o0]:void 0,c=e!=null?e.length:void 0;switch(o){case Xp.ONE:this.emit("more-bytes",s,1,a,c),i=(yield 1)[0];break;case Xp.TWO:case Xp.FOUR:case Xp.EIGHT:let f=1<<o-24;this.emit("more-bytes",s,f,a,c);let l=yield f;i=s===bi.SIMPLE_FLOAT?l:Au.parseCBORint(o,l,this.bigint);break;case 28:case 29:case 30:throw this.running=!1,new Error("Additional info not implemented: "+o);case Xp.INDEFINITE:switch(s){case bi.POS_INT:case bi.NEG_INT:case bi.TAG:throw new Error(`Invalid indefinite encoding for MT ${s}`)}i=-1;break;default:i=o}switch(s){case bi.POS_INT:break;case bi.NEG_INT:i===Number.MAX_SAFE_INTEGER?i=this.bigint?hT.NEG_MAX:ase.NEG_MAX:i instanceof ilt?i=ase.MINUS_ONE.minus(i):i=typeof i=="bigint"?hT.MINUS_ONE-i:-1-i;break;case bi.BYTE_STRING:case bi.UTF8_STRING:switch(i){case 0:this.emit("start-string",s,i,a,c),s===bi.UTF8_STRING?i="":i=this.preferWeb?new Uint8Array(0):Buffer.allocUnsafe(0);break;case-1:this.emit("start",s,Iu.STREAM,a,c),e=nlt(e,s),t++;continue;default:this.emit("start-string",s,i,a,c),i=yield i,s===bi.UTF8_STRING?i=Au.utf8(i):this.preferWeb&&(i=new Uint8Array(i.buffer,i.byteOffset,i.length))}break;case bi.ARRAY:case bi.MAP:switch(i){case 0:i=s===bi.MAP?{}:[];break;case-1:this.emit("start",s,Iu.STREAM,a,c),e=dT(e,s,-1),t++;continue;default:this.emit("start",s,i,a,c),e=dT(e,s,i*(s-3)),t++;continue}break;case bi.TAG:this.emit("start",s,i,a,c),e=dT(e,s,1),e.push(i),t++;continue;case bi.SIMPLE_FLOAT:if(typeof i=="number"){if(o===Xp.ONE&&i<32)throw new Error(`Invalid two-byte encoding of simple value ${i}`);let f=e!=null;i=rlt.decode(i,f,f&&e[Jp]<0)}else i=Au.parseCBORfloat(i)}this.emit("value",i,a,c,o);let u=!1;for(;e!=null;){switch(!1){case i!==Iu.BREAK:e[Jp]=1;break;case!Array.isArray(e):e.push(i);break;case!(e instanceof Ng):let l=e[o0];if(l!=null&&l!==s)throw this.running=!1,new Error("Invalid major type in indefinite encoding");e.write(i)}if(--e[Jp]!=0){u=!0;break}if(--t,delete e[Jp],Array.isArray(e))switch(e[o0]){case bi.ARRAY:i=e;break;case bi.MAP:let l=!0;if(e.length%2!=0)throw new Error("Invalid map length: "+e.length);for(let p=0,b=e.length;p<b;p+=2)if(typeof e[p]!="string"){l=!1;break}if(l){i={};for(let p=0,b=e.length;p<b;p+=2)i[e[p]]=e[p+1]}else{i=new Map;for(let p=0,b=e.length;p<b;p+=2)i.set(e[p],e[p+1])}break;case bi.TAG:i=new tlt(e[0],e[1]).convert(this.tags);break}else if(e instanceof Ng)switch(e[o0]){case bi.BYTE_STRING:i=e.slice(),this.preferWeb&&(i=new Uint8Array(i.buffer,i.byteOffset,i.length));break;case bi.UTF8_STRING:i=e.toString("utf-8");break}this.emit("stop",e[o0]);let f=e;e=e[Iu.PARENT],delete f[Iu.PARENT],delete f[o0]}if(!u){if(this.extendedResults){let f=this.valueBytes.slice(),l={value:Zs.nullcheck(i),bytes:f,length:f.length};return this.valueBytes=new Ng,l}return i}}}};Zs.NOT_FOUND=Pg;ose.exports=Zs});var hse=h((aur,use)=>{"use strict";var alt=ku(),nur=No(),fse=jp(),sur=Hp(),clt=Dg(),lse=jl(),{BigNumber:our,MT:Ki,NUMBYTES:bv,SYMS:pT}=wc();function bT(r){return r>1?"s":""}function ult(r,e){switch(typeof r){case"function":return{options:{},cb:r};case"string":return{options:{encoding:r},cb:e};case"number":return{options:{max_depth:r},cb:e};case"object":return{options:r||{},cb:e};default:throw new TypeError("Unknown option type")}}var Og=class extends alt.Transform{constructor(e={}){let{depth:t=1,max_depth:i=10,no_summary:n=!1,tags:s={},bigint:o,preferWeb:a,encoding:c,...u}=e;super({...u,readableObjectMode:!1,writableObjectMode:!1});this.depth=t,this.max_depth=i,this.all=new lse,s[24]||(s[24]=this._tag_24.bind(this)),this.parser=new clt({tags:s,max_depth:i,bigint:o,preferWeb:a,encoding:c}),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("start-string",this._on_start_string.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("error",this._on_error.bind(this)),n||this.parser.on("data",this._on_data.bind(this)),this.parser.bs.on("read",this._on_read.bind(this))}_tag_24(e){let t=new Og({depth:this.depth+1,no_summary:!0});t.on("data",i=>this.push(i)),t.on("error",i=>this.emit("error",i)),t.end(e)}_transform(e,t,i){this.parser.write(e,t,i)}_flush(e){return this.parser._flush(e)}static comment(e,t={},i){if(e==null)throw new Error("input required");({options:t,cb:i}=ult(t,i));let n=new lse,{encoding:s="hex",...o}=t,a=new Og(o),c=null;return typeof i=="function"?(a.on("end",()=>{i(null,n.toString("utf8"))}),a.on("error",i)):c=new Promise((u,f)=>(a.on("end",()=>{u(n.toString("utf8"))}),a.on("error",f))),a.pipe(n),fse.guessEncoding(e,s).pipe(a),c}_on_error(e){this.push("ERROR: "),this.push(e.toString()),this.push(`
`)}_on_read(e){this.all.write(e);let t=e.toString("hex");this.push(new Array(this.depth+1).join("  ")),this.push(t);let i=(this.max_depth-this.depth)*2;return i-=t.length,i<1&&(i=1),this.push(new Array(i+1).join(" ")),this.push("-- ")}_on_more(e,t,i,n){this.depth++;let s="";switch(e){case Ki.POS_INT:s="Positive number,";break;case Ki.NEG_INT:s="Negative number,";break;case Ki.ARRAY:s="Array, length";break;case Ki.MAP:s="Map, count";break;case Ki.BYTE_STRING:s="Bytes, length";break;case Ki.UTF8_STRING:s="String, length";break;case Ki.SIMPLE_FLOAT:t===1?s="Simple value,":s="Float,";break}return this.push(s+" next "+t+" byte"+bT(t)+`
`)}_on_start_string(e,t,i,n){this.depth++;let s="";switch(e){case Ki.BYTE_STRING:s="Bytes, length: "+t;break;case Ki.UTF8_STRING:s="String, length: "+t.toString();break}return this.push(s+`
`)}_on_start(e,t,i,n){switch(this.depth++,i){case Ki.ARRAY:this.push(`[${n}], `);break;case Ki.MAP:n%2?this.push(`{Val:${Math.floor(n/2)}}, `):this.push(`{Key:${Math.floor(n/2)}}, `);break}switch(e){case Ki.TAG:this.push(`Tag #${t}`),t==24&&this.push(" Encoded CBOR data item");break;case Ki.ARRAY:t===pT.STREAM?this.push("Array (streaming)"):this.push(`Array, ${t} item${bT(t)}`);break;case Ki.MAP:t===pT.STREAM?this.push("Map (streaming)"):this.push(`Map, ${t} pair${bT(t)}`);break;case Ki.BYTE_STRING:this.push("Bytes (streaming)");break;case Ki.UTF8_STRING:this.push("String (streaming)");break}return this.push(`
`)}_on_stop(e){return this.depth--}_on_value(e,t,i,n){if(e!==pT.BREAK)switch(t){case Ki.ARRAY:this.push(`[${i}], `);break;case Ki.MAP:i%2?this.push(`{Val:${Math.floor(i/2)}}, `):this.push(`{Key:${Math.floor(i/2)}}, `);break}let s=fse.cborValueToString(e,-Infinity);switch(typeof e=="string"||Buffer.isBuffer(e)?(e.length>0&&(this.push(s),this.push(`
`)),this.depth--):(this.push(s),this.push(`
`)),n){case bv.ONE:case bv.TWO:case bv.FOUR:case bv.EIGHT:this.depth--}}_on_data(){return this.push("0x"),this.push(this.all.read().toString("hex")),this.push(`
`)}};use.exports=Og});var yse=h((lur,dse)=>{"use strict";var flt=ku(),cur=No(),llt=Dg(),uur=Hp(),pse=jp(),hlt=jl(),{BigNumber:fur,MT:is,SYMS:bse}=wc();function dlt(r,e){switch(typeof r){case"function":return{options:{},cb:r};case"string":return{options:{encoding:r},cb:e};case"object":return{options:r||{},cb:e};default:throw new TypeError("Unknown option type")}}var yv=class extends flt.Transform{constructor(e={}){let{separator:t=`
`,stream_errors:i=!1,tags:n,max_depth:s,bigint:o,preferWeb:a,encoding:c,...u}=e;super({...u,readableObjectMode:!1,writableObjectMode:!1});this.float_bytes=-1,this.separator=t,this.stream_errors=i,this.parser=new llt({tags:n,max_depth:s,bigint:o,preferWeb:a,encoding:c}),this.parser.on("more-bytes",this._on_more.bind(this)),this.parser.on("value",this._on_value.bind(this)),this.parser.on("start",this._on_start.bind(this)),this.parser.on("stop",this._on_stop.bind(this)),this.parser.on("data",this._on_data.bind(this)),this.parser.on("error",this._on_error.bind(this))}_transform(e,t,i){return this.parser.write(e,t,i)}_flush(e){return this.parser._flush(t=>this.stream_errors?(t&&this._on_error(t),e()):e(t))}static diagnose(e,t={},i){if(e==null)throw new Error("input required");({options:t,cb:i}=dlt(t,i));let{encoding:n="hex",...s}=t,o=new hlt,a=new yv(s),c=null;return typeof i=="function"?(a.on("end",()=>i(null,o.toString("utf8"))),a.on("error",i)):c=new Promise((u,f)=>(a.on("end",()=>u(o.toString("utf8"))),a.on("error",f))),a.pipe(o),pse.guessEncoding(e,n).pipe(a),c}_on_error(e){return this.stream_errors?this.push(e.toString()):this.emit("error",e)}_on_more(e,t,i,n){if(e===is.SIMPLE_FLOAT)return this.float_bytes={2:1,4:2,8:3}[t]}_fore(e,t){switch(e){case is.BYTE_STRING:case is.UTF8_STRING:case is.ARRAY:if(t>0)return this.push(", ");break;case is.MAP:if(t>0)return t%2?this.push(": "):this.push(", ")}}_on_value(e,t,i){if(e===bse.BREAK)return;this._fore(t,i);let n=this.float_bytes;return this.float_bytes=-1,this.push(pse.cborValueToString(e,n))}_on_start(e,t,i,n){switch(this._fore(i,n),e){case is.TAG:this.push(`${t}(`);break;case is.ARRAY:this.push("[");break;case is.MAP:this.push("{");break;case is.BYTE_STRING:case is.UTF8_STRING:this.push("(");break}if(t===bse.STREAM)return this.push("_ ")}_on_stop(e){switch(e){case is.TAG:return this.push(")");case is.ARRAY:return this.push("]");case is.MAP:return this.push("}");case is.BYTE_STRING:case is.UTF8_STRING:return this.push(")")}}_on_data(){return this.push(this.separator)}};dse.exports=yv});var yT=h((yur,gse)=>{"use strict";var plt=ku(),hur=lv(),mse=jl(),dur=hv(),pur=Hp(),blt=jp(),{BigNumber:bur,MT:fr,NUMBYTES:Rs,SHIFT32:xse,SIMPLE:gv,SYMS:wse,TAG:Do,BI:mv,BN:Lg}=wc(),ylt=fr.SIMPLE_FLOAT<<5|Rs.TWO,vse=fr.SIMPLE_FLOAT<<5|Rs.FOUR,Ese=fr.SIMPLE_FLOAT<<5|Rs.EIGHT,glt=fr.SIMPLE_FLOAT<<5|gv.TRUE,mlt=fr.SIMPLE_FLOAT<<5|gv.FALSE,xlt=fr.SIMPLE_FLOAT<<5|gv.UNDEFINED,wlt=fr.SIMPLE_FLOAT<<5|gv.NULL,Fg=Buffer.from([255]),vlt=Buffer.from("f97e00","hex"),Elt=Buffer.from("f9fc00","hex"),_lt=Buffer.from("f97c00","hex"),Slt=Buffer.from("f98000","hex"),xv=Symbol("CBOR_LOOP_DETECT");function klt(r){if(!r)return"number";switch(r.toLowerCase()){case"number":return"number";case"float":return"float";case"int":return"int";case"string":return"string"}throw new TypeError(`dateType invalid, got "${r}"`)}var ga=class extends plt.Transform{constructor(e={}){let{canonical:t=!1,encodeUndefined:i,disallowUndefinedKeys:n=!1,dateType:s="number",collapseBigIntegers:o=!1,detectLoops:a=!1,genTypes:c=[],...u}=e;super({...u,readableObjectMode:!1,writableObjectMode:!0});if(this.canonical=t,this.encodeUndefined=i,this.disallowUndefinedKeys=n,this.dateType=klt(s),this.collapseBigIntegers=this.canonical?!0:o,typeof a=="symbol"?this.detectLoops=a:this.detectLoops=a?Symbol("CBOR_DETECT"):null,this.semanticTypes={Array:this._pushArray,Date:this._pushDate,Buffer:this._pushBuffer,Map:this._pushMap,NoFilter:this._pushNoFilter,RegExp:this._pushRegexp,Set:this._pushSet,BigNumber:this._pushBigNumber,ArrayBuffer:this._pushUint8Array,Uint8ClampedArray:this._pushUint8Array,Uint8Array:this._pushUint8Array,Uint16Array:this._pushArray,Uint32Array:this._pushArray,Int8Array:this._pushArray,Int16Array:this._pushArray,Int32Array:this._pushArray,Float32Array:this._pushFloat32Array,Float64Array:this._pushFloat64Array,Url:this._pushUrl,URL:this._pushURL},Array.isArray(c))for(let f=0,l=c.length;f<l;f+=2)this.addSemanticType(c[f],c[f+1]);else for(let[f,l]of Object.entries(c))this.addSemanticType(f,l)}_transform(e,t,i){let n=this.pushAny(e);return i(n===!1?new Error("Push Error"):void 0)}_flush(e){return e()}addSemanticType(e,t){let i=typeof e=="string"?e:e.name,n=this.semanticTypes[i];if(t){if(typeof t!="function")throw new TypeError("fun must be of type function");this.semanticTypes[i]=t}else n&&delete this.semanticTypes[i];return n}_pushUInt8(e){let t=Buffer.allocUnsafe(1);return t.writeUInt8(e,0),this.push(t)}_pushUInt16BE(e){let t=Buffer.allocUnsafe(2);return t.writeUInt16BE(e,0),this.push(t)}_pushUInt32BE(e){let t=Buffer.allocUnsafe(4);return t.writeUInt32BE(e,0),this.push(t)}_pushFloatBE(e){let t=Buffer.allocUnsafe(4);return t.writeFloatBE(e,0),this.push(t)}_pushDoubleBE(e){let t=Buffer.allocUnsafe(8);return t.writeDoubleBE(e,0),this.push(t)}_pushNaN(){return this.push(vlt)}_pushInfinity(e){let t=e<0?Elt:_lt;return this.push(t)}_pushFloat(e){if(this.canonical){let t=Buffer.allocUnsafe(2);if(blt.writeHalf(t,e))return this._pushUInt8(ylt)&&this.push(t)}return Math.fround(e)===e?this._pushUInt8(vse)&&this._pushFloatBE(e):this._pushUInt8(Ese)&&this._pushDoubleBE(e)}_pushInt(e,t,i){let n=t<<5;switch(!1){case!(e<24):return this._pushUInt8(n|e);case!(e<=255):return this._pushUInt8(n|Rs.ONE)&&this._pushUInt8(e);case!(e<=65535):return this._pushUInt8(n|Rs.TWO)&&this._pushUInt16BE(e);case!(e<=4294967295):return this._pushUInt8(n|Rs.FOUR)&&this._pushUInt32BE(e);case!(e<=Number.MAX_SAFE_INTEGER):return this._pushUInt8(n|Rs.EIGHT)&&this._pushUInt32BE(Math.floor(e/xse))&&this._pushUInt32BE(e%xse);default:return t===fr.NEG_INT?this._pushFloat(i):this._pushFloat(e)}}_pushIntNum(e){return Object.is(e,-0)?this.push(Slt):e<0?this._pushInt(-e-1,fr.NEG_INT,e):this._pushInt(e,fr.POS_INT)}_pushNumber(e){switch(!1){case!isNaN(e):return this._pushNaN();case isFinite(e):return this._pushInfinity(e);case Math.round(e)!==e:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){let t=Buffer.byteLength(e,"utf8");return this._pushInt(t,fr.UTF8_STRING)&&this.push(e,"utf8")}_pushBoolean(e){return this._pushUInt8(e?glt:mlt)}_pushUndefined(e){switch(typeof this.encodeUndefined){case"undefined":return this._pushUInt8(xlt);case"function":return this.pushAny(this.encodeUndefined.call(this,e));case"object":if(Buffer.isBuffer(this.encodeUndefined))return this.push(this.encodeUndefined)}return this.pushAny(this.encodeUndefined)}_pushNull(e){return this._pushUInt8(wlt)}_pushArray(e,t,i){i=Object.assign({indefinite:!1},i);let n=t.length;if(i.indefinite){if(!e._pushUInt8(fr.ARRAY<<5|Rs.INDEFINITE))return!1}else if(!e._pushInt(n,fr.ARRAY))return!1;for(let s=0;s<n;s++)if(!e.pushAny(t[s]))return!1;return!(i.indefinite&&!e.push(Fg))}_pushTag(e){return this._pushInt(e,fr.TAG)}_pushDate(e,t){switch(e.dateType){case"string":return e._pushTag(Do.DATE_STRING)&&e._pushString(t.toISOString());case"int":case"integer":return e._pushTag(Do.DATE_EPOCH)&&e._pushIntNum(Math.round(t/1e3));case"float":return e._pushTag(Do.DATE_EPOCH)&&e._pushFloat(t/1e3);case"number":default:return e._pushTag(Do.DATE_EPOCH)&&e.pushAny(t/1e3)}}_pushBuffer(e,t){return e._pushInt(t.length,fr.BYTE_STRING)&&e.push(t)}_pushNoFilter(e,t){return e._pushBuffer(e,t.slice())}_pushRegexp(e,t){return e._pushTag(Do.REGEXP)&&e.pushAny(t.source)}_pushSet(e,t){if(!e._pushInt(t.size,fr.ARRAY))return!1;for(let i of t)if(!e.pushAny(i))return!1;return!0}_pushUrl(e,t){return e._pushTag(Do.URI)&&e.pushAny(t.format())}_pushURL(e,t){return e._pushTag(Do.URI)&&e.pushAny(t.toString())}_pushBigint(e){let t=fr.POS_INT,i=Do.POS_BIGINT;if(e.isNegative()&&(e=e.negated().minus(1),t=fr.NEG_INT,i=Do.NEG_BIGINT),this.collapseBigIntegers&&e.lte(Lg.MAXINT64))return e.lte(Lg.MAXINT32)?this._pushInt(e.toNumber(),t):this._pushUInt8(t<<5|Rs.EIGHT)&&this._pushUInt32BE(e.dividedToIntegerBy(Lg.SHIFT32).toNumber())&&this._pushUInt32BE(e.mod(Lg.SHIFT32).toNumber());let n=e.toString(16);n.length%2&&(n="0"+n);let s=Buffer.from(n,"hex");return this._pushTag(i)&&this._pushBuffer(this,s)}_pushJSBigint(e){let t=fr.POS_INT,i=Do.POS_BIGINT;if(e<0&&(e=-e+mv.MINUS_ONE,t=fr.NEG_INT,i=Do.NEG_BIGINT),this.collapseBigIntegers&&e<=mv.MAXINT64)return e<=4294967295?this._pushInt(Number(e),t):this._pushUInt8(t<<5|Rs.EIGHT)&&this._pushUInt32BE(Number(e/mv.SHIFT32))&&this._pushUInt32BE(Number(e%mv.SHIFT32));let n=e.toString(16);n.length%2&&(n="0"+n);let s=Buffer.from(n,"hex");return this._pushTag(i)&&this._pushBuffer(this,s)}_pushBigNumber(e,t){if(t.isNaN())return e._pushNaN();if(!t.isFinite())return e._pushInfinity(t.isNegative()?-Infinity:Infinity);if(t.isInteger())return e._pushBigint(t);if(!(e._pushTag(Do.DECIMAL_FRAC)&&e._pushInt(2,fr.ARRAY)))return!1;let i=t.decimalPlaces(),n=t.shiftedBy(i);return e._pushIntNum(-i)?n.abs().isLessThan(Lg.MAXINT)?e._pushIntNum(n.toNumber()):e._pushBigint(n):!1}_pushMap(e,t,i){if(i=Object.assign({indefinite:!1},i),i.indefinite){if(!e._pushUInt8(fr.MAP<<5|Rs.INDEFINITE))return!1}else if(!e._pushInt(t.size,fr.MAP))return!1;if(e.canonical){let n=[...t.entries()],s=new ga({genTypes:this.semanticTypes,canonical:this.canonical,detectLoops:this.detectLoops,dateType:this.dateType,disallowUndefinedKeys:this.disallowUndefinedKeys,collapseBigIntegers:this.collapseBigIntegers}),o=new mse({highWaterMark:this.readableHighWaterMark});s.pipe(o),n.sort(([a],[c])=>{s.pushAny(a);let u=o.read();s.pushAny(c);let f=o.read();return u.compare(f)});for(let[a,c]of n){if(e.disallowUndefinedKeys&&typeof a=="undefined")throw new Error("Invalid Map key: undefined");if(!(e.pushAny(a)&&e.pushAny(c)))return!1}}else for(let[n,s]of t){if(e.disallowUndefinedKeys&&typeof n=="undefined")throw new Error("Invalid Map key: undefined");if(!(e.pushAny(n)&&e.pushAny(s)))return!1}return!(i.indefinite&&!e.push(Fg))}_pushUint8Array(e,t){return e._pushBuffer(e,Buffer.from(t))}_pushFloat32Array(e,t){let i=t.length;if(!e._pushInt(i,fr.ARRAY))return!1;for(let n=0;n<i;n++)if(!e._pushUInt8(vse)||!e._pushFloatBE(t[n]))return!1;return!0}_pushFloat64Array(e,t){let i=t.length;if(!e._pushInt(i,fr.ARRAY))return!1;for(let n=0;n<i;n++)if(!e._pushUInt8(Ese)||!e._pushDoubleBE(t[n]))return!1;return!0}removeLoopDetectors(e){return this.detectLoops?ga.removeLoopDetectors(e,this.detectLoops):!1}static removeLoopDetectors(e,t=null){if(typeof e!="object"||!e)return!1;let i=e[xv];if(!i)return!1;if(t==null)t=i;else if(t!==i)return!1;if(delete e[xv],Array.isArray(e))for(let n of e)this.removeLoopDetectors(n,t);else for(let n in e)this.removeLoopDetectors(e[n],t);return!0}_pushObject(e,t){if(!e)return this._pushNull(e);if(t=Object.assign({indefinite:!1,skipTypes:!1},t),!t.indefinite&&this.detectLoops){if(e[xv]===this.detectLoops)throw new Error("Loop detected while CBOR encoding");e[xv]=this.detectLoops}if(!t.skipTypes){let o=e.encodeCBOR;if(typeof o=="function")return o.call(e,this);let a=this.semanticTypes[e.constructor.name];if(a)return a.call(e,this,e)}let i=Object.keys(e).filter(o=>typeof e[o]!="function"),n={};if(this.canonical&&i.sort((o,a)=>{let c=n[o]||(n[o]=ga.encode(o)),u=n[a]||(n[a]=ga.encode(a));return c.compare(u)}),t.indefinite){if(!this._pushUInt8(fr.MAP<<5|Rs.INDEFINITE))return!1}else if(!this._pushInt(i.length,fr.MAP))return!1;let s;for(let o=0,a=i.length;o<a;o++){let c=i[o];if(this.canonical&&(s=n[c])){if(!this.push(s))return!1}else if(!this._pushString(c))return!1;if(!this.pushAny(e[c]))return!1}return!(t.indefinite&&!this.push(Fg))}pushAny(e){switch(typeof e){case"number":return this._pushNumber(e);case"bigint":return this._pushJSBigint(e);case"string":return this._pushString(e);case"boolean":return this._pushBoolean(e);case"undefined":return this._pushUndefined(e);case"object":return this._pushObject(e);case"symbol":switch(e){case wse.NULL:return this._pushNull(null);case wse.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+e.toString())}default:throw new Error("Unknown type: "+typeof e+", "+(e.toString?e.toString():""))}}_pushAny(e){return this.pushAny(e)}_encodeAll(e){let t=new mse({highWaterMark:this.readableHighWaterMark});this.pipe(t);for(let i of e)this.pushAny(i);return this.end(),t.read()}static encodeIndefinite(e,t,i={}){if(t==null){if(this==null)throw new Error("No object to encode");t=this}let{chunkSize:n=4096,...s}=i,o=!0,a=typeof t;if(a==="string"){o=o&&e._pushUInt8(fr.UTF8_STRING<<5|Rs.INDEFINITE);let c=0;for(;c<t.length;){let u=c+n;o=o&&e._pushString(t.slice(c,u)),c=u}o=o&&e.push(Fg)}else if(Buffer.isBuffer(t)){o=o&&e._pushUInt8(fr.BYTE_STRING<<5|Rs.INDEFINITE);let c=0;for(;c<t.length;){let u=c+n;o=o&&e._pushBuffer(e,t.slice(c,u)),c=u}o=o&&e.push(Fg)}else if(Array.isArray(t))o=o&&e._pushArray(e,t,{indefinite:!0});else if(t instanceof Map)o=o&&e._pushMap(e,t,{indefinite:!0});else{if(a!=="object")throw new Error("Invalid indefinite encoding");o=o&&e._pushObject(t,{indefinite:!0,skipTypes:!0})}return o}static encode(...e){return new ga()._encodeAll(e)}static encodeCanonical(...e){return new ga({canonical:!0})._encodeAll(e)}static encodeOne(e,t){return new ga(t)._encodeAll([e])}static encodeAsync(e,t){return new Promise((i,n)=>{let s=[],o=new ga(t);o.on("data",a=>s.push(a)),o.on("error",n),o.on("finish",()=>i(Buffer.concat(s))),o.pushAny(e),o.end()})}};gse.exports=ga});var Sse=h((gur,_se)=>{"use strict";var Alt=yT(),Ilt=Dg(),Tlt=wc(),Rlt=Tlt.MT,Sc=class extends Map{constructor(e){super(e)}static _encode(e){return Alt.encodeCanonical(e).toString("base64")}static _decode(e){return Ilt.decodeFirstSync(e,"base64")}get(e){return super.get(Sc._encode(e))}set(e,t){return super.set(Sc._encode(e),t)}delete(e){return super.delete(Sc._encode(e))}has(e){return super.has(Sc._encode(e))}*keys(){for(let e of super.keys())yield Sc._decode(e)}*entries(){for(let e of super.entries())yield[Sc._decode(e[0]),e[1]]}[Symbol.iterator](){return this.entries()}forEach(e,t){if(typeof e!="function")throw new TypeError("Must be function");for(let i of super.entries())e.call(this,i[1],Sc._decode(i[0]),this)}encodeCBOR(e){if(!e._pushInt(this.size,Rlt.MAP))return!1;if(e.canonical){let t=Array.from(super.entries()).map(i=>[Buffer.from(i[0],"base64"),i[1]]);t.sort((i,n)=>i[0].compare(n[0]));for(let i of t)if(!(e.push(i[0])&&e.pushAny(i[1])))return!1}else for(let t of super.entries())if(!(e.push(Buffer.from(t[0],"base64"))&&e.pushAny(t[1])))return!1;return!0}};_se.exports=Sc});var gT=h(Nt=>{"use strict";Nt.BigNumber=wc().BigNumber;Nt.Commented=hse();Nt.Diagnose=yse();Nt.Decoder=Dg();Nt.Encoder=yT();Nt.Simple=Hp();Nt.Tagged=hv();Nt.Map=Sse();Nt.comment=Nt.Commented.comment;Nt.decodeAll=Nt.Decoder.decodeAll;Nt.decodeFirst=Nt.Decoder.decodeFirst;Nt.decodeAllSync=Nt.Decoder.decodeAllSync;Nt.decodeFirstSync=Nt.Decoder.decodeFirstSync;Nt.diagnose=Nt.Diagnose.diagnose;Nt.encode=Nt.Encoder.encode;Nt.encodeCanonical=Nt.Encoder.encodeCanonical;Nt.encodeOne=Nt.Encoder.encodeOne;Nt.encodeAsync=Nt.Encoder.encodeAsync;Nt.decode=Nt.Decoder.decodeFirstSync;Nt.leveldb={decode:Nt.Decoder.decodeFirstSync,encode:Nt.Encoder.encode,buffer:!0,name:"cbor"};Nt.hasBigInt=!0});var Zp=h((xur,kse)=>{"use strict";var Ase=ot(),qlt=qe(),Blt=xre(),Clt=De(),Ise=b6(),Mlt=dg(),a0=gT(),Nlt=kf(),wv=nn();function Plt(r){let e=`Invalid type '${r}', must be one of {direct, indirect, recursive, all}`;return qlt(new Error(e),"ERR_INVALID_PIN_TYPE")}var Tse=Nlt.encoding("base32upper");function vv(r){return`/${Tse.encode(r.multihash)}`}function Rse(r){return Tse.decode(r.toString().slice(1))}var Oo={direct:"direct",recursive:"recursive",indirect:"indirect",all:"all"},mT=class{constructor({repo:e,dagReader:t}){this.repo=e,this.dag=t,this.log=Clt("ipfs:pin"),this.directPins=new Set,this.recursivePins=new Set}async*_walkDag(e,{preload:t=!1}){let{value:i}=await this.dag.get(e,{preload:t});if(e.codec==="dag-pb")for(let n of i.Links)yield n.Hash,yield*this._walkDag(n.Hash,{preload:t});else if(e.codec==="dag-cbor")for(let[,n]of Blt(i))yield n,yield*this._walkDag(n,{preload:t})}async pinDirectly(e,t={}){await this.dag.get(e,t);let i={depth:0};return e.version!==0&&(i.version=e.version),e.codec!=="dag-pb"&&(i.codec=wv.getNumber(e.codec)),t.metadata&&(i.metadata=t.metadata),this.repo.pins.put(vv(e),a0.encode(i))}async unpin(e,t){return this.repo.pins.delete(vv(e))}async pinRecursively(e,t={}){await this.fetchCompleteDag(e,t);let i={depth:Infinity};e.version!==0&&(i.version=e.version),e.codec!=="dag-pb"&&(i.codec=wv.getNumber(e.codec)),t.metadata&&(i.metadata=t.metadata),await this.repo.pins.put(vv(e),a0.encode(i))}async*directKeys(e){for await(let t of this.repo.pins.query({filters:[i=>a0.decode(i.value).depth===0]})){let i=a0.decode(t.value),n=i.version||0,s=i.codec?wv.getName(i.codec):"dag-pb",o=Rse(t.key);yield{cid:new Ase(n,s,o),metadata:i.metadata}}}async*recursiveKeys(e){for await(let t of this.repo.pins.query({filters:[i=>a0.decode(i.value).depth===Infinity]})){let i=a0.decode(t.value),n=i.version||0,s=i.codec?wv.getName(i.codec):"dag-pb",o=Rse(t.key);yield{cid:new Ase(n,s,o),metadata:i.metadata}}}async*indirectKeys({preload:e}){for await(let{cid:t}of this.recursiveKeys())for await(let i of this._walkDag(t,{preload:e})){let n=[Oo.recursive];(await this.isPinnedWithType(i,n)).pinned||(yield i)}}async isPinnedWithType(e,t,i){Array.isArray(t)||(t=[t]);let n=t.includes(Oo.all),s=t.includes(Oo.direct),o=t.includes(Oo.recursive),a=t.includes(Oo.indirect);if(o||s||n){let f=await Ise(this.repo.pins.query({prefix:vv(e),filters:[l=>{if(n)return!0;let d=a0.decode(l.value);return t.includes(d.depth===0?Oo.direct:Oo.recursive)}],limit:1}));if(f){let l=a0.decode(f.value);return{cid:e,pinned:!0,reason:l.depth===0?Oo.direct:Oo.recursive,metadata:l.metadata}}}let c=this;async function*u(f,l){for await(let{cid:d}of l)for await(let p of c._walkDag(d,{preload:!1}))if(p.equals(f)){yield d;return}}if(n||a){let f=await Ise(u(e,this.recursiveKeys()));if(f)return{cid:e,pinned:!0,reason:Oo.indirect,parent:f}}return{cid:e,pinned:!1}}async fetchCompleteDag(e,t){await Mlt(this._walkDag(e,{preload:t.preload}))}static checkPinType(e){if(typeof e!="string"||!Object.keys(Oo).includes(e))throw Plt(e);return!0}};mT.PinTypes=Oo;kse.exports=mT});var _v=h((wur,qse)=>{"use strict";var Ev=qe(),xT=ot();qse.exports=async function*(e){if(e==null)throw Ev(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if(xT.isCID(e)){yield ma({cid:e});return}if(e instanceof String||typeof e=="string"){yield ma({path:e});return}if(e.cid!=null||e.path!=null)return yield ma(e);if(e[Symbol.iterator]){let t=e[Symbol.iterator](),i=t.next();if(i.done)return t;if(xT.isCID(i.value)||i.value instanceof String||typeof i.value=="string"){yield ma({cid:i.value});for(let n of t)yield ma({cid:n});return}if(i.value.cid!=null||i.value.path!=null){yield ma(i.value);for(let n of t)yield ma(n);return}throw Ev(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}if(e[Symbol.asyncIterator]){let t=e[Symbol.asyncIterator](),i=await t.next();if(i.done)return t;if(xT.isCID(i.value)||i.value instanceof String||typeof i.value=="string"){yield ma({cid:i.value});for await(let n of t)yield ma({cid:n});return}if(i.value.cid!=null||i.value.path!=null){yield ma(i.value);for await(let n of t)yield ma(n);return}throw Ev(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}throw Ev(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")};function ma(r){let e={path:r.path==null?r.cid:`${r.path}`,recursive:r.recursive!==!1};return r.metadata!=null&&(e.metadata=r.metadata),e}});var Mse=h((vur,Bse)=>{"use strict";var{resolvePath:Dlt}=pi(),Olt=Zp(),{PinTypes:Cse}=Olt,Llt=Ke(),Flt=_v();Bse.exports=({pinManager:r,gcLock:e,dagReader:t})=>{async function*i(n,s={}){let o=async function*(){for await(let{path:u,recursive:f,metadata:l}of Flt(n)){let d=await Dlt(t,u),{reason:p}=await r.isPinnedWithType(d,[Cse.recursive,Cse.direct]);if(p==="recursive"&&!f)throw new Error(`${d} already pinned recursively`);f?await r.pinRecursively(d,{metadata:l}):await r.pinDirectly(d,{metadata:l}),yield d}};if(!Boolean(s.lock)){yield*o();return}let c=await e.readLock();try{yield*o()}finally{c()}}return Llt(i)}});var Dse=h((Eur,Nse)=>{"use strict";var Pse=Zp(),{PinTypes:qs}=Pse,Ult=_v(),{resolvePath:zlt}=pi(),Klt=Ke();function Ug(r,e,t){let i={type:r,cid:e};return t&&(i.metadata=t),i}Nse.exports=({pinManager:r,dagReader:e})=>{async function*t(i={}){let n=qs.all;if(i.type?(n=i.type,typeof i.type=="string"&&(n=i.type.toLowerCase()),Pse.checkPinType(n)):i.type=qs.all,i.paths){let s=!1;for await(let{path:o}of Ult(i.paths)){let a=await zlt(e,o),{reason:c,pinned:u,parent:f,metadata:l}=await r.isPinnedWithType(a,n);if(!u)throw new Error(`path '${o}' is not pinned`);switch(c){case qs.direct:case qs.recursive:s=!0,yield Ug(c,a,l);break;default:s=!0,yield Ug(`${qs.indirect} through ${f}`,a,l)}}if(!s)throw new Error("No match found");return}if(n===qs.recursive||n===qs.all)for await(let{cid:s,metadata:o}of r.recursiveKeys())yield Ug(qs.recursive,s,o);if(n===qs.indirect||n===qs.all)for await(let s of r.indirectKeys(i))yield Ug(qs.indirect,s);if(n===qs.direct||n===qs.all)for await(let{cid:s,metadata:o}of r.directKeys())yield Ug(qs.direct,s,o)}return Klt(t)}});var Lse=h((_ur,Ose)=>{"use strict";var Vlt=gc();Ose.exports=({rmAll:r})=>async(e,t)=>await Vlt(r({path:e,...t},t))});var Use=h((Sur,Fse)=>{"use strict";var jlt=_v(),{resolvePath:Hlt}=pi(),Glt=Ke(),{PinTypes:wT}=Zp();Fse.exports=({pinManager:r,gcLock:e,dagReader:t})=>{async function*i(n,s={}){let o=await e.readLock();try{for await(let{path:a,recursive:c}of jlt(n)){let u=await Hlt(t,a),{pinned:f,reason:l}=await r.isPinnedWithType(u,wT.all);if(!f)throw new Error(`${u} is not pinned`);switch(l){case wT.recursive:if(!c)throw new Error(`${u} is pinned recursively`);await r.unpin(u),yield u;break;case wT.direct:await r.unpin(u),yield u;break;default:throw new Error(`${u} is pinned indirectly under ${l}`)}}}finally{o()}}return Glt(i)}});var Vse=h((kur,zse)=>{"use strict";var $lt=pte(),Wlt=Mse(),Ylt=Dse(),Xlt=Lse(),Jlt=Use(),Kse=class{constructor({gcLock:e,dagReader:t,pinManager:i}){let n=Wlt({gcLock:e,dagReader:t,pinManager:i});this.addAll=n,this.add=$lt({addAll:n});let s=Jlt({gcLock:e,dagReader:t,pinManager:i});this.rmAll=s,this.rm=Xlt({rmAll:s}),this.ls=Ylt({dagReader:t,pinManager:i})}};zse.exports=Kse});var jse=h((Iur,vT)=>{var Aur=function(){typeof vT!="undefined"&&(vT.exports=w);var r=24*3600,e=3200,t=(365*400+97)*e/400,i=r*t,n=i*1e3,s=1e3*1e4*1e4*r,o=16777216,a=65536*65536,c=1e3*1e3,u=1e3*1e3*1e3,f="000000000",l=Math.trunc||q,d=w.prototype;w.fromDate=Q,w.fromInt64BE=$(0,1,2,3,0,4),w.fromInt64LE=$(3,2,1,0,4,0),w.fromString=ne,w.fromTimeT=M,d.year=0,d.time=0,d.nano=0,d.addNano=P,d.getNano=W,d.getTimeT=v,d.getYear=A,d.toDate=F,d.toJSON=k,d.toString=N,d.writeInt64BE=L(0,1,2,3,0,4),d.writeInt64LE=L(3,2,1,0,4,0);var p="%Y-%m-%dT%H:%M:%S.%NZ",b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m={"%":"%",F:"%Y-%m-%d",n:`
`,R:"%H:%M",T:"%H:%M:%S",t:"	",X:"%T",Z:"GMT",z:"+0000"};return w;function w(G,be,U){var _=this;if(!(_ instanceof w))return new w(G,be,U);_.time=+G||0,_.nano=+be||0,_.year=+U||0,I(_)}function A(){var G=this.toDate().getUTCFullYear();return G+this.year}function I(G){var be=G.year,U=G.time,_=G.nano,ue,fe;if(_<0||c<=_){var E=Math.floor(_/c);_-=E*c,U+=E,ue=1}var T=be%e;if(U<-s||s<U||T){fe=l(U/n),fe&&(be+=fe*e,U-=fe*n);var D=V(U);D.setUTCFullYear(T+D.getUTCFullYear()),be-=T,U=+D,fe=l(be/e);var K=U+fe*n;fe&&-s<=K&&K<=s&&(be-=fe*e,U=K),ue=1}return ue&&(G.year=be,G.time=U,G.nano=_),G}function F(){var G=I(this);return V(G.time)}function V(G){var be=new Date(0);return be.setTime(G),be}function P(G){return this.nano+=+G||0,this}function W(){var G=I(this);return(G.time%1e3*c+ +G.nano+u)%u}function ne(G){var be,U=new w;G+="";var _=G.replace(/^\s*[+\-]?\d+/,function(ue){var fe=+ue,E=1970+(fe-1970)%400;return U.year=fe-E,E}).replace(/(?:Z|([+\-]\d{2}):?(\d{2}))$/,function(ue,fe,E){return fe<0&&(E*=-1),be=(+fe*60+ +E)*6e4,""}).replace(/\.\d+$/,function(ue){return U.nano=+(ue+f).substr(1,9),""}).split(/\D+/);if(_.length>1?_[1]--:_[1]=0,U.time=be=Date.UTC.apply(Date,_)-(be||0),isNaN(be))throw new TypeError("Invalid Date");return I(U)}function Q(G){return new w(+G)}function M(G){return y(G,0)}function y(G,be){be|=0,be*=a,G=+G||0;var U=l(be/i)+l(G/i),_=be%i+G%i,ue=l(_/i);return ue&&(U+=ue,_-=ue*i),new w(_*1e3,0,U*e)}function v(){var G=I(this),be=Math.floor(G.time/1e3),U=G.year;return U&&(be+=U*t*r/e),be}function k(){return this.toString().replace(/0{1,6}Z$/,"Z")}function N(G){var be=this,U=be.toDate(),_={H:K,L:Z,M:H,N:J,S:ee,Y:fe,a:te,b:ae,d:T,e:D,m:E};return ue(G||p);function ue(ce){return ce.replace(/%./g,function(ye){var Me=ye[1],Be=m[Me],Je=_[Me];return Be?ue(Be):Je?Je():ye})}function fe(){var ce=be.getYear();return ce>999999?"+"+ce:ce>9999?"+"+pe(ce,6):ce>=0?pe(ce,4):ce>=-999999?"-"+pe(-ce,6):ce}function E(){return z(U.getUTCMonth()+1)}function T(){return z(U.getUTCDate())}function D(){return x(U.getUTCDate())}function K(){return z(U.getUTCHours())}function H(){return z(U.getUTCMinutes())}function ee(){return z(U.getUTCSeconds())}function Z(){return pe(U.getUTCMilliseconds(),3)}function J(){return pe(be.getNano(),9)}function te(){return g[U.getUTCDay()]}function ae(){return b[U.getUTCMonth()]}}function L(G,be,U,_,ue,fe){return E;function E(D,K){var H=I(this);D||(D=new Array(8)),X(D,K|=0);var ee=Math.floor(H.time/1e3),Z=H.year*(t*r/e),J=l(Z/a)+l(ee/a),te=Z%a+ee%a,ae=Math.floor(te/a);return ae&&(J+=ae,te-=ae*a),T(D,K+ue,J),T(D,K+fe,te),D}function T(D,K,H){D[K+G]=H>>24&255,D[K+be]=H>>16&255,D[K+U]=H>>8&255,D[K+_]=H&255}}function $(G,be,U,_,ue,fe){return E;function E(D,K){X(D,K|=0);var H=T(D,K+ue),ee=T(D,K+fe);return y(ee,H)}function T(D,K){return D[K+G]*o+(D[K+be]<<16|D[K+U]<<8|D[K+_])}}function X(G,be){var U=G&&G.length;if(U==null)throw new TypeError("Invalid Buffer");if(U<be+8)throw new RangeError("Out of range")}function q(G){var be=G-G%1;return be===0&&(G<0||G===0&&1/G!=1/0)?-0:be}function x(G){return(G>9?"":" ")+(G|0)}function z(G){return(G>9?"":"0")+(G|0)}function pe(G,be){return(f+(G|0)).substr(-be)}}()});var Sv=h((Tur,Hse)=>{"use strict";var{TextEncoder:Zlt,TextDecoder:Qlt}=ct(),eht=new Qlt,tht=r=>eht.decode(r),rht=new Zlt,iht=r=>rht.encode(r);function nht(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}Hse.exports={decodeText:tht,encodeText:iht,concat:nht}});var Wse=h((Rur,Gse)=>{"use strict";var{encodeText:sht}=Sv(),$se=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=sht(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};Gse.exports=$se});var Xse=h((qur,Yse)=>{"use strict";var oht=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},aht=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},cht=r=>e=>({encode(t){return aht(t,e,r)},decode(t){return oht(t,e,r)}});Yse.exports={rfc4648:cht}});var eoe=h((Bur,Jse)=>{"use strict";var zg=ri(),uht=Wse(),{rfc4648:gn}=Xse(),{decodeText:fht,encodeText:lht}=Sv(),hht=()=>({encode:fht,decode:lht}),Zse=[["identity","\0",hht,""],["base2","0",gn(1),"01"],["base8","7",gn(3),"01234567"],["base10","9",zg,"0123456789"],["base16","f",gn(4),"0123456789abcdef"],["base16upper","F",gn(4),"0123456789ABCDEF"],["base32hex","v",gn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",gn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",gn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",gn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",gn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",gn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",gn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",gn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",gn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",zg,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",zg,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",zg,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",zg,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",gn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",gn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",gn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",gn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Qse=Zse.reduce((r,e)=>(r[e[0]]=new uht(e[0],e[1],e[2],e[3]),r),{}),dht=Zse.reduce((r,e)=>(r[e[1]]=Qse[e[0]],r),{});Jse.exports={names:Qse,codes:dht}});var ET=h((Tu,toe)=>{"use strict";var Qp=eoe(),{encodeText:pht,decodeText:kv,concat:roe}=Sv();function yht(r,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:t,codeBuf:i}=Hl(r);return bht(t,e),roe([i,e],i.length+e.length)}function ght(r,e){let t=Hl(r),i=pht(t.encode(e));return roe([t.codeBuf,i],t.codeBuf.length+i.length)}function mht(r){r instanceof Uint8Array&&(r=kv(r));let e=r[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(r=r.toLowerCase()),Hl(r[0]).decode(r.substring(1))}function xht(r){if(r instanceof Uint8Array&&(r=kv(r)),Object.prototype.toString.call(r)!=="[object String]")return!1;try{return Hl(r[0]).name}catch(e){return!1}}function bht(r,e){Hl(r).decode(kv(e))}function Hl(r){if(Object.prototype.hasOwnProperty.call(Qp.names,r))return Qp.names[r];if(Object.prototype.hasOwnProperty.call(Qp.codes,r))return Qp.codes[r];throw new Error(`Unsupported encoding: ${r}`)}function wht(r){return r instanceof Uint8Array&&(r=kv(r)),Hl(r[0])}Tu=toe.exports=yht;Tu.encode=ght;Tu.decode=mht;Tu.isEncoded=xht;Tu.encoding=Hl;Tu.encodingFromData=wht;Tu.names=Object.freeze(Qp.names);Tu.codes=Object.freeze(Qp.codes)});var noe=h((Cur,ioe)=>{"use strict";var vht=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});ioe.exports={names:vht}});var loe=h((Mur,soe)=>{"use strict";var ooe=ET(),e1=ii(),{names:Kg}=noe(),Av=dr(),Eht=pr(),_ht=Gs(),Vg={};for(let r in Kg){let e=r;Vg[Kg[e]]=e}function Sht(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return Av(r,"base16")}function kht(r){return Eht(r,"base16")}function Aht(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return Av(ooe.encode("base58btc",r)).slice(1)}function Iht(r){let e=r instanceof Uint8Array?Av(r):r;return ooe.decode("z"+e)}function coe(r){if(!(r instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(r.length<2)throw new Error("multihash too short. must be > 2 bytes.");let e=e1.decode(r);if(!aoe(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);r=r.slice(e1.decode.bytes);let t=e1.decode(r);if(t<0)throw new Error(`multihash invalid length: ${t}`);if(r=r.slice(e1.decode.bytes),r.length!==t)throw new Error(`multihash length inconsistent: 0x${Av(r,"base16")}`);return{code:e,name:Vg[e],length:t,digest:r}}function Tht(r,e,t){if(!r||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");let i=uoe(e);if(!(r instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(t==null&&(t=r.length),t&&r.length!==t)throw new Error("digest length should be equal to specified length.");let n=e1.encode(i),s=e1.encode(t);return _ht([n,s,r],n.length+s.length+r.length)}function uoe(r){let e=r;if(typeof r=="string"){if(Kg[r]===void 0)throw new Error(`Unrecognized hash function named: ${r}`);e=Kg[r]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(Vg[e]===void 0&&!_T(e))throw new Error(`Unrecognized function code: ${e}`);return e}function _T(r){return r>0&&r<16}function aoe(r){return!!(_T(r)||Vg[r])}function foe(r){coe(r)}function Rht(r){return foe(r),r.subarray(0,2)}soe.exports={names:Kg,codes:Object.freeze(Vg),toHexString:Sht,fromHexString:kht,toB58String:Aht,fromB58String:Iht,decode:coe,encode:Tht,coerceCode:uoe,isAppCode:_T,validate:foe,prefix:Rht,isValidCode:aoe}});var doe=h((Nur,hoe)=>{"use strict";var qht=ni(),Bht=`
message IpnsEntry {
  enum ValidityType {
		EOL = 0; // setting an EOL says "this record is valid until..."
	}

  required bytes value = 1;
	required bytes signature = 2;

	optional ValidityType validityType = 3;
	optional bytes validity = 4;

	optional uint64 sequence = 5;

	optional uint64 ttl = 6;

	// in order for nodes to properly validate a record upon receipt, they need the public
	// key associated with it. For old RSA keys, its easiest if we just send this as part of
	// the record itself. For newer ed25519 keys, the public key can be embedded in the
	// peerID, making this field unnecessary.
	optional bytes pubKey = 7;
}
`;hoe.exports=qht(Bht).IpnsEntry});var poe=h((Pur,ST)=>{"use strict";ST.exports.toRFC3339=r=>{let e=r.getUTCFullYear(),t=String(r.getUTCMonth()+1).padStart(2,"0"),i=String(r.getUTCDate()).padStart(2,"0"),n=String(r.getUTCHours()).padStart(2,"0"),s=String(r.getUTCMinutes()).padStart(2,"0"),o=String(r.getUTCSeconds()).padStart(2,"0"),c=r.getUTCMilliseconds()*1e3*1e3;return`${e}-${t}-${i}T${n}:${s}:${o}.${c}Z`};ST.exports.parseRFC3339=r=>{let e=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)Z"),t=String(r).trim().match(e);if(!t)throw new Error("Invalid format");let i=parseInt(t[1],10),n=parseInt(t[2],10)-1,s=parseInt(t[3],10),o=parseInt(t[4],10),a=parseInt(t[5],10),c=parseInt(t[6],10),u=parseInt(t[7].slice(0,-6),10);return new Date(Date.UTC(i,n,s,o,a,c,u))}});var boe=h(Ru=>{"use strict";Ru.ERR_IPNS_EXPIRED_RECORD="ERR_IPNS_EXPIRED_RECORD";Ru.ERR_UNRECOGNIZED_VALIDITY="ERR_UNRECOGNIZED_VALIDITY";Ru.ERR_SIGNATURE_CREATION="ERR_SIGNATURE_CREATION";Ru.ERR_SIGNATURE_VERIFICATION="ERR_SIGNATURE_VERIFICATION";Ru.ERR_UNRECOGNIZED_FORMAT="ERR_UNRECOGNIZED_FORMAT";Ru.ERR_PEER_ID_FROM_PUBLIC_KEY="ERR_PEER_ID_FROM_PUBLIC_KEY";Ru.ERR_PUBLIC_KEY_FROM_ID="ERR_PUBLIC_KEY_FROM_ID";Ru.ERR_UNDEFINED_PARAMETER="ERR_UNDEFINED_PARAMETER"});var t1=h((Our,yoe)=>{"use strict";var Cht=jse(),{Key:jg}=ur(),kT=pc(),goe=yt(),moe=loe(),kc=qe(),Mht=ET(),Gl=pr(),Nht=dr(),Hg=Gs(),xoe=De(),Bs=xoe("jsipns");Bs.error=xoe("jsipns:error");var Gg=doe(),{parseRFC3339:Pht}=poe(),xa=boe(),Dht=moe.names.id,woe="/ipns/",Oht=(r,e,t,i)=>{let n=new Cht(Date.now()+Number(i)).toString(),s=Gg.ValidityType.EOL;return voe(r,e,t,n,s)},Lht=(r,e,t,i)=>{let n=Gg.ValidityType.EOL;return voe(r,e,t,i,n)},voe=async(r,e,t,i,n)=>{let s=await Fht(r,e,n,i),o={value:Gl(e),signature:s,validityType:n,validity:Gl(i),sequence:t};return Bs(`ipns entry for ${e} created`),o},_oe=async(r,e)=>{let{value:t,validityType:i,validity:n}=e,s=Eoe(t,i,n),o;try{o=await r.verify(s,e.signature)}catch(a){o=!1}if(!o)throw Bs.error("record signature verification failed"),kc(new Error("record signature verification failed"),xa.ERR_SIGNATURE_VERIFICATION);if(i===Gg.ValidityType.EOL){let a;try{a=Pht(Nht(n))}catch(c){throw Bs.error("unrecognized validity format (not an rfc3339 format)"),kc(new Error("unrecognized validity format (not an rfc3339 format)"),xa.ERR_UNRECOGNIZED_FORMAT)}if(a<Date.now())throw Bs.error("record has expired"),kc(new Error("record has expired"),xa.ERR_IPNS_EXPIRED_RECORD)}else if(i)throw Bs.error("unrecognized validity type"),kc(new Error("unrecognized validity type"),xa.ERR_UNRECOGNIZED_VALIDITY);Bs(`ipns entry for ${t} is valid`)},zht=async(r,e)=>{if(!r||!r.bytes||!e){let n=new Error("one or more of the provided parameters are not defined");throw Bs.error(n),kc(n,xa.ERR_UNDEFINED_PARAMETER)}let t;try{t=await goe.createFromPubKey(r.bytes)}catch(n){throw kc(n,xa.ERR_PEER_ID_FROM_PUBLIC_KEY)}let i;try{i=Uht(t)}catch(n){throw Bs.error(n),kc(n,xa.ERR_PUBLIC_KEY_FROM_ID)}if(i)return null;try{e.pubKey=kT.keys.marshalPublicKey(r)}catch(n){throw Bs.error(n),n}return e},Soe=(r,e)=>{if(!e||!r){let t=new Error("one or more of the provided parameters are not defined");throw Bs.error(t),kc(t,xa.ERR_UNDEFINED_PARAMETER)}if(e.pubKey){let t;try{t=kT.keys.unmarshalPublicKey(e.pubKey)}catch(i){throw Bs.error(i),i}return t}if(r.pubKey)return r.pubKey;throw Object.assign(new Error("no public key is available"),{code:xa.ERR_UNDEFINED_PARAMETER})},AT=r=>Mht.encode("base32",r).toString().slice(1).toUpperCase(),Kht=r=>new jg(`/ipns/${AT(r)}`),Vht=r=>{let e=Gl("/pk/"),t=Gl("/ipns/");return{routingPubKey:new jg(Hg([e,r]),!1),pkKey:new jg(AT(Hg([e,r]))),routingKey:new jg(Hg([t,r]),!1),ipnsKey:new jg(AT(Hg([t,r])))}},Fht=(r,e,t,i)=>{try{let n=Eoe(e,t,i);return r.sign(n)}catch(n){throw Bs.error("record signature creation failed"),kc(new Error("record signature creation failed: "+n.message),xa.ERR_SIGNATURE_CREATION)}},jht=r=>{if(r.toString()==="0")return"EOL";let e=new Error(`unrecognized validity type ${r.toString()}`);throw Bs.error(e),kc(e,xa.ERR_UNRECOGNIZED_VALIDITY)},Eoe=(r,e,t)=>{r instanceof Uint8Array||(r=Gl(r)),t instanceof Uint8Array||(t=Gl(t));let i=Gl(jht(e));return Hg([r,t,i])},Uht=r=>{let e=moe.decode(r.id);return e.code!==Dht?null:kT.keys.unmarshalPublicKey(e.digest)},Hht=Gg.encode,Iv=Gg.decode,Ght={validate:async(r,e)=>{let t=Iv(r),i=e.slice("/ipns/".length),n=goe.createFromBytes(i),s=Soe(n,t);return await _oe(s,t),!0},select:(r,e)=>{let t=Iv(r),i=Iv(e);return t.sequence>i.sequence?0:1}};yoe.exports={create:Oht,createWithExpiration:Lht,validate:_oe,embedPublicKey:zht,extractPublicKey:Soe,getLocalKey:Kht,getIdKeys:Vht,marshal:Hht,unmarshal:Iv,validator:Ght,namespace:woe,namespaceLength:woe.length}});var Boe=h((koe,Aoe)=>{"use strict";var Tv=yt(),{Key:Ioe,Errors:$ht}=ur(),ns=qe(),Toe=De(),_i=Object.assign(Toe("ipfs:ipns:publisher"),{error:Toe("ipfs:ipns:publisher:error")}),Rv=dr(),qu=t1(),Roe=$ht.notFoundError().code,qoe=60*60*1e3,IT=class{constructor(e,t){this._routing=e,this._datastore=t}async publishWithEOL(e,t,i){if(!e||!e.bytes)throw ns(new Error("invalid private key"),"ERR_INVALID_PRIVATE_KEY");let n=await Tv.createFromPrivKey(e.bytes),s=await this._updateOrCreateRecord(e,t,i,n);return this._putRecordToRouting(s,n)}publish(e,t){return this.publishWithEOL(e,t,qoe)}async _putRecordToRouting(e,t){if(!Tv.isPeerId(t)){let o="peerId received is not valid";throw _i.error(o),ns(new Error(o),"ERR_INVALID_PEER_ID")}let i=t._pubKey,n=await qu.embedPublicKey(i,e),s=qu.getIdKeys(t.toBytes());return await this._publishEntry(s.routingKey,n||e),await this._publishPublicKey(s.routingPubKey,i),n||e}async _publishEntry(e,t){if(!Ioe.isKey(e)){let n="datastore key does not have a valid format";throw _i.error(n),ns(new Error(n),"ERR_INVALID_DATASTORE_KEY")}let i;try{i=qu.marshal(t)}catch(n){throw _i.error(n),n}try{let n=await this._routing.put(e.uint8Array(),i);return _i(`ipns record for ${Rv(e.uint8Array(),"base64")} was stored in the routing`),n}catch(n){let s=`ipns record for ${Rv(e.uint8Array(),"base64")} could not be stored in the routing`;throw _i.error(s),_i.error(n),ns(new Error(s),"ERR_PUTTING_TO_ROUTING")}}async _publishPublicKey(e,t){if(!Ioe.isKey(e)){let i="datastore key does not have a valid format";throw _i.error(i),ns(new Error(i),"ERR_INVALID_DATASTORE_KEY")}if(!t||!t.bytes){let i="one or more of the provided parameters are not defined";throw _i.error(i),ns(new Error(i),"ERR_UNDEFINED_PARAMETER")}try{let i=await this._routing.put(e.uint8Array(),t.bytes);return _i(`public key for ${Rv(e.uint8Array(),"base64")} was stored in the routing`),i}catch(i){let n=`public key for ${Rv(e.uint8Array(),"base64")} could not be stored in the routing`;throw _i.error(n),_i.error(i),ns(new Error(n),"ERR_PUTTING_TO_ROUTING")}}async _getPublished(e,t={}){if(!Tv.isPeerId(e)){let n="peerId received is not valid";throw _i.error(n),ns(new Error(n),"ERR_INVALID_PEER_ID")}let i=t.checkRouting!==!1;try{let n=await this._datastore.get(qu.getLocalKey(e.id));return this._unmarshalData(n)}catch(n){if(n.code!==Roe){let s=`unexpected error getting the ipns record ${e.id} from datastore`;throw _i.error(s),ns(new Error(s),"ERR_UNEXPECTED_DATASTORE_RESPONSE")}if(!i)throw ns(n);try{let s=qu.getIdKeys(e.toBytes()),o=await this._routing.get(s.routingKey.uint8Array());return this._unmarshalData(o)}catch(s){throw _i.error(s),s}}}_unmarshalData(e){try{return qu.unmarshal(e)}catch(t){throw ns(t,"ERR_INVALID_RECORD_DATA")}}async _updateOrCreateRecord(e,t,i,n){if(!Tv.isPeerId(n)){let u="peerId received is not valid";throw _i.error(u),ns(new Error(u),"ERR_INVALID_PEER_ID")}let s={checkRouting:!0},o;try{o=await this._getPublished(n,s)}catch(u){if(u.code!==Roe){let f=`unexpected error when determining the last published IPNS record for ${n.id} ${u.stack}`;throw _i.error(f),ns(new Error(f),"ERR_DETERMINING_PUBLISHED_RECORD")}}let a=0;o&&o.sequence!==void 0&&(a=o.value.toString()!==t?o.sequence+1:o.sequence);let c;try{c=await qu.create(e,t,a,i)}catch(u){let f=`ipns record for ${t} could not be created`;throw _i.error(u),ns(new Error(f),"ERR_CREATING_IPNS_RECORD")}try{let u=qu.marshal(c);return await this._datastore.put(qu.getLocalKey(n.id),u),_i(`ipns record for ${t} was stored in the datastore`),c}catch(u){let f=`ipns record for ${t} could not be stored in the datastore`;throw _i.error(f),ns(new Error(f),"ERR_STORING_IN_DATASTORE")}}};IT.defaultRecordLifetime=qoe;koe=Aoe.exports=IT});var Uoe=h((Coe,Moe)=>{"use strict";var Noe=t1(),Wht=pc(),Poe=yt(),$l=qe(),Doe=De(),qv=Object.assign(Doe("ipfs:ipns:republisher"),{error:Doe("ipfs:ipns:republisher:error")}),Ooe=60*1e3,Loe=60*Ooe,Yht=4*Loe,Xht=24*Loe,Foe=class{constructor(e,t,i,n,s={}){this._publisher=e,this._datastore=t,this._peerId=i,this._keychain=n,this._options=s,this._republishHandle=null}async start(){if(this._republishHandle)throw $l(new Error("republisher is already running"),"ERR_REPUBLISH_ALREADY_RUNNING");let e={_task:null,_inflightTask:null,_timeoutId:null,runPeriodically:s=>{e._timeoutId=setTimeout(async()=>{e._timeoutId=null;try{e._inflightTask=e._task(),await e._inflightTask,e._task&&e.runPeriodically(s)}catch(o){qv.error(o)}},s())},cancel:async()=>{e._timeoutId!=null&&clearTimeout(e._timeoutId),e._task=null,await e._inflightTask}},{privKey:t}=this._peerId,{pass:i}=this._options,n=!0;e._task=()=>this._republishEntries(t,i),e.runPeriodically(()=>n?(n=!1,this._options.initialBroadcastInterval||Ooe):this._options.broadcastInterval||Yht),this._republishHandle=e}async stop(){let e=this._republishHandle;if(!e)throw $l(new Error("republisher is not running"),"ERR_REPUBLISH_NOT_RUNNING");this._republishHandle=null,await e.cancel()}async _republishEntries(e,t){try{await this._republishEntry(e)}catch(i){let n="cannot republish entry for the node's private key";qv.error(n);return}if(t)try{let i=await this._keychain.listKeys();for(let n of i){let s=await this._keychain.exportKey(n.name,t),o=await Wht.keys.import(s,t);await this._republishEntry(o)}}catch(i){qv.error(i)}}async _republishEntry(e){if(!e||!e.bytes)throw $l(new Error("invalid private key"),"ERR_INVALID_PRIVATE_KEY");try{let t=await Poe.createFromPrivKey(e.bytes),i=await this._getPreviousValue(t);await this._publisher.publishWithEOL(e,i,Xht)}catch(t){if(t.code==="ERR_NO_ENTRY_FOUND")return;throw t}}async _getPreviousValue(e){if(!Poe.isPeerId(e))throw $l(new Error("invalid peer ID"),"ERR_INVALID_PEER_ID");try{let t=await this._datastore.get(Noe.getLocalKey(e.id));if(!(t instanceof Uint8Array))throw $l(new Error("found ipns record that we couldn't process"),"ERR_INVALID_IPNS_RECORD");try{return Noe.unmarshal(t).value}catch(i){throw qv.error(i),$l(new Error("found ipns record that we couldn't convert to a value"),"ERR_INVALID_IPNS_RECORD")}}catch(t){throw t&&t.notFound?$l(new Error(`no previous entry for record with id: ${e.id}`),"ERR_NO_ENTRY_FOUND"):t}}};Coe=Moe.exports=Foe});var Goe=h((zoe,Koe)=>{"use strict";var Bv=t1(),Jht=yt(),r1=qe(),Voe=De(),Cv=Object.assign(Voe("ipfs:ipns:resolver"),{error:Voe("ipfs:ipns:resolver:error")}),Zht=dr(),{Errors:Qht}=ur(),edt=Qht.notFoundError().code,joe=32,Hoe=class{constructor(e){this._routing=e}async resolve(e,t={}){if(typeof e!="string")throw r1(new Error("invalid name"),"ERR_INVALID_NAME");let i=t.recursive&&t.recursive.toString()==="true",n=e.split("/");if(n.length!==3||n[0]!=="")throw r1(new Error("invalid name"),"ERR_INVALID_NAME");let s=n[2],o;i&&(o=joe);let a=await this.resolver(s,o);return Cv(`${e} was locally resolved correctly`),a}async resolver(e,t){if(t===0){let s=`could not resolve name (recursion limit of ${joe} exceeded)`;throw Cv.error(s),r1(new Error(s),"ERR_RESOLVE_RECURSION_LIMIT")}let i=await this._resolveName(e),n=i.split("/");return n[1]==="ipfs"||!t?i:this.resolver(n[2],t-1)}async _resolveName(e){let t=Jht.createFromCID(e),{routingKey:i}=Bv.getIdKeys(t.toBytes()),n;try{n=await this._routing.get(i.uint8Array())}catch(o){throw Cv.error("could not get record from routing",o),o.code===edt?r1(new Error(`record requested for ${e} was not found in the network`),"ERR_NO_RECORD_FOUND"):r1(new Error(`unexpected error getting the ipns record ${t.toString()}`),"ERR_UNEXPECTED_ERROR_GETTING_RECORD")}let s;try{s=Bv.unmarshal(n)}catch(o){throw Cv.error("could not unmarshal record",o),r1(new Error("found ipns record that we couldn't convert to a value"),"ERR_INVALID_RECORD_RECEIVED")}return this._validateRecord(t,s)}async _validateRecord(e,t){let i=await Bv.extractPublicKey(e,t);return await Bv.validate(i,t),Zht(t.value)}};zoe=Koe.exports=Hoe});var Joe=h((Lur,$oe)=>{"use strict";var{createFromPrivKey:tdt}=yt(),rdt=qe(),Woe=De(),$g=Object.assign(Woe("ipfs:ipns"),{error:Woe("ipfs:ipns:error")}),TT=Boe(),idt=Uoe(),ndt=Goe(),{normalizePath:sdt}=pi(),odt=qI(),Yoe=60*1e3,Xoe=class{constructor(e,t,i,n,s){this.publisher=new TT(e,t),this.republisher=new idt(this.publisher,t,i,n,s),this.resolver=new ndt(e),this.cache=new odt(1e3),this.routing=e}async publish(e,t,i=TT.defaultRecordLifetime){try{t=sdt(t);let n=await tdt(e.bytes);await this.publisher.publishWithEOL(e,t,i),$g(`IPNS value ${t} was published correctly`);let s=n.toB58String(),o=parseFloat(i),a=o<Yoe?o:Yoe;return this.cache.set(s,t,a),$g(`IPNS value ${t} was cached correctly`),{name:s,value:t}}catch(n){throw $g.error(n),n}}async resolve(e,t={}){if(typeof e!="string")throw rdt(new Error("name received is not valid"),"ERR_INVALID_NAME");if(!t.nocache&&!t.recursive){let i=e.split("/")[2],n=this.cache.get(i);if(n)return n}try{let i=await this.resolver.resolve(e,t);return $g(`IPNS record from ${e} was resolved correctly`),i}catch(i){throw $g.error(i),i}}async initializeKeyspace(e,t){return this.publish(e,t,TT.defaultRecordLifetime)}};$oe.exports=Xoe});var Wg=h((Fur,Zoe)=>{"use strict";var{Adapter:adt,utils:cdt}=ur(),udt=cdt.map,Qoe=class extends adt{constructor(e,t){super();this.child=e,this.transform=t}open(){return this.child.open()}put(e,t,i){return this.child.put(this.transform.convert(e),t,i)}get(e,t){return this.child.get(this.transform.convert(e),t)}has(e,t){return this.child.has(this.transform.convert(e),t)}delete(e,t){return this.child.delete(this.transform.convert(e),t)}batch(){let e=this.child.batch();return{put:(t,i)=>{e.put(this.transform.convert(t),i)},delete:t=>{e.delete(this.transform.convert(t))},commit:t=>e.commit(t)}}query(e,t){return udt(this.child.query(e,t),i=>(i.key=this.transform.invert(i.key),i))}close(){return this.child.close()}};Zoe.exports=Qoe});var tae=h((Uur,eae)=>{"use strict";eae.exports=`This is a repository of IPLD objects. Each IPLD object is in a single file,
named <base32 encoding of cid>.data. Where <base32 encoding of cid> is the
"base32" encoding of the CID (as specified in
https://github.com/multiformats/multibase) without the 'B' prefix.
All the object files are placed in a tree of directories, based on a
function of the CID. This is a form of sharding similar to
the objects directory in git repositories. Previously, we used
prefixes, we now use the next-to-last two charters.
    func NextToLast(base32cid string) {
      nextToLastLen := 2
      offset := len(base32cid) - nextToLastLen - 1
      return str[offset : offset+nextToLastLen]
    }
For example, an object with a base58 CIDv1 of
    zb2rhYSxw4ZjuzgCnWSt19Q94ERaeFhu9uSqRgjSdx9bsgM6f
has a base32 CIDv1 of
    BAFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA
and will be placed at
    SC/AFKREIA22FLID5AJ2KU7URG47MDLROZIH6YF2KALU2PWEFPVI37YLKRSCA.data
with 'SC' being the last-to-next two characters and the 'B' at the
beginning of the CIDv1 string is the multibase prefix that is not
stored in the filename.
`});var CT=h((zur,rae)=>{"use strict";var{Key:iae,utils:{utf8Decoder:fdt}}=ur(),ldt=tae(),Mv="/repo/flatfs/shard/",nae="SHARDING",hdt="_README",Nv=class{constructor(e){this.param=e,this.name="base",this._padding=""}fun(e){return"implement me"}toString(){return`${Mv}v1/${this.name}/${this.param}`}},RT=class extends Nv{constructor(e){super(e);this._padding="".padStart(e,"_"),this.name="prefix"}fun(e){return(e+this._padding).slice(0,this.param)}},qT=class extends Nv{constructor(e){super(e);this._padding="".padStart(e,"_"),this.name="suffix"}fun(e){let t=this._padding+e;return t.slice(t.length-this.param)}},BT=class extends Nv{constructor(e){super(e);this._padding="".padStart(e+1,"_"),this.name="next-to-last"}fun(e){let t=this._padding+e,i=t.length-this.param-1;return t.slice(i,i+this.param)}};function sae(r){if(r=r.trim(),r.length===0)throw new Error("empty shard string");if(!r.startsWith(Mv))throw new Error(`invalid or no path prefix: ${r}`);let e=r.slice(Mv.length).split("/"),t=e[0];if(t!=="v1")throw new Error(`expect 'v1' version, got '${t}'`);let i=e[1];if(!e[2])throw new Error("missing param");let n=parseInt(e[2],10);switch(i){case"prefix":return new RT(n);case"suffix":return new qT(n);case"next-to-last":return new BT(n);default:throw new Error(`unkown sharding function: ${i}`)}}var ddt=async(r,e)=>{let t=new iae(r).child(new iae(nae)),n=await(typeof e.getRaw=="function"?e.getRaw.bind(e):e.get.bind(e))(t);return sae(fdt.decode(n||"").trim())};rae.exports={readme:ldt,parseShardFun:sae,readShardFun:ddt,Prefix:RT,Suffix:qT,NextToLast:BT,README_FN:hdt,SHARDING_FN:nae,PREFIX:Mv}});var cae=h((Kur,oae)=>{"use strict";var{Adapter:pdt,Key:Pv,utils:{utf8Encoder:aae}}=ur(),Yg=CT(),bdt=Wg(),Xg=new Pv(Yg.SHARDING_FN),Dv=new Pv(Yg.README_FN),Wl=class extends pdt{constructor(e,t){super();this.child=new bdt(e,{convert:this._convertKey.bind(this),invert:this._invertKey.bind(this)}),this.shard=t}async open(){await this.child.open(),this.shard=await Wl.create(this.child,this.shard)}_convertKey(e){let t=e.toString();return t===Xg.toString()||t===Dv.toString()?e:new Pv(this.shard.fun(t)).child(e)}_invertKey(e){let t=e.toString();return t===Xg.toString()||t===Dv.toString()?e:Pv.withNamespaces(e.list().slice(1))}static async createOrOpen(e,t){try{await Wl.create(e,t)}catch(i){if(i&&i.message!=="datastore exists")throw i}return Wl.open(e)}static async open(e){let t=await Yg.readShardFun("/",e);return new Wl(e,t)}static async create(e,t){if(!await e.has(Xg)){let a=typeof e.putRaw=="function"?e.putRaw.bind(e):e.put.bind(e);return await Promise.all([a(Xg,aae.encode(t.toString()+`
`)),a(Dv,aae.encode(Yg.readme))]),t}let n=await Yg.readShardFun("/",e),s=(n||"").toString(),o=t.toString();if(s!==o)throw new Error(`specified fun ${o} does not match repo shard fun ${s}`);return n}put(e,t,i){return this.child.put(e,t,i)}get(e,t){return this.child.get(e,t)}has(e,t){return this.child.has(e,t)}delete(e,t){return this.child.delete(e,t)}batch(){return this.child.batch()}query(e,t){let i={keysOnly:e.keysOnly,offset:e.offset,limit:e.limit,orders:[],filters:[s=>s.key.toString()!==Xg.toString(),s=>s.key.toString()!==Dv.toString()]},{prefix:n}=e;if(n!=null&&i.filters.push(s=>this._invertKey(s.key).toString().startsWith(n)),e.filters!=null){let s=e.filters.map(o=>a=>o(Object.assign({},a,{key:this._invertKey(a.key)})));i.filters=i.filters.concat(s)}return e.orders!=null&&(i.orders=e.orders.map(s=>async o=>{o.forEach(c=>{c.key=this._invertKey(c.key)});let a=await s(o);return a.forEach(c=>{c.key=this._convertKey(c.key)}),a})),this.child.query(i,t)}close(){return this.child.close()}};oae.exports=Wl});var dae=h((Vur,uae)=>{"use strict";var{Adapter:ydt,Key:gdt,Errors:MT,utils:{filter:fae,take:mdt,sortAll:xdt,replaceStartWith:lae}}=ur(),wdt=Wg(),hae=class extends ydt{constructor(e){super();this.mounts=e.slice()}async open(){await Promise.all(this.mounts.map(e=>e.datastore.open()))}_lookup(e){for(let t of this.mounts)if(t.prefix.toString()===e.toString()||t.prefix.isAncestorOf(e)){let i=lae(e.toString(),t.prefix.toString());return{datastore:t.datastore,mountpoint:t.prefix,rest:new gdt(i)}}}put(e,t,i){let n=this._lookup(e);if(n==null)throw MT.dbWriteFailedError(new Error("No datastore mounted for this key"));return n.datastore.put(n.rest,t,i)}get(e,t){let i=this._lookup(e);if(i==null)throw MT.notFoundError(new Error("No datastore mounted for this key"));return i.datastore.get(i.rest,t)}has(e,t){let i=this._lookup(e);return i==null?Promise.resolve(!1):i.datastore.has(i.rest,t)}delete(e,t){let i=this._lookup(e);if(i==null)throw MT.dbDeleteFailedError(new Error("No datastore mounted for this key"));return i.datastore.delete(i.rest,t)}async close(){await Promise.all(this.mounts.map(e=>e.datastore.close()))}batch(){let e={},t=i=>{let n=this._lookup(i);if(n==null)throw new Error("No datastore mounted for this key");let s=n.mountpoint.toString();return e[s]==null&&(e[s]=n.datastore.batch()),{batch:e[s],rest:n.rest}};return{put:(i,n)=>{let s=t(i);s.batch.put(s.rest,n)},delete:i=>{let n=t(i);n.batch.delete(n.rest)},commit:async i=>{await Promise.all(Object.keys(e).map(n=>e[n].commit(i)))}}}query(e,t){let i=this.mounts.map(s=>{let o=new wdt(s.datastore,{convert:c=>{throw new Error("should never be called")},invert:c=>s.prefix.child(c)}),a;return e.prefix!=null&&(a=lae(e.prefix,s.prefix.toString())),o.query({prefix:a,filters:e.filters,keysOnly:e.keysOnly},t)}),n=vdt(i);if(e.filters&&e.filters.forEach(s=>{n=fae(n,s)}),e.orders&&e.orders.forEach(s=>{n=xdt(n,s)}),e.offset!=null){let s=0;n=fae(n,()=>s++>=e.offset)}return e.limit!=null&&(n=mdt(n,e.limit)),n}};function vdt(r){return async function*(){for(let e=0;e<r.length;e++)for await(let t of r[e])yield t}()}uae.exports=hae});var yae=h((jur,pae)=>{"use strict";var{Adapter:Edt,Errors:Ov}=ur(),_dt=De()("datastore:core:tiered"),bae=class extends Edt{constructor(e){super();this.stores=e.slice()}async open(){try{await Promise.all(this.stores.map(e=>e.open()))}catch(e){throw Ov.dbOpenFailedError()}}async put(e,t){try{await Promise.all(this.stores.map(i=>i.put(e,t)))}catch(i){throw Ov.dbWriteFailedError()}}async get(e,t){for(let i of this.stores)try{let n=await i.get(e,t);if(n)return n}catch(n){_dt(n)}throw Ov.notFoundError()}async has(e,t){for(let i of this.stores)if(await i.has(e,t))return!0;return!1}async delete(e,t){try{await Promise.all(this.stores.map(i=>i.delete(e,t)))}catch(i){throw Ov.dbDeleteFailedError()}}async close(){await Promise.all(this.stores.map(e=>e.close()))}batch(){let e=this.stores.map(t=>t.batch());return{put:(t,i)=>{e.forEach(n=>n.put(t,i))},delete:t=>{e.forEach(i=>i.delete(t))},commit:async t=>{for(let i of e)await i.commit(t)}}}query(e,t){return this.stores[this.stores.length-1].query(e,t)}};pae.exports=bae});var wae=h((Hur,gae)=>{"use strict";var mae=ur().Key,Sdt=Wg(),xae=class extends Sdt{constructor(e,t){super(e,{convert(i){return t.child(i)},invert(i){if(t.toString()==="/")return i;if(!t.isAncestorOf(i))throw new Error(`Expected prefix: (${t.toString()}) in key: ${i.toString()}`);return new mae(i.toString().slice(t.toString().length),!1)}});this.prefix=t}query(e,t){return e.prefix&&this.prefix.toString()!=="/"?super.query(Object.assign({},e,{prefix:this.prefix.child(new mae(e.prefix)).toString()})):super.query(e,t)}};gae.exports=xae});var Lv=h((Gur,vae)=>{"use strict";var kdt=Wg(),Adt=cae(),Idt=dae(),Tdt=yae(),Rdt=wae(),qdt=CT();vae.exports={KeytransformDatastore:kdt,ShardingDatastore:Adt,MountDatastore:Idt,TieredDatastore:Tdt,NamespaceDatastore:Rdt,shard:qdt}});var Jg=h((NT,PT)=>{(function(r,e){typeof NT=="object"&&typeof PT!="undefined"?PT.exports=function(t,i,n,s,o){for(i=i.split?i.split("."):i,s=0;s<i.length;s++)t=t?t[i[s]]:o;return t===o?n:t}:typeof define=="function"&&define.amd?define(function(){return function(t,i,n,s,o){for(i=i.split?i.split("."):i,s=0;s<i.length;s++)t=t?t[i[s]]:o;return t===o?n:t}}):r.dlv=function(t,i,n,s,o){for(i=i.split?i.split("."):i,s=0;s<i.length;s++)t=t?t[i[s]]:o;return t===o?n:t}})(NT)});var _ae=h(($ur,Eae)=>{"use strict";var{nanoid:Bdt}=kl(),Cdt=(r=e=>e)=>r(Bdt());Eae.exports=Cdt});var DT=h((Wur,Sae)=>{(function(){typeof globalThis!="object"&&(Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();Sae.exports=globalThis});var Aae=h((Yur,kae)=>{"use strict";kae.exports=DT().TextEncoder});var OT=h((Xur,Iae)=>{"use strict";Iae.exports=DT().TextDecoder});var Fv=h(Bu=>{"use strict";var Mdt=_ae(),Ndt=Aae(),Pdt=OT();Bu.utf8Encoder=new Ndt("utf8");Bu.utf8Decoder=new Pdt("utf8");Bu.filter=(r,e)=>async function*(){for await(let t of r)!await e(t)||(yield t)}();Bu.sortAll=(r,e)=>async function*(){let t=[];for await(let i of r)t.push(i);t=await e(t);for(let i of t)yield i}();Bu.take=(r,e)=>async function*(){if(e<=0)return;let t=0;for await(let i of r)if(yield i,t++,t>=e)return}();Bu.map=(r,e)=>async function*(){for await(let t of r)yield e(t)}();Bu.replaceStartWith=function(r,e){let t=new RegExp("^"+e);return r.replace(t,"")};Bu.tmpdir=Mdt});var LT=h((Zur,Tae)=>{"use strict";var{nanoid:Ddt}=kl(),Odt=gu(),{utf8Encoder:Rae,utf8Decoder:Ldt}=Fv(),Fdt=OT(),Cu="/",qae=Rae.encode(Cu),Uv=qae[0],Zg=class{constructor(e,t){if(typeof e=="string")this._buf=Rae.encode(e);else if(e instanceof Uint8Array)this._buf=e;else throw new Error("Invalid key, should be String of Uint8Array");if(t==null&&(t=!0),t&&this.clean(),this._buf.byteLength===0||this._buf[0]!==Uv)throw new Error("Invalid key")}toString(e="utf8"){return e==="utf8"||e==="utf-8"?Ldt.decode(this._buf):new Fdt(e).decode(this._buf)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new c0(e.join(Cu))}static random(){return new c0(Ddt().replace(/-/g,""))}clean(){if((!this._buf||this._buf.byteLength===0)&&(this._buf=qae),this._buf[0]!==Uv){let e=new Uint8Array(this._buf.byteLength+1);e.fill(Uv,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===Uv;)this._buf=this._buf.subarray(0,-1)}less(e){let t=this.list(),i=e.list();for(let n=0;n<t.length;n++){if(i.length<n+1)return!1;let s=t[n],o=i[n];if(s<o)return!0;if(s>o)return!1}return t.length<i.length}reverse(){return Zg.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){let e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(Cu).slice(1)}type(){return Udt(this.baseNamespace())}name(){return zdt(this.baseNamespace())}instance(e){return new c0(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(Cu)||(e+=Cu),e+=this.type(),new c0(e)}parent(){let e=this.list();return e.length===1?new c0(Cu):new c0(e.slice(0,-1).join(Cu))}child(e){return this.toString()===Cu?e:e.toString()===Cu?this:new c0(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()===this.toString()?!1:e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()===this.toString()?!1:this.toString().startsWith(e.toString())}isTopLevel(){return this.list().length===1}concat(...e){return Zg.withNamespaces([...this.namespaces(),...Kdt(e.map(t=>t.namespaces()))])}};function Udt(r){let e=r.split(":");return e.length<2?"":e.slice(0,-1).join(":")}function zdt(r){let e=r.split(":");return e[e.length-1]}function Kdt(r){return[].concat(...r)}var c0=Odt(Zg,{className:"Key",symbolName:"@ipfs/interface-datastore/key"});Tae.exports=c0});var UT=h((Qur,Bae)=>{"use strict";var{filter:FT,sortAll:Vdt,take:jdt,map:Hdt}=Fv(),Cae=$y(),Mae=class{async open(){}async close(){}async put(e,t,i={}){}async*putMany(e,t={}){for await(let{key:i,value:n}of e)await this.put(i,n,t),yield{key:i,value:n}}async get(e,t={}){}async*getMany(e,t={}){for await(let i of e)yield this.get(i,t)}async has(e){}async delete(e,t={}){}async*deleteMany(e,t={}){for await(let i of e)await this.delete(i,t),yield i}batch(){let e=[],t=[];return{put(i,n){e.push({key:i,value:n})},delete(i){t.push(i)},commit:async i=>{await Cae(this.putMany(e,i)),e=[],await Cae(this.deleteMany(t,i)),t=[]}}}async*_all(e,t){}async*query(e,t){let i=this._all(e,t);if(e.prefix!=null&&(i=FT(i,n=>n.key.toString().startsWith(e.prefix))),Array.isArray(e.filters)&&(i=e.filters.reduce((n,s)=>FT(n,s),i)),Array.isArray(e.orders)&&(i=e.orders.reduce((n,s)=>Vdt(n,s),i)),e.offset!=null){let n=0;i=FT(i,()=>n++>=e.offset)}e.limit!=null&&(i=jdt(i,e.limit)),e.keysOnly===!0&&(i=Hdt(i,n=>({key:n.key}))),yield*i}};Bae.exports=Mae});var Dae=h((efr,Nae)=>{"use strict";function Pae(r,e){for(let t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function Gdt(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=void 0),e!=null&&(t.code=e);try{return Pae(r,t)}catch(i){t.message=r.message,t.stack=r.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(r)),Pae(new n,t)}}Nae.exports=Gdt});var zT=h((tfr,i1)=>{"use strict";var Qg=Dae();i1.exports.dbOpenFailedError=r=>(r=r||new Error("Cannot open database"),Qg(r,"ERR_DB_OPEN_FAILED"));i1.exports.dbDeleteFailedError=r=>(r=r||new Error("Delete failed"),Qg(r,"ERR_DB_DELETE_FAILED"));i1.exports.dbWriteFailedError=r=>(r=r||new Error("Write failed"),Qg(r,"ERR_DB_WRITE_FAILED"));i1.exports.notFoundError=r=>(r=r||new Error("Not Found"),Qg(r,"ERR_NOT_FOUND"));i1.exports.abortedError=r=>(r=r||new Error("Aborted"),Qg(r,"ERR_ABORTED"))});var Fae=h((rfr,Oae)=>{"use strict";var $dt=LT(),Wdt=UT(),Ydt=zT(),Lae=class extends Wdt{constructor(){super();this.data={}}async put(e,t){this.data[e.toString()]=t}async get(e){if(!await this.has(e))throw Ydt.notFoundError();return this.data[e.toString()]}async has(e){return this.data[e.toString()]!==void 0}async delete(e){delete this.data[e.toString()]}*_all(){yield*Object.entries(this.data).map(([e,t])=>({key:new $dt(e),value:t}))}};Oae.exports=Lae});var Uae=h(n1=>{"use strict";var Xdt=LT(),Jdt=Fae(),Zdt=Fv(),Qdt=zT(),ept=UT();n1.Key=Xdt;n1.MemoryDatastore=Jdt;n1.utils=Zdt;n1.Errors=Qdt;n1.Adapter=ept});var KT=h((nfr,zae)=>{"use strict";function Kae(r,e){for(let t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function tpt(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=""),e&&(t.code=e);try{return Kae(r,t)}catch(i){t.message=r.message,t.stack=r.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(r)),Kae(new n,t)}}zae.exports=tpt});var Hae=h((sfr,zv)=>{"use strict";var rpt=KT(),Vae=dr(),jae=pr(),Kv="/record/";zv.exports.encodeBase32=r=>Vae(r,"base32");zv.exports.keyToTopic=r=>{(typeof r=="string"||r instanceof String)&&(r=jae(r));let e=Vae(r,"base64url");return`${Kv}${e}`};zv.exports.topicToKey=r=>{if(r.substring(0,Kv.length)!==Kv)throw rpt(new Error("topic received is not from a record"),"ERR_TOPIC_IS_NOT_FROM_RECORD_NAMESPACE");let e=r.substring(Kv.length);return jae(e,"base64url")}});var Jae=h((Gae,$ae)=>{"use strict";var{Key:VT,Adapter:ipt}=Uae(),{encodeBase32:Wae,keyToTopic:Vv,topicToKey:npt}=Hae(),Vi=KT(),Yae=De(),Gr=Yae("datastore-pubsub:publisher");Gr.error=Yae("datastore-pubsub:publisher:error");var Xae=class extends ipt{constructor(e,t,i,n,s){super();if(!n)throw Vi(new TypeError("missing validator"),"ERR_INVALID_PARAMETERS");if(typeof n.validate!="function")throw Vi(new TypeError("missing validate function"),"ERR_INVALID_PARAMETERS");if(typeof n.select!="function")throw Vi(new TypeError("missing select function"),"ERR_INVALID_PARAMETERS");if(s&&typeof s!="function")throw Vi(new TypeError("invalid subscriptionKeyFn received"),"ERR_INVALID_PARAMETERS");this._pubsub=e,this._datastore=t,this._peerId=i,this._validator=n,this._handleSubscriptionKeyFn=s,this._onMessage=this._onMessage.bind(this)}async put(e,t){if(!(e instanceof Uint8Array)){let n="datastore key does not have a valid format";throw Gr.error(n),Vi(new Error(n),"ERR_INVALID_DATASTORE_KEY")}if(!(t instanceof Uint8Array)){let n="received value is not a Uint8Array";throw Gr.error(n),Vi(new Error(n),"ERR_INVALID_VALUE_RECEIVED")}let i=Vv(e);return Gr(`publish value for topic ${i}`),this._pubsub.publish(i,t)}async get(e){if(!(e instanceof Uint8Array)){let n="datastore key does not have a valid format";throw Gr.error(n),Vi(new Error(n),"ERR_INVALID_DATASTORE_KEY")}let t=Vv(e),i=await this._pubsub.getTopics();if(i&&Array.isArray(i)&&i.indexOf(t)>-1)return this._getLocal(e);try{await this._pubsub.subscribe(t,this._onMessage)}catch(n){let s=`cannot subscribe topic ${t}`;throw Gr.error(s),Vi(new Error(s),"ERR_SUBSCRIBING_TOPIC")}return Gr(`subscribed values for key ${t}`),this._getLocal(e)}unsubscribe(e){let t=Vv(e);return this._pubsub.unsubscribe(t,this._onMessage)}async _getLocal(e){let t=new VT("/"+Wae(e),!1),i;try{i=await this._datastore.get(t)}catch(n){if(n.code!=="ERR_NOT_FOUND"){let o=`unexpected error getting the ipns record for ${t.toString()}`;throw Gr.error(o),Vi(new Error(o),"ERR_UNEXPECTED_ERROR_GETTING_RECORD")}let s=`local record requested was not found for ${t.toString()}`;throw Gr.error(s),Vi(new Error(s),"ERR_NOT_FOUND")}if(!(i instanceof Uint8Array)){let n="found record that we couldn't convert to a value";throw Gr.error(n),Vi(new Error(n),"ERR_INVALID_RECORD_RECEIVED")}return i}async _onMessage(e){let{data:t,from:i,topicIDs:n}=e,s;try{s=npt(n[0])}catch(o){Gr.error(o);return}if(Gr(`message received for topic ${n[0]}`),i===this._peerId.toB58String()){Gr("message discarded as it is from the same peer");return}if(this._handleSubscriptionKeyFn){let o;try{o=await this._handleSubscriptionKeyFn(s)}catch(a){Gr.error("message discarded by the subscriptionKeyFn");return}s=o}try{await this._storeIfSubscriptionIsBetter(s,t)}catch(o){Gr.error(o)}}async _storeIfSubscriptionIsBetter(e,t){let i=!1;try{i=await this._isBetter(e,t)}catch(n){if(n.code!=="ERR_NOT_VALID_RECORD")throw n}i&&await this._storeRecord(e,t)}async _validateRecord(e,t){return this._validator.validate(e,t)}async _selectRecord(e,t){return await this._validator.select(e,t)===0}async _isBetter(e,t){let i,n;try{n=await this._validateRecord(t,e)}catch(a){i=a}if(i||!n){let a="record received through pubsub is not valid";throw Gr.error(a),Vi(new Error(a),"ERR_NOT_VALID_RECORD")}let s=new VT(e),o;try{o=await this._getLocal(s.uint8Array())}catch(a){return!0}return o.equals(t)?!1:this._selectRecord(t,o)}async _storeRecord(e,t){let i=new VT("/"+Wae(e),!1);await this._datastore.put(i,t),Gr(`record for ${Vv(e)} was stored in the datastore`)}open(){let e="open function was not implemented yet";throw Gr.error(e),Vi(new Error(e),"ERR_NOT_IMPLEMENTED_YET")}has(e){let t="has function was not implemented yet";throw Gr.error(t),Vi(new Error(t),"ERR_NOT_IMPLEMENTED_YET")}delete(e){let t="delete function was not implemented yet";throw Gr.error(t),Vi(new Error(t),"ERR_NOT_IMPLEMENTED_YET")}close(){let e="close function was not implemented yet";throw Gr.error(e),Vi(new Error(e),"ERR_NOT_IMPLEMENTED_YET")}batch(){let e="batch function was not implemented yet";throw Gr.error(e),Vi(new Error(e),"ERR_NOT_IMPLEMENTED_YET")}query(){let e="query function was not implemented yet";throw Gr.error(e),Vi(new Error(e),"ERR_NOT_IMPLEMENTED_YET")}};Gae=$ae.exports=Xae});var HT=h((Zae,Qae)=>{"use strict";var u0=t1(),{toB58String:ece}=Er().multihash,spt=Jae(),tce=dr(),rce=pr(),opt=gu(),ice=qe(),nce=De(),jT=Object.assign(nce("ipfs:ipns:pubsub"),{error:nce("ipfs:ipns:pubsub:error")}),sce=class{constructor(e,t,i){this._pubsub=e,this._subscriptions={},this._handleSubscriptionKey=this._handleSubscriptionKey.bind(this),this._pubsubDs=new spt(e,t,i,u0.validator,this._handleSubscriptionKey)}async put(e,t){return this._pubsubDs.put(e,t)}async get(e){let t,i;try{t=await this._pubsubDs.get(e)}catch(s){i=s}let n=e.slice(0,u0.namespaceLength);if(tce(n)===u0.namespace){let s=ece(e),o=ece(e.slice(u0.namespaceLength));this._subscriptions[s]=o,jT(`subscribed to pubsub topic ${s}, id ${o}`)}if(i)throw i;return t}_handleSubscriptionKey(e){e instanceof Uint8Array&&(e=tce(e,"base58btc"));let t=this._subscriptions[e];if(!t)throw ice(new Error(`key ${e} does not correspond to a subscription`),"ERR_INVALID_KEY");let i;try{i=u0.getIdKeys(rce(t,"base58btc"))}catch(n){throw jT.error(n),n}return i.routingKey.uint8Array()}getSubscriptions(){return Object.values(this._subscriptions).filter(Boolean).map(t=>`${u0.namespace}${t}`)}async cancel(e){if(typeof e!="string")throw ice(new Error("invalid subscription name"),"ERR_INVALID_SUBSCRIPTION_NAME");e.startsWith(u0.namespace)&&(e=e.substring(u0.namespaceLength));let t=Object.keys(this._subscriptions).find(n=>this._subscriptions[n]===e);if(!t)return{canceled:!1};let i=rce(t);return this._pubsubDs.unsubscribe(i),this._subscriptions[t]=void 0,jT(`unsubscribed pubsub ${t}: ${e}`),{canceled:!0}}};Zae=Qae.exports=opt(sce,{className:"IpnsPubsubDatastore",symbolName:"@js-ipfs/ipns/IpnsPubsubDatastore"})});var ace=h((ofr,oce)=>{"use strict";oce.exports=`// Record represents a dht record that contains a value
// for a key value pair
message Record {
  // The key that references this record
  bytes key = 1;

  // The actual value this record is storing
  bytes value = 2;

  // Note: These fields were removed from the Record message
  // hash of the authors public key
  // optional bytes author = 3;
  // A PKI signature for the key+value+author
  // optional bytes signature = 4;

  // Time the record was received, set by receiver
  optional string timeReceived = 5;
}`});var cce=h((afr,GT)=>{"use strict";GT.exports.toRFC3339=r=>{let e=r.getUTCFullYear(),t=String(r.getUTCMonth()+1).padStart(2,"0"),i=String(r.getUTCDate()).padStart(2,"0"),n=String(r.getUTCHours()).padStart(2,"0"),s=String(r.getUTCMinutes()).padStart(2,"0"),o=String(r.getUTCSeconds()).padStart(2,"0"),c=r.getUTCMilliseconds()*1e3*1e3;return`${e}-${t}-${i}T${n}:${s}:${o}.${c}Z`};GT.exports.parseRFC3339=r=>{let e=new RegExp("(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2})\\.(\\d+)Z"),t=String(r).trim().match(e);if(!t)throw new Error("Invalid format");let i=parseInt(t[1],10),n=parseInt(t[2],10)-1,s=parseInt(t[3],10),o=parseInt(t[4],10),a=parseInt(t[5],10),c=parseInt(t[6],10),u=parseInt(t[7].slice(0,-6),10);return new Date(Date.UTC(i,n,s,o,a,c,u))}});var hce=h((cfr,uce)=>{"use strict";var apt=ni(),fce=apt(ace()).Record,lce=cce(),em=class{constructor(e,t,i){if(!(e instanceof Uint8Array))throw new Error("key must be a Uint8Array");if(!(t instanceof Uint8Array))throw new Error("value must be a Uint8Array");this.key=e,this.value=t,this.timeReceived=i}serialize(){return fce.encode(this.prepareSerialize())}prepareSerialize(){return{key:this.key,value:this.value,timeReceived:this.timeReceived&&lce.toRFC3339(this.timeReceived)}}static deserialize(e){let t=fce.decode(e);return em.fromDeserialized(t)}static fromDeserialized(e){let t;return e.timeReceived&&(t=lce.parseRFC3339(e.timeReceived)),new em(e.key,e.value,t)}};uce.exports=em});var $T=h((ufr,dce)=>{"use strict";var{TextEncoder:cpt,TextDecoder:upt}=ct(),fpt=new upt,lpt=r=>fpt.decode(r),hpt=new cpt,dpt=r=>hpt.encode(r);function ppt(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}dce.exports={decodeText:lpt,encodeText:dpt,concat:ppt}});var yce=h((ffr,pce)=>{"use strict";var{encodeText:bpt}=$T(),bce=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=bpt(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};pce.exports=bce});var mce=h((lfr,gce)=>{"use strict";var ypt=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},gpt=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},mpt=r=>e=>({encode(t){return gpt(t,e,r)},decode(t){return ypt(t,e,r)}});gce.exports={rfc4648:mpt}});var Ece=h((hfr,xce)=>{"use strict";var tm=ri(),xpt=yce(),{rfc4648:mn}=mce(),{decodeText:wpt,encodeText:vpt}=$T(),Ept=()=>({encode:wpt,decode:vpt}),wce=[["identity","\0",Ept,""],["base2","0",mn(1),"01"],["base8","7",mn(3),"01234567"],["base10","9",tm,"0123456789"],["base16","f",mn(4),"0123456789abcdef"],["base16upper","F",mn(4),"0123456789ABCDEF"],["base32hex","v",mn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",mn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",mn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",mn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",mn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",mn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",mn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",mn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",mn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",tm,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",tm,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",tm,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",tm,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",mn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",mn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",mn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",mn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],vce=wce.reduce((r,e)=>(r[e[0]]=new xpt(e[0],e[1],e[2],e[3]),r),{}),_pt=wce.reduce((r,e)=>(r[e[1]]=vce[e[0]],r),{});xce.exports={names:vce,codes:_pt}});var jv=h((dfr,_ce)=>{"use strict";var{names:Spt}=Ece(),{TextDecoder:kpt}=ct(),Apt=new kpt("utf8");function Ipt(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function Tpt(r,e="utf8"){if(e==="utf8"||e==="utf-8")return Apt.decode(r);if(e==="ascii")return Ipt(r);let t=Spt[e];if(!t)throw new Error("Unknown base");return t.encode(r)}_ce.exports=Tpt});var kce=h((pfr,Sce)=>{"use strict";function Rpt(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}Sce.exports=Rpt});var Ice=h((bfr,Ace)=>{"use strict";var qpt=Er(),Hv=qe(),Bpt=jv(),Cpt=kce(),Mpt=async(r,e)=>{if(!(r instanceof Uint8Array))throw Hv(new Error('"key" must be a Uint8Array'),"ERR_INVALID_RECORD_KEY_NOT_BUFFER");if(r.byteLength<5)throw Hv(new Error("invalid public key record"),"ERR_INVALID_RECORD_KEY_TOO_SHORT");if(Bpt(r.subarray(0,4))!=="/pk/")throw Hv(new Error("key was not prefixed with /pk/"),"ERR_INVALID_RECORD_KEY_BAD_PREFIX");let i=r.slice(4),n=await qpt(e,"sha2-256");if(!Cpt(i,n))throw Hv(new Error("public key does not match passed in key"),"ERR_INVALID_RECORD_HASH_MISMATCH")};Ace.exports={func:Mpt,sign:!1}});var Rce=h((yfr,Tce)=>{"use strict";Tce.exports={pk:Ice()}});var Bce=h((gfr,qce)=>{"use strict";var Npt=qe(),Ppt=jv(),Dpt=(r,e)=>{let t=e.key,n=Ppt(t).split("/");if(n.length<3)return;let s=r[n[1].toString()];if(!s){let o="Invalid record keytype";throw Npt(new Error(o),"ERR_INVALID_RECORD_KEY_TYPE")}return s.func(t,e.value)};qce.exports={verifyRecord:Dpt,validators:Rce()}});var Mce=h((mfr,Cce)=>{"use strict";var Opt=(r,e)=>0;Cce.exports=Opt});var Pce=h((xfr,Nce)=>{"use strict";Nce.exports={pk:Mce()}});var Oce=h((wfr,Dce)=>{"use strict";var WT=qe(),Lpt=jv(),Fpt=(r,e,t)=>{if(t.length===0){let o="No records given";throw WT(new Error(o),"ERR_NO_RECORDS_RECEIVED")}let n=Lpt(e).split("/");if(n.length<3){let o="Record key does not have a selector function";throw WT(new Error(o),"ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")}let s=r[n[1].toString()];if(!s){let o=`Unrecognized key prefix: ${n[1]}`;throw WT(new Error(o),"ERR_UNRECOGNIZED_KEY_PREFIX")}return s(e,t)};Dce.exports={bestRecord:Fpt,selectors:Pce()}});var Yl=h((vfr,Lce)=>{"use strict";Lce.exports={Record:hce(),validator:Bce(),selection:Oce()}});var YT=h((Efr,Fce)=>{"use strict";var Uce=t1(),Upt=dr();Fce.exports={encodeBase32:r=>Upt(r,"base32upper"),validator:{func:(r,e,t)=>Uce.validator.validate(e,r,t)},selector:(r,e)=>Uce.validator.select(e[0],e[1])}});var JT=h((zce,Kce)=>{"use strict";var{Key:zpt}=ur(),{Record:Vce}=Yl(),{encodeBase32:Kpt}=YT(),rm=qe(),jce=De(),XT=Object.assign(jce("ipfs:ipns:offline-datastore"),{error:jce("ipfs:ipns:offline-datastore:error")}),Hce=class{constructor(e){this._repo=e}async put(e,t){if(!(e instanceof Uint8Array))throw rm(new Error("Offline datastore key must be a Uint8Array"),"ERR_INVALID_KEY");if(!(t instanceof Uint8Array))throw rm(new Error("Offline datastore value must be a Uint8Array"),"ERR_INVALID_VALUE");let i;try{i=this._routingKey(e)}catch(s){throw XT.error(s),rm(new Error("Not possible to generate the routing key"),"ERR_GENERATING_ROUTING_KEY")}let n=new Vce(e,t);return this._repo.datastore.put(i,n.serialize())}async get(e){if(!(e instanceof Uint8Array))throw rm(new Error("Offline datastore key must be a Uint8Array"),"ERR_INVALID_KEY");let t;try{t=this._routingKey(e)}catch(s){throw XT.error(s),rm(new Error("Not possible to generate the routing key"),"ERR_GENERATING_ROUTING_KEY")}let i=await this._repo.datastore.get(t),n;try{n=Vce.deserialize(i)}catch(s){throw XT.error(s),s}return n.value}_routingKey(e){return new zpt("/"+Kpt(e),!1)}};zce=Kce.exports=Hce});var $ce=h((_fr,Gce)=>{"use strict";var{TieredDatastore:Vpt}=Lv(),ZT=Jg(),jpt=HT(),Hpt=JT();Gce.exports=({libp2p:r,repo:e,peerId:t,options:i})=>{let n=[],s;if(ZT(i,"EXPERIMENTAL.ipnsPubsub",!1)){let o=r.pubsub,a=e.datastore;s=new jpt(o,a,t),n.push(s)}if(ZT(i,"offline")||!ZT(i,"libp2p.config.dht.enabled",!1)){let o=new Hpt(e);n.push(o)}else n.push(r._dht);return new Vpt(n)}});var Zce=h((Sfr,Wce)=>{"use strict";var Yce=Joe(),Gpt=$ce(),$pt=JT(),{NotInitializedError:Wpt,AlreadyInitializedError:Xce}=ql(),Ypt=De()("ipfs:components:ipns"),Jce=class{constructor(e={}){this.options=e,this.offline=null,this.online=null}getIPNS(){let e=this.online||this.offline;if(e)return e;throw new Wpt}get routing(){return this.getIPNS().routing}startOffline({repo:e,peerId:t,keychain:i}){if(this.offline!=null)throw new Xce;Ypt("initializing IPNS keyspace");let n=new $pt(e),s=new Yce(n,e.datastore,t,i,this.options);this.offline=s}async startOnline({libp2p:e,repo:t,peerId:i,keychain:n}){if(this.online!=null)throw new Xce;let s=Gpt({libp2p:e,repo:t,peerId:i,options:this.options}),o=new Yce(s,t.datastore,i,n,this.options);await o.republisher.start(),this.online=o}async stop(){let e=this.online;e&&(await e.republisher.stop(),this.online=null)}publish(e,t,i){return this.getIPNS().publish(e,t,i)}resolve(e,t){return this.getIPNS().resolve(e,t)}initializeKeyspace(e,t){return this.getIPNS().initializeKeyspace(e,t)}};Wce.exports=Jce});var eue=h(Qce=>{"use strict";var Xpt=$f();Qce.resolvePath=({ipns:r,dagReader:e},t)=>Xpt.ipnsPath(t)?r.resolve(t):e.get(t.substring("/ipfs/".length))});var nue=h((Afr,tue)=>{"use strict";var rue=De(),{default:Jpt}=Y4(),Zpt=pc(),iue=qe(),QT=Object.assign(rue("ipfs:name:publish"),{error:rue("ipfs:name:publish:error")}),{OFFLINE_ERROR:Qpt,normalizePath:e1t}=pi(),t1t=Ke(),{resolvePath:r1t}=eue();tue.exports=({ipns:r,dagReader:e,peerId:t,isOnline:i,keychain:n})=>{let s=async a=>{if(a==="self")return t.privKey;try{let c=await n.exportKey(a,"temp");return await Zpt.keys.import(c,"temp")}catch(c){throw QT.error(c),iue(c,"ERR_CANNOT_GET_KEY")}};async function o(a,c={}){let u=c.resolve!==!1,f=c.lifetime||"24h",l=c.key||"self";if(!i())throw iue(new Error(Qpt),"OFFLINE_ERROR");try{a=e1t(a)}catch(b){throw QT.error(b),b}let d=0;try{d=Jpt(f)||0,d=parseFloat(d.toFixed(6))}catch(b){throw QT.error(b),b}let p=await Promise.all([s(l),u?r1t({ipns:r,dagReader:e},a):Promise.resolve()]);return r.publish(p[0],a,d)}return t1t(o)}});var oue=h((Ifr,sue)=>{"use strict";var i1t=/^(?:[a-z0-9](?:[a-z0-9\-]{0,61}[a-z0-9])?\.){0,126}(?:[a-z0-9](?:[a-z0-9\-]{0,61}[a-z0-9]))\.?$/i;sue.exports=function(e,t){if(t==null&&(t=!1),e.length<2||e.length>255)return!1;var i=e[e.length-1];if(t){if(i!==".")return!1}else if(i===".")return!1;return i1t.test(e)}});var fue=h((Tfr,aue)=>{"use strict";var cue=De(),eR=qe(),{mergeOptions:n1t}=pi(),s1t=ot(),o1t=oue(),a1t=Object.assign(cue("ipfs:name:resolve"),{error:cue("ipfs:name:resolve:error")}),{OFFLINE_ERROR:c1t}=pi(),u1t=Ke(),uue=(r,e)=>e.length>0?r+"/"+e.join("/"):r;aue.exports=({dns:r,ipns:e,peerId:t,isOnline:i,options:{offline:n}})=>{async function*s(o,a={}){if(a=n1t({nocache:!1,recursive:!0},a),n&&a&&a.nocache)throw eR(new Error("cannot specify both offline and nocache"),"ERR_NOCACHE_AND_OFFLINE");o||(o=t.toB58String()),o.startsWith("/ipns/")||(o=`/ipns/${o}`);let[c,u,...f]=o.slice(1).split("/");try{new s1t(u)}catch(l){if(o1t(u)){yield uue(await r(u,a),f);return}throw a1t.error(l),eR(new Error("Invalid IPNS name"),"ERR_IPNS_INVALID_NAME")}if(!i()&&!n)throw eR(new Error(c1t),"OFFLINE_ERROR");yield uue(await e.resolve(`/${c}/${u}`,a),f)}return u1t(s)}});var Gv=h(lue=>{"use strict";var hue=HT(),due=qe();lue.getPubsubRouting=(r,e)=>{if(!r||!(e&&e.ipnsPubsub))throw due(new Error("IPNS pubsub subsystem is not enabled"),"ERR_IPNS_PUBSUB_NOT_ENABLED");if(hue.isIpnsPubsubDatastore(r.routing))return r.routing;let t=(r.routing.stores||[]).find(i=>hue.isIpnsPubsubDatastore(i));if(!t)throw due(new Error("IPNS pubsub datastore not found"),"ERR_PUBSUB_DATASTORE_NOT_FOUND");return t}});var bue=h((qfr,pue)=>{"use strict";var{getPubsubRouting:f1t}=Gv(),l1t=Ke();pue.exports=({ipns:r,options:e})=>{async function t(i,n){return f1t(r,e).cancel(i,n)}return l1t(t)}});var gue=h((Bfr,yue)=>{"use strict";var{getPubsubRouting:h1t}=Gv(),d1t=Ke();yue.exports=({ipns:r,options:e})=>{async function t(i){try{return{enabled:Boolean(h1t(r,e))}}catch(n){return{enabled:!1}}}return d1t(t)}});var xue=h((Cfr,mue)=>{"use strict";var{getPubsubRouting:p1t}=Gv(),b1t=Ke();mue.exports=({ipns:r,options:e})=>{async function t(i){return p1t(r,e).getSubscriptions(i)}return b1t(t)}});var Eue=h((Mfr,wue)=>{"use strict";var y1t=bue(),g1t=gue(),m1t=xue(),vue=class{constructor({ipns:e,options:t}){this.cancel=y1t({ipns:e,options:t}),this.state=g1t({ipns:e,options:t}),this.subs=m1t({ipns:e,options:t})}};wue.exports=vue});var kue=h((Nfr,_ue)=>{"use strict";var x1t=nue(),w1t=fue(),v1t=Eue(),Sue=class{constructor({dns:e,ipns:t,dagReader:i,peerId:n,isOnline:s,keychain:o,options:a}){this.publish=x1t({ipns:t,dagReader:i,peerId:n,isOnline:s,keychain:o}),this.resolve=w1t({dns:e,ipns:t,peerId:n,isOnline:s,options:a}),this.pubsub=new v1t({ipns:t,options:a.EXPERIMENTAL})}};_ue.exports=Sue});var Iue=h((Pfr,tR)=>{"use strict";var E1t=$f(),rR=ot(),{DAGNode:_1t}=Nr(),{normalizeCidPath:S1t}=pi(),{Errors:k1t}=ur(),A1t=k1t.notFoundError().code,I1t=Ke(),$v={default:"<dst>",edges:"<src> -> <dst>"};tR.exports=function({ipld:r,resolve:e,preload:t}){async function*i(n,s={}){if(s.maxDepth===0)return;if(s.edges&&s.format&&s.format!==$v.default)throw new Error("Cannot set edges to true and also specify format");s.format=s.edges?$v.edges:s.format||$v.default,typeof s.maxDepth!="number"&&(s.maxDepth=s.recursive?Infinity:1);let a=(Array.isArray(n)?n:[n]).map(c=>T1t(t,c,s));for(let c of a)yield*R1t(e,r,c,s)}return I1t(i)};tR.exports.Format=$v;function T1t(r,e,t){let i=S1t(e),s=i.split("/")[0];if(!E1t.cid(s))throw new Error(`Error resolving path '${i}': '${s}' is not a valid CID`);return t.preload!==!1&&r(s),"/ipfs/"+i}async function*R1t(r,e,t,i){let o=(await r(t)).split("/")[2];for await(let a of B1t(e,o,i.maxDepth,i.unique))!a.parent||a.isDuplicate||(yield{ref:q1t(a.parent.cid,a.node.cid,a.node.name,i.format)})}function q1t(r,e,t,i){let n=i.replace(/<src>/g,r.toString());return n=n.replace(/<dst>/g,e.toString()),n=n.replace(/<linkname>/g,t),n}async function*B1t(r,e,t,i){let n=new Set;async function*s(o,a){let c=a+1;if(!(c>t))try{for(let u of await C1t(r,o.cid))yield{parent:o,node:u,isDuplicate:i&&n.has(u.cid.toString())},i&&n.add(u.cid.toString()),yield*s(u,c)}catch(u){throw u.code===A1t&&(u.message=`Could not find object with CID: ${o.cid}`),u}}yield*s({cid:e},0)}async function C1t(r,e){let t=await r.get(new rR(e));return _1t.isDAGNode(t)?t.Links.map(({Name:i,Hash:n})=>({name:i,cid:new rR(n)})):Aue(t)}function Aue(r,e=""){let t=[];for(let[i,n]of Object.entries(r))rR.isCID(n)?t.push({name:e+i,cid:n}):typeof n=="object"&&(t=t.concat(Aue(n,e+i+"/")));return t}});var Rue=h((Dfr,Tue)=>{"use strict";var M1t=Ke();Tue.exports=function({repo:r}){async function*e(t={}){for await(let i of r.blocks.query({keysOnly:!0,signal:t.signal}))yield{ref:i.toString()}}return M1t(e)}});var Bue=h((Ofr,que)=>{"use strict";var N1t=Ke();que.exports=({network:r})=>{async function e(t={}){let{bitswap:i}=await r.use(t),n=i.getWantlist(t);return Array.from(n).map(s=>s[1].cid)}return N1t(e)}});var Mue=h((Lfr,Cue)=>{"use strict";var P1t=yt(),D1t=Ke();Cue.exports=({network:r})=>{async function e(t,i={}){let{bitswap:n}=await r.use(i),s=n.wantlistForPeer(P1t.createFromCID(t),i);return Array.from(s).map(o=>o[1].cid)}return D1t(e)}});var Pue=h((Ffr,Nue)=>{"use strict";var O1t=ot(),L1t=qe(),F1t=Ke();Nue.exports=({network:r})=>{async function e(t,i){let{bitswap:n}=await r.use(i);Array.isArray(t)||(t=[t]);try{t=t.map(s=>new O1t(s))}catch(s){throw L1t(s,"ERR_INVALID_CID")}return n.unwant(t,i)}return F1t(e)}});var iR=h((Ufr,Due)=>{"use strict";var{default:s1}=pa(),U1t=ot(),z1t=Ke();Due.exports=({network:r})=>{async function e(t){let{bitswap:i}=await r.use(t),n=i.stat().snapshot;return{provideBufLen:parseInt(n.providesBufferLength.toString()),blocksReceived:new s1(n.blocksReceived),wantlist:Array.from(i.getWantlist()).map(s=>s[1].cid),peers:i.peers().map(s=>new U1t(s.toB58String())),dupBlksReceived:new s1(n.dupBlksReceived),dupDataReceived:new s1(n.dupDataReceived),dataReceived:new s1(n.dataReceived),blocksSent:new s1(n.blocksSent),dataSent:new s1(n.dataSent)}}return z1t(e)}});var Fue=h((zfr,Oue)=>{"use strict";var K1t=Bue(),V1t=Mue(),j1t=Pue(),H1t=iR(),Lue=class{constructor({network:e}){this.wantlist=K1t({network:e}),this.wantlistForPeer=V1t({network:e}),this.unwant=j1t({network:e}),this.stat=H1t({network:e})}};Oue.exports=Lue});var nR=h(Uue=>{"use strict";var G1t=Sl().IPFS.matches;Uue.isValidMultiaddr=r=>{try{return G1t(r)}catch(e){return!1}}});var Kue=h((Vfr,zue)=>{"use strict";var{isValidMultiaddr:$1t}=nR(),W1t=Ke();zue.exports=({repo:r})=>{async function e(t,i={}){if(!$1t(t))throw new Error(`${t} is not a valid Multiaddr`);let n=await r.config.getAll(i);return n.Bootstrap.indexOf(t.toString())===-1&&n.Bootstrap.push(t.toString()),await r.config.replace(n),{Peers:[t]}}return W1t(e)}});var jue=h((jfr,Vue)=>{"use strict";var Y1t=Ke(),X1t=tr();Vue.exports=({repo:r})=>{async function e(t={}){let i=await r.config.getAll(t),n=i.Bootstrap||[];return i.Bootstrap=[],await r.config.replace(i),{Peers:n.map(s=>new X1t(s))}}return Y1t(e)}});var Gue=h((Hfr,Hue)=>{"use strict";var J1t=Ke(),Z1t=tr();Hue.exports=({repo:r})=>{async function e(t){return{Peers:(await r.config.get("Bootstrap",t)||[]).map(n=>new Z1t(n))}}return J1t(e)}});var Wv=h((Gfr,$ue)=>{"use strict";$ue.exports=()=>({Addresses:{Swarm:[],Announce:[],API:"",Gateway:"",RPC:"",Delegates:["/dns4/node0.delegate.ipfs.io/tcp/443/https","/dns4/node1.delegate.ipfs.io/tcp/443/https","/dns4/node2.delegate.ipfs.io/tcp/443/https","/dns4/node3.delegate.ipfs.io/tcp/443/https"]},Discovery:{MDNS:{Enabled:!1,Interval:10},webRTCStar:{Enabled:!0}},Bootstrap:["/dnsaddr/bootstrap.libp2p.io/p2p/QmNnooDu7bfjPFoTZYxMNLWUQJyrVwtbZg5gBMjTezGAJN","/dnsaddr/bootstrap.libp2p.io/p2p/QmbLHAnMoJPWSCR5Zhtx6BHJX9KiKNN6tpvbUcqanj75Nb","/dnsaddr/bootstrap.libp2p.io/p2p/QmZa1sAxajnQjVM8WjWXoMbmPd7NsWhfKsPkErzpm9wGkp","/dnsaddr/bootstrap.libp2p.io/p2p/QmQCU2EcMqAqQPR2i9bChDtGNJchTbq5TbXJJ16u19uLTa","/dnsaddr/bootstrap.libp2p.io/p2p/QmcZf59bWwK5XFi76CZX8cbJ4BhTzzA3gU1ZjYZcYW3dwt","/dns4/node0.preload.ipfs.io/tcp/443/wss/p2p/QmZMxNdpMkewiVZLMRxaNxUeZpDUb34pWjZ1kZvsd16Zic","/dns4/node1.preload.ipfs.io/tcp/443/wss/p2p/Qmbut9Ywz9YEDrz8ySBSgWyJk41Uvm2QJPhwDJzJyGFsD6","/dns4/node2.preload.ipfs.io/tcp/443/wss/p2p/QmV7gnbW5VTcJ3oyM2Xk1rdFBJ3kTkvxc87UFGsun29STS","/dns4/node3.preload.ipfs.io/tcp/443/wss/p2p/QmY7JB6MQXhxHvq7dBDh4HpbH29v4yE9JRadAVpndvzySN"],Pubsub:{Enabled:!0},Swarm:{ConnMgr:{LowWater:200,HighWater:500},DisableNatPortMap:!0},Routing:{Type:"none"}})});var Xue=h(($fr,Wue)=>{"use strict";var Yue=Wv(),Q1t=Ke(),ebt=tr();Wue.exports=({repo:r})=>{async function e(t={}){let i=await r.config.getAll(t);return i.Bootstrap=Yue().Bootstrap,await r.config.replace(i),{Peers:Yue().Bootstrap.map(n=>new ebt(n))}}return Q1t(e)}});var Zue=h((Wfr,Jue)=>{"use strict";var{isValidMultiaddr:tbt}=nR(),rbt=Ke();Jue.exports=({repo:r})=>{async function e(t,i={}){if(!tbt(t))throw new Error(`${t} is not a valid Multiaddr`);let n=await r.config.getAll(i);return n.Bootstrap=(n.Bootstrap||[]).filter(s=>s.toString()!==t.toString()),await r.config.replace(n),{Peers:[t]}}return rbt(e)}});var tfe=h((Yfr,Que)=>{"use strict";var ibt=Kue(),nbt=jue(),sbt=Gue(),obt=Xue(),abt=Zue(),efe=class{constructor({repo:e}){this.add=ibt({repo:e}),this.list=sbt({repo:e}),this.rm=abt({repo:e}),this.clear=nbt({repo:e}),this.reset=obt({repo:e})}};Que.exports=efe});var Yv=h(rfe=>{"use strict";var ife=ot(),cbt=qe();rfe.cleanCid=r=>{if(ife.isCID(r))return r;try{return new ife(r)}catch(e){throw cbt(e,"ERR_INVALID_CID")}}});var sfe=h((Jfr,nfe)=>{"use strict";var{cleanCid:ubt}=Yv(),fbt=Ke();nfe.exports=({blockService:r,preload:e})=>{async function t(i,n={}){return i=ubt(i),n.preload!==!1&&e(i),r.get(i,n)}return fbt(t)}});var afe=h((Zfr,ofe)=>{ofe.exports={_args:[["ipld-block@0.11.1","/Users/alex/Documents/Workspaces/ipfs/js-ipfs-master"]],_from:"ipld-block@0.11.1",_id:"ipld-block@0.11.1",_inBundle:!1,_integrity:"sha512-sDqqLqD5qh4QzGq6ssxLHUCnH4emCf/8F8IwjQM2cjEEIEHMUj57XhNYgmGbemdYPznUhffxFGEHsruh5+HQRw==",_location:"/ipld-block",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"ipld-block@0.11.1",name:"ipld-block",escapedName:"ipld-block",rawSpec:"0.11.1",saveSpec:null,fetchSpec:"0.11.1"},_requiredBy:["/","/ipfs-bitswap","/ipfs-repo","/ipld"],_resolved:"https://registry.npmjs.org/ipld-block/-/ipld-block-0.11.1.tgz",_spec:"0.11.1",_where:"/Users/alex/Documents/Workspaces/ipfs/js-ipfs-master",bugs:{url:"https://github.com/ipld/js-ipld-block/issues"},contributors:[{name:"David Dias",email:"daviddias.p@gmail.com"},{name:"Volker Mische",email:"volker.mische@gmail.com"},{name:"Friedel Ziegelmayer",email:"dignifiedquire@gmail.com"},{name:"Irakli Gozalishvili",email:"contact@gozala.io"},{name:"achingbrain",email:"alex@achingbrain.net"},{name:"\u1D20\u026A\u1D04\u1D1B\u1D0F\u0280 \u0299\u1D0A\u1D07\u029F\u1D0B\u029C\u1D0F\u029F\u1D0D",email:"victorbjelkholm@gmail.com"},{name:"Alan Shaw",email:"alan.shaw@protocol.ai"},{name:"Charlie",email:"the_charlie_daly@hotmail.co.uk"},{name:"Diogo Silva",email:"fsdiogo@gmail.com"},{name:"Hugo Dias",email:"hugomrdias@gmail.com"},{name:"Mikeal Rogers",email:"mikeal.rogers@gmail.com"},{name:"Richard Littauer",email:"richard.littauer@gmail.com"},{name:"Richard Schneider",email:"makaretu@gmail.com"},{name:"Xmader",email:"xmader@outlook.com"}],dependencies:{cids:"^1.0.0"},description:"JavaScript Implementation of IPLD Block",devDependencies:{aegir:"^31.0.4",uint8arrays:"^2.1.3"},engines:{node:">=6.0.0",npm:">=3.0.0"},homepage:"https://github.com/ipld/js-ipld-block#readme",keywords:["IPLD"],leadMaintainer:"Volker Mische <volker.mische@gmail.com>",license:"MIT",main:"src/index.js",name:"ipld-block","pre-push":["lint","test"],repository:{type:"git",url:"git+https://github.com/ipld/js-ipld-block.git"},scripts:{check:"tsc --noEmit --noErrorTruncation",coverage:"aegir coverage","coverage-publish":"aegir coverage --provider coveralls",docs:"aegir docs",lint:"aegir lint",prepare:"aegir build --no-bundle",prepublishOnly:"aegir build",release:"aegir release --docs","release-major":"aegir release --type major --docs","release-minor":"aegir release --type minor --docs",test:"aegir test","test:browser":"aegir test --target browser","test:node":"aegir test --target node"},types:"dist/src/index.d.ts",version:"0.11.1"}});var o1=h((Qfr,cfe)=>{"use strict";var lbt=ot(),{version:hbt}=afe(),ufe=Symbol.for("@ipld/js-ipld-block/block"),ffe={writable:!1,configurable:!1,enumerable:!0},lfe=class{constructor(e,t){if(!e||!(e instanceof Uint8Array))throw new Error("first argument  must be a Uint8Array");if(!t||!lbt.isCID(t))throw new Error("second argument must be a CID");this.data=e,this.cid=t,Object.defineProperties(this,{data:ffe,cid:ffe})}get _data(){return pbt(),this.data}get _cid(){return dbt(),this.cid}get[Symbol.toStringTag](){return"Block"}get[ufe](){return!0}static isBlock(e){return Boolean(e&&e[ufe])}},hfe=(r,e)=>{let t=!1;return()=>{if(r.test(hbt))t||(t=!0,console.warn(e));else throw new Error(e)}},dbt=hfe(/^0\.10|^0\.11/,"block._cid is deprecated and will be removed in 0.12 release. Please use block.cid instead"),pbt=hfe(/^0\.10|^0.11/,"block._data is deprecated and will be removed in 0.12 release. Please use block.data instead");cfe.exports=lfe});var pfe=h((e0r,dfe)=>{"use strict";var sR=o1(),bbt=Er(),oR=ot(),ybt=$f(),gbt=Ke();dfe.exports=({blockService:r,pin:e,gcLock:t,preload:i})=>{async function n(s,o={}){if(Array.isArray(s))throw new Error("Array is not supported");if(!sR.isBlock(s)){let c=s;if(o.cid&&ybt.cid(o.cid)){let u=oR.isCID(o.cid)?o.cid:new oR(o.cid);s=new sR(c,u)}else{let u=o.mhtype||"sha2-256",f=o.format||"dag-pb",l=1;o.version==null?l=u==="sha2-256"&&f==="dag-pb"?0:1:l=o.version;let d=await bbt(c,u),p=new oR(l,f,d);s=new sR(c,p)}}let a=await t.readLock();try{return await r.put(s,{signal:o.signal}),o.preload!==!1&&i(s.cid),o.pin===!0&&await e.add(s.cid,{recursive:!0,signal:o.signal}),s}finally{a()}}return gbt(n)}});var f0=h(mbt=>{Vx(mbt);jx(mbt,{batch:()=>bfe,buffer:()=>Xv,collect:()=>Sbt,concat:()=>Ibt,consume:()=>Rbt,filter:()=>Jv,flatMap:()=>mfe,flatTransform:()=>Qv,flatten:()=>im,fromStream:()=>Mbt,getIterator:()=>Xl,map:()=>Zv,merge:()=>Nbt,parallelFlatMap:()=>t8,parallelMap:()=>e8,parallelMerge:()=>Dbt,pipeline:()=>xfe,reduce:()=>cR,take:()=>vfe,tap:()=>Fbt,time:()=>Sfe,transform:()=>r8,writeToStream:()=>Vbt});async function*xbt(r,e){let t=[];for await(let i of e)t.push(i),t.length===r&&(yield t,t=[]);t.length>0&&(yield t)}function*wbt(r,e){let t=[];for(let i of e)t.push(i),t.length===r&&(yield t,t=[]);t.length>0&&(yield t)}function bfe(r,e){return e===void 0?t=>bfe(r,t):e[Symbol.asyncIterator]?xbt(r,e):wbt(r,e)}function Xl(r){if(typeof r.next=="function")return r;if(typeof r[Symbol.iterator]=="function")return r[Symbol.iterator]();if(typeof r[Symbol.asyncIterator]=="function")return r[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function aR(){let r,e;return{promise:new Promise((i,n)=>{e=i,r=n}),reject:r,resolve:e}}function vbt(r,e){let t=Xl(e),i=[],n=[],s=!1,o=!1;function a(){for(;n.length>0&&i.length>0;){let l=n.shift(),{error:d,value:p}=i.shift();d?l.reject(d):l.resolve({done:!1,value:p})}for(;n.length>0&&o;){let{resolve:l}=n.shift();l({done:!0,value:void 0})}}async function c(){if(!o&&!s&&!(i.length>=r)){s=!0;try{let{done:l,value:d}=await t.next();l?o=!0:i.push({value:d})}catch(l){o=!0,i.push({error:l})}a(),s=!1,c()}}async function u(){if(i.length>0){let{error:d,value:p}=i.shift();if(d)throw d;return c(),{done:!1,value:p}}if(o)return{done:!0,value:void 0};let l=aR();return n.push(l),c(),l.promise}let f={next:u,[Symbol.asyncIterator]:()=>f};return f}function*Ebt(r,e){let t=[],i;try{for(let n of e)t.push(n),!(t.length<=r)&&(yield t.shift())}catch(n){i=n}for(let n of t)yield n;if(i)throw i}function Xv(r,e){return e===void 0?t=>Xv(r,t):r===0?e:e[Symbol.asyncIterator]?vbt(r,e):Ebt(r,e)}async function _bt(r){let e=[];for await(let t of r)e.push(t);return e}function Sbt(r){return r[Symbol.asyncIterator]?_bt(r):Array.from(r)}async function*kbt(r){for await(let e of r)yield*e}function*Abt(r){for(let e of r)yield*e}function Ibt(...r){return r.find(t=>t[Symbol.asyncIterator]!==void 0)?kbt(r):Abt(r)}async function Tbt(r){for await(let e of r);}function Rbt(r){if(r[Symbol.asyncIterator])return Tbt(r);for(let e of r);}async function*yfe(r,e){for await(let t of e)await r(t)&&(yield t)}function Jv(r,e){return e===void 0?t=>yfe(r,t):yfe(r,e)}async function*im(r){for await(let e of r)e&&typeof e!="string"&&(e[Symbol.iterator]||e[Symbol.asyncIterator])?yield*im(e):yield e}async function*gfe(r,e){for await(let t of e)yield await r(t)}function Zv(r,e){return e===void 0?t=>gfe(r,t):gfe(r,e)}function mfe(r,e){return e===void 0?t=>mfe(r,t):Jv(t=>t!=null,im(Zv(r,e)))}function qbt(r,e,t){let i=Xl(t),n=[],s=[],o=!1,a=!1,c=0,u=null;function f(){for(;s.length>0&&n.length>0;){let{resolve:g}=s.shift(),m=n.shift();g({done:!1,value:m})}for(;s.length>0&&c===0&&o;){let{resolve:g,reject:m}=s.shift();u?(m(u),u=null):g({done:!0,value:void 0})}}async function l(){if(o){f();return}if(!a&&!(c+n.length>=r)){a=!0,c++;try{let{done:g,value:m}=await i.next();g?(o=!0,c--,f()):d(m)}catch(g){o=!0,c--,u=g,f()}a=!1,l()}}async function d(g){try{let m=await e(g);if(m&&m[Symbol.asyncIterator])for await(let w of m)n.push(w);else n.push(m)}catch(m){o=!0,u=m}c--,f(),l()}async function p(){if(n.length===0){let m=aR();return s.push(m),l(),m.promise}let g=n.shift();return l(),{done:!1,value:g}}let b={next:p,[Symbol.asyncIterator]:()=>b};return b}function Qv(r,e,t){return e===void 0?(i,n)=>n?Qv(r,i,n):Qv(r,i):t===void 0?i=>Qv(r,e,i):Jv(i=>i!=null,im(qbt(r,e,t)))}async function Bbt(r){return new Promise(e=>{r.once("readable",()=>{e()})})}async function*Cbt(r){for(;;){let e=r.read();if(e!==null){yield e;continue}if(r._readableState.ended)break;await Bbt(r)}}function Mbt(r){return typeof r[Symbol.asyncIterator]=="function"?r:Cbt(r)}async function*Nbt(...r){let e=new Set(r.map(Xl));for(;e.size>0;)for(let t of e){let i=await t.next();i.done?e.delete(t):yield i.value}}function xfe(r,...e){let t=r();for(let i of e)t=i(t);return t}async function*Pbt(r,e,t){let i=null,n=c=>({value:e(c)}),s=async function*(c){for await(let u of c){if(i)return;yield u}},o=xfe(()=>t,Xv(1),s,Zv(n),Xv(r-1)),a=Xl(o);for(;;){let{value:c,done:u}=await a.next();if(u)break;try{let f=await c.value;i||(yield f)}catch(f){i=f}}if(i)throw i}function e8(r,e,t){return e===void 0?(i,n)=>e8(r,i,n):t===void 0?i=>e8(r,e,i):r===1?Zv(e,t):Pbt(r,e,t)}function t8(r,e,t){return e===void 0?(i,n)=>n?t8(r,i,n):t8(r,i):t===void 0?i=>t8(r,e,i):Jv(i=>i!=null,im(e8(r,e,t)))}async function*Dbt(...r){let e=r.map(Xl),t=new Set,i=new Map,n=null,s=null,o=null,a=l=>{n=l,s&&s(l)},c=l=>{o&&o(l)},u=()=>new Promise((l,d)=>{if(n&&d(n),i.size>0)return l();o=l,s=d}),f=l=>{let d=Promise.resolve(l.next()).then(async({done:p,value:b})=>{p||i.set(l,b),t.delete(d)});t.add(d),d.then(c,a)};for(let l of e)f(l);for(;;){if(t.size===0&&i.size===0)return;await u();for(let[l,d]of i)i.delete(l),yield d,f(l)}}async function wfe(r,e,t){let i=e;for await(let n of t)i=await r(i,n);return i}function cR(r,e,t){return e===void 0?(i,n)=>n?wfe(r,i,n):cR(r,i):t===void 0?i=>cR(r,e,i):wfe(r,e,t)}async function*Obt(r,e){let t=0;for await(let i of e)if(yield await i,t++,t>=r)break}function*Lbt(r,e){let t=0;for(let i of e)if(yield i,t++,t>=r)break}function vfe(r,e){return e===void 0?t=>vfe(r,t):e[Symbol.asyncIterator]?Obt(r,e):Lbt(r,e)}async function*Efe(r,e){for await(let t of e)await r(t),yield t}function Fbt(r,e){return e===void 0?t=>Efe(r,t):Efe(r,e)}function _fe(r,e){let t=r[0]+e[0],i=r[1]+e[1];if(i>=1e9){let n=i%1e9;t+=(i-n)/1e9,i=n}return[t,i]}async function*Ubt(r,e){let t=e[Symbol.asyncIterator](),i=[0,0];for(;;){let n=process.hrtime(),{value:s,done:o}=await t.next(),a=process.hrtime(n);if(i=_fe(i,a),r.progress&&r.progress(a,i),o)return r.total&&r.total(i),s;yield s}}function*zbt(r,e){let t=e[Symbol.iterator](),i=[0,0];for(;;){let n=process.hrtime(),{value:s,done:o}=t.next(),a=process.hrtime(n);if(i=_fe(i,a),r.progress&&r.progress(a,i),o)return r.total&&r.total(i),s;yield s}}function Sfe(r={},e){return e===void 0?t=>Sfe(r,t):e[Symbol.asyncIterator]!==void 0?Ubt(r,e):zbt(r,e)}function Kbt(r,e,t){let i=Xl(t),n=[],s=[],o=!1,a=!1,c=0,u=null;function f(){for(;s.length>0&&n.length>0;){let{resolve:g}=s.shift(),m=n.shift();g({done:!1,value:m})}for(;s.length>0&&c===0&&o;){let{resolve:g,reject:m}=s.shift();u?(m(u),u=null):g({done:!0,value:void 0})}}async function l(){if(o){f();return}if(!a&&!(c+n.length>=r)){a=!0,c++;try{let{done:g,value:m}=await i.next();g?(o=!0,c--,f()):d(m)}catch(g){o=!0,c--,u=g,f()}a=!1,l()}}async function d(g){try{let m=await e(g);n.push(m)}catch(m){o=!0,u=m}c--,f(),l()}async function p(){if(n.length===0){let m=aR();return s.push(m),l(),m.promise}let g=n.shift();return l(),{done:!1,value:g}}let b={next:p,[Symbol.asyncIterator]:()=>b};return b}function r8(r,e,t){return e===void 0?(i,n)=>n?r8(r,i,n):r8(r,i):t===void 0?i=>r8(r,e,i):Kbt(r,e,t)}async function kfe(r,e){let t=null,i=null,n=null,s=u=>{t=u,i&&i(u)},o=()=>{n&&n()},a=()=>{r.removeListener("error",s),r.removeListener("drain",o)};r.once("error",s);let c=()=>new Promise((u,f)=>{if(t)return f(t);r.once("drain",o),n=u,i=f});for await(let u of e)if(r.write(u)===!1&&await c(),t)break;if(a(),t)throw t}function Vbt(r,e){return e===void 0?t=>kfe(r,t):kfe(r,e)}});var yi=h((r0r,a1)=>{var Afe=(...r)=>{let e;for(;r.length;)e=r.shift()(e);return e},uR=r=>r&&(typeof r[Symbol.asyncIterator]=="function"||typeof r[Symbol.iterator]=="function"||typeof r.next=="function"),i8=r=>r&&typeof r.sink=="function"&&uR(r.source),jbt=r=>e=>(r.sink(e),r.source),Ife=(...r)=>{if(i8(r[0])){let e=r[0];r[0]=()=>e.source}else if(uR(r[0])){let e=r[0];r[0]=()=>e}if(r.length>1&&i8(r[r.length-1])&&(r[r.length-1]=r[r.length-1].sink),r.length>2)for(let e=1;e<r.length-1;e++)i8(r[e])&&(r[e]=jbt(r[e]));return Afe(...r)};a1.exports=Ife;a1.exports.pipe=Ife;a1.exports.rawPipe=Afe;a1.exports.isIterable=uR;a1.exports.isDuplex=i8});var Rfe=h((i0r,Tfe)=>{"use strict";var Hbt=ot(),fR=qe(),{parallelMap:Gbt,filter:$bt}=f0(),{pipe:Wbt}=yi(),{PinTypes:Ybt}=Zp(),{cleanCid:Xbt}=Yv(),Jbt=Ke(),Zbt=8;Tfe.exports=({blockService:r,gcLock:e,pinManager:t})=>{async function*i(n,s={}){Array.isArray(n)||(n=[n]);let o=await e.writeLock();try{yield*Wbt(n,Gbt(Zbt,async a=>{a=Xbt(a);let c={cid:a};try{let u=await t.isPinnedWithType(a,Ybt.all);if(u.pinned)throw Hbt.isCID(u.reason)?fR(new Error(`pinned via ${u.reason}`)):fR(new Error(`pinned: ${u.reason}`));if(!await r._repo.blocks.has(a))throw fR(new Error("block not found"),"ERR_BLOCK_NOT_FOUND");await r.delete(a)}catch(u){s.force||(u.message=`cannot remove ${a}: ${u.message}`,c.error=u)}return c}),$bt(()=>!s.quiet))}finally{o()}}return Jbt(i)}});var Bfe=h((n0r,qfe)=>{"use strict";var{cleanCid:Qbt}=Yv(),e2t=Ke();qfe.exports=({blockService:r,preload:e})=>{async function t(i,n={}){i=Qbt(i),n.preload!==!1&&e(i);let s=await r.get(i);return{cid:i,size:s.data.length}}return e2t(t)}});var Nfe=h((s0r,Cfe)=>{"use strict";var t2t=sfe(),r2t=pfe(),i2t=Rfe(),n2t=Bfe(),Mfe=class{constructor({blockService:e,preload:t,gcLock:i,pinManager:n,pin:s}){this.get=t2t({blockService:e,preload:t}),this.put=r2t({blockService:e,preload:t,gcLock:i,pin:s}),this.rm=i2t({blockService:e,gcLock:i,pinManager:n}),this.stat=n2t({blockService:e,preload:t})}};Cfe.exports=Mfe});var Dfe=h((o0r,Pfe)=>{"use strict";var s2t=gc();Pfe.exports=({addAll:r})=>{async function e(t,i){let s=await s2t(r(t,i));if(s==null)throw Error("Failed to add a file, if you see this please report a bug");return s}return e}});var n8=h((a0r,Ofe)=>{"use strict";async function*o2t(r,e=1){let t=[];e<1&&(e=1);for await(let i of r)for(t.push(i);t.length>=e;)yield t.slice(0,e),t=t.slice(e);for(;t.length;)yield t.slice(0,e),t=t.slice(e)}Ofe.exports=o2t});var lR=h((c0r,Lfe)=>{"use strict";var a2t=n8();async function*c2t(r,e=1){for await(let t of a2t(r,e)){let i=t.map(n=>n().then(s=>({ok:!0,value:s}),s=>({ok:!1,err:s})));for(let n=0;n<i.length;n++){let s=await i[n];if(s.ok)yield s.value;else throw s.err}}}Lfe.exports=c2t});var Jl=h((u0r,Ffe)=>{"use strict";var u2t=Er(),f2t=ot(),l2t=async(r,e,t)=>{t.codec||(t.codec="dag-pb"),t.cidVersion||(t.cidVersion=0),t.hashAlg||(t.hashAlg="sha2-256"),t.hashAlg!=="sha2-256"&&(t.cidVersion=1);let i=await u2t(r,t.hashAlg),n=new f2t(t.cidVersion,t.codec,i);return t.onlyHash||await e.put(r,{...t,cid:n}),n};Ffe.exports=l2t});var zfe=h((f0r,Ufe)=>{"use strict";var h2t=yn(),d2t=Jl(),{DAGNode:p2t}=Nr(),b2t=async(r,e,t)=>{let i=new h2t({type:"directory",mtime:r.mtime,mode:r.mode}),n=new p2t(i.marshal()).serialize(),s=await d2t(n,e,t),o=r.path;return{cid:s,path:o,unixfs:i,size:n.length}};Ufe.exports=b2t});var Vfe=h((l0r,Kfe)=>{"use strict";var y2t=dg();Kfe.exports=async function*(r,e){yield await e(await y2t(r))}});var Gfe=h((h0r,jfe)=>{"use strict";var g2t=n8();async function*m2t(r,e,t){yield await Hfe(r,e,t)}async function Hfe(r,e,t){let i=[];for await(let n of g2t(r,t.maxChildrenPerNode))i.push(await e(n));return i.length>1?Hfe(i,e,t):i[0]}jfe.exports=m2t});var Yfe=h((d0r,$fe)=>{"use strict";var x2t=n8();$fe.exports=function*(e,t,i){yield w2t(e,t,i)};async function w2t(r,e,t){let i,n=0,s=1,o=i=new Wfe(t.layerRepeat);for await(let a of x2t(r,t.maxChildrenPerNode))o.isFull()&&(o!==i&&i.addChild(await o.reduce(e)),n&&n%t.layerRepeat==0&&s++,o=new hR(s,t.layerRepeat,n),n++),o.append(a);return o&&o!==i&&i.addChild(await o.reduce(e)),i.reduce(e)}var hR=class{constructor(e,t,i){this.maxDepth=e,this.layerRepeat=t,this.currentDepth=1,this.iteration=i,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:e,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;let e=this._findParent(this.node,this.currentDepth);return e?(this._addNextNodeToParent(e),!1):!0}_addNextNodeToParent(e){this.parent=e;let t={children:[],depth:e.depth+1,parent:e,maxDepth:this.maxDepth,maxChildren:Math.floor(e.children.length/this.layerRepeat)*this.layerRepeat};e.children.push(t),this.currentDepth=t.depth,this.node=t}append(e){this.node.data=e}reduce(e){return this._reduce(this.root,e)}async _reduce(e,t){let i=[];return e.children.length&&(i=await Promise.all(e.children.filter(n=>n.data).map(n=>this._reduce(n,t)))),t(e.data.concat(i))}_findParent(e,t){let i=e.parent;if(!(!i||i.depth===0))return i.children.length===i.maxChildren||!i.maxChildren?this._findParent(i,t):i}},Wfe=class extends hR{constructor(e){super(0,e);this.root.depth=0,this.currentDepth=1}addChild(e){this.root.children.push(e)}reduce(e){return e(this.root.data.concat(this.root.children))}}});var Jfe=h((p0r,Xfe)=>{"use strict";var v2t=yn(),E2t=Jl(),{DAGNode:_2t}=Nr();async function*S2t(r,e,t,i){for await(let n of e)yield async()=>{i.progress(n.length,r.path);let s,o={...i};return i.rawLeaves?(o.codec="raw",o.cidVersion=1):(s=new v2t({type:i.leafType,data:n,mtime:r.mtime,mode:r.mode}),n=new _2t(s.marshal()).serialize()),{cid:await E2t(n,t,o),unixfs:s,size:n.length}}}Xfe.exports=S2t});var n0e=h((b0r,Zfe)=>{"use strict";var Qfe=qe(),e0e=yn(),t0e=Jl(),{DAGNode:r0e,DAGLink:i0e}=Nr(),k2t=dg(),A2t=lR(),I2t=Er().multihash,T2t={flat:Vfe(),balanced:Gfe(),trickle:Yfe()};async function*R2t(r,e,t,i){let n=-1,s,o;typeof i.bufferImporter=="function"?o=i.bufferImporter:o=Jfe();for await(let a of A2t(o(r,e,t,i),i.blockWriteConcurrency)){if(n++,n===0){s=a;continue}else n===1&&(yield s,s=null);yield a}s&&(s.single=!0,yield s)}var q2t=(r,e,t)=>async function(i){if(i.length===1&&i[0].single&&t.reduceSingleLeafToSelf){let u=i[0];if(u.cid.codec==="raw"&&(r.mtime!==void 0||r.mode!==void 0)){let{data:f}=await e.get(u.cid,t);u.unixfs=new e0e({type:"file",mtime:r.mtime,mode:r.mode,data:f});let l=I2t.decode(u.cid.multihash);f=new r0e(u.unixfs.marshal()).serialize(),u.cid=await t0e(f,e,{...t,codec:"dag-pb",hashAlg:l.name,cidVersion:t.cidVersion}),u.size=f.length}return{cid:u.cid,path:r.path,unixfs:u.unixfs,size:u.size}}let n=new e0e({type:"file",mtime:r.mtime,mode:r.mode}),s=i.filter(u=>u.cid.codec==="raw"&&u.size||!u.unixfs.data&&u.unixfs.fileSize()?!0:Boolean(u.unixfs.data.length)).map(u=>u.cid.codec==="raw"?(n.addBlockSize(u.size),new i0e(u.name,u.size,u.cid)):(u.unixfs.data?n.addBlockSize(u.unixfs.data.length):n.addBlockSize(u.unixfs.fileSize()),new i0e(u.name,u.size,u.cid))),o=new r0e(n.marshal(),s),a=o.serialize();return{cid:await t0e(a,e,t),path:r.path,unixfs:n,size:a.length+o.Links.reduce((u,f)=>u+f.Tsize,0)}},B2t=async(r,e,t,i)=>{let n=T2t[i.strategy];if(!n)throw Qfe(new Error(`Unknown importer build strategy name: ${i.strategy}`),"ERR_BAD_STRATEGY");let s=await k2t(n(R2t(r,e,t,i),q2t(r,t,i),i));if(s.length>1)throw Qfe(new Error("expected a maximum of 1 roots and got "+s.length),"ETOOMANYROOTS");return s[0]};Zfe.exports=B2t});var g0e=h(c1=>{"use strict";var dR=ra(),u1=bo(),s0e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;c1.Buffer=_e;c1.SlowBuffer=C2t;c1.INSPECT_MAX_BYTES=50;var s8=2147483647;c1.kMaxLength=s8;_e.TYPED_ARRAY_SUPPORT=M2t();!_e.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function M2t(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(t){return!1}}Object.defineProperty(_e.prototype,"parent",{enumerable:!0,get:function(){if(!!_e.isBuffer(this))return this.buffer}});Object.defineProperty(_e.prototype,"offset",{enumerable:!0,get:function(){if(!!_e.isBuffer(this))return this.byteOffset}});function Mu(r){if(r>s8)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,_e.prototype),e}function _e(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return pR(r)}return o0e(r,e,t)}_e.poolSize=8192;function o0e(r,e,t){if(typeof r=="string")return N2t(r,e);if(ArrayBuffer.isView(r))return P2t(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Ac(r,ArrayBuffer)||r&&Ac(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Ac(r,SharedArrayBuffer)||r&&Ac(r.buffer,SharedArrayBuffer)))return bR(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return _e.from(i,e,t);var n=D2t(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return _e.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}_e.from=function(r,e,t){return o0e(r,e,t)};Object.setPrototypeOf(_e.prototype,Uint8Array.prototype);Object.setPrototypeOf(_e,Uint8Array);function a0e(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function O2t(r,e,t){return a0e(r),r<=0?Mu(r):e!==void 0?typeof t=="string"?Mu(r).fill(e,t):Mu(r).fill(e):Mu(r)}_e.alloc=function(r,e,t){return O2t(r,e,t)};function pR(r){return a0e(r),Mu(r<0?0:yR(r)|0)}_e.allocUnsafe=function(r){return pR(r)};_e.allocUnsafeSlow=function(r){return pR(r)};function N2t(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!_e.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=c0e(r,e)|0,i=Mu(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function gR(r){for(var e=r.length<0?0:yR(r.length)|0,t=Mu(e),i=0;i<e;i+=1)t[i]=r[i]&255;return t}function P2t(r){if(Ac(r,Uint8Array)){var e=new Uint8Array(r);return bR(e.buffer,e.byteOffset,e.byteLength)}return gR(r)}function bR(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,_e.prototype),i}function D2t(r){if(_e.isBuffer(r)){var e=yR(r.length)|0,t=Mu(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||mR(r.length)?Mu(0):gR(r);if(r.type==="Buffer"&&Array.isArray(r.data))return gR(r.data)}function yR(r){if(r>=s8)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s8.toString(16)+" bytes");return r|0}function C2t(r){return+r!=r&&(r=0),_e.alloc(+r)}_e.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==_e.prototype};_e.compare=function(e,t){if(Ac(e,Uint8Array)&&(e=_e.from(e,e.offset,e.byteLength)),Ac(t,Uint8Array)&&(t=_e.from(t,t.offset,t.byteLength)),!_e.isBuffer(e)||!_e.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};_e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};_e.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return _e.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=_e.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var o=e[i];if(Ac(o,Uint8Array))s+o.length>n.length?_e.from(o).copy(n,s):Uint8Array.prototype.set.call(n,o,s);else if(_e.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function c0e(r,e){if(_e.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Ac(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return xR(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return u0e(r).length;default:if(n)return i?-1:xR(r).length;e=(""+e).toLowerCase(),n=!0}}_e.byteLength=c0e;function V2t(r,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return z2t(this,e,t);case"utf8":case"utf-8":return f0e(this,e,t);case"ascii":return F2t(this,e,t);case"latin1":case"binary":return U2t(this,e,t);case"base64":return L2t(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K2t(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}_e.prototype._isBuffer=!0;function Zl(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}_e.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Zl(this,t,t+1);return this};_e.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Zl(this,t,t+3),Zl(this,t+1,t+2);return this};_e.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Zl(this,t,t+7),Zl(this,t+1,t+6),Zl(this,t+2,t+5),Zl(this,t+3,t+4);return this};_e.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?f0e(this,0,e):V2t.apply(this,arguments)};_e.prototype.toLocaleString=_e.prototype.toString;_e.prototype.equals=function(e){if(!_e.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:_e.compare(this,e)===0};_e.prototype.inspect=function(){var e="",t=c1.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};s0e&&(_e.prototype[s0e]=_e.prototype.inspect);_e.prototype.compare=function(e,t,i,n,s){if(Ac(e,Uint8Array)&&(e=_e.from(e,e.offset,e.byteLength)),!_e.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,a=i-t,c=Math.min(o,a),u=this.slice(n,s),f=e.slice(t,i),l=0;l<c;++l)if(u[l]!==f[l]){o=u[l],a=f[l];break}return o<a?-1:a<o?1:0};function h0e(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,mR(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=_e.from(e,i)),_e.isBuffer(e))return e.length===0?-1:l0e(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):l0e(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function l0e(r,e,t,i,n){var s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function c(p,b){return s===1?p[b]:p.readUInt16BE(b*s)}var u;if(n){var f=-1;for(u=t;u<o;u++)if(c(r,u)===c(e,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===a)return f*s}else f!==-1&&(u-=u-f),f=-1}else for(t+a>o&&(t=o-a),u=t;u>=0;u--){for(var l=!0,d=0;d<a;d++)if(c(r,u+d)!==c(e,d)){l=!1;break}if(l)return u}return-1}_e.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};_e.prototype.indexOf=function(e,t,i){return h0e(this,e,t,i,!0)};_e.prototype.lastIndexOf=function(e,t,i){return h0e(this,e,t,i,!1)};function j2t(r,e,t,i){t=Number(t)||0;var n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(o*2,2),16);if(mR(a))return o;r[t+o]=a}return o}function H2t(r,e,t,i){return o8(xR(e,r.length-t),r,t,i)}function $2t(r,e,t,i){return o8(G2t(e),r,t,i)}function W2t(r,e,t,i){return o8(u0e(e),r,t,i)}function X2t(r,e,t,i){return o8(Y2t(e,r.length-t),r,t,i)}_e.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return j2t(this,e,t,i);case"utf8":case"utf-8":return H2t(this,e,t,i);case"ascii":case"latin1":case"binary":return $2t(this,e,t,i);case"base64":return W2t(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X2t(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};_e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L2t(r,e,t){return e===0&&t===r.length?dR.fromByteArray(r):dR.fromByteArray(r.slice(e,t))}function f0e(r,e,t){t=Math.min(r.length,t);for(var i=[],n=e;n<t;){var s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){var c,u,f,l;switch(a){case 1:s<128&&(o=s);break;case 2:c=r[n+1],(c&192)==128&&(l=(s&31)<<6|c&63,l>127&&(o=l));break;case 3:c=r[n+1],u=r[n+2],(c&192)==128&&(u&192)==128&&(l=(s&15)<<12|(c&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:c=r[n+1],u=r[n+2],f=r[n+3],(c&192)==128&&(u&192)==128&&(f&192)==128&&(l=(s&15)<<18|(c&63)<<12|(u&63)<<6|f&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return J2t(i)}var d0e=4096;function J2t(r){var e=r.length;if(e<=d0e)return String.fromCharCode.apply(String,r);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=d0e));return t}function F2t(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function U2t(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function z2t(r,e,t){var i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var n="",s=e;s<t;++s)n+=Z2t[r[s]];return n}function K2t(r,e,t){for(var i=r.slice(e,t),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}_e.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,_e.prototype),n};function ji(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}_e.prototype.readUintLE=_e.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||ji(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n};_e.prototype.readUintBE=_e.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||ji(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n};_e.prototype.readUint8=_e.prototype.readUInt8=function(e,t){return e=e>>>0,t||ji(e,1,this.length),this[e]};_e.prototype.readUint16LE=_e.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||ji(e,2,this.length),this[e]|this[e+1]<<8};_e.prototype.readUint16BE=_e.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||ji(e,2,this.length),this[e]<<8|this[e+1]};_e.prototype.readUint32LE=_e.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||ji(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};_e.prototype.readUint32BE=_e.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||ji(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};_e.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||ji(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};_e.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||ji(e,t,this.length);for(var n=t,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};_e.prototype.readInt8=function(e,t){return e=e>>>0,t||ji(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};_e.prototype.readInt16LE=function(e,t){e=e>>>0,t||ji(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};_e.prototype.readInt16BE=function(e,t){e=e>>>0,t||ji(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};_e.prototype.readInt32LE=function(e,t){return e=e>>>0,t||ji(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};_e.prototype.readInt32BE=function(e,t){return e=e>>>0,t||ji(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};_e.prototype.readFloatLE=function(e,t){return e=e>>>0,t||ji(e,4,this.length),u1.read(this,e,!0,23,4)};_e.prototype.readFloatBE=function(e,t){return e=e>>>0,t||ji(e,4,this.length),u1.read(this,e,!1,23,4)};_e.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||ji(e,8,this.length),u1.read(this,e,!0,52,8)};_e.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||ji(e,8,this.length),u1.read(this,e,!1,52,8)};function Cs(r,e,t,i,n,s){if(!_e.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}_e.prototype.writeUintLE=_e.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Cs(this,e,t,i,s,0)}var o=1,a=0;for(this[t]=e&255;++a<i&&(o*=256);)this[t+a]=e/o&255;return t+i};_e.prototype.writeUintBE=_e.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Cs(this,e,t,i,s,0)}var o=i-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+i};_e.prototype.writeUint8=_e.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||Cs(this,e,t,1,255,0),this[t]=e&255,t+1};_e.prototype.writeUint16LE=_e.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Cs(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};_e.prototype.writeUint16BE=_e.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Cs(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};_e.prototype.writeUint32LE=_e.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Cs(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};_e.prototype.writeUint32BE=_e.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Cs(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};_e.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);Cs(this,e,t,i,s-1,-s)}var o=0,a=1,c=0;for(this[t]=e&255;++o<i&&(a*=256);)e<0&&c===0&&this[t+o-1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};_e.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);Cs(this,e,t,i,s-1,-s)}var o=i-1,a=1,c=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&c===0&&this[t+o+1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};_e.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||Cs(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};_e.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Cs(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};_e.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Cs(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};_e.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Cs(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};_e.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Cs(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function p0e(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function b0e(r,e,t,i,n){return e=+e,t=t>>>0,n||p0e(r,e,t,4,34028234663852886e22,-34028234663852886e22),u1.write(r,e,t,i,23,4),t+4}_e.prototype.writeFloatLE=function(e,t,i){return b0e(this,e,t,!0,i)};_e.prototype.writeFloatBE=function(e,t,i){return b0e(this,e,t,!1,i)};function y0e(r,e,t,i,n){return e=+e,t=t>>>0,n||p0e(r,e,t,8,17976931348623157e292,-17976931348623157e292),u1.write(r,e,t,i,52,8),t+8}_e.prototype.writeDoubleLE=function(e,t,i){return y0e(this,e,t,!0,i)};_e.prototype.writeDoubleBE=function(e,t,i){return y0e(this,e,t,!1,i)};_e.prototype.copy=function(e,t,i,n){if(!_e.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};_e.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!_e.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{var a=_e.isBuffer(e)?e:_e.from(e,n),c=a.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=a[o%c]}return this};var Q2t=/[^+/0-9A-Za-z-_]/g;function eyt(r){if(r=r.split("=")[0],r=r.trim().replace(Q2t,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function xR(r,e){e=e||Infinity;for(var t,i=r.length,n=null,s=[],o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function G2t(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Y2t(r,e){for(var t,i,n,s=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function u0e(r){return dR.toByteArray(eyt(r))}function o8(r,e,t,i){for(var n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function Ac(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function mR(r){return r!==r}var Z2t=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var i=t*16,n=0;n<16;++n)e[i+n]=r[t]+r[n];return e}()});var Lo=h((g0r,m0e)=>{"use strict";var{Buffer:wa}=g0e(),x0e=Symbol.for("BufferList");function qr(r){if(!(this instanceof qr))return new qr(r);qr._init.call(this,r)}qr._init=function(e){Object.defineProperty(this,x0e,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)};qr.prototype._new=function(e){return new qr(e)};qr.prototype._offset=function(e){if(e===0)return[0,0];let t=0;for(let i=0;i<this._bufs.length;i++){let n=t+this._bufs[i].length;if(e<n||i===this._bufs.length-1)return[i,e-t];t=n}};qr.prototype._reverseOffset=function(r){let e=r[0],t=r[1];for(let i=0;i<e;i++)t+=this._bufs[i].length;return t};qr.prototype.get=function(e){if(e>this.length||e<0)return;let t=this._offset(e);return this._bufs[t[0]][t[1]]};qr.prototype.slice=function(e,t){return typeof e=="number"&&e<0&&(e+=this.length),typeof t=="number"&&t<0&&(t+=this.length),this.copy(null,0,e,t)};qr.prototype.copy=function(e,t,i,n){if((typeof i!="number"||i<0)&&(i=0),(typeof n!="number"||n>this.length)&&(n=this.length),i>=this.length||n<=0)return e||wa.alloc(0);let s=!!e,o=this._offset(i),a=n-i,c=a,u=s&&t||0,f=o[1];if(i===0&&n===this.length){if(!s)return this._bufs.length===1?this._bufs[0]:wa.concat(this._bufs,this.length);for(let l=0;l<this._bufs.length;l++)this._bufs[l].copy(e,u),u+=this._bufs[l].length;return e}if(c<=this._bufs[o[0]].length-f)return s?this._bufs[o[0]].copy(e,t,f,f+c):this._bufs[o[0]].slice(f,f+c);s||(e=wa.allocUnsafe(a));for(let l=o[0];l<this._bufs.length;l++){let d=this._bufs[l].length-f;if(c>d)this._bufs[l].copy(e,u,f),u+=d;else{this._bufs[l].copy(e,u,f,f+c),u+=d;break}c-=d,f&&(f=0)}return e.length>u?e.slice(0,u):e};qr.prototype.shallowSlice=function(e,t){if(e=e||0,t=typeof t!="number"?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();let i=this._offset(e),n=this._offset(t),s=this._bufs.slice(i[0],n[0]+1);return n[1]===0?s.pop():s[s.length-1]=s[s.length-1].slice(0,n[1]),i[1]!==0&&(s[0]=s[0].slice(i[1])),this._new(s)};qr.prototype.toString=function(e,t,i){return this.slice(t,i).toString(e)};qr.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this};qr.prototype.duplicate=function(){let e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e};qr.prototype.append=function(e){if(e==null)return this;if(e.buffer)this._appendBuffer(wa.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else typeof e=="number"&&(e=e.toString()),this._appendBuffer(wa.from(e));return this};qr.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length};qr.prototype.indexOf=function(r,e,t){if(t===void 0&&typeof e=="string"&&(t=e,e=void 0),typeof r=="function"||Array.isArray(r))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof r=="number"?r=wa.from([r]):typeof r=="string"?r=wa.from(r,t):this._isBufferList(r)?r=r.slice():Array.isArray(r.buffer)?r=wa.from(r.buffer,r.byteOffset,r.byteLength):wa.isBuffer(r)||(r=wa.from(r)),e=Number(e||0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),r.length===0)return e>this.length?this.length:e;let i=this._offset(e),n=i[0],s=i[1];for(;n<this._bufs.length;n++){let o=this._bufs[n];for(;s<o.length;)if(o.length-s>=r.length){let c=o.indexOf(r,s);if(c!==-1)return this._reverseOffset([n,c]);s=o.length-r.length+1}else{let c=this._reverseOffset([n,s]);if(this._match(c,r))return c;s++}s=0}return-1};qr.prototype._match=function(r,e){if(this.length-r<e.length)return!1;for(let t=0;t<e.length;t++)if(this.get(r+t)!==e[t])return!1;return!0};(function(){let r={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let e in r)(function(t){r[t]===null?qr.prototype[t]=function(i,n){return this.slice(i,i+n)[t](0,n)}:qr.prototype[t]=function(i=0){return this.slice(i,i+r[t])[t](0)}})(e)})();qr.prototype._isBufferList=function(e){return e instanceof qr||qr.isBufferList(e)};qr.isBufferList=function(e){return e!=null&&e[x0e]};m0e.exports=qr});var E0e=h((m0r,w0e)=>{var v0e=class{constructor(e,t=12,i=8*1024,n=32*1024,s=64,o){this.bits=t,this.min=i,this.max=n,this.asModule=e,this.rabin=new e.Rabin(t,i,n,s,o),this.polynomial=o}fingerprint(e){let{__retain:t,__release:i,__allocArray:n,__getInt32Array:s,Int32Array_ID:o,Uint8Array_ID:a}=this.asModule,c=new Int32Array(Math.ceil(e.length/this.min)),u=t(n(o,c)),f=t(n(a,e)),l=this.rabin.fingerprint(f,u),d=s(l);i(f),i(u);let p=[];for(let b=0;b<d.length&&d[b]!==0;b++)p[b]=d[b];return p}};w0e.exports=v0e});var P0e=h(nm=>{"use strict";var wR=-8,a8=-4,tyt=0,_0e=1,S0e=1<<0,c8=1<<1,x0r=1<<2,w0r=1<<3,k0e=5,v0r=1<<k0e,A0e=1<<10,I0e=1<<11,E0r=1<<12,ryt=1<<13,T0e=14,_0r=1<<T0e,S0r=1<<19,k0r=1<<20,A0r=1<<21,I0r=1<<22,iyt=0,vR=4,nyt=8,syt=12,R0e=12,oyt=16,ayt=typeof BigUint64Array!="undefined",sm=Symbol(),om=1024;function q0e(r,e){let t=new Uint32Array(r),i=new Uint16Array(r);var n=t[e+a8>>>2]>>>1,s=e>>>1;if(n<=om)return String.fromCharCode.apply(String,i.subarray(s,s+n));let o=[];do{let a=i[s+om-1],c=a>=55296&&a<56320?om-1:om;o.push(String.fromCharCode.apply(String,i.subarray(s,s+=c))),n-=c}while(n>om);return o.join("")+String.fromCharCode.apply(String,i.subarray(s,s+n))}function ER(r){let e={};function t(n,s){return n?q0e(n.buffer,s):"<yet unknown>"}let i=r.env=r.env||{};return i.abort=i.abort||function(s,o,a,c){let u=e.memory||i.memory;throw Error("abort: "+t(u,s)+" at "+t(u,o)+":"+a+":"+c)},i.trace=i.trace||function(s,o){let a=e.memory||i.memory;console.log("trace: "+t(a,s)+(o?" ":"")+Array.prototype.slice.call(arguments,2,2+o).join(", "))},r.Math=r.Math||Math,r.Date=r.Date||Date,e}function _R(r,e){let t=e.exports,i=t.memory,n=t.table,s=t.__alloc,o=t.__retain,a=t.__rtti_base||~0;function c(P){let W=new Uint32Array(i.buffer),ne=W[a>>>2];if((P>>>=0)>=ne)throw Error("invalid id: "+P);return W[(a+4>>>2)+P*2]}function u(P){let W=new Uint32Array(i.buffer),ne=W[a>>>2];if((P>>>=0)>=ne)throw Error("invalid id: "+P);return W[(a+4>>>2)+P*2+1]}function f(P){return 31-Math.clz32(P>>>k0e&31)}function l(P){return 31-Math.clz32(P>>>T0e&31)}function d(P){let W=P.length,ne=s(W<<1,_0e),Q=new Uint16Array(i.buffer);for(var M=0,y=ne>>>1;M<W;++M)Q[y+M]=P.charCodeAt(M);return ne}r.__allocString=d;function p(P){let W=i.buffer;if(new Uint32Array(W)[P+wR>>>2]!==_0e)throw Error("not a string: "+P);return q0e(W,P)}r.__getString=p;function b(P,W,ne){let Q=i.buffer;if(ne)switch(P){case 2:return new Float32Array(Q);case 3:return new Float64Array(Q)}else switch(P){case 0:return new(W?Int8Array:Uint8Array)(Q);case 1:return new(W?Int16Array:Uint16Array)(Q);case 2:return new(W?Int32Array:Uint32Array)(Q);case 3:return new(W?BigInt64Array:BigUint64Array)(Q)}throw Error("unsupported align: "+P)}function g(P,W){let ne=c(P);if(!(ne&(S0e|c8)))throw Error("not an array: "+P+" @ "+ne);let Q=f(ne),M=W.length,y=s(M<<Q,tyt),v=s(ne&c8?oyt:syt,P),k=new Uint32Array(i.buffer);k[v+iyt>>>2]=o(y),k[v+vR>>>2]=y,k[v+nyt>>>2]=M<<Q,ne&c8&&(k[v+R0e>>>2]=M);let N=b(Q,ne&A0e,ne&I0e);if(ne&ryt)for(let L=0;L<M;++L)N[(y>>>Q)+L]=o(W[L]);else N.set(W,y>>>Q);return v}r.__allocArray=g;function m(P){let W=new Uint32Array(i.buffer),ne=W[P+wR>>>2],Q=c(ne);if(!(Q&S0e))throw Error("not an array: "+ne);let M=f(Q);var y=W[P+vR>>>2];let v=Q&c8?W[P+R0e>>>2]:W[y+a8>>>2]>>>M;return b(M,Q&A0e,Q&I0e).subarray(y>>>=M,y+v)}r.__getArrayView=m;function w(P){let W=m(P),ne=W.length,Q=new Array(ne);for(let M=0;M<ne;M++)Q[M]=W[M];return Q}r.__getArray=w;function A(P){let W=i.buffer,ne=new Uint32Array(W)[P+a8>>>2];return W.slice(P,P+ne)}r.__getArrayBuffer=A;function I(P,W,ne){return new P(F(P,W,ne))}function F(P,W,ne){let Q=i.buffer,M=new Uint32Array(Q),y=M[ne+vR>>>2];return new P(Q,y,M[y+a8>>>2]>>>W)}r.__getInt8Array=I.bind(null,Int8Array,0),r.__getInt8ArrayView=F.bind(null,Int8Array,0),r.__getUint8Array=I.bind(null,Uint8Array,0),r.__getUint8ArrayView=F.bind(null,Uint8Array,0),r.__getUint8ClampedArray=I.bind(null,Uint8ClampedArray,0),r.__getUint8ClampedArrayView=F.bind(null,Uint8ClampedArray,0),r.__getInt16Array=I.bind(null,Int16Array,1),r.__getInt16ArrayView=F.bind(null,Int16Array,1),r.__getUint16Array=I.bind(null,Uint16Array,1),r.__getUint16ArrayView=F.bind(null,Uint16Array,1),r.__getInt32Array=I.bind(null,Int32Array,2),r.__getInt32ArrayView=F.bind(null,Int32Array,2),r.__getUint32Array=I.bind(null,Uint32Array,2),r.__getUint32ArrayView=F.bind(null,Uint32Array,2),ayt&&(r.__getInt64Array=I.bind(null,BigInt64Array,3),r.__getInt64ArrayView=F.bind(null,BigInt64Array,3),r.__getUint64Array=I.bind(null,BigUint64Array,3),r.__getUint64ArrayView=F.bind(null,BigUint64Array,3)),r.__getFloat32Array=I.bind(null,Float32Array,2),r.__getFloat32ArrayView=F.bind(null,Float32Array,2),r.__getFloat64Array=I.bind(null,Float64Array,3),r.__getFloat64ArrayView=F.bind(null,Float64Array,3);function V(P,W){let ne=new Uint32Array(i.buffer);var Q=ne[P+wR>>>2];if(Q<=ne[a>>>2])do if(Q==W)return!0;while(Q=u(Q));return!1}return r.__instanceof=V,r.memory=r.memory||i,r.table=r.table||n,B0e(t,r)}function C0e(r){return typeof Response!="undefined"&&r instanceof Response}async function N0e(r,e){return C0e(r=await r)?M0e(r,e):_R(ER(e||(e={})),await WebAssembly.instantiate(r instanceof WebAssembly.Module?r:await WebAssembly.compile(r),e))}nm.instantiate=N0e;function cyt(r,e){return _R(ER(e||(e={})),new WebAssembly.Instance(r instanceof WebAssembly.Module?r:new WebAssembly.Module(r),e))}nm.instantiateSync=cyt;async function M0e(r,e){return WebAssembly.instantiateStreaming?_R(ER(e||(e={})),(await WebAssembly.instantiateStreaming(r,e)).instance):N0e(C0e(r=await r)?r.arrayBuffer():r,e)}nm.instantiateStreaming=M0e;function B0e(r,e){var t=e?Object.create(e):{},i=r.__argumentsLength?function(n){r.__argumentsLength.value=n}:r.__setArgumentsLength||r.__setargc||function(){};for(let n in r){if(!Object.prototype.hasOwnProperty.call(r,n))continue;let s=r[n],o=n.split("."),a=t;for(;o.length>1;){let f=o.shift();Object.prototype.hasOwnProperty.call(a,f)||(a[f]={}),a=a[f]}let c=o[0],u=c.indexOf("#");if(u>=0){let f=c.substring(0,u),l=a[f];if(typeof l=="undefined"||!l.prototype){let d=function(...p){return d.wrap(d.prototype.constructor(0,...p))};d.prototype={valueOf:function(){return this[sm]}},d.wrap=function(p){return Object.create(d.prototype,{[sm]:{value:p,writable:!1}})},l&&Object.getOwnPropertyNames(l).forEach(p=>Object.defineProperty(d,p,Object.getOwnPropertyDescriptor(l,p))),a[f]=d}if(c=c.substring(u+1),a=a[f].prototype,/^(get|set):/.test(c)){if(!Object.prototype.hasOwnProperty.call(a,c=c.substring(4))){let d=r[n.replace("set:","get:")],p=r[n.replace("get:","set:")];Object.defineProperty(a,c,{get:function(){return d(this[sm])},set:function(b){p(this[sm],b)},enumerable:!0})}}else c==="constructor"?(a[c]=(...d)=>(i(d.length),s(...d))).original=s:(a[c]=function(...d){return i(d.length),s(this[sm],...d)}).original=s}else/^(get|set):/.test(c)?Object.prototype.hasOwnProperty.call(a,c=c.substring(4))||Object.defineProperty(a,c,{get:r[n.replace("set:","get:")],set:r[n.replace("get:","set:")],enumerable:!0}):typeof s=="function"&&s!==i?(a[c]=(...f)=>(i(f.length),s(...f))).original=s:a[c]=s}return t}nm.demangle=B0e});var O0e=h((R0r,D0e)=>{var{instantiate:uyt}=P0e();SR.supported=typeof WebAssembly!="undefined";function SR(r={}){if(!SR.supported)return null;var e=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,3,127,127,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,5,9,3,6,2,5,7,6,3,4,2,7,9,12,13,5,6,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,7,8,8,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,249,35,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,66,2,1,127,1,126,66,128,128,128,128,128,128,128,128,128,127,33,2,3,64,32,1,65,192,0,72,4,64,32,0,32,2,131,66,0,86,4,64,65,63,32,1,107,15,11,32,2,66,1,136,33,2,32,1,65,1,106,33,1,12,1,11,11,65,127,11,165,1,2,2,127,1,126,2,127,66,128,128,128,128,128,128,128,128,128,127,33,4,3,64,32,3,65,192,0,72,4,64,65,63,32,3,107,32,1,32,4,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,3,65,1,106,33,3,12,1,11,11,65,127,11,33,3,3,64,2,127,66,128,128,128,128,128,128,128,128,128,127,33,4,65,0,33,2,3,64,32,2,65,192,0,72,4,64,65,63,32,2,107,32,0,32,4,131,66,0,86,13,2,26,32,4,66,1,136,33,4,32,2,65,1,106,33,2,12,1,11,11,65,127,11,32,3,107,34,2,65,0,78,4,64,32,0,32,1,32,2,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,32,2,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,164,9,2,1,127,6,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,7,32,0,41,3,72,34,8,33,9,2,127,66,128,128,128,128,128,128,128,128,128,127,33,6,65,0,33,3,3,64,32,3,65,192,0,72,4,64,65,63,32,3,107,32,6,32,8,131,66,0,86,13,2,26,32,6,66,1,136,33,6,32,3,65,1,106,33,3,12,1,11,11,65,127,11,33,1,3,64,2,127,66,128,128,128,128,128,128,128,128,128,127,33,6,65,0,33,3,3,64,32,3,65,192,0,72,4,64,65,63,32,3,107,32,6,32,7,131,66,0,86,13,2,26,32,6,66,1,136,33,6,32,3,65,1,106,33,3,12,1,11,11,65,127,11,32,1,107,34,3,65,0,78,4,64,32,7,32,9,32,3,172,134,133,33,7,12,1,11,11,65,0,33,5,3,64,32,5,32,0,40,2,4,65,1,107,72,4,64,65,0,33,3,32,7,66,8,134,33,7,32,0,41,3,72,34,8,33,9,2,127,66,128,128,128,128,128,128,128,128,128,127,33,6,3,64,32,3,65,192,0,72,4,64,65,63,32,3,107,32,6,32,8,131,66,0,86,13,2,26,32,6,66,1,136,33,6,32,3,65,1,106,33,3,12,1,11,11,65,127,11,33,1,3,64,2,127,66,128,128,128,128,128,128,128,128,128,127,33,6,65,0,33,4,3,64,32,4,65,192,0,72,4,64,65,63,32,4,107,32,6,32,7,131,66,0,86,13,2,26,32,6,66,1,136,33,6,32,4,65,1,106,33,4,12,1,11,11,65,127,11,32,1,107,34,3,65,0,78,4,64,32,7,32,9,32,3,172,134,133,33,7,12,1,11,11,32,5,65,1,106,33,5,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,7,55,3,0,32,2,65,1,106,33,2,12,1,11,11,2,127,32,0,41,3,72,33,6,66,128,128,128,128,128,128,128,128,128,127,33,7,65,0,33,2,3,64,32,2,65,192,0,72,4,64,65,63,32,2,107,32,6,32,7,131,66,0,86,13,2,26,32,7,66,1,136,33,7,32,2,65,1,106,33,2,12,1,11,11,65,127,11,172,33,8,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,4,32,2,172,32,8,134,34,9,33,7,2,127,32,0,41,3,72,34,10,33,11,66,128,128,128,128,128,128,128,128,128,127,33,6,65,0,33,3,3,64,32,3,65,192,0,72,4,64,65,63,32,3,107,32,6,32,11,131,66,0,86,13,2,26,32,6,66,1,136,33,6,32,3,65,1,106,33,3,12,1,11,11,65,127,11,33,1,3,64,2,127,66,128,128,128,128,128,128,128,128,128,127,33,6,65,0,33,5,3,64,32,5,65,192,0,72,4,64,65,63,32,5,107,32,6,32,7,131,66,0,86,13,2,26,32,6,66,1,136,33,6,32,5,65,1,106,33,5,12,1,11,11,65,127,11,32,1,107,34,3,65,0,78,4,64,32,7,32,10,32,3,172,134,133,33,7,12,1,11,11,32,4,40,2,4,32,2,65,3,116,106,32,7,32,9,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,65,0,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,0,32,0,40,2,8,65,1,16,18,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,255,1,113,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,0,32,0,40,2,8,32,1,16,18,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,255,1,113,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,65,0,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,0,32,0,40,2,8,65,1,16,18,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,255,1,113,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return uyt(new Response(new Blob([e],{type:"application/wasm"})),r)}D0e.exports=SR});var U0e=h((q0r,L0e)=>{var F0e=E0e(),fyt=O0e(),lyt=async(r,e,t,i,n)=>{let s=await fyt();return new F0e(s,r,e,t,i,n)};L0e.exports={Rabin:F0e,create:lyt}});var V0e=h((B0r,z0e)=>{"use strict";var hyt=Lo(),{create:dyt}=U0e(),K0e=qe();z0e.exports=async function*(e,t){let i=pyt(),n,s,o;if(t.minChunkSize&&t.maxChunkSize&&t.avgChunkSize)o=t.avgChunkSize,n=t.minChunkSize,s=t.maxChunkSize;else if(t.avgChunkSize)o=t.avgChunkSize,n=o/3,s=o+o/2;else throw K0e(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");if(n<16)throw K0e(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");s<n&&(s=n),o<n&&(o=n);let a=Math.floor(Math.log2(o));for await(let c of i(e,{min:n,max:s,bits:a,window:t.window,polynomial:t.polynomial}))yield c};var pyt=()=>async function*(r,e){let t=await dyt(e.bits,e.min,e.max,e.window),i=new hyt;for await(let o of r){i.append(o);let a=t.fingerprint(o);for(let c=0;c<a.length;c++){var n=a[c],s=i.slice(0,n);i.consume(n),yield s}}i.length&&(yield i.slice(0))}});var H0e=h((C0r,j0e)=>{"use strict";var kR=Lo();j0e.exports=async function*(e,t){let i=new kR,n=0,s=!1,o=t.maxChunkSize;for await(let a of e)for(i.append(a),n+=a.length;n>=o;)if(yield i.slice(0,o),s=!0,o===i.length)i=new kR,n=0;else{let c=new kR;c.append(i.shallowSlice(o)),i=c,n-=o}(!s||n)&&(yield i.slice(0,n))}});var AR=h((M0r,G0e)=>{"use strict";var{TextEncoder:byt,TextDecoder:yyt}=ct(),gyt=new yyt,myt=r=>gyt.decode(r),xyt=new byt,wyt=r=>xyt.encode(r);function vyt(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}G0e.exports={decodeText:myt,encodeText:wyt,concat:vyt}});var Y0e=h((N0r,$0e)=>{"use strict";var{encodeText:Eyt}=AR(),W0e=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=Eyt(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};$0e.exports=W0e});var J0e=h((P0r,X0e)=>{"use strict";var _yt=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},Syt=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},kyt=r=>e=>({encode(t){return Syt(t,e,r)},decode(t){return _yt(t,e,r)}});X0e.exports={rfc4648:kyt}});var tle=h((D0r,Z0e)=>{"use strict";var am=ri(),Ayt=Y0e(),{rfc4648:xn}=J0e(),{decodeText:Iyt,encodeText:Tyt}=AR(),Ryt=()=>({encode:Iyt,decode:Tyt}),Q0e=[["identity","\0",Ryt,""],["base2","0",xn(1),"01"],["base8","7",xn(3),"01234567"],["base10","9",am,"0123456789"],["base16","f",xn(4),"0123456789abcdef"],["base16upper","F",xn(4),"0123456789ABCDEF"],["base32hex","v",xn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",xn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",xn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",xn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",xn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",xn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",xn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",xn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",xn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",am,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",am,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",am,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",am,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",xn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",xn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",xn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",xn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],ele=Q0e.reduce((r,e)=>(r[e[0]]=new Ayt(e[0],e[1],e[2],e[3]),r),{}),qyt=Q0e.reduce((r,e)=>(r[e[1]]=ele[e[0]],r),{});Z0e.exports={names:ele,codes:qyt}});var IR=h((O0r,rle)=>{"use strict";var{names:Byt}=tle(),{TextEncoder:Cyt}=ct(),Myt=new Cyt;function Nyt(r){let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function Pyt(r,e="utf8"){if(e==="utf8"||e==="utf-8")return Myt.encode(r);if(e==="ascii")return Nyt(r);let t=Byt[e];if(!t)throw new Error("Unknown base");return t.decode(r)}rle.exports=Pyt});var nle=h((L0r,ile)=>{"use strict";var Dyt=qe(),Oyt=IR();async function*Lyt(r){for await(let e of r){if(e.length===void 0)throw Dyt(new Error("Content was invalid"),"ERR_INVALID_CONTENT");typeof e=="string"||e instanceof String?yield Oyt(e):Array.isArray(e)?yield Uint8Array.from(e):yield e}}ile.exports=Lyt});var ole=h((F0r,sle)=>{"use strict";var Fyt=zfe(),Uyt=n0e();async function*zyt(r,e,t){for await(let i of r)if(i.path&&(i.path.substring(0,2)==="./"&&(t.wrapWithDirectory=!0),i.path=i.path.split("/").filter(n=>n&&n!==".").join("/")),i.content){let n=i.content;(!n[Symbol.asyncIterator]&&!n[Symbol.iterator]||n.length!==void 0)&&(n={[Symbol.iterator]:function*(){yield i.content}});let s;typeof t.chunker=="function"?s=t.chunker:t.chunker==="rabin"?s=V0e():s=H0e();let o;typeof t.chunkValidator=="function"?o=t.chunkValidator:o=nle(),yield()=>Uyt(i,s(o(n,t),t),e,t)}else yield()=>Fyt(i,e,t)}sle.exports=zyt});var u8=h((z0r,ale)=>{"use strict";ale.exports=class{constructor(e,t){this.options=t||{},Object.assign(this,e)}}});var fle=h((K0r,cle)=>{"use strict";var{DAGLink:Kyt,DAGNode:Vyt}=Nr(),jyt=yn(),Hyt=u8(),Gyt=Jl(),ule=class extends Hyt{constructor(e,t){super(e,t);this._children={}}put(e,t){this.cid=void 0,this.size=void 0,this._children[e]=t}get(e){return this._children[e]}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}*eachChildSeries(){let e=Object.keys(this._children);for(let t=0;t<e.length;t++){let i=e[t];yield{key:i,child:this._children[i]}}}async*flush(e,t){let i=Object.keys(this._children),n=[];for(let f=0;f<i.length;f++){let l=this._children[i[f]];if(typeof l.flush=="function")for await(let d of l.flush(l.path,t))l=d,yield l;n.push(new Kyt(i[f],l.size,l.cid))}let s=new jyt({type:"directory",mtime:this.mtime,mode:this.mode}),o=new Vyt(s.marshal(),n),a=o.serialize(),c=await Gyt(a,t,this.options),u=a.length+o.Links.reduce((f,l)=>f+l.Tsize,0);this.cid=c,this.size=u,yield{cid:c,unixfs:s,path:e,size:u}}};cle.exports=ule});var dle=h((j0r,lle)=>{"use strict";var f8=7;lle.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,t){let i=this._internalPositionFor(e,!1);if(t===void 0)i!==-1&&(this._unsetInternalPos(i),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let n=!1;i===-1?(i=this._data.length,this._setBit(e),this._changedData=!0):n=!0,this._setInternalPos(i,e,t,n),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();let t=this._internalPositionFor(e,!0);if(t!==-1)return this._data[t][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){let e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let t=0;for(;t<this.length;)e(this.get(t),t,this),t++}map(e){let t=0,i=new Array(this.length);for(;t<this.length;)i[t]=e(this.get(t),t,this),t++;return i}reduce(e,t){let i=0,n=t;for(;i<this.length;){let s=this.get(i);n=e(n,s,i),i++}return n}find(e){let t=0,i,n;for(;t<this.length&&!i;)n=this.get(t),i=e(n),t++;return i?n:void 0}_internalPositionFor(e,t){let i=this._bytePosFor(e,t);if(i>=this._bitArrays.length)return-1;let n=this._bitArrays[i],s=e-i*f8;if(!((n&1<<s)>0))return-1;let a=this._bitArrays.slice(0,i).reduce($yt,0),c=~(4294967295<<s+1),u=hle(n&c);return a+u-1}_bytePosFor(e,t){let i=Math.floor(e/f8),n=i+1;for(;!t&&this._bitArrays.length<n;)this._bitArrays.push(0);return i}_setBit(e){let t=this._bytePosFor(e,!1);this._bitArrays[t]|=1<<e-t*f8}_unsetBit(e){let t=this._bytePosFor(e,!1);this._bitArrays[t]&=~(1<<e-t*f8)}_setInternalPos(e,t,i,n){let s=this._data,o=[t,i];if(n)this._sortData(),s[e]=o;else{if(s.length)if(s[s.length-1][0]>=t)s.push(o);else if(s[0][0]<=t)s.unshift(o);else{let a=Math.round(s.length/2);this._data=s.slice(0,a).concat(o).concat(s.slice(a))}else this._data.push(o);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(Wyt),this._changedData=!1}bitField(){let e=[],t=8,i=0,n=0,s,o=this._bitArrays.slice();for(;o.length||i;){i===0&&(s=o.shift(),i=7);let c=Math.min(i,t),u=~(255<<c);n|=(s&u)<<8-t,s=s>>>c,i-=c,t-=c,(!t||!i&&!o.length)&&(e.push(n),n=0,t=8)}for(var a=e.length-1;a>0&&e[a]===0;a--)e.pop();return e}compactArray(){return this._sortData(),this._data.map(Yyt)}};function $yt(r,e){return r+hle(e)}function hle(r){let e=r;return e=e-(e>>1&1431655765),e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>24}function Wyt(r,e){return r[0]-e[0]}function Yyt(r){return r[1]}});var ble=h((G0r,ple)=>{"use strict";var Xyt=[255,254,252,248,240,224,192,128],Jyt=[1,3,7,15,31,63,127,255];ple.exports=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+this._currentBytePos*8}totalBits(){return this._value.length*8}take(e){let t=e,i=0;for(;t&&this._haveBits();){let n=this._value[this._currentBytePos],s=this._currentBitPos+1,o=Math.min(s,t),a=Zyt(n,s-o,o);i=(i<<o)+a,t-=o,this._currentBitPos-=o,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return i}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}};function Zyt(r,e,t){let i=Qyt(e,t);return(r&i)>>>e}function Qyt(r,e){return Xyt[r]&Jyt[Math.min(e+r-1,7)]}});var gle=h(($0r,yle)=>{"use strict";var egt=ble();yle.exports=function(e){return function(i){return i instanceof TR?i:new TR(i,e)}};var TR=class{constructor(e,t){if(typeof e!="string"&&!Buffer.isBuffer(e))throw new Error("can only hash strings or buffers");this._value=e,this._hashFn=t,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let t=e;for(;this._availableBits<t;)await this._produceMoreBits();let i=0;for(;t>0;){let n=this._buffers[this._currentBufferIndex],s=Math.min(n.availableBits(),t),o=n.take(s);i=(i<<s)+o,t-=s,this._availableBits-=s,n.availableBits()===0&&this._currentBufferIndex++}return i}untake(e){let t=e;for(;t>0;){let i=this._buffers[this._currentBufferIndex],n=Math.min(i.totalBits()-i.availableBits(),t);i.untake(n),t-=n,this._availableBits+=n,this._currentBufferIndex>0&&i.totalBits()===i.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;let e=this._depth?this._value+this._depth:this._value,t=await this._hashFn(e),i=new egt(t);this._buffers.push(i),this._availableBits+=i.availableBits()}}});var l8=h((W0r,mle)=>{"use strict";var tgt=dle(),rgt=gle(),igt={bits:8},va=class{constructor(e,t,i){if(this._options=Object.assign({},igt,e),this._popCount=0,this._parent=t,this._posAtParent=i,!this._options.hashFn)throw new Error("please define an options.hashFn");this._options.hash||(this._options.hash=rgt(this._options.hashFn)),this._children=new tgt}static isBucket(e){return e instanceof va}async put(e,t){let i=await this._findNewBucketAndPos(e);await i.bucket._putAt(i,e,t)}async get(e){let t=await this._findChild(e);if(t)return t.value}async del(e){let t=await this._findPlace(e),i=t.bucket._at(t.pos);i&&i.key===e&&t.bucket._delAt(t.pos)}leafCount(){return this._children.compactArray().reduce((e,t)=>t instanceof va?e+t.leafCount():e+1,0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){let e=this._children.compactArray();for(let t of e)if(t instanceof va)for(let i of t.eachLeafSeries())yield i;else yield t}serialize(e,t){return t(this._children.reduce((i,n,s)=>(n&&(n instanceof va?i.push(n.serialize(e,t)):i.push(e(n,s))),i),[]))}asyncTransform(e,t){return xle(this,e,t)}toJSON(){return this.serialize(sgt,ogt)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){let t=await this._findPlace(e),i=t.bucket._at(t.pos);if(i&&i.key===e)return i}async _findPlace(e){let t=this._options.hash(e),i=await t.take(this._options.bits),n=this._children.get(i);return n instanceof va?n._findPlace(t):{bucket:this,pos:i,hash:t}}async _findNewBucketAndPos(e){let t=await this._findPlace(e),i=t.bucket._at(t.pos);if(i&&i.key!==e){let n=new va(this._options,t.bucket,t.pos);t.bucket._putObjectAt(t.pos,n);let s=await n._findPlace(i.hash);return s.bucket._putAt(s,i.key,i.value),n._findNewBucketAndPos(t.hash)}return t}_putAt(e,t,i){this._putObjectAt(e.pos,{key:t,value:i,hash:e.hash})}_putObjectAt(e,t){this._children.get(e)||this._popCount++,this._children.set(e,t)}_delAt(e){this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent&&this._popCount<=1)if(this._popCount===1){let e=this._children.find(ngt);if(!(e instanceof va)){let t=e.hash;t.untake(this._options.bits);let i={pos:this._posAtParent,hash:t};this._parent._putAt(i,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}};function ngt(r){return Boolean(r)}function sgt(r,e){return r.key}function ogt(r){return r}async function xle(r,e,t){let i=[];for(let n of r._children.compactArray()){if(n instanceof va)await xle(n,e,t);else{let s=await e(n);i.push({bitField:r._children.bitField(),children:s})}return t(i)}}mle.exports=va});var vle=h((Y0r,RR)=>{"use strict";var wle=l8();RR.exports=function(e){return new wle(e)};RR.exports.isBucket=wle.isBucket});var h8=h((X0r,qR)=>{"use strict";var{DAGLink:BR,DAGNode:agt}=Nr(),cgt=yn(),ugt=Er(),fgt=u8(),lgt=Jl(),Ele=vle(),hgt=hi().bind({ignoreUndefined:!0}),dgt=IR(),CR=async function(r){let e=dgt(r),i=(await ugt(e,"murmur3-128")).slice(2,10),n=i.length,s=new Uint8Array(n);for(let o=0;o<n;o++)s[n-o-1]=i[o];return s};CR.code=34;var pgt={hamtHashFn:CR,hamtBucketBits:8},_le=class extends fgt{constructor(e,t){t=hgt(pgt,t),super(e,t),this._bucket=Ele({hashFn:t.hamtHashFn,bits:t.hamtBucketBits})}async put(e,t){await this._bucket.put(e,t)}get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(let{key:e,value:t}of this._bucket.eachLeafSeries())yield{key:e,child:t}}async*flush(e,t){for await(let i of Sle(e,this._bucket,t,this,this.options))yield i}};qR.exports=_le;qR.exports.hashFn=CR;async function*Sle(r,e,t,i,n){let s=e._children,o=[],a=0;for(let b=0;b<s.length;b++){let g=s.get(b);if(!g)continue;let m=b.toString(16).toUpperCase().padStart(2,"0");if(Ele.isBucket(g)){let w;for await(let A of await Sle("",g,t,null,n))w=A;o.push(new BR(m,w.size,w.cid)),a+=w.size}else if(typeof g.value.flush=="function"){let w=g.value,A;for await(let F of w.flush(w.path,t))A=F,yield A;let I=m+g.key;o.push(new BR(I,A.size,A.cid)),a+=A.size}else{let w=g.value;if(!w.cid)continue;let A=m+g.key,I=w.size;o.push(new BR(A,I,w.cid)),a+=I}}let c=Uint8Array.from(s.bitField().reverse()),u=new cgt({type:"hamt-sharded-directory",data:c,fanout:e.tableSize(),hashType:n.hamtHashFn.code,mtime:i&&i.mtime,mode:i&&i.mode}),l=new agt(u.marshal(),o).serialize(),d=await lgt(l,t,n),p=l.length+a;yield{cid:d,unixfs:u,path:r,size:p}}});var Ale=h((J0r,kle)=>{"use strict";var bgt=h8();kle.exports=async function r(e,t,i,n){let s=t;t.flat&&t.directChildrenCount()>=i&&(s=await ygt(t,n));let o=s.parent;return o?(s!==t&&(e&&(e.parent=s),await o.put(s.parentKey,s)),r(s,o,i,n)):s};async function ygt(r,e){let t=new bgt({root:r.root,dir:!0,parent:r.parent,parentKey:r.parentKey,path:r.path,dirty:r.dirty,flat:!1,mtime:r.mtime,mode:r.mode},e);for await(let{key:i,child:n}of r.eachChildSeries())await t.put(i,n);return t}});var Tle=h((Z0r,Ile)=>{"use strict";var ggt=(r="")=>(r.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean);Ile.exports=ggt});var Mle=h((Q0r,Rle)=>{"use strict";var qle=fle(),mgt=Ale(),Ble=u8(),xgt=Tle();async function wgt(r,e,t){let i=xgt(r.path||""),n=i.length-1,s=e,o="";for(let a=0;a<i.length;a++){let c=i[a];o+=`${o?"/":""}${c}`;let u=a===n;if(s.dirty=!0,s.cid=null,s.size=null,u)await s.put(c,r),e=await mgt(null,s,t.shardSplitThreshold,t);else{let f=await s.get(c);(!f||!(f instanceof Ble))&&(f=new qle({dir:!0,parent:s,parentKey:c,path:o,dirty:!0,flat:!0,mtime:f&&f.unixfs&&f.unixfs.mtime,mode:f&&f.unixfs&&f.unixfs.mode},t)),await s.put(c,f),s=f}}return e}async function*Cle(r,e){if(!(r instanceof Ble)){r&&r.unixfs&&r.unixfs.isDirectory()&&(yield r);return}yield*r.flush(r.path,e)}async function*vgt(r,e,t){let i=new qle({root:!0,dir:!0,path:"",dirty:!0,flat:!0},t);for await(let n of r)!n||(i=await wgt(n,i,t),(!n.unixfs||!n.unixfs.isDirectory())&&(yield n));if(t.wrapWithDirectory)yield*Cle(i,e);else for await(let n of i.eachChildSeries())!n||(yield*Cle(n.child,e))}Rle.exports=vgt});var d8=h((elr,Nle)=>{"use strict";var Egt=lR(),_gt=hi().bind({ignoreUndefined:!0}),Sgt={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,codec:"dag-pb",hashAlg:"sha2-256",leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:17437180132763652,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,pin:!1,recursive:!1,hidden:!1,preload:!1,chunkValidator:null,importBuffer:null};Nle.exports=async function*(r,e,t={}){let i=_gt(Sgt,t),n;typeof t.dagBuilder=="function"?n=t.dagBuilder:n=ole();let s;typeof t.treeBuilder=="function"?s=t.treeBuilder:s=Mle();for await(let o of s(Egt(n(r,e,i),i.fileImportConcurrency),e,i))yield{cid:o.cid,path:o.path,unixfs:o.unixfs,size:o.size}}});var p8=h((tlr,Ple)=>{"use strict";async function*kgt(r,e={}){let t=r.getReader();try{for(;;){let i=await t.read();if(i.done)return;yield i.value}}finally{e.preventCancel!==!0&&t.cancel(),t.releaseLock()}}Ple.exports=kgt});var Lle=h((rlr,Dle)=>{"use strict";var Ole=p8();function Agt(r){return typeof r.stream=="function"?Ole(r.stream()):Ole(new Response(r).body)}Dle.exports=Agt});var MR=h((ilr,Fle)=>{"use strict";function Igt(r){let[e,t]=r[Symbol.asyncIterator]?[r[Symbol.asyncIterator](),Symbol.asyncIterator]:[r[Symbol.iterator](),Symbol.iterator],i=[];return{peek:()=>e.next(),push:n=>{i.push(n)},next:()=>i.length?{done:!1,value:i.shift()}:e.next(),[t](){return this}}}Fle.exports=Igt});var cm=h((nlr,Ule)=>{"use strict";var Tgt=async function*(r,e){for await(let t of r)yield e(t)};Ule.exports=Tgt});var NR=h((slr,zle)=>{"use strict";var{Blob:Kle}=globalThis;function Rgt(r){return ArrayBuffer.isView(r)||r instanceof ArrayBuffer}function qgt(r){return typeof Kle!="undefined"&&r instanceof Kle}function Bgt(r){return typeof r=="object"&&(r.path||r.content)}var Cgt=r=>r&&typeof r.getReader=="function";function Mgt(r){if(r!=null){if(r instanceof Date){let e=r.getTime(),t=Math.floor(e/1e3);return{secs:t,nsecs:(e-t*1e3)*1e3}}if(Object.prototype.hasOwnProperty.call(r,"secs"))return{secs:r.secs,nsecs:r.nsecs};if(Object.prototype.hasOwnProperty.call(r,"Seconds"))return{secs:r.Seconds,nsecs:r.FractionalNanoseconds};if(Array.isArray(r))return{secs:r[0],nsecs:r[1]}}}function Ngt(r){if(r!=null)return typeof r=="number"?r:(r=r.toString(),r.substring(0,1)==="0"?parseInt(r,8):parseInt(r,10))}zle.exports={isBytes:Rgt,isBlob:qgt,isFileObject:Bgt,isReadableStream:Cgt,mtimeToObject:Mgt,modeToNumber:Ngt}});var Hle=h((olr,Vle)=>{"use strict";var Pgt=qe(),Dgt=pr(),Ogt=p8(),Lgt=Lle(),Fgt=MR(),Ugt=dg(),zgt=cm(),{isBytes:jle,isReadableStream:Kgt,isBlob:Vgt}=NR();async function*jgt(r){if(jle(r)){yield PR(r);return}if(typeof r=="string"||r instanceof String){yield PR(r.toString());return}if(Vgt(r)){yield*Lgt(r);return}if(Kgt(r)&&(r=Ogt(r)),r[Symbol.iterator]||r[Symbol.asyncIterator]){let e=Fgt(r),{value:t,done:i}=await e.peek();if(i){yield*[];return}if(e.push(t),Number.isInteger(t)){yield Uint8Array.from(await Ugt(e));return}if(jle(t)||typeof t=="string"||t instanceof String){yield*zgt(e,PR);return}}throw Pgt(new Error(`Unexpected input: ${r}`),"ERR_UNEXPECTED_INPUT")}function PR(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer?new Uint8Array(r):Array.isArray(r)?Uint8Array.from(r):Dgt(r.toString())}Vle.exports=jgt});var Qle=h((alr,Gle)=>{"use strict";var $le=qe(),Hgt=p8(),Ggt=MR(),Wle=cm(),{isBytes:Yle,isBlob:Xle,isReadableStream:Jle,isFileObject:Zle,mtimeToObject:$gt,modeToNumber:Wgt}=NR();Gle.exports=async function*(e,t){if(e==null)throw $le(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if(typeof e=="string"||e instanceof String){yield f1(e.toString(),t);return}if(Yle(e)||Xle(e)){yield f1(e,t);return}if(Jle(e)&&(e=Hgt(e)),e[Symbol.iterator]||e[Symbol.asyncIterator]){let i=Ggt(e),{value:n,done:s}=await i.peek();if(s){yield*[];return}if(i.push(n),Number.isInteger(n)||Yle(n)){yield f1(i,t);return}if(Zle(n)||Xle(n)||typeof n=="string"||n instanceof String){yield*Wle(i,o=>f1(o,t));return}if(n[Symbol.iterator]||n[Symbol.asyncIterator]||Jle(n)){yield*Wle(i,o=>f1(o,t));return}}if(Zle(e)){yield f1(e,t);return}throw $le(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")};async function f1(r,e){let{path:t,mode:i,mtime:n,content:s}=r,o={path:t||"",mode:Wgt(i),mtime:$gt(n)};return s?o.content=await e(s):t||(o.content=await e(r)),o}});var the=h((clr,ehe)=>{"use strict";var Ygt=Hle(),Xgt=Qle();ehe.exports=r=>Xgt(r,Ygt)});var nhe=h((ulr,rhe)=>{"use strict";var Jgt=r=>{if(r)if(r.startsWith("size-")){let e=r.split("-")[1],t=parseInt(e);if(isNaN(t))throw new Error("Chunker parameter size must be an integer");return{chunker:"fixed",maxChunkSize:t}}else{if(r.startsWith("rabin"))return{chunker:"rabin",...ihe(r)};throw new Error(`Unrecognized chunker option: ${r}`)}else return{chunker:"fixed"}},ihe=r=>{let e={},t=r.split("-");switch(t.length){case 1:e.avgChunkSize=262144;break;case 2:e.avgChunkSize=um(t[1],"avg");break;case 4:e.minChunkSize=um(t[1],"min"),e.avgChunkSize=um(t[2],"avg"),e.maxChunkSize=um(t[3],"max");break;default:throw new Error('Incorrect chunker format (expected "rabin" "rabin-[avg]" or "rabin-[min]-[avg]-[max]"')}return e},um=(r,e)=>{let t=parseInt(r);if(isNaN(t))throw new Error(`Chunker parameter ${e} must be an integer`);return t};rhe.exports={parseChunkSize:um,parseRabinString:ihe,parseChunkerString:Jgt}});var ohe=h((flr,she)=>{"use strict";var Zgt=d8(),Qgt=the(),{parseChunkerString:emt}=nhe(),{pipe:tmt}=yi(),rmt=Ke(),imt=hi().bind({ignoreUndefined:!0});she.exports=({block:r,gcLock:e,preload:t,pin:i,options:n})=>{let s=n&&n.sharding;async function*o(a,c={}){let u=imt({shardSplitThreshold:s?1e3:Infinity,strategy:"balanced"},c,{...emt(c.chunker)});u.hashAlg&&u.hashAlg!=="sha2-256"&&u.cidVersion!==1&&(u.cidVersion=1),u.trickle&&(u.strategy="trickle"),u.strategy==="trickle"&&(u.leafType="raw",u.reduceSingleLeafToSelf=!1),u.cidVersion>0&&u.rawLeaves===void 0&&(u.rawLeaves=!0),u.hashAlg!==void 0&&u.rawLeaves===void 0&&(u.rawLeaves=!0),delete u.trickle;let f={};if(u.progress){let p=u.progress;u.progress=(b,g)=>{f[g]||(f[g]=0),f[g]+=b,p(f[g],g)}}let l=tmt(Qgt(a),p=>Zgt(p,r,{...u,pin:!1}),nmt(u),smt(t,u),omt(i,u)),d=await e.readLock();try{for await(let p of l)delete f[p.path],yield p}finally{d()}}return rmt(o)};function nmt(r){return async function*(e){for await(let t of e){let i=t.cid;r.cidVersion===1&&(i=i.toV1());let n=t.path?t.path:i.toString();r.wrapWithDirectory&&!t.path&&(n=""),yield{path:n,cid:i,size:t.size,mode:t.unixfs&&t.unixfs.mode,mtime:t.unixfs&&t.unixfs.mtime}}}}function smt(r,e){return async function*(t){for await(let i of t)(!i.path||e.wrapWithDirectory?i.path==="":!i.path.includes("/"))&&!e.onlyHash&&e.preload!==!1&&r(i.cid),yield i}}function omt(r,e){return async function*(t){for await(let i of t){let n=!i.path.includes("/");(e.pin==null?!0:e.pin)&&n&&!e.onlyHash&&await r.add(i.cid,{preload:!1,lock:!1}),yield i}}}});var lhe=h((llr,ahe)=>{"use strict";var che=l8(),amt=Er(),cmt=pr(),DR=async function(r){let e=cmt(r),i=(await amt(e,"murmur3-128")).slice(2,10),n=i.length,s=new Uint8Array(n);for(let o=0;o<n;o++)s[n-o-1]=i[o];return s};DR.code=34;var umt=(r,e,t)=>Promise.all(r.map(i=>{if(i.Name.length===2){let n=parseInt(i.Name,16);return e._putObjectAt(n,new che({hashFn:DR},e,n))}return t.put(i.Name.substring(2),!0)})),uhe=r=>r.toString("16").toUpperCase().padStart(2,"0").substring(0,2),fmt=r=>{let e=r.bucket,t=[];for(;e._parent;)t.push(e),e=e._parent;return t.push(e),t.reverse()},fhe=async(r,e,t,i,n)=>{i||(i={rootBucket:new che({hashFn:DR}),hamtDepth:1},i.lastBucket=i.rootBucket),await umt(r.Links,i.lastBucket,i.rootBucket);let s=await i.rootBucket._findNewBucketAndPos(e),o=uhe(s.pos),a=fmt(s);a.length>i.hamtDepth&&(i.lastBucket=a[i.hamtDepth],o=uhe(i.lastBucket._posAtParent));let c=r.Links.find(u=>{let f=u.Name.substring(0,2),l=u.Name.substring(2);if(f===o&&!(l&&l!==e))return!0});return c?c.Name.substring(2)===e?c.Hash:(i.hamtDepth++,r=await t.get(c.Hash,n),fhe(r,e,t,i,n)):null};ahe.exports=fhe});var b8=h((hlr,hhe)=>{"use strict";hhe.exports=function(e,t,i,n){let s=e.length,o=t+s;return i>=o||n<t?new Uint8Array(0):(n>=t&&n<o&&(e=e.slice(0,n-t)),i>=t&&i<o&&(e=e.slice(i-t)),e)}});var y8=h((dlr,dhe)=>{"use strict";var OR=qe(),lmt=(r,e,t)=>{if(e||(e=0),e<0)throw OR(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(e>r)throw OR(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(!t&&t!==0&&(t=r-e),t<0)throw OR(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return e+t>r&&(t=r-e),{offset:e,length:t}};dhe.exports=lmt});var LR=h((plr,phe)=>{"use strict";var bhe=b8(),hmt=y8(),dmt=yn(),pmt=qe();async function*yhe(r,e,t,i,n=0,s){if(e instanceof Uint8Array){let u=bhe(e,n,t,i);return u.length&&(yield u),n+=u.length,n}let o;try{o=dmt.unmarshal(e.Data)}catch(u){throw pmt(u,"ERR_NOT_UNIXFS")}if(Boolean(o.data&&o.data.length)){let u=bhe(o.data,n,t,i);u.length&&(yield u),n+=o.data.length}let c=n;for(let u=0;u<e.Links.length;u++){let f=e.Links[u],l=n+o.blockSizes[u];if(t>=c&&t<l||i>c&&i<=l||t<c&&i>l){let d=await r.get(f.Hash,s);for await(let p of yhe(r,d,t,i,n,s))n+=p.length,yield p}n=l,c=l+1}}var bmt=(r,e,t,i,n,s,o)=>(a={})=>{let c=t.fileSize(),{offset:u,length:f}=hmt(c,a.offset,a.length),l=u,d=u+f;return yhe(o,e,l,d,0,a)};phe.exports=bmt});var mhe=h((blr,ghe)=>{"use strict";var ymt=(r,e,t,i,n,s,o,a)=>async function*(c={}){let u=c.offset||0,f=c.length||e.Links.length,l=e.Links.slice(u,f);for(let d of l)yield(await n(d.Hash,d.Name,`${i}/${d.Name}`,[],s+1,o,c)).entry};ghe.exports=ymt});var vhe=h((ylr,xhe)=>{"use strict";var gmt=(r,e,t,i,n,s,o)=>(a={})=>whe(e,i,n,s,o,a);async function*whe(r,e,t,i,n,s){let o=r.Links;for(let a of o){let c=a.Name.substring(2);if(c)yield(await t(a.Hash,c,`${e}/${c}`,[],i+1,n)).entry;else{r=await n.get(a.Hash);for await(let u of whe(r,e,t,i,n,s))yield u}}}xhe.exports=gmt});var She=h((glr,Ehe)=>{"use strict";var _he=qe(),mmt=yn(),xmt=lhe(),wmt=(r,e)=>{let t=r.Links.find(i=>i.Name===e);return t&&t.Hash},vmt={raw:LR(),file:LR(),directory:mhe(),"hamt-sharded-directory":vhe(),metadata:(r,e,t,i,n,s,o)=>{},symlink:(r,e,t,i,n,s,o)=>{}},Emt=async(r,e,t,i,n,s,o,a)=>{let c=await o.get(r,a),u,f;e||(e=r.toBaseEncodedString());try{u=mmt.unmarshal(c.Data)}catch(l){throw _he(l,"ERR_NOT_UNIXFS")}if(t||(t=e),i.length){let l;if(u&&u.type==="hamt-sharded-directory"?l=await xmt(c,i[0],o):l=wmt(c,i[0]),!l)throw _he(new Error("file does not exist"),"ERR_NOT_FOUND");let d=i.shift(),p=`${t}/${d}`;f={cid:l,toResolve:i,name:d,path:p}}return{entry:{name:e,path:t,cid:r,node:c,content:vmt[u.type](r,c,u,t,n,s,o,a),unixfs:u,depth:s},next:f}};Ehe.exports=Emt});var Ahe=h((mlr,khe)=>{"use strict";var _mt=qe(),Smt=b8(),kmt=y8(),Amt=r=>function*(e={}){let{offset:t,length:i}=kmt(r.length,e.offset,e.length);yield Smt(r,0,t,t+i)},Imt=async(r,e,t,i,n,s,o,a)=>{if(i.length)throw _mt(new Error(`No link named ${t} found in raw node ${r.toBaseEncodedString()}`),"ERR_NOT_FOUND");let c=await o.get(r,a);return{entry:{name:e,path:t,cid:r,node:c,content:Amt(c),depth:s}}};khe.exports=Imt});var The=h((xlr,Ihe)=>{"use strict";var Tmt=ot(),Rmt=qe(),qmt=async(r,e,t,i,n,s,o,a)=>{let c=await o.get(r,a),u=c,f=t;for(;i.length;){let l=i[0];if(l in u){if(i.shift(),f=`${f}/${l}`,Tmt.isCID(u[l]))return{entry:{name:e,path:t,cid:r,node:c,depth:s},next:{cid:u[l],name:l,path:f,toResolve:i}};u=u[l]}else throw Rmt(new Error(`No property named ${l} found in cbor node ${r.toBaseEncodedString()}`),"ERR_NO_PROP")}return{entry:{name:e,path:t,cid:r,node:c,depth:s}}};Ihe.exports=qmt});var qhe=h((wlr,Rhe)=>{"use strict";var Bmt=qe(),Cmt=b8(),Mmt=y8(),Nmt=Er().multihash,Pmt=r=>function*(e={}){let{offset:t,length:i}=Mmt(r.length,e.offset,e.length);yield Cmt(r,0,t,t+i)},Dmt=async(r,e,t,i,n,s,o,a)=>{if(i.length)throw Bmt(new Error(`No link named ${t} found in raw node ${r.toBaseEncodedString()}`),"ERR_NOT_FOUND");let c=await Nmt.decode(r.multihash);return{entry:{name:e,path:t,cid:r,node:c,content:Pmt(c.digest),depth:s}}};Rhe.exports=Dmt});var Mhe=h((vlr,Bhe)=>{"use strict";var Omt=qe(),Lmt={"dag-pb":She(),raw:Ahe(),"dag-cbor":The(),identity:qhe()},Che=(r,e,t,i,n,s,o)=>{let a=Lmt[r.codec];if(!a)throw Omt(new Error(`No resolver for codec ${r.codec}`),"ERR_NO_RESOLVER");return a(r,e,t,i,Che,n,s,o)};Bhe.exports=Che});var Ea=h((Elr,g8)=>{"use strict";var Nhe=qe(),FR=ot(),Fmt=Mhe(),Umt=gc(),zmt=(r="")=>(r.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean),Kmt=r=>{if(r instanceof Uint8Array)return{cid:new FR(r),toResolve:[]};if(FR.isCID(r))return{cid:r,toResolve:[]};if(typeof r=="string"){r.indexOf("/ipfs/")===0&&(r=r.substring(6));let e=zmt(r);return{cid:new FR(e[0]),toResolve:e.slice(1)}}throw Nhe(new Error(`Unknown path type ${r}`),"ERR_BAD_PATH")},Phe=async function*(r,e,t){let{cid:i,toResolve:n}=Kmt(r),s=i.toBaseEncodedString(),o=s,a=n.length;for(;;){let c=await Fmt(i,s,o,n,a,e,t);if(!c.entry&&!c.next)throw Nhe(new Error(`Could not resolve ${r}`),"ERR_NOT_FOUND");if(c.entry&&(yield c.entry),!c.next)return;n=c.next.toResolve,i=c.next.cid,s=c.next.name,o=c.next.path}},Dhe=(r,e,t)=>Umt(Phe(r,e,t)),Vmt=async function*(r,e,t){let i=await Dhe(r,e,t);if(yield i,i.unixfs&&i.unixfs.type.includes("dir"))for await(let s of n(i,t))yield s;async function*n(s,o){for await(let a of s.content(o))if(yield a,a.unixfs.type.includes("dir"))for await(let c of n(a,o))yield c}};g8.exports=Dhe;g8.exports.path=Phe;g8.exports.recursive=Vmt});var Lhe=h((_lr,Ohe)=>{"use strict";var jmt=Ea(),{normalizeCidPath:Hmt}=pi(),Gmt=Ke();Ohe.exports=function({ipld:r,preload:e}){async function*t(i,n={}){if(i=Hmt(i),n.preload!==!1){let o=i.split("/");e(o[0])}let s=await jmt(i,r,n);if(s.unixfs&&s.unixfs.type.includes("dir"))throw new Error("this dag node is a directory");if(!s.content)throw new Error("this dag node has no content");yield*s.content(n)}return Gmt(t)}});var Uhe=h((Slr,Fhe)=>{"use strict";var $mt=Ea(),Wmt=qe(),{normalizeCidPath:Ymt,mapFile:Xmt}=pi(),Jmt=Ke();Fhe.exports=function({ipld:r,preload:e}){async function*t(i,n={}){if(n.preload!==!1){let s;try{s=Ymt(i).split("/")}catch(o){throw Wmt(o,"ERR_INVALID_PATH")}e(s[0])}for await(let s of $mt.recursive(i,r,n))yield Xmt(s,{...n,includeContent:!0})}return Jmt(t)}});var jhe=h((klr,zhe)=>{"use strict";var Khe=Ea(),Vhe=qe(),{normalizeCidPath:Zmt,mapFile:UR}=pi(),Qmt=Ke();zhe.exports=function({ipld:r,preload:e}){async function*t(i,n={}){let s=Zmt(i),o=n.recursive,a=s.split("/");n.preload!==!1&&e(a[0]);let c=await Khe(i,r,n);if(!c.unixfs)throw Vhe(new Error("dag node was not a UnixFS node"),"ERR_NOT_UNIXFS");if(c.unixfs.type==="file"){yield UR(c,n);return}if(c.unixfs.type.includes("dir")){if(o){for await(let u of Khe.recursive(c.cid,r,n))c.cid.toBaseEncodedString()!==u.cid.toBaseEncodedString()&&(yield UR(u,n));return}for await(let u of c.content())u=UR(u,n),u.depth--,yield u;return}throw Vhe(new Error(`Unknown UnixFS type ${c.unixfs.type}`),"ERR_UNKNOWN_UNIXFS_TYPE")}return Qmt(t)}});var $he=h((Alr,Hhe)=>{"use strict";var e3t=Dfe(),t3t=ohe(),r3t=Lhe(),i3t=Uhe(),n3t=jhe(),Ghe=class{constructor({preload:e,gcLock:t,pin:i,block:n,ipld:s,options:o}){let a=t3t({preload:e,gcLock:t,block:n,pin:i,options:o});this.addAll=a,this.add=e3t({addAll:a}),this.cat=r3t({ipld:s,preload:e}),this.get=i3t({ipld:s,preload:e}),this.ls=n3t({ipld:s,preload:e})}};Hhe.exports=Ghe});var zR=h((Ilr,Whe)=>{Whe.exports={name:"ipfs-core",version:"0.5.4",description:"JavaScript implementation of the IPFS specification",keywords:["IPFS"],homepage:"https://github.com/ipfs/js-ipfs/tree/master/packages/ipfs-core#readme",bugs:"https://github.com/ipfs/js-ipfs/issues",license:"(Apache-2.0 OR MIT)",leadMaintainer:"Alex Potsides <alex@achingbrain.net>",main:"src/index.js",files:["src","dist"],browser:{"./src/runtime/init-assets-nodejs.js":"./src/runtime/init-assets-browser.js","./src/runtime/config-nodejs.js":"./src/runtime/config-browser.js","./src/runtime/dns-nodejs.js":"./src/runtime/dns-browser.js","./src/runtime/libp2p-nodejs.js":"./src/runtime/libp2p-browser.js","./src/runtime/libp2p-pubsub-routers-nodejs.js":"./src/runtime/libp2p-pubsub-routers-browser.js","./src/runtime/preload-nodejs.js":"./src/runtime/preload-browser.js","./src/runtime/repo-nodejs.js":"./src/runtime/repo-browser.js","./test/utils/create-repo-nodejs.js":"./test/utils/create-repo-browser.js","ipfs-utils/src/files/glob-source":!1},typesVersions:{"*":{"*":["dist/*","dist/*/index"]}},repository:{type:"git",url:"git+https://github.com/ipfs/js-ipfs.git"},scripts:{prepare:"npm run build",build:"aegir build",lint:"aegir lint",test:"aegir test","test:node":"aegir test -t node","test:browser":"aegir test -t browser","test:webworker":"aegir test -t webworker","test:electron-main":"aegir test -t electron-main","test:electron-renderer":"aegir test -t electron-renderer","test:bootstrapers":"IPFS_TEST=bootstrapers aegir test -t browser -f test/bootstrapers.js",coverage:"nyc --reporter=text --reporter=lcov npm run test:node",clean:"rimraf ./dist","dep-check":"aegir dep-check -i interface-ipfs-core -i ipfs-core-types -i abort-controller"},dependencies:{"abort-controller":"^3.0.0","array-shuffle":"^2.0.0","bignumber.js":"^9.0.1",cbor:"^6.0.1",cids:"^1.1.5","class-is":"^1.1.0","dag-cbor-links":"^2.0.0","datastore-core":"^3.0.0","datastore-pubsub":"^0.4.1",debug:"^4.1.1",dlv:"^1.1.3","err-code":"^2.0.3","hamt-sharding":"^1.0.0",hashlru:"^2.3.0","interface-datastore":"^3.0.3","ipfs-bitswap":"^4.0.2","ipfs-block-service":"^0.18.0","ipfs-core-types":"^0.3.1","ipfs-core-utils":"^0.7.2","ipfs-repo":"^8.0.0","ipfs-unixfs":"^2.0.3","ipfs-unixfs-exporter":"^3.0.4","ipfs-unixfs-importer":"^5.0.0","ipfs-utils":"^6.0.1",ipld:"^0.28.0","ipld-block":"^0.11.0","ipld-dag-cbor":"^0.17.0","ipld-dag-pb":"^0.20.0","ipld-raw":"^6.0.0",ipns:"^0.8.0","is-domain-name":"^1.0.1","is-ipfs":"^2.0.0","it-all":"^1.0.4","it-first":"^1.0.4","it-last":"^1.0.4","it-pipe":"^1.1.0",libp2p:"^0.30.7","libp2p-bootstrap":"^0.12.1","libp2p-crypto":"^0.19.0","libp2p-floodsub":"^0.24.1","libp2p-gossipsub":"^0.8.0","libp2p-kad-dht":"^0.20.1","libp2p-mdns":"^0.15.0","libp2p-mplex":"^0.10.0","libp2p-noise":"^2.0.1","libp2p-record":"^0.9.0","libp2p-tcp":"^0.15.1","libp2p-webrtc-star":"^0.21.0","libp2p-websockets":"^0.15.1",mafmt:"^8.0.0","merge-options":"^3.0.4",mortice:"^2.0.0",multiaddr:"^8.0.0","multiaddr-to-uri":"^6.0.0",multibase:"^4.0.2",multicodec:"^3.0.1","multihashing-async":"^2.1.2","native-abort-controller":"^1.0.3","p-queue":"^6.6.1","parse-duration":"^0.4.4","peer-id":"^0.14.1","streaming-iterables":"^5.0.2",uint8arrays:"^2.1.3"},devDependencies:{aegir:"^31.0.0",delay:"^4.4.0","go-ipfs":"0.8.0","interface-ipfs-core":"^0.144.2","ipfsd-ctl":"^7.2.0","ipld-git":"^0.6.1","iso-url":"^1.0.0",nanoid:"^3.1.12",rimraf:"^3.0.2",sinon:"^9.0.3"},gitHead:"511147bedd51be3151de44a90fefe9425bfbcd50"}});var Xhe=h((Tlr,Yhe)=>{"use strict";var KR=zR(),s3t=Ke();Yhe.exports=({repo:r})=>{async function e(t){let i=await r.version.get(t);return{version:KR.version,repo:i,commit:KR.gitHead||"","interface-ipfs-core":KR.devDependencies["interface-ipfs-core"]}}return s3t(e)}});var Zhe=h((Rlr,Jhe)=>{"use strict";var o3t=zR().version,a3t=tr(),c3t=Ke(),u3t=dr();Jhe.exports=({peerId:r,network:e})=>{async function t(i){let n=r.toB58String(),s=[],o=[],a=e.try();if(a){let{libp2p:c}=a;s=c.multiaddrs,o=Array.from(c.upgrader.protocols.keys())}return{id:n,publicKey:u3t(r.pubKey.bytes,"base64pad"),addresses:s.map(c=>{let u=c.toString();return u.endsWith(`/p2p/${n}`)?u:`${u}/p2p/${n}`}).sort().map(c=>a3t(c)),agentVersion:`js-ipfs/${o3t}`,protocolVersion:"9000",protocols:o.sort()}}return c3t(t)}});var HR=h((qlr,VR)=>{"use strict";var jR=Wv(),l1=Ke(),f3t=De()("ipfs:core:config");VR.exports=({repo:r})=>{return{getAll:l1(e),get:l1(t),set:l1(i),replace:l1(n),profiles:{apply:l1(s),list:l1(l3t)}};async function e(o={}){return r.config.getAll(o)}async function t(o,a){return o?r.config.get(o,a):Promise.reject(new Error("key argument is required"))}async function i(o,a,c){return r.config.set(o,a,c)}async function n(o,a){return r.config.replace(o,a)}async function s(o,a={}){let{dryRun:c}=a,u=m8[o];if(!u)throw new Error(`No profile with name '${o}' exists`);try{let f=await r.config.getAll(a),l=JSON.parse(JSON.stringify(f));return l=u.transform(l),c||await r.config.replace(l,a),delete f.Identity.PrivKey,delete l.Identity.PrivKey,{original:f,updated:l}}catch(f){throw f3t(f),new Error(`Could not apply profile '${o}' to config: ${f.message}`)}}};async function l3t(r){return Object.keys(m8).map(e=>({name:e,description:m8[e].description}))}var m8={server:{description:"Recommended for nodes with public IPv4 address (servers, VPSes, etc.), disables host and content discovery and UPnP in local networks.",transform:r=>(r.Discovery.MDNS.Enabled=!1,r.Discovery.webRTCStar.Enabled=!1,r.Swarm={...r.Swarm||{},DisableNatPortMap:!0},r)},"local-discovery":{description:"Sets default values to fields affected by `server` profile, enables discovery and UPnP in local networks.",transform:r=>(r.Discovery.MDNS.Enabled=!0,r.Discovery.webRTCStar.Enabled=!0,r.Swarm={...r.Swarm||{},DisableNatPortMap:!1},r)},test:{description:"Reduces external interference, useful for running ipfs in test environments. Note that with these settings node won't be able to talk to the rest of the network without manual bootstrap.",transform:r=>{let e=jR();return r.Addresses.API=e.Addresses.API?"/ip4/127.0.0.1/tcp/0":"",r.Addresses.Gateway=e.Addresses.Gateway?"/ip4/127.0.0.1/tcp/0":"",r.Addresses.Swarm=e.Addresses.Swarm.length?["/ip4/127.0.0.1/tcp/0"]:[],r.Addresses.Delegates=[],r.Bootstrap=[],r.Discovery.MDNS.Enabled=!1,r.Discovery.webRTCStar.Enabled=!1,r.Swarm={...r.Swarm||{},DisableNatPortMap:!0},r}},"default-networking":{description:"Restores default network settings. Inverse profile of the `test` profile.",transform:r=>{let e=jR();return r.Addresses.API=e.Addresses.API,r.Addresses.Gateway=e.Addresses.Gateway,r.Addresses.Swarm=e.Addresses.Swarm,r.Addresses.Delegates=e.Addresses.Delegates,r.Bootstrap=e.Bootstrap,r.Discovery.MDNS.Enabled=e.Discovery.MDNS.Enabled,r.Discovery.webRTCStar.Enabled=e.Discovery.webRTCStar.Enabled,r.Swarm={...r.Swarm||{},DisableNatPortMap:!1},r}},lowpower:{description:"Reduces daemon overhead on the system. May affect node functionality,performance of content discovery and data fetching may be degraded. Recommended for low power systems.",transform:r=>{let e=r.Swarm||{},t=e.ConnMgr||{};return t.LowWater=20,t.HighWater=40,e.ConnMgr=t,r.Swarm=e,r}},"default-power":{description:'Inverse of "lowpower" profile.',transform:r=>{let e=jR();return r.Swarm=e.Swarm,r}}};VR.exports.profiles=m8});var ede=h((Blr,Qhe)=>{"use strict";var h3t=Ke(),d3t=b6(),p3t=gc(),b3t=Yy();Qhe.exports=({ipld:r,preload:e})=>h3t(async function(n,s={}){let{cid:o,path:a}=b3t(n);return a&&(s.path=a),s.preload!==!1&&e(o),s.path?s.localResolve?await d3t(r.resolve(o,s.path)):await p3t(r.resolve(o,s.path)):{value:await r.get(o,s),remainderPath:""}})});var rde=h((Clr,tde)=>{"use strict";var y3t=ot(),g3t=Ke(),m3t=Yy();tde.exports=({ipld:r,preload:e})=>{async function t(i,n={}){let{cid:s,path:o}=m3t(i);n.preload!==!1&&e(s),o&&(n.path=o);let a=s,c=n.path||"";if(c.startsWith("/")&&(c=c.substring(1)),n.path)try{for await(let{value:u,remainderPath:f}of r.resolve(s,n.path,{signal:n.signal})){if(!y3t.isCID(u))break;c=f,a=u}}catch(u){throw u.message.startsWith("Object has no property")&&(u.message=`no link named "${c.split("/")[0]}" under ${a}`,u.code="ERR_NO_LINK"),u}return{cid:a,remainderPath:c||""}}return g3t(t)}});var nde=h((Mlr,ide)=>{"use strict";var x3t=Ke(),w3t=Yy();ide.exports=({ipld:r,preload:e})=>{async function*t(i,n={}){let{cid:s,path:o}=w3t(i);o&&(n.path=o),n.preload!==!1&&e(s),yield*r.tree(s,n.path,n)}return x3t(t)}});var ade=h((Nlr,sde)=>{"use strict";var fm=nn(),ode=r=>fm[r.toUpperCase().replace(/-/g,"_")],v3t=Ke();sde.exports=({ipld:r,pin:e,gcLock:t,preload:i})=>{async function n(s,o={}){let{cidVersion:a,format:c,hashAlg:u}=E3t(o),f=o.pin?await t.readLock():null;try{let l=await r.put(s,c,{hashAlg:u,cidVersion:a,signal:o.signal});return o.pin&&await e.add(l,{lock:!1}),o.preload!==!1&&i(l),l}finally{f&&f()}}return v3t(n)};var E3t=r=>{if(r.cid&&(r.format||r.hashAlg))throw new Error("Can't put dag node. Please provide either `cid` OR `format` and `hashAlg` options.");if(r.format&&!r.hashAlg||!r.format&&r.hashAlg)throw new Error("Can't put dag node. Please provide `format` AND `hashAlg` options.");let{hashAlg:e,format:t}=r.cid!=null?{format:r.cid.code,hashAlg:void 0}:_3t({...k3t,...r});return{cidVersion:S3t({...r,format:t,hashAlg:e}),format:t,hashAlg:e}},_3t=({format:r,hashAlg:e})=>({format:typeof r=="string"?ode(r):r,hashAlg:typeof e=="string"?ode(e):e}),S3t=({version:r,cid:e,format:t,hashAlg:i})=>typeof r=="number"?r:e?e.version:t===fm.DAG_PB&&i===fm.SHA2_256?0:1,k3t={format:fm.DAG_CBOR,hashAlg:fm.SHA2_256}});var lde=h((Plr,cde)=>{"use strict";var A3t=ede(),I3t=rde(),T3t=nde(),R3t=ade(),ude=class{constructor(e){this.get=A3t(e),this.resolve=I3t(e),this.tree=T3t(e)}},fde=class{constructor({ipld:e,pin:t,preload:i,gcLock:n,dagReader:s}){let{get:o,resolve:a,tree:c}=s,u=R3t({ipld:e,preload:i,pin:t,gcLock:n});this.get=o,this.resolve=a,this.tree=c,this.put=u}static reader(e){return new ude(e)}};cde.exports=fde});var GR=h((Dlr,hde)=>{var q3t=tr(),x8=(r,e)=>e,B3t=(r,e,t,i)=>{if(i&&i.assumeHttp===!1)return`tcp://${r}:${e}`;let n="tcp",s=`:${e}`;return t[t.length-1].protocol==="tcp"&&(n=e==="443"?"https":"http",s=e==="443"||e==="80"?"":s),`${n}://${r}${s}`},C3t={ip4:x8,ip6:(r,e,t,i)=>i.length===1&&i[0].protocol==="ip6"?e:`[${e}]`,tcp:(r,e,t,i,n)=>i.some(s=>["http","https","ws","wss"].includes(s.protocol))?`${r}:${e}`:B3t(r,e,i,n),udp:(r,e)=>`udp://${r}:${e}`,dnsaddr:x8,dns4:x8,dns6:x8,ipfs:(r,e)=>`${r}/ipfs/${e}`,p2p:(r,e)=>`${r}/p2p/${e}`,http:r=>`http://${r}`,https:r=>`https://${r}`,ws:r=>`ws://${r}`,wss:r=>`wss://${r}`,"p2p-websocket-star":r=>`${r}/p2p-websocket-star`,"p2p-webrtc-star":r=>`${r}/p2p-webrtc-star`,"p2p-webrtc-direct":r=>`${r}/p2p-webrtc-direct`};hde.exports=(r,e)=>{let t=q3t(r),i=r.toString().split("/").slice(1);return t.tuples().map(n=>({protocol:i.shift(),content:n[1]?i.shift():null})).reduce((n,s,o,a)=>{let c=C3t[s.protocol];if(!c)throw new Error(`Unsupported protocol ${s.protocol}`);return c(n,s.content,o,a,e)},"")}});var pde=h((Olr,dde)=>{"use strict";dde.exports=r=>{if(!Array.isArray(r))throw new TypeError(`Expected an array, got ${typeof r}`);r=[...r];for(let e=r.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[r[e],r[t]]=[r[t],r[e]]}return r}});var gde=h((Llr,bde)=>{"use strict";var{default:M3t}=Ap(),N3t=ow(),yde=De(),P3t=Object.assign(yde("ipfs:preload"),{error:yde("ipfs:preload:error")}),D3t=new M3t({concurrency:4});bde.exports=function(e,t={}){return P3t(e),D3t.add(async()=>{let n=(await N3t.post(e,{signal:t.signal})).body.getReader();try{for(;;){let{done:s}=await n.read();if(s)return}}finally{n.releaseLock()}})}});var wde=h((Flr,mde)=>{"use strict";var O3t=GR(),xde=De(),L3t=ot(),F3t=pde(),{AbortController:U3t}=sw(),z3t=gde(),K3t=sg(),lm=Object.assign(xde("ipfs:preload"),{error:xde("ipfs:preload:error")}),V3t=(r={})=>{if(r.enabled=Boolean(r.enabled),r.addresses=r.addresses||[],r.cache=r.cache||1e3,!r.enabled||!r.addresses.length)return lm("preload disabled"),Object.assign(()=>{},{start:()=>{},stop:()=>{}});let e=!0,t=[],i=r.addresses.map(O3t),n=K3t(r.cache),s=async o=>{try{if(e)throw new Error(`preload ${o} but preloader is not started`);if(typeof o!="string"&&(o=new L3t(o).toString()),n.has(o))return;n.set(o,!0);let a=F3t(i),c=!1,u=Date.now();for(let f of a){if(e)throw new Error(`preload aborted for ${o}`);let l;try{l=new U3t,t=t.concat(l),await z3t(`${f}/api/v0/refs?r=true&arg=${encodeURIComponent(o)}`,{signal:l.signal}),c=!0}catch(d){d.type!=="aborted"&&lm.error(d)}finally{t=t.filter(d=>d!==l)}if(c)break}lm(`${c?"":"un"}successfully preloaded ${o} in ${Date.now()-u}ms`)}catch(a){lm.error(a)}};return s.start=()=>{e=!1},s.stop=()=>{e=!0,lm(`aborting ${t.length} pending preload request(s)`),t.forEach(o=>o.abort()),t=[]},s};mde.exports=V3t});var Sde=h((Ulr,vde)=>{"use strict";var Ede=De(),{cidToString:_de}=OI(),w8=Object.assign(Ede("ipfs:mfs-preload"),{error:Ede("ipfs:mfs-preload:error")});vde.exports=({preload:r,files:e,options:t={}})=>{if(t.interval=t.interval||30*1e3,!t.enabled){w8("MFS preload disabled");let o=async()=>{};return{start:o,stop:o}}let i,n,s=async()=>{try{let o=await e.stat("/"),a=_de(o.cid,{base:"base32"});i!==a&&(w8(`preloading updated MFS root ${i} -> ${o.cid}`),await r(o.cid),i=a)}catch(o){w8.error("failed to preload MFS root",o)}finally{n=setTimeout(s,t.interval)}};return{async start(){let o=await e.stat("/");i=_de(o.cid,{base:"base32"}),w8(`monitoring MFS root ${o.cid}`),n=setTimeout(s,t.interval)},stop(){clearTimeout(n)}}}});var $R=h((zlr,kde)=>{kde.exports={WORKER_REQUEST_READ_LOCK:"lock:worker:request-read",WORKER_RELEASE_READ_LOCK:"lock:worker:release-read",MASTER_GRANT_READ_LOCK:"lock:master:grant-read",WORKER_REQUEST_WRITE_LOCK:"lock:worker:request-write",WORKER_RELEASE_WRITE_LOCK:"lock:worker:release-write",MASTER_GRANT_WRITE_LOCK:"lock:master:grant-write"}});var Ade=h(()=>{});var Dde=h((jlr,Ide)=>{var j3t=Pr().EventEmitter,{nanoid:H3t}=kl(),{WORKER_REQUEST_READ_LOCK:Tde,WORKER_RELEASE_READ_LOCK:Rde,MASTER_GRANT_READ_LOCK:qde,WORKER_REQUEST_WRITE_LOCK:Bde,WORKER_RELEASE_WRITE_LOCK:Cde,MASTER_GRANT_WRITE_LOCK:Mde}=$R(),hm,Nde=(r,e,t,i,n)=>(s,o)=>{o&&o.type===t&&r.emit(e,o.name,()=>(s.send({type:n,name:o.name,identifier:o.identifier}),new Promise(a=>{let c=u=>{u&&u.type===i&&u.identifier===o.identifier&&(s.removeListener("message",c),a())};s.on("message",c)})))},Pde=(r,e,t,i)=>()=>{let n=H3t();return process.send({type:e,identifier:n,name:r}),new Promise(s=>{let o=a=>{a&&a.type===t&&a.identifier===n&&(process.removeListener("message",o),s(()=>{process.send({type:i,identifier:n,name:r})}))};process.on("message",o)})};Ide.exports=r=>{try{if(hm=Ade(),!Object.keys(hm).length)return}catch(e){return}if(hm.isMaster||r.singleProcess){let e=new j3t;return hm.on("message",Nde(e,"requestReadLock",Tde,Rde,qde)),hm.on("message",Nde(e,"requestWriteLock",Bde,Cde,Mde)),e}return{isWorker:!0,readLock:e=>Pde(e,Tde,qde,Rde),writeLock:e=>Pde(e,Bde,Mde,Cde)}}});var WR=h((Hlr,Ode)=>{var l0={},h1=r=>{r.addEventListener("message",e=>{h1.dispatchEvent("message",r,e)}),r.port&&r.port.addEventListener("message",e=>{h1.dispatchEvent("message",r,e)})};h1.addEventListener=(r,e)=>{l0[r]||(l0[r]=[]),l0[r].push(e)};h1.removeEventListener=(r,e)=>{!l0[r]||(l0[r]=l0[r].filter(t=>t===e))};h1.dispatchEvent=function(){let r=Array.prototype.slice.call(arguments),e=r.shift();!l0[e]||l0[e].forEach(t=>t.apply(null,r))};Ode.exports=h1});var Wde=h((Glr,Lde)=>{var G3t=Pr().EventEmitter,{nanoid:$3t}=kl(),{WORKER_REQUEST_READ_LOCK:Fde,WORKER_RELEASE_READ_LOCK:Ude,MASTER_GRANT_READ_LOCK:zde,WORKER_REQUEST_WRITE_LOCK:Kde,WORKER_RELEASE_WRITE_LOCK:Vde,MASTER_GRANT_WRITE_LOCK:jde}=$R(),Hde=WR(),Gde=(r,e,t,i,n)=>(s,o)=>{if(!o||!o.data||o.data.type!==t)return;let a={type:o.data.type,name:o.data.name,identifier:o.data.identifier};r.emit(e,a.name,()=>(s.postMessage({type:n,name:a.name,identifier:a.identifier}),new Promise(c=>{let u=f=>{if(!f||!f.data)return;let l={type:f.data.type,name:f.data.name,identifier:f.data.identifier};l&&l.type===i&&l.identifier===a.identifier&&(s.removeEventListener("message",u),c())};s.addEventListener("message",u)})))},$de=(r,e,t,i)=>()=>{let n=$3t();return globalThis.postMessage({type:e,identifier:n,name:r}),new Promise(s=>{let o=a=>{if(!a||!a.data)return;let c={type:a.data.type,identifier:a.data.identifier};c&&c.type===t&&c.identifier===n&&(globalThis.removeEventListener("message",o),s(()=>{globalThis.postMessage({type:i,identifier:n,name:r})}))};globalThis.addEventListener("message",o)})},W3t={singleProcess:!1};Lde.exports=r=>{if(r=Object.assign({},W3t,r),!!globalThis.document||r.singleProcess){let t=new G3t;return Hde.addEventListener("message",Gde(t,"requestReadLock",Fde,Ude,zde)),Hde.addEventListener("message",Gde(t,"requestWriteLock",Kde,Vde,jde)),t}return{isWorker:!0,readLock:t=>$de(t,Fde,zde,Ude),writeLock:t=>$de(t,Kde,jde,Vde)}}});var Yde=h((Wlr,YR)=>{"use strict";var v8,$lr=YR.exports.timeout=function(r,e){var t=new v8,i;return Promise.race([r,new Promise(function(n,s){i=setTimeout(function(){s(t)},e)})]).then(function(n){return clearTimeout(i),n},function(n){throw clearTimeout(i),n})};v8=YR.exports.TimeoutError=function(){Error.call(this),this.stack=Error().stack,this.message="Timeout"};v8.prototype=Object.create(Error.prototype);v8.prototype.name="TimeoutError"});var ZR=h((Ylr,XR)=>{var Y3t=Dde(),X3t=Wde(),{default:Xde}=Ap(),{timeout:J3t}=Yde(),Z3t=WR(),Ql={},h0;function JR(r,e){let t,i=new Promise(n=>{t=n});return r.add(()=>J3t((()=>new Promise(n=>{t(()=>{n()})}))(),e.timeout)),i}var Q3t=(r,e)=>{if(h0.isWorker)return{readLock:h0.readLock(r,e),writeLock:h0.writeLock(r,e)};let t=new Xde({concurrency:1}),i=null;return{readLock:()=>{if(i)return JR(i,e);i=new Xde({concurrency:e.concurrency,autoStart:!1});let n=i,s=JR(i,e);return t.add(()=>(n.start(),n.onIdle().then(()=>{i===n&&(i=null)}))),s},writeLock:()=>(i=null,JR(t,e))}},ext={concurrency:Infinity,timeout:846e5,global:globalThis,singleProcess:!1};XR.exports=(r,e)=>(e||(e={}),typeof r=="object"&&(e=r,r="lock"),r||(r="lock"),e=Object.assign({},ext,e),h0||(h0=Y3t(e)||X3t(e),h0.isWorker||(h0.on("requestReadLock",(t,i)=>{!Ql[t]||Ql[t].readLock().then(n=>i().finally(()=>n()))}),h0.on("requestWriteLock",async(t,i)=>{!Ql[t]||Ql[t].writeLock().then(n=>i().finally(()=>n()))}))),Ql[r]||(Ql[r]=Q3t(r,e)),Ql[r]);XR.exports.Worker=function(r,e){e=e||globalThis.Worker;let t;try{t=new e(r)}catch(i){i.message.includes("not a constructor")&&(t=e(r))}if(!t)throw new Error("Could not create Worker from",e);return Z3t(t),t}});var QR=h((Xlr,Jde)=>{"use strict";var txt=ZR(),E8;Jde.exports=r=>{if(E8)return E8;let e=txt({singleProcess:r});return E8={readLock:t=>async(...i)=>{let n=await e.readLock();try{return await t.apply(null,i)}finally{n()}},writeLock:t=>async(...i)=>{let n=await e.writeLock();try{return await t.apply(null,i)}finally{n()}}},E8}});var eq=h((Jlr,Zde)=>{"use strict";var rxt=ot(),ixt=yn(),{DAGNode:nxt}=Nr(),Qde=De()("ipfs:mfs:utils:with-mfs-root"),sxt=nn(),oxt=Er().multihash,epe=qe(),{MFS_ROOT_KEY:tpe}=pi(),axt=async(r,e)=>{if(e&&e.signal&&e.signal.aborted)throw epe(new Error("Request aborted"),"ERR_ABORTED",{name:"Aborted"});await r.repo.datastore.open();let t;try{let i=await r.repo.datastore.get(tpe);t=new rxt(i)}catch(i){if(i.code!=="ERR_NOT_FOUND")throw i;Qde("Creating new MFS root");let n=new nxt(new ixt({type:"directory"}).marshal());if(t=await r.ipld.put(n,sxt.DAG_PB,{cidVersion:0,hashAlg:oxt.names["sha2-256"]}),e&&e.signal&&e.signal.aborted)throw epe(new Error("Request aborted"),"ERR_ABORTED",{name:"Aborted"});await r.repo.datastore.put(tpe,t.bytes)}return Qde(`Loaded MFS root /ipfs/${t}`),t};Zde.exports=axt});var _8=h((Zlr,rpe)=>{"use strict";var cxt=(r="")=>(r.trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean);rpe.exports=cxt});var Ic=h((Qlr,ipe)=>{"use strict";var uxt=eq(),fxt=_8(),lxt=Ea(),npe=qe(),hxt=ot(),tq="ipfs",dxt=async(r,e,t)=>{let i=Array.isArray(e),n=Array.isArray(e)?e:[e],s=await uxt(r,t);return n=n.map(o=>{if(hxt.isCID(o)&&(o=`/ipfs/${o}`),o=(o||"").trim(),o=o.replace(/(\/\/+)/g,"/"),o.endsWith("/")&&o.length>1&&(o=o.substring(0,o.length-1)),!o)throw npe(new Error("paths must not be empty"),"ERR_NO_PATH");if(o.substring(0,1)!=="/")throw npe(new Error("paths must start with a leading slash"),"ERR_INVALID_PATH");o.substring(o.length-1)==="/"&&(o=o.substring(0,o.length-1));let a=fxt(o);if(a[0]===tq){let f;return a.length===2?f=`/${a.join("/")}`:f=`/${a.slice(0,a.length-1).join("/")}`,{type:"ipfs",depth:a.length-2,mfsPath:`/${a.join("/")}`,mfsDirectory:f,parts:a,path:`/${a.join("/")}`,name:a[a.length-1]}}let c=`/${tq}/${s}${a.length?"/"+a.join("/"):""}`,u=`/${tq}/${s}/${a.slice(0,a.length-1).join("/")}`;return{type:"mfs",depth:a.length,mfsDirectory:u,mfsPath:c,parts:a,path:`/${a.join("/")}`,name:a[a.length-1]}}),await Promise.all(n.map(async o=>{let a=o.type==="mfs"?o.mfsPath:o.path;try{let c=await lxt(a,r.ipld);o.cid=c.cid,o.mfsPath=`/ipfs/${c.path}`,o.unixfs=c.unixfs,o.content=c.content}catch(c){if(c.code!=="ERR_NOT_FOUND")throw c}o.exists=Boolean(o.cid)})),i?n:n[0]};ipe.exports=dxt});var dm=h((ehr,spe)=>{"use strict";var pxt=hi().bind({ignoreUndefined:!0}),bxt=Ic(),yxt=Ea(),gxt=De()("ipfs:mfs:stat"),mxt=qe(),xxt=Ke(),wxt={withLocal:!1,signal:void 0};spe.exports=r=>{async function e(t,i){i=pxt(wxt,i),gxt(`Fetching stats for ${t}`);let{type:n,cid:s,mfsPath:o}=await bxt(r,t,i),a=n==="ipfs"&&s?s:o,c;try{c=await yxt(a,r.ipld)}catch(u){throw u.code==="ERR_NOT_FOUND"?mxt(new Error(`${t} does not exist`),"ERR_NOT_FOUND"):u}if(!ope[c.cid.codec])throw new Error(`Cannot stat codec ${c.cid.codec}`);return ope[c.cid.codec](c)}return xxt(e)};var ope={raw:r=>({cid:r.cid,size:r.node.length,cumulativeSize:r.node.length,blocks:0,type:"file",local:void 0,sizeLocal:void 0,withLocality:!1}),"dag-pb":r=>{let e=r.node.Links.length,t=r.node.size,i=r.node.size,n={cid:r.cid,type:"file",size:t,cumulativeSize:i,blocks:e,local:void 0,sizeLocal:void 0,withLocality:!1};return r.unixfs&&(n.size=r.unixfs.fileSize(),r.unixfs.type==="hamt-sharded-directory"?n.type="directory":n.type=r.unixfs.type,n.mode=r.unixfs.mode,r.unixfs.isDirectory()&&(n.size=0,n.cumulativeSize=r.node.size),n.type==="file"&&(n.blocks=r.unixfs.blockSizes.length),r.unixfs.mtime&&(n.mtime=r.unixfs.mtime)),n},"dag-cbor":r=>({cid:r.cid,local:void 0,sizeLocal:void 0,withLocality:!1}),identity:r=>({cid:r.cid,size:r.node.digest.length,cumulativeSize:r.node.digest.length,blocks:0,type:"file",local:void 0,sizeLocal:void 0,withLocality:!1})}});var d1=h((thr,ape)=>{"use strict";var vxt=Ea(),Ext=De()("ipfs:mfs:utils:to-trail"),_xt=async(r,e)=>{Ext(`Creating trail for path ${e}`);let t=[];for await(let i of vxt.path(e,r.ipld))t.push({name:i.name,cid:i.cid,size:i.node.size,type:i.unixfs?i.unixfs.type:void 0});return t};ape.exports=_xt});var nq=h((rhr,cpe)=>{"use strict";var{DAGNode:Sxt}=Nr(),upe=l8(),S8=h8(),k8=De()("ipfs:mfs:core:utils:hamt-utils"),fpe=yn(),kxt=nn(),Axt=Er().multihash,Ixt=gc(),Txt=async(r,e,t,i)=>{let n=Uint8Array.from(t._children.bitField().reverse()),s=fpe.unmarshal(i.parent.Data),o=new fpe({type:"hamt-sharded-directory",data:n,fanout:t.tableSize(),hashType:S8.hashFn.code,mode:s.mode,mtime:s.mtime}),a=Axt.names[i.hashAlg],c=new Sxt(o.marshal(),e),u=await r.ipld.put(c,kxt.DAG_PB,{cidVersion:i.cidVersion,hashAlg:a,onlyHash:!i.flush});return{node:c,cid:u,size:c.size}},iq=async(r,e,t,i)=>{let n=new upe({hashFn:S8.hashFn,hash:t?t._options.hash:void 0},t,i);return t&&t._putObjectAt(i,n),await rq(r,n,e),n},rq=async(r,e,t)=>{await Promise.all(r.map(i=>{if(i.Name.length===2){let n=parseInt(i.Name,16);return e._putObjectAt(n,new upe({hashFn:S8.hashFn},e,n)),Promise.resolve()}return(t||e).put(i.Name.substring(2),{size:i.Tsize,cid:i.Hash})}))},A8=r=>r.toString("16").toUpperCase().padStart(2,"0").substring(0,2),Rxt=async(r,e,t)=>{let i=await iq(t.Links,null,null,null),n=await i._findNewBucketAndPos(e),s=[{bucket:n.bucket,prefix:A8(n.pos)}],o=n.bucket;for(;o!==i;)s.push({bucket:o,prefix:A8(o._posAtParent)}),o=o._parent;s.reverse(),s[0].node=t;for(let a=0;a<s.length;a++){let c=s[a],u=c.node.Links.filter(d=>d.Name.substring(0,2)===c.prefix).pop();if(!u){k8(`Link ${c.prefix}${e} will be added`);continue}if(u.Name===`${c.prefix}${e}`){k8(`Link ${c.prefix}${e} will be replaced`);continue}k8(`Found subshard ${c.prefix}`);let f=await r.ipld.get(u.Hash);if(!s[a+1]){k8(`Loaded new subshard ${c.prefix}`),await iq(f.Links,i,c.bucket,parseInt(c.prefix,16));let d=await i._findNewBucketAndPos(e);s.push({bucket:d.bucket,prefix:A8(d.pos),node:f});continue}let l=s[a+1];await rq(f.Links,l.bucket,i),l.node=f}return await i.put(e,!0),s.reverse(),{rootBucket:i,path:s}},qxt=async(r,e,t)=>{let i=new S8({root:!0,dir:!0,parent:null,parentKey:null,path:"",dirty:!0,flat:!1,mtime:t.mtime,mode:t.mode},{...t,codec:"dag-pb"});for(let n=0;n<e.length;n++)await i._bucket.put(e[n].name,{size:e[n].size,cid:e[n].cid});return Ixt(i.flush("",r.block,null))};cpe.exports={generatePath:Rxt,updateHamtDirectory:Txt,recreateHamtLevel:iq,addLinksToHamtBucket:rq,toPrefix:A8,createShard:qxt}});var eh=h((ihr,lpe)=>{"use strict";var{DAGLink:Bxt,DAGNode:Cxt}=Nr(),sq=ot(),Tc=De()("ipfs:mfs:core:utils:add-link"),oq=yn(),Mxt=h8(),{updateHamtDirectory:Nxt,recreateHamtLevel:hpe,createShard:Pxt,toPrefix:aq,addLinksToHamtBucket:Dxt}=nq(),pm=qe(),Oxt=nn(),Lxt=Er().multihash,Fxt=gc(),Vxt=async(r,e)=>{if(!e.parentCid&&!e.parent)throw pm(new Error("No parent node or CID passed to addLink"),"EINVALIDPARENT");if(e.parentCid&&!sq.isCID(e.parentCid))throw pm(new Error("Invalid CID passed to addLink"),"EINVALIDPARENTCID");if(e.parent||(Tc(`Loading parent node ${e.parentCid}`),e.parent=await r.ipld.get(e.parentCid)),!e.cid)throw pm(new Error("No child cid passed to addLink"),"EINVALIDCHILDCID");if(!e.name)throw pm(new Error("No child name passed to addLink"),"EINVALIDCHILDNAME");if(sq.isCID(e.cid)||(e.cid=new sq(e.cid)),!e.size&&e.size!==0)throw pm(new Error("No child size passed to addLink"),"EINVALIDCHILDSIZE");let t=oq.unmarshal(e.parent.Data);return t.type==="hamt-sharded-directory"?(Tc("Adding link to sharded directory"),Kxt(r,e)):e.parent.Links.length>=e.shardSplitThreshold?(Tc("Converting directory to sharded directory"),Uxt(r,{...e,mtime:t.mtime,mode:t.mode})):(Tc(`Adding ${e.name} (${e.cid}) to regular directory`),zxt(r,e))},Uxt=async(r,e)=>{let t=await Pxt(r,e.parent.Links.map(i=>({name:i.Name,size:i.Tsize,cid:i.Hash})).concat({name:e.name,size:e.size,cid:e.cid}),e);return Tc(`Converted directory to sharded directory ${t.cid}`),t},zxt=async(r,e)=>{e.parent.rmLink(e.name),e.parent.addLink(new Bxt(e.name,e.size,e.cid));let t=oq.unmarshal(e.parent.Data);t.mtime&&(t.mtime=new Date,e.parent=new Cxt(t.marshal(),e.parent.Links));let i=Lxt.names[e.hashAlg],n=await r.ipld.put(e.parent,Oxt.DAG_PB,{cidVersion:e.cidVersion,hashAlg:i,onlyHash:!e.flush});return{node:e.parent,cid:n,size:e.parent.size}},Kxt=async(r,e)=>{let{shard:t,path:i}=await jxt(r,e),n=await Fxt(t.flush("",r.block)),s=await r.ipld.get(n.cid),o=e.parent.Links.find(c=>c.Name.substring(0,2)===i[0].prefix),a=s.Links.find(c=>c.Name.substring(0,2)===i[0].prefix);return o&&e.parent.rmLink(o.Name),e.parent.addLink(a),Nxt(r,e.parent.Links,i[0].bucket,e)},jxt=async(r,e)=>{let t={name:e.name,cid:e.cid,size:e.size},i=await hpe(e.parent.Links),n=oq.unmarshal(e.parent.Data),s=new Mxt({root:!0,dir:!0,parent:null,parentKey:null,path:"",dirty:!0,flat:!1,mode:n.mode},e);s._bucket=i,n.mtime&&(s.mtime=new Date);let o=await i._findNewBucketAndPos(t.name),a=Hxt(o);a[0].node=e.parent;let c=0;for(;c<a.length;){let u=a[c];c++;let l=u.node.Links.find(b=>b.Name.substring(0,2)===u.prefix);if(!l){Tc(`Link ${u.prefix}${t.name} will be added`),c=a.length;break}if(l.Name===`${u.prefix}${t.name}`){Tc(`Link ${u.prefix}${t.name} will be replaced`),c=a.length;break}if(l.Name.length>2){Tc(`Link ${l.Name} ${l.Hash} will be replaced with a subshard`),c=a.length;break}Tc(`Found subshard ${u.prefix}`);let d=await r.ipld.get(l.Hash);if(!a[c]){Tc(`Loaded new subshard ${u.prefix}`),await hpe(d.Links,i,u.bucket,parseInt(u.prefix,16));let b=await i._findNewBucketAndPos(t.name);a.push({bucket:b.bucket,prefix:aq(b.pos),node:d});break}let p=a[c];await Dxt(d.Links,p.bucket,i),p.node=d}return await s._bucket.put(t.name,{size:t.size,cid:t.cid}),{shard:s,path:a}},Hxt=r=>{let e=r.bucket,t=r.pos,i=[{bucket:e,prefix:aq(t)}];for(e=r.bucket._parent,t=r.bucket._posAtParent;e;)i.push({bucket:e,prefix:aq(t)}),t=e._posAtParent,e=e._parent;return i.reverse(),i};lpe.exports=Vxt});var th=h((nhr,dpe)=>{"use strict";var ppe=De()("ipfs:mfs:utils:update-tree"),Gxt=eh(),$xt={shardSplitThreshold:1e3},Wxt=async(r,e,t)=>{t=Object.assign({},$xt,t),ppe("Trail",e),e=e.slice().reverse();let i=0,n;for await(let o of r.ipld.getMany(e.map(a=>a.cid))){let a=e[i].cid,c=e[i].name;if(i++,!n){n={cid:a,name:c,size:o.size};continue}let u=await Gxt(r,{parent:o,name:n.name,cid:n.cid,size:n.size,flush:t.flush,shardSplitThreshold:t.shardSplitThreshold,hashAlg:t.hashAlg,cidVersion:t.cidVersion});n={cid:u.cid,name:c,size:u.size}}let{cid:s}=n;return ppe(`Final CID ${s}`),s};dpe.exports=Wxt});var rh=h((shr,bpe)=>{"use strict";var Yxt=De()("ipfs:mfs:utils:update-mfs-root"),{MFS_ROOT_KEY:Xxt}=pi(),Jxt=qe(),Zxt=async(r,e,t)=>{if(t&&t.signal&&t.signal.aborted)throw Jxt(new Error("Request aborted"),"ERR_ABORTED",{name:"Aborted"});return Yxt(`New MFS root will be ${e}`),await r.repo.datastore.put(Xxt,e.bytes),e};bpe.exports=Zxt});var gpe=h((ohr,ype)=>{"use strict";var Qxt=yn(),{DAGNode:ewt}=Nr(),twt=nn(),rwt=Er().multihash,iwt=async(r,e,t)=>{let i=rwt.names[t.hashAlg],n=new Qxt({type:e,mode:t.mode,mtime:t.mtime}),s=new ewt(n.marshal());return{cid:await r.ipld.put(s,twt.DAG_PB,{cidVersion:t.cidVersion,hashAlg:i,onlyHash:!t.flush}),node:s}};ype.exports=iwt});var T8=h((ahr,mpe)=>{"use strict";var bm=qe(),I8=De()("ipfs:mfs:mkdir"),nwt=Ea(),swt=gpe(),owt=_8(),awt=rh(),cwt=th(),uwt=eh(),fwt=eq(),lwt=hi().bind({ignoreUndefined:!0}),hwt=Ke(),dwt={parents:!1,hashAlg:"sha2-256",cidVersion:0,shardSplitThreshold:1e3,flush:!0,mode:null,mtime:null,signal:void 0};mpe.exports=r=>{async function e(t,i={}){let n=lwt(dwt,i);if(!t)throw new Error("no path given to Mkdir");if(t=t.trim(),t==="/"){if(n.parents)return;throw bm(new Error("cannot create directory '/': Already exists"),"ERR_INVALID_PATH")}if(t.substring(0,1)!=="/")throw bm(new Error("paths must start with a leading slash"),"ERR_INVALID_PATH");I8(`Creating ${t}`);let s=owt(t);if(s[0]==="ipfs")throw bm(new Error("path cannot have the prefix 'ipfs'"),"ERR_INVALID_PATH");let o=await fwt(r,n),a,c=[],u=await swt(r,"directory",n);for(let l=0;l<=s.length;l++){let d=s.slice(0,l),p=`/ipfs/${o}/${d.join("/")}`;try{if(a=await nwt(p,r.ipld),I8(`${p} existed`),I8(`${p} had children ${a.node.Links.map(b=>b.Name)}`),l===s.length){if(n.parents)return;throw bm(new Error("file already exists"),"ERR_ALREADY_EXISTS")}c.push({name:a.name,cid:a.cid})}catch(b){if(b.code==="ERR_NOT_FOUND"){if(l<s.length&&!n.parents)throw bm(new Error(`Intermediate directory path ${p} does not exist, use the -p flag to create it`),"ERR_NOT_FOUND");await pwt(r,d[d.length-1],u,c[c.length-1],c,n)}else throw b}}let f=await cwt(r,c,n);await awt(r,f,n)}return hwt(e)};var pwt=async(r,e,t,i,n,s)=>{I8(`Adding empty dir called ${e} to ${i.cid}`);let o=await uwt(r,{parent:i.node,parentCid:i.cid,size:t.node.size,cid:t.cid,name:e,hashAlg:s.hashAlg,cidVersion:s.cidVersion,flush:s.flush});n[n.length-1].cid=o.cid,n.push({name:e,cid:t.cid})}});var R8=h((chr,xpe)=>{"use strict";var bwt=Ic(),ywt=hi().bind({ignoreUndefined:!0});async function gwt(r,e,t){let i=[],n;for(let s=0;s<e.length;s++)typeof e[s]=="string"||e[s]instanceof String?i.push(e[s].trim()):s===e.length-1&&(n=e[s]);return n=ywt(t,n),{sources:await bwt(r,i,n),options:n}}xpe.exports=gwt});var vpe=h((uhr,wpe)=>{"use strict";var mwt=R8();async function xwt(r,e,t){let{sources:i,options:n}=await mwt(r,e,t);return{destination:i.pop(),sources:i,options:n}}wpe.exports=xwt});var B8=h((fhr,Epe)=>{"use strict";var _pe=T8(),wwt=dm(),q8=De()("ipfs:mfs:cp"),ym=qe(),Spe=th(),kpe=rh(),vwt=eh(),Ape=Ic(),Ewt=vpe(),_wt=d1(),Swt=Ke(),kwt={parents:!1,flush:!0,hashAlg:"sha2-256",cidVersion:0,shardSplitThreshold:1e3,signal:void 0};Epe.exports=function(e){async function t(...i){let{sources:n,destination:s,options:o}=await Ewt(e,i,kwt);if(!n.length)throw ym(new Error("Please supply at least one source"),"ERR_INVALID_PARAMS");o.parents=o.p||o.parents;let a=n.find(l=>!l.exists);if(a)throw ym(new Error(`${a.path} does not exist`),"ERR_INVALID_PARAMS");let c=Ipe(s);if(s.exists){if(q8("Destination exists"),n.length===1&&!c)throw ym(new Error("directory already has entry by that name"),"ERR_ALREADY_EXISTS")}else if(q8("Destination does not exist"),n.length>1){if(!o.parents)throw ym(new Error("destination did not exist, pass -p to create intermediate directories"),"ERR_INVALID_PARAMS");await _pe(e)(s.path,o),s=await Ape(e,s.path,o)}else if(s.parts.length>1){let l=`/${s.parts.slice(0,-1).join("/")}`;try{await wwt(e)(l,o)}catch(d){if(d.code!=="ERR_NOT_FOUND")throw d;if(!o.parents)throw ym(new Error("destination did not exist, pass -p to create intermediate directories"),"ERR_INVALID_PARAMS");await _pe(e)(l,o),s=await Ape(e,s.path,o)}}let u=Ipe(s)?s.mfsPath:s.mfsDirectory,f=await _wt(e,u);if(n.length===1){let l=n.pop(),d=c?l.name:s.name;return q8(`Only one source, copying to destination ${c?"directory":"file"} ${d}`),Awt(e,l,d,f,o)}return q8("Multiple sources, wrapping in a directory"),Iwt(e,n,s,f,o)}return Swt(t)};var Ipe=r=>r.unixfs&&r.unixfs.type&&r.unixfs.type.includes("directory"),Awt=async(r,e,t,i,n)=>{let s=i.pop();s=await Tpe(r,e,t,s,n),i.push(s);let o=await Spe(r,i,n);await kpe(r,o,n)},Iwt=async(r,e,t,i,n)=>{for(let o=0;o<e.length;o++){let a=e[o];t=await Tpe(r,a,a.name,t,n)}i[i.length-1]=t;let s=await Spe(r,i,n);await kpe(r,s,n)},Tpe=async(r,e,t,i,n)=>{let s=await r.repo.blocks.get(e.cid),{node:o,cid:a}=await vwt(r,{parentCid:i.cid,size:s.data.length,cid:e.cid,name:t,hashAlg:n.hashAlg,cidVersion:n.cidVersion,flush:n.flush});return i.node=o,i.cid=a,i.size=o.size,i}});var Bpe=h((lhr,Rpe)=>{"use strict";var{DAGNode:Twt,DAGLink:Rwt}=Nr(),qwt=ot(),d0=De()("ipfs:mfs:core:utils:remove-link"),Bwt=yn(),{generatePath:Cwt,updateHamtDirectory:cq}=nq(),C8=qe(),Mwt=nn(),Nwt=Er().multihash,Owt=async(r,e)=>{if(!e.parentCid&&!e.parent)throw C8(new Error("No parent node or CID passed to removeLink"),"EINVALIDPARENT");if(e.parentCid&&!qwt.isCID(e.parentCid))throw C8(new Error("Invalid CID passed to removeLink"),"EINVALIDPARENTCID");if(e.parent||(d0(`Loading parent node ${e.parentCid}`),e.parent=await r.ipld.get(e.parentCid)),!e.name)throw C8(new Error("No child name passed to removeLink"),"EINVALIDCHILDNAME");return Bwt.unmarshal(e.parent.Data).type==="hamt-sharded-directory"?(d0(`Removing ${e.name} from sharded directory`),Dwt(r,e)):(d0(`Removing link ${e.name} regular directory`),Pwt(r,e))},Pwt=async(r,e)=>{let t=Nwt.names[e.hashAlg];e.parent.rmLink(e.name);let i=await r.ipld.put(e.parent,Mwt.DAG_PB,{cidVersion:e.cidVersion,hashAlg:t});return d0(`Updated regular directory ${i}`),{node:e.parent,cid:i}},Dwt=async(r,e)=>{let{rootBucket:t,path:i}=await Cwt(r,e.name,e.parent);await t.del(e.name);let{node:n}=await qpe(r,i,{name:e.name,cid:e.cid,size:e.size,hashAlg:e.hashAlg,cidVersion:e.cidVersion,flush:e.flush},e);return cq(r,n.Links,t,e)},qpe=async(r,e,t,i)=>{let{bucket:n,prefix:s,node:o}=e.pop(),a=o.Links.find(l=>l.Name.substring(0,2)===s);if(!a)throw C8(new Error(`No link found with prefix ${s} for file ${t.name}`),"ERR_NOT_FOUND");if(a.Name===`${s}${t.name}`)return d0(`Removing existing link ${a.Name}`),o.rmLink(a.Name),await n.del(t.name),cq(r,o.Links,n,i);d0(`Descending into sub-shard ${a.Name} for ${s}${t.name}`);let c=await qpe(r,e,t,i),u=s;c.node.Links.length===1&&(d0(`Removing subshard for ${s}`),c.cid=c.node.Links[0].Hash,c.node=c.node.Links[0],u=`${s}${c.node.Name.substring(2)}`),d0(`Updating shard ${s} with name ${u}`);let f=Twt.isDAGNode(c.node)?c.node.size:c.node.Tsize;return Lwt(r,n,o,s,u,f,c.cid,i)},Lwt=(r,e,t,i,n,s,o,a)=>(t.rmLink(i),t.addLink(new Rwt(n,s,o)),cq(r,t.Links,e,a));Rpe.exports=Owt});var N8=h((hhr,Cpe)=>{"use strict";var M8=qe(),Fwt=th(),Uwt=rh(),zwt=R8(),Kwt=Bpe(),Vwt=Ic(),jwt=d1(),Hwt=Ke(),Gwt={recursive:!1,cidVersion:0,hashAlg:"sha2-256",flush:!0,signal:void 0};Cpe.exports=r=>{async function e(...t){let{sources:i,options:n}=await zwt(r,t,Gwt);if(!i.length)throw M8(new Error("Please supply at least one path to remove"),"ERR_INVALID_PARAMS");i.forEach(s=>{if(s.path==="/")throw M8(new Error("Cannot delete root"),"ERR_INVALID_PARAMS")});for(let s of i)await $wt(r,s.path,n)}return Hwt(e)};var $wt=async(r,e,t)=>{let i=await Vwt(r,e,t),n=await jwt(r,i.mfsPath),s=n[n.length-1];n.pop();let o=n[n.length-1];if(!o)throw M8(new Error(`${e} does not exist`),"ERR_NOT_FOUND");if(s.type==="directory"&&!t.recursive)throw M8(new Error(`${e} is a directory, use -r to remove directories`),"ERR_WAS_DIR");let{cid:a}=await Kwt(r,{parentCid:o.cid,name:s.name,hashAlg:t.hashAlg,cidVersion:t.cidVersion,flush:t.flush});o.cid=a;let c=await Fwt(r,n,t);await Uwt(r,c,t)}});var Lpe=h((dhr,Mpe)=>{"use strict";var Wwt=hi().bind({ignoreUndefined:!0}),Ywt=Ic(),Xwt=De()("ipfs:mfs:touch"),Jwt=qe(),Npe=yn(),Zwt=d1(),Qwt=eh(),e4t=th(),t4t=rh(),{DAGNode:Ppe}=Nr(),r4t=nn(),i4t=Er().multihash,{pipe:n4t}=yi(),s4t=d8(),o4t=Ea(),a4t=gc(),c4t=B8(),u4t=N8(),f4t=Jl(),l4t=Ke(),Dpe={flush:!0,shardSplitThreshold:1e3,hashAlg:"sha2-256",cidVersion:0,recursive:!1,signal:void 0};function h4t(r,e,t){let i=0;return(r.includes("x")||r.includes("X")&&(t||e&1||e&8||e&64))&&(i+=1),r.includes("w")&&(i+=2),r.includes("r")&&(i+=4),i}function d4t(r,e){let t=0;return r.includes("u")&&(t+=e<<6),r.includes("g")&&(t+=e<<3),r.includes("o")&&(t+=e),t}function p4t(r,e,t){return e.includes("t")&&(t+=parseInt("1000",8)),e.includes("s")&&(r.includes("u")&&(t+=parseInt("4000",8)),r.includes("g")&&(t+=parseInt("2000",8))),t}function b4t(r,e,t){e||(e=0);let i=r.match(/^(u?g?o?a?)(-?\+?=?)?(r?w?x?X?s?t?)$/);if(!i)throw new Error(`Invalid file mode: ${r}`);let[,n,s,o]=i;(n==="a"||!n)&&(n="ugo");let a=h4t(o,e,t);if(a=d4t(n,a),a=p4t(n,o,a),s==="=")return n.includes("u")&&(e=e&parseInt("7077",8),e=e|a),n.includes("g")&&(e=e&parseInt("7707",8),e=e|a),n.includes("o")&&(e=e&parseInt("7770",8),e=e|a),e;if(s==="+")return a|e;if(s==="-")return a^e}function Ope(r,e){return r instanceof String&&(r=r.toString()),typeof r=="string"&&(r.match(/^\d+$/g)?r=parseInt(r,8):r=r.split(",").reduce((t,i)=>b4t(i,t,e.isDirectory()),e.mode)),r}Mpe.exports=r=>{async function e(t,i,n={}){let s=Wwt(Dpe,n);Xwt(`Fetching stats for ${t}`);let{cid:o,mfsDirectory:a,name:c}=await Ywt(r,t,s);if(o.codec!=="dag-pb")throw Jwt(new Error(`${t} was not a UnixFS node`),"ERR_NOT_UNIXFS");if(s.recursive){let w=await n4t(async function*(){for await(let A of o4t.recursive(o,r.ipld)){let I=await r.ipld.get(A.cid);A.unixfs.mode=Ope(i,A.unixfs),I=new Ppe(A.unixfs.marshal(),I.Links),yield{path:A.path,content:I}}},A=>s4t(A,r.block,{...s,pin:!1,dagBuilder:async function*(I,F,V){for await(let P of I)yield async function(){return{cid:await f4t(P.content.serialize(),F,V),path:P.path,unixfs:Npe.unmarshal(P.content.Data),node:P.content}}}}),A=>a4t(A));await u4t(r)(t,s),await c4t(r)(`/ipfs/${w.cid}`,t,s);return}let u=await r.ipld.get(o),f=Npe.unmarshal(u.Data);f.mode=Ope(i,f),u=new Ppe(f.marshal(),u.Links);let l=await r.ipld.put(u,r4t.DAG_PB,{cidVersion:o.version,hashAlg:i4t.names[s.hashAlg||Dpe.hashAlg],onlyHash:!s.flush}),d=await Zwt(r,a),p=d[d.length-1],b=await r.ipld.get(p.cid),g=await Qwt(r,{parent:b,name:c,cid:l,size:u.serialize().length,flush:s.flush,hashAlg:s.hashAlg,cidVersion:o.version});p.cid=g.cid;let m=await e4t(r,d,s);await t4t(r,m,s)}return l4t(e)}});var Upe=h((phr,Fpe)=>{"use strict";var y4t=dm(),g4t=Ke(),m4t=hi().bind({ignoreUndefined:!0}),x4t={timeout:void 0,signal:void 0};Fpe.exports=r=>{async function e(t,i={}){i=m4t(x4t,i);let{cid:n}=await y4t(r)(t,i);return n}return g4t(e)}});var Kpe=h((bhr,zpe)=>{"use strict";var w4t=R8(),v4t=B8(),E4t=N8(),_4t=Ke(),S4t={parents:!1,recursive:!1,flush:!0,cidVersion:0,hashAlg:"sha2-256",shardSplitThreshold:1e3,signal:void 0};zpe.exports=r=>{async function e(...t){let{sources:i,options:n}=await w4t(r,t,S4t),s=i.map(a=>a.path).concat(n),o=i.slice(0,-1).map(a=>a.path).concat(Object.assign(n,{recursive:!0}));await v4t(r).apply(null,s),await E4t(r).apply(null,o)}return _4t(e)}});var Wpe=h((yhr,Vpe)=>{"use strict";var k4t=hi().bind({ignoreUndefined:!0}),A4t=Ic(),I4t=De()("ipfs:mfs:touch"),T4t=qe(),jpe=yn(),R4t=d1(),q4t=eh(),B4t=th(),C4t=rh(),{DAGNode:Hpe}=Nr(),Gpe=nn(),$pe=Er().multihash,M4t=Ke(),N4t={mtime:void 0,flush:!0,shardSplitThreshold:1e3,cidVersion:0,hashAlg:"sha2-256",signal:void 0};Vpe.exports=r=>{async function e(t,i={}){let n=k4t(N4t,i);n.mtime=n.mtime||new Date,I4t(`Touching ${t} mtime: ${n.mtime}`);let{cid:s,mfsDirectory:o,name:a,exists:c}=await A4t(r,t,n),u,f,l=n.cidVersion;if(c){if(s.codec!=="dag-pb")throw T4t(new Error(`${t} was not a UnixFS node`),"ERR_NOT_UNIXFS");l=s.version,u=await r.ipld.get(s);let w=jpe.unmarshal(u.Data);w.mtime=n.mtime,u=new Hpe(w.marshal(),u.Links),f=await r.ipld.put(u,Gpe.DAG_PB,{cidVersion:s.version,hashAlg:$pe.names["sha2-256"],onlyHash:!n.flush})}else{let w=new jpe({type:"file",mtime:n.mtime});u=new Hpe(w.marshal()),f=await r.ipld.put(u,Gpe.DAG_PB,{cidVersion:n.cidVersion,hashAlg:$pe.names["sha2-256"],onlyHash:!n.flush})}let d=await R4t(r,o),p=d[d.length-1],b=await r.ipld.get(p.cid),g=await q4t(r,{parent:b,name:a,cid:f,size:u.serialize().length,flush:n.flush,shardSplitThreshold:n.shardSplitThreshold,hashAlg:"sha2-256",cidVersion:l});p.cid=g.cid;let m=await B4t(r,d,n);await C4t(r,m,n)}return M4t(e)}});var Zpe=h((ghr,Ype)=>{"use strict";var Xpe=qe(),gm=De()("ipfs:mfs:utils:to-async-iterator"),{MFS_MAX_CHUNK_SIZE:Jpe}=pi(),P4t=pr(),D4t=r=>{if(!r)throw Xpe(new Error("paths must start with a leading slash"),"ERR_INVALID_PATH");if((typeof r=="string"||r instanceof String)&&(gm("Content was a string"),r=P4t(r.toString())),r.length)return gm("Content was array-like"),{[Symbol.asyncIterator]:function*(){yield r}};if(r[Symbol.asyncIterator])return gm("Content was an async iterator"),r;if(r[Symbol.iterator])return gm("Content was an iterator"),r;if(globalThis.Blob&&r instanceof globalThis.Blob){gm("Content was an HTML5 Blob");let e=0,t={next:()=>e>r.size?{done:!0}:new Promise((i,n)=>{let s=r.slice(e,Jpe);e+=Jpe;let o=new globalThis.FileReader,a=c=>{if(o.removeEventListener("loadend",a,!1),c.error)return n(c.error);i({done:!1,value:new Uint8Array(o.result)})};o.addEventListener("loadend",a),o.readAsArrayBuffer(s)})};return{[Symbol.asyncIterator]:()=>t}}throw Xpe(new Error(`Don't know how to convert ${r} into an async iterator`),"ERR_INVALID_PARAMS")};Ype.exports=D4t});var i1e=h((mhr,Qpe)=>{"use strict";var Rc=De()("ipfs:mfs:write"),O4t=d8(),L4t=dm(),F4t=T8(),U4t=eh(),z4t=hi().bind({ignoreUndefined:!0}),e1e=QR(),K4t=Zpe(),uq=Ic(),V4t=_8(),j4t=d1(),H4t=th(),G4t=rh(),fq=qe(),{MFS_MAX_CHUNK_SIZE:$4t}=pi(),W4t=gc(),Y4t=Ke(),X4t={offset:0,length:void 0,create:!1,truncate:!1,rawLeaves:!1,reduceSingleLeafToSelf:!1,cidVersion:0,hashAlg:"sha2-256",parents:!1,progress:()=>{},strategy:"trickle",flush:!0,leafType:"raw",shardSplitThreshold:1e3,mode:void 0,mtime:void 0,signal:void 0};Qpe.exports=r=>{async function e(t,i,n={}){n=z4t(X4t,n);let s,o,a;if(Rc("Reading source, destination and parent"),await e1e().readLock(async()=>{s=await K4t(i),o=await uq(r,t,n),a=await uq(r,o.mfsDirectory,n)})(),Rc("Read source, destination and parent"),!n.parents&&!a.exists)throw fq(new Error("directory does not exist"),"ERR_NO_EXIST");if(!n.create&&!o.exists)throw fq(new Error("file does not exist"),"ERR_NO_EXIST");return J4t(r,t,s,o,n)}return Y4t(e)};var J4t=async(r,e,t,i,n)=>{let s=await Z4t(r,t,i,n);await e1e().writeLock(async()=>{let o=V4t(e),a=o.pop(),c=!1;try{await L4t(r)(`/${o.join("/")}`,n),c=!0}catch(g){if(g.code!=="ERR_NOT_FOUND")throw g}c||await F4t(r)(`/${o.join("/")}`,n);let u=await uq(r,e,n),f=await j4t(r,u.mfsDirectory),l=f[f.length-1];if(!l.type.includes("directory"))throw fq(new Error(`cannot write to ${l.name}: Not a directory`),"ERR_NOT_A_DIRECTORY");let d=await r.ipld.get(l.cid),p=await U4t(r,{parent:d,name:a,cid:s.cid,size:s.size,flush:n.flush,shardSplitThreshold:n.shardSplitThreshold,hashAlg:n.hashAlg,cidVersion:n.cidVersion});l.cid=p.cid;let b=await H4t(r,f,n);await G4t(r,b,n)})()},Z4t=async(r,e,t,i)=>{t.exists?Rc(`Overwriting file ${t.cid} offset ${i.offset} length ${i.length}`):Rc(`Writing file offset ${i.offset} length ${i.length}`);let n=[];if(i.offset>0)if(t.unixfs){if(Rc(`Writing first ${i.offset} bytes of original file`),n.push(()=>t.content({offset:0,length:i.offset})),t.unixfs.fileSize()<i.offset){let u=i.offset-t.unixfs.fileSize();Rc(`Writing zeros for extra ${u} bytes`),n.push(r1e(u))}}else Rc(`Writing zeros for first ${i.offset} bytes`),n.push(r1e(i.offset));n.push(t1e(e,i.length));let s=e6t(Q4t(n),u=>{if(t.unixfs&&!i.truncate){let f=t.unixfs.fileSize();if(f>u)return Rc(`Writing last ${f-u} of ${f} bytes from original file starting at offset ${u}`),t.content({offset:u});Rc("Not writing last bytes from original file")}return{[Symbol.asyncIterator]:async function*(){}}}),o;i.mode!==void 0&&i.mode!==null?o=i.mode:t&&t.unixfs&&(o=t.unixfs.mode);let a;i.mtime!==void 0&&i.mtine!==null?a=i.mtime:t&&t.unixfs&&(a=t.unixfs.mtime);let c=await W4t(O4t([{content:s,mode:o,mtime:a}],r.block,{progress:i.progress,hashAlg:i.hashAlg,cidVersion:i.cidVersion,strategy:i.strategy,rawLeaves:i.rawLeaves,reduceSingleLeafToSelf:i.reduceSingleLeafToSelf,leafType:i.leafType,pin:!1}));return Rc(`Wrote ${c.cid}`),{cid:c.cid,size:c.size}},t1e=(r,e)=>async function*(){let i=0;for await(let n of r){if(i+=n.length,i>e){yield n.slice(0,e-i);return}yield n}},r1e=(r,e=$4t)=>{let t=new Uint8Array(e),i={[Symbol.asyncIterator]:function*(){for(;;)yield t.slice()}};return t1e(i,r)},Q4t=async function*(r){for(let e=0;e<r.length;e++)yield*r[e]()},e6t=async function*(r,e){let t=0;for await(let i of r)t+=i.length,yield i;for await(let i of e(t))t+=i.length,yield i}});var o1e=h((xhr,n1e)=>{"use strict";var t6t=Ea(),r6t=hi().bind({ignoreUndefined:!0}),i6t=Ic(),s1e=qe(),n6t=Ke(),s6t={offset:0,length:Infinity,signal:void 0};n1e.exports=r=>{function e(t,i={}){return i=r6t(s6t,i),{[Symbol.asyncIterator]:async function*(){let s=await i6t(r,t,i),o=await t6t(s.mfsPath,r.ipld);if(o.unixfs.type!=="file")throw s1e(new Error(`${t} was not a file`),"ERR_NOT_FILE");if(!o.content)throw s1e(new Error(`Could not load content stream from ${t}`),"ERR_NO_CONTENT");for await(let a of o.content({offset:i.offset,length:i.length}))yield a}}}return n6t(e)}});var u1e=h((whr,a1e)=>{"use strict";var o6t=Ea(),a6t=Ic(),c6t=Ke(),c1e=r=>{let e="file",t=r.node.size||r.node.length,i,n;r.unixfs&&(t=r.unixfs.fileSize(),e=r.unixfs.type,r.unixfs.type==="hamt-sharded-directory"&&(e="directory"),i=r.unixfs.mode,n=r.unixfs.mtime);let s={cid:r.cid,name:r.name,type:e,size:t};return n!==void 0&&(s.mtime=n),i!==void 0&&(s.mode=i),s};a1e.exports=r=>{async function*e(t,i={}){let n=await a6t(r,t,i),s=await o6t(n.mfsPath,r.ipld);if(!s.unixfs||!s.unixfs.type.includes("directory")){yield c1e(s);return}for await(let o of s.content(i))yield c1e(o)}return c6t(e)}});var p1e=h((vhr,f1e)=>{"use strict";var u6t=QR(),l1e=$f(),f6t={stat:dm()},l6t={chmod:Lpe(),cp:B8(),flush:Upe(),mkdir:T8(),mv:Kpe(),rm:N8(),touch:Wpe()},h1e={write:i1e(),read:o1e(),ls:u1e()},d1e=({options:r,mfs:e,operations:t,lock:i})=>{Object.keys(t).forEach(n=>{e[n]=i(t[n](r))})},h6t={repoOwner:!0,ipld:null,repo:null};function d6t(r){let{repoOwner:e}=Object.assign({},h6t||{},r);r.repo={blocks:r.blocks,datastore:r.datastore};let t=u6t(e),i=o=>t.readLock(o),n=o=>t.writeLock(o),s={};return d1e({options:r,mfs:s,operations:f6t,lock:i}),d1e({options:r,mfs:s,operations:l6t,lock:n}),Object.keys(h1e).forEach(o=>{s[o]=h1e[o](r)}),s}f1e.exports=({ipld:r,block:e,blockService:t,repo:i,preload:n,options:s})=>{let o=d6t({ipld:r,block:e,blocks:t,datastore:i.root,repoOwner:s.repoOwner}),a=c=>(...u)=>{let f=u.filter(l=>l1e.ipfsPath(l)||l1e.cid(l));if(f.length){let l=u[u.length-1];l&&l.preload!==!1&&f.forEach(d=>n(d))}return c(...u)};return{...o,chmod:o.chmod,cp:a(o.cp),mkdir:o.mkdir,stat:a(o.stat),rm:o.rm,read:a(o.read),touch:o.touch,write:o.write,mv:a(o.mv),flush:o.flush,ls:a(async function*(...c){for await(let u of o.ls(...c))yield{...u,size:u.size||0}})}}});var y1e=h((Ehr,b1e)=>{"use strict";var p6t=Ke();b1e.exports=({keychain:r})=>p6t((t,i)=>r.exportKey(t,i))});var m1e=h((_hr,g1e)=>{"use strict";var b6t=Ke();g1e.exports=({keychain:r})=>b6t((t,i={})=>r.createKey(t,i.type||"rsa",i.size||2048))});var w1e=h((Shr,x1e)=>{"use strict";var y6t=Ke();x1e.exports=({keychain:r})=>y6t((t,i,n)=>r.importKey(t,i,n))});var E1e=h((khr,v1e)=>{"use strict";var g6t=Ke();v1e.exports=({keychain:r})=>g6t(t=>r.findKeyByName(t))});var S1e=h((Ahr,_1e)=>{"use strict";var m6t=Ke();_1e.exports=({keychain:r})=>m6t(()=>r.listKeys())});var A1e=h((Ihr,k1e)=>{"use strict";var x6t=Ke();k1e.exports=({keychain:r})=>x6t(async(t,i)=>{let n=await r.renameKey(t,i);return{was:t,now:n.name,id:n.id,overwrite:!1}})});var T1e=h((Thr,I1e)=>{"use strict";var w6t=Ke();I1e.exports=({keychain:r})=>w6t(t=>r.removeKey(t))});var B1e=h((Rhr,R1e)=>{"use strict";var v6t=y1e(),E6t=m1e(),_6t=w1e(),S6t=E1e(),k6t=S1e(),A6t=A1e(),I6t=T1e(),q1e=class{constructor({keychain:e}){this.gen=E6t({keychain:e}),this.list=k6t({keychain:e}),this.rm=I6t({keychain:e}),this.rename=A6t({keychain:e}),this.export=v6t({keychain:e}),this.import=_6t({keychain:e}),this.info=S6t({keychain:e})}};R1e.exports=q1e});var p0=h((qhr,C1e)=>{"use strict";var M1e=ot(),N1e=qe(),T6t=Ke(),R6t=pr();function q6t(r,e){if(typeof r=="string")return e==="base58"||!e?r:R6t(r,e);if(r instanceof Uint8Array)return r;if(M1e.isCID(r))return r.bytes;throw new Error("unsupported multihash")}C1e.exports=({ipld:r,preload:e})=>{async function t(i,n={}){let s,o;try{s=q6t(i,n.enc)}catch(a){throw N1e(a,"ERR_INVALID_MULTIHASH")}try{o=new M1e(s)}catch(a){throw N1e(a,"ERR_INVALID_CID")}return n.cidVersion===1&&(o=o.toV1()),n.preload!==!1&&e(o),r.get(o,{signal:n.signal})}return T6t(t)}});var D1e=h((Bhr,P1e)=>{"use strict";var B6t=Ke();P1e.exports=({ipld:r,preload:e})=>{let t=p0()({ipld:r,preload:e});async function i(n,s){return(await t(n,s)).Data}return B6t(i)}});var F1e=h((Chr,O1e)=>{"use strict";var C6t=Nr(),L1e=C6t.DAGLink,lq=ot(),M6t=Ke();function hq(r,e=[]){for(let t in r){let i=r[t];if(t==="/"&&Object.keys(r).length===1)try{e.push(new L1e("",0,new lq(i)));continue}catch(n){}if(lq.isCID(i)){e.push(new L1e("",0,i));continue}Array.isArray(i)&&hq(i,e),i&&typeof i=="object"&&hq(i,e)}return e}O1e.exports=({dag:r})=>{async function e(t,i={}){let n=new lq(t),s=await r.get(n,i);if(n.codec==="raw")return[];if(n.codec==="dag-pb")return s.value.Links;if(n.codec==="dag-cbor")return hq(s);throw new Error(`Cannot resolve links from codec ${n.codec}`)}return M6t(e)}});var K1e=h((Mhr,U1e)=>{"use strict";var N6t=Nr(),P6t=N6t.DAGNode,z1e=nn(),D6t=yn(),O6t=Ke();U1e.exports=({ipld:r,preload:e})=>{async function t(i={}){let n;if(i.template)if(i.template==="unixfs-dir")n=new D6t("directory").marshal();else throw new Error("unknown template");else n=new Uint8Array(0);let s=new P6t(n),o=await r.put(s,z1e.DAG_PB,{cidVersion:0,hashAlg:z1e.SHA2_256,signal:i.signal});return i.preload!==!1&&e(o),o}return O6t(t)}});var p1=h((Nhr,V1e)=>{"use strict";var dq=Nr(),P8=dq.DAGNode,L6t=dq.DAGLink,F6t=Er().multihash,j1e=nn(),U6t=Ke(),z6t=dr(),K6t=pr();function H6t(r,e){switch(e){case"json":return V6t(r);case"protobuf":return j6t(r);default:throw new Error(`unkown encoding: ${e}`)}}function V6t(r){let e,t;try{let i=JSON.parse(z6t(r));t=(i.Links||[]).map(n=>new L6t(n.Name||n.name,n.Size||n.size,F6t.fromB58String(n.Hash||n.hash||n.multihash))),e=K6t(i.Data)}catch(i){throw new Error("failed to parse JSON: "+i)}return new P8(e,t)}function j6t(r){return dq.util.deserialize(r)}V1e.exports=({ipld:r,gcLock:e,preload:t})=>{async function i(n,s={}){let o=s.enc,a;if(n instanceof Uint8Array)o?a=await H6t(n,o):a=new P8(n);else if(P8.isDAGNode(n))a=n;else if(typeof n=="object")a=new P8(n.Data,n.Links);else throw new Error("obj not recognized");let c=await e.readLock();try{let u=await r.put(a,j1e.DAG_PB,{cidVersion:0,hashAlg:j1e.SHA2_256});return s.preload!==!1&&t(u),u}finally{c()}}return U6t(i)}});var $1e=h((Phr,H1e)=>{"use strict";var G1e=Nr(),G6t=Ke();H1e.exports=({ipld:r,preload:e})=>{let t=p0()({ipld:r,preload:e});async function i(n,s={}){let o=await t(n,s),a=G1e.util.serialize(o),c=await G1e.util.cid(a,{cidVersion:0}),u=a.length,f=o.Links.reduce((l,d)=>l+d.Tsize,0);return{Hash:c.toBaseEncodedString(),NumLinks:o.Links.length,BlockSize:u,LinksSize:u-o.Data.length,DataSize:o.Data.length,CumulativeSize:u+f}}return G6t(i)}});var Y1e=h((Dhr,W1e)=>{"use strict";var $6t=Ke();W1e.exports=({ipld:r,gcLock:e,preload:t})=>{let i=p0()({ipld:r,preload:t}),n=p1()({ipld:r,gcLock:e,preload:t});async function s(o,a,c){let u=await i(o,c);return u.addLink(a),n(u,c)}return $6t(s)}});var J1e=h((Ohr,X1e)=>{"use strict";var{DAGNode:W6t}=Nr(),Y6t=Ke(),X6t=Gs();X1e.exports=({ipld:r,gcLock:e,preload:t})=>{let i=p0()({ipld:r,preload:t}),n=p1()({ipld:r,gcLock:e,preload:t});async function s(o,a,c){let u=await i(o,c),f=X6t([u.Data,a]);return n(new W6t(f,u.Links),c)}return Y6t(s)}});var Q1e=h((Lhr,Z1e)=>{"use strict";var J6t=Ke();Z1e.exports=({ipld:r,gcLock:e,preload:t})=>{let i=p0()({ipld:r,preload:t}),n=p1()({ipld:r,gcLock:e,preload:t});async function s(o,a,c){let u=await i(o,c);return u.rmLink(a.Name||a.name),n(u,c)}return J6t(s)}});var tbe=h((Fhr,ebe)=>{"use strict";var{DAGNode:Z6t}=Nr(),Q6t=Ke();ebe.exports=({ipld:r,gcLock:e,preload:t})=>{let i=p0()({ipld:r,preload:t}),n=p1()({ipld:r,gcLock:e,preload:t});async function s(o,a,c){let u=await i(o,c);return n(new Z6t(a,u.Links),c)}return Q6t(s)}});var nbe=h((Uhr,rbe)=>{"use strict";var evt=Y1e(),tvt=J1e(),rvt=Q1e(),ivt=tbe(),ibe=class{constructor({ipld:e,preload:t,gcLock:i}){this.addLink=evt({ipld:e,preload:t,gcLock:i}),this.appendData=tvt({ipld:e,preload:t,gcLock:i}),this.rmLink=rvt({ipld:e,preload:t,gcLock:i}),this.setData=ivt({ipld:e,preload:t,gcLock:i})}};rbe.exports=ibe});var abe=h((zhr,sbe)=>{"use strict";var nvt=D1e(),svt=p0(),ovt=F1e(),avt=K1e(),cvt=p1(),uvt=$1e(),fvt=nbe(),obe=class{constructor({ipld:e,preload:t,dag:i,gcLock:n}){this.data=nvt({ipld:e,preload:t}),this.get=svt({ipld:e,preload:t}),this.links=ovt({dag:i}),this.new=avt({ipld:e,preload:t}),this.put=cvt({ipld:e,preload:t,gcLock:n}),this.stat=uvt({ipld:e,preload:t}),this.patch=new fvt({ipld:e,preload:t,gcLock:n})}};sbe.exports=obe});var lbe=h((Khr,cbe)=>{"use strict";var ube=ot(),mm=De()("ipfs:repo:gc"),{MFS_ROOT_KEY:lvt}=pi(),hvt=Ke(),{Errors:dvt}=ur(),pvt=dvt.notFoundError().code,{parallelMerge:bvt,transform:yvt,map:gvt}=f0(),fbe=kf(),mvt=256;cbe.exports=({gcLock:r,pin:e,refs:t,repo:i})=>{async function*n(s={}){let o=Date.now();mm("Creating set of marked blocks");let a=await r.writeLock();try{let c=await xvt({pin:e,refs:t,repo:i}),u=i.blocks.query({keysOnly:!0});yield*wvt({repo:i},c,u),mm(`Complete (${Date.now()-o}ms)`)}finally{a()}}return hvt(n)};async function xvt({pin:r,refs:e,repo:t}){let i=gvt(({cid:o})=>o,r.ls()),n=async function*(){let o;try{o=await t.root.get(lvt)}catch(c){if(c.code===pvt){mm("No blocks in MFS");return}throw c}let a=new ube(o);yield a;for await(let{ref:c}of e(a,{recursive:!0}))yield new ube(c)}(),s=new Set;for await(let o of bvt(i,n))s.add(fbe.encode("base32",o.multihash).toString());return s}async function*wvt({repo:r},e,t){let i=0,n=0,s=async o=>{i++;try{let a=fbe.encode("base32",o.multihash).toString();if(e.has(a))return null;let c={cid:o};try{await r.blocks.delete(o),n++}catch(u){c.err=new Error(`Could not delete block with CID ${o}: ${u.message}`)}return c}catch(a){let c=`Could delete block with CID ${o}`;return mm(c,a),{err:new Error(c+`: ${a.message}`)}}};for await(let o of yvt(mvt,s,t))o&&(yield o);mm(`Marked set has ${e.size} unique blocks. Blockstore has ${i} blocks. Deleted ${n} blocks.`)}});var pq=h((Vhr,hbe)=>{"use strict";var vvt=Ke();hbe.exports=({repo:r})=>{async function e(t){let i=await r.stat(t);return{numObjects:i.numObjects,repoSize:i.repoSize,repoPath:i.repoPath,version:i.version.toString(),storageMax:i.storageMax}}return vvt(e)}});var bq=h((jhr,dbe)=>{dbe.exports=Evt;function Evt(r,e,t){if(!r)return t;var i,n;if(Array.isArray(e)&&(i=e.slice(0)),typeof e=="string"&&(i=e.split(".")),typeof e=="symbol"&&(i=[e]),!Array.isArray(i))throw new Error("props arg must be an array, a string or a symbol");for(;i.length;)if(n=i.shift(),!r||(r=r[n],r===void 0))return t;return r}});var D8=h((Hhr,pbe)=>{"use strict";var{TextEncoder:_vt,TextDecoder:Svt}=ct(),kvt=new Svt,Avt=r=>kvt.decode(r),Ivt=new _vt,Tvt=r=>Ivt.encode(r);function Rvt(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}pbe.exports={decodeText:Avt,encodeText:Tvt,concat:Rvt}});var gbe=h((Ghr,bbe)=>{"use strict";var{encodeText:qvt}=D8(),ybe=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=qvt(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};bbe.exports=ybe});var xbe=h(($hr,mbe)=>{"use strict";var Bvt=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},Cvt=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},Mvt=r=>e=>({encode(t){return Cvt(t,e,r)},decode(t){return Bvt(t,e,r)}});mbe.exports={rfc4648:Mvt}});var O8=h((Whr,wbe)=>{"use strict";var xm=ri(),Nvt=gbe(),{rfc4648:wn}=xbe(),{decodeText:Pvt,encodeText:Dvt}=D8(),Ovt=()=>({encode:Pvt,decode:Dvt}),vbe=[["identity","\0",Ovt,""],["base2","0",wn(1),"01"],["base8","7",wn(3),"01234567"],["base10","9",xm,"0123456789"],["base16","f",wn(4),"0123456789abcdef"],["base16upper","F",wn(4),"0123456789ABCDEF"],["base32hex","v",wn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",wn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",wn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",wn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",wn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",wn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",wn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",wn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",wn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",xm,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",xm,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",xm,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",xm,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",wn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",wn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",wn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",wn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Ebe=vbe.reduce((r,e)=>(r[e[0]]=new Nvt(e[0],e[1],e[2],e[3]),r),{}),Lvt=vbe.reduce((r,e)=>(r[e[1]]=Ebe[e[0]],r),{});wbe.exports={names:Ebe,codes:Lvt}});var F8=h((Nu,_be)=>{"use strict";var b1=O8(),{encodeText:Fvt,decodeText:L8,concat:Sbe}=D8();function zvt(r,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:t,codeBuf:i}=ih(r);return Uvt(t,e),Sbe([i,e],i.length+e.length)}function Kvt(r,e){let t=ih(r),i=Fvt(t.encode(e));return Sbe([t.codeBuf,i],t.codeBuf.length+i.length)}function Vvt(r){r instanceof Uint8Array&&(r=L8(r));let e=r[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(r=r.toLowerCase()),ih(r[0]).decode(r.substring(1))}function jvt(r){if(r instanceof Uint8Array&&(r=L8(r)),Object.prototype.toString.call(r)!=="[object String]")return!1;try{return ih(r[0]).name}catch(e){return!1}}function Uvt(r,e){ih(r).decode(L8(e))}function ih(r){if(Object.prototype.hasOwnProperty.call(b1.names,r))return b1.names[r];if(Object.prototype.hasOwnProperty.call(b1.codes,r))return b1.codes[r];throw new Error(`Unsupported encoding: ${r}`)}function Hvt(r){return r instanceof Uint8Array&&(r=L8(r)),ih(r[0])}Nu=_be.exports=zvt;Nu.encode=Kvt;Nu.decode=Vvt;Nu.isEncoded=jvt;Nu.encoding=ih;Nu.encodingFromData=Hvt;Nu.names=Object.freeze(b1.names);Nu.codes=Object.freeze(b1.codes)});var b0=h((Yhr,kbe)=>{"use strict";var{Key:Abe,Errors:Ibe}=ur(),Tbe=Lv(),Gvt=Tbe.ShardingDatastore,$vt=new Abe("/config"),Wvt=new Abe("/version");function Yvt(r,e){if(!e||!e.storageBackends)throw new Error("Please pass storage backend definitions");if(!e.storageBackends[r])throw new Error(`Storage backend '${r}' not defined in config`);let t=e.storageBackends[r],i={};return e.storageBackendOptions!==void 0&&e.storageBackendOptions[r]!==void 0&&(i=e.storageBackendOptions[r]),{StorageBackend:t,storageOptions:i}}function yq(r){let e=r;for(;e.db||e.child;)if(e=e.db||e.child,e.type==="level-js"||e.constructor.name==="Level")return e}async function Rbe(r,e,t){let i=await e(r);if(i)return i;let n=yq(t);return n?new Promise((s,o)=>{let a=n.store("readonly").get(r.toString());a.transaction.onabort=()=>{o(a.transaction.error)},a.transaction.oncomplete=()=>{s(Boolean(a.result))}}):!1}async function qbe(r,e,t,i){if(await t(r))return e(r);let n=yq(i);if(!n)throw Ibe.notFoundError();return new Promise((s,o)=>{let a=n.store("readonly").get(r.toString());a.transaction.onabort=()=>{o(a.transaction.error)},a.transaction.oncomplete=()=>{if(a.result)return s(a.result);o(Ibe.notFoundError())}})}function Xvt(r,e,t){let{StorageBackend:i,storageOptions:n}=Yvt(e,t);e!=="root"&&(r=`${r}/${e}`);let s=new i(r,n);n.sharding&&(s=new Gvt(s,new Tbe.shard.NextToLast(2)));let o=s.get.bind(s),a=s.has.bind(s);return s.get=c=>qbe(c,o,a,s),s.has=c=>Rbe(c,a,s),s}kbe.exports={createStore:Xvt,hasWithFallback:Rbe,getWithFallback:qbe,findLevelJs:yq,CONFIG_KEY:$vt,VERSION_KEY:Wvt}});var gq=h((Xhr,Bbe)=>{"use strict";var Jvt=async r=>{let e=0;for await(let t of r)e++;return e};Bbe.exports=Jvt});var Obe=h((Jhr,Cbe)=>{"use strict";var Mbe=ot(),Nbe=ur().Key,U8=F8(),Zvt=De()("ipfs:repo:migrator:migration-8"),Pbe=dr(),{createStore:Qvt}=b0(),e8t=gq();function t8t(r){let e=U8.decode(`b${r.toString().slice(1)}`),t=new Mbe(e).multihash;return t=U8.encode("base32",t).slice(1),t=Pbe(t).toUpperCase(),new Nbe(`/${t}`,!1)}function r8t(r){let e=U8.decode(`b${r.toString().slice(1)}`),t=U8.encode("base32",new Mbe(1,"raw",e).bytes).slice(1);return new Nbe(`/${Pbe(t)}`.toUpperCase(),!1)}async function Dbe(r,e,t,i){let n=Qvt(r,"blocks",e);await n.open();let s;t&&(s=await e8t(n.query({keysOnly:!0,filters:[({key:o})=>i(o).toString()!==o.toString()]})));try{let o=0;for await(let a of n.query({})){let c=i(a.key);c.toString()!==a.key.toString()&&(o+=1,Zvt(`Migrating Block from ${a.key} to ${c}`),await n.delete(a.key),await n.put(c,a.value),t&&t(o/s*100,`Migrated Block from ${a.key} to ${c}`))}}finally{await n.close()}}Cbe.exports={version:8,description:"Transforms key names into base32 encoding and converts Block store to use bare multihashes encoded as base32",migrate:(r,e,t=()=>{})=>Dbe(r,e,t,t8t),revert:(r,e,t=()=>{})=>Dbe(r,e,t,r8t)}});var wm=h((Zhr,Lbe)=>{"use strict";var i8t=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});Lbe.exports={baseTable:i8t}});var Kbe=h((Qhr,Fbe)=>{"use strict";var{baseTable:Ube}=wm(),zbe=new Map;for(let r in Ube){let e=Ube[r];zbe.set(e,r)}Fbe.exports=Object.freeze(zbe)});var jbe=h((edr,Vbe)=>{"use strict";var{names:n8t}=O8(),{TextDecoder:s8t}=ct(),o8t=new s8t("utf8");function a8t(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function c8t(r,e="utf8"){if(e==="utf8"||e==="utf-8")return o8t.decode(r);if(e==="ascii")return a8t(r);let t=n8t[e];if(!t)throw new Error("Unknown base");return t.encode(r)}Vbe.exports=c8t});var Gbe=h((tdr,Hbe)=>{"use strict";var{names:u8t}=O8(),{TextEncoder:f8t}=ct(),l8t=new f8t;function h8t(r){let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function d8t(r,e="utf8"){if(e==="utf8"||e==="utf-8")return l8t.encode(r);if(e==="ascii")return h8t(r);let t=u8t[e];if(!t)throw new Error("Unknown base");return t.decode(r)}Hbe.exports=d8t});var mq=h((rdr,$be)=>{"use strict";var Wbe=ii(),p8t=jbe(),b8t=Gbe();$be.exports={numberToUint8Array:y8t,uint8ArrayToNumber:Ybe,varintUint8ArrayEncode:g8t,varintEncode:m8t};function Ybe(r){return parseInt(p8t(r,"base16"),16)}function y8t(r){let e=r.toString(16);return e.length%2==1&&(e="0"+e),b8t(e,"base16")}function g8t(r){return Uint8Array.from(Wbe.encode(Ybe(r)))}function m8t(r){return Uint8Array.from(Wbe.encode(r))}});var Qbe=h((idr,Xbe)=>{"use strict";var{baseTable:Jbe}=wm(),x8t=mq().varintEncode,Zbe={};for(let r in Jbe){let e=Jbe[r];Zbe[r]=x8t(e)}Xbe.exports=Object.freeze(Zbe)});var t2e=h((ndr,e2e)=>{"use strict";function w8t(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}e2e.exports=w8t});var n2e=h((sdr,r2e)=>{"use strict";var{baseTable:v8t}=wm(),i2e={};for(let[r,e]of Object.entries(v8t)){let t=r.toUpperCase().replace(/-/g,"_");i2e[t]=e}r2e.exports=Object.freeze(i2e)});var o2e=h((odr,s2e)=>{"use strict";var{baseTable:E8t}=wm(),xq={};for(let[r,e]of Object.entries(E8t))xq[e]===void 0&&(xq[e]=r);s2e.exports=Object.freeze(xq)});var wq=h((adr,a2e)=>{"use strict";var y1=ii(),c2e=Kbe(),z8=Qbe(),_8t=mq(),S8t=t2e();function k8t(r,e){let t;if(r instanceof Uint8Array)t=_8t.varintUint8ArrayEncode(r);else if(z8[r])t=z8[r];else throw new Error("multicodec not recognized");return S8t([t,e],t.length+e.length)}function A8t(r){return y1.decode(r),r.slice(y1.decode.bytes)}function I8t(r){let e=y1.decode(r),t=c2e.get(e);if(t===void 0)throw new Error(`Code ${e} not found`);return t}function T8t(r){return c2e.get(r)}function R8t(r){let e=z8[r];if(e===void 0)throw new Error("Codec `"+r+"` not found");return y1.decode(e)}function q8t(r){return y1.decode(r)}function B8t(r){let e=z8[r];if(e===void 0)throw new Error("Codec `"+r+"` not found");return e}function C8t(r){return y1.encode(r)}var M8t=n2e(),N8t=o2e();a2e.exports={addPrefix:k8t,rmPrefix:A8t,getCodec:I8t,getName:T8t,getNumber:R8t,getCode:q8t,getCodeVarint:B8t,getVarint:C8t,print:N8t,...M8t}});var f2e=h((cdr,u2e)=>{vq.BASE=2166136261;function vq(r){for(var e=vq.BASE,t=0,i=r.length;t<i;t++)e^=r.charCodeAt(t),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return e>>>0}u2e.exports=vq});var h2e=h((udr,l2e)=>{"use strict";l2e.exports=`
  syntax = "proto2";

  package ipfs.pin;

  option go_package = "pb";

  message Set {
    optional uint32 version = 1;
    optional uint32 fanout = 2;
    optional fixed32 seed = 3;
  }
`});var Eq=h((fdr,d2e)=>{"use strict";var P8t=F8(),{Key:p2e}=ur(),D8t=Er().multihash,O8t=new p2e("/local/pins"),L8t=256,F8t=8192,U8t=D8t.fromB58String("QmdfTbBqBPQ7VNxZEYEj14VmRuZBkqFbiwReogJgS1zR1n"),z8t={direct:"direct",recursive:"recursive"};function K8t(r){return new p2e(`/${P8t.encoding("base32upper").encode(r.multihash)}`)}d2e.exports={PIN_DS_KEY:O8t,DEFAULT_FANOUT:L8t,MAX_ITEMS:F8t,EMPTY_KEY:U8t,PinTypes:z8t,cidToKey:K8t}});var y2e=h((ldr,b2e)=>{"use strict";function V8t(r,e){for(let t=0;t<r.byteLength;t++){if(r[t]<e[t])return-1;if(r[t]>e[t])return 1}return r.byteLength>e.byteLength?1:r.byteLength<e.byteLength?-1:0}b2e.exports=V8t});var _2e=h((hdr,g2e)=>{"use strict";var j8t=ot(),H8t=ni(),G8t=f2e(),_q=ii(),g1=Nr(),{DAGNode:m2e,DAGLink:K8}=g1,x2e=wq(),$8t=h2e(),{cidToKey:V8,DEFAULT_FANOUT:Sq,MAX_ITEMS:W8t,EMPTY_KEY:w2e}=Eq(),kq=Gs(),Y8t=y2e(),X8t=dr(),J8t=pr(),Z8t=yo(),v2e=H8t($8t);function Q8t(r){return new j8t(r).toBaseEncodedString()}function e5t(r){let e=r.Data,t=_q.decode(e),i=_q.decode.bytes;if(i<=0)throw new Error("Invalid Set header length");if(i+t>e.length)throw new Error("Impossibly large set header length");let n=e.slice(i,t+i),s=v2e.Set.decode(n);if(s.version!==1)throw new Error(`Unsupported Set version: ${s.version}`);if(s.fanout>r.Links.length)throw new Error("Impossibly large fanout");return{header:s,data:e.slice(t+i)}}function t5t(r,e){let t=new Uint8Array(4);new DataView(t.buffer).setUint32(0,r,!0);let n=J8t(Q8t(e)),s=kq([t,n],t.byteLength+n.byteLength);return G8t(X8t(s))}async function*E2e(r,e){let t=e5t(e),i=0;for(let n of e.Links){if(i<t.header.fanout){let s=n.Hash;if(!Z8t(w2e,s.bytes)){let o=await r.get(V8(s)),a=g1.util.deserialize(o);yield*E2e(r,a)}}else yield n.Hash;i++}}async function*r5t(r,e,t){let i=e.Links.find(o=>o.Name===t);if(!i)throw new Error("No link found with name "+t);let n=await r.get(V8(i.Hash)),s=g1.util.deserialize(n);yield*E2e(r,s)}function i5t(r,e){return t(e,0);async function t(i,n){let s=v2e.Set.encode({version:1,fanout:Sq,seed:n}),o=_q.encode(s.length),a=kq([o,s]),c=[];for(let f=0;f<Sq;f++)c.push(new K8("",1,w2e));if(i.length<=W8t){let f=i.map(p=>({link:new K8("",1,p.key),data:p.data||new Uint8Array})).sort((p,b)=>Y8t(p.link.Hash.bytes,b.link.Hash.bytes)),l=c.concat(f.map(p=>p.link)),d=kq([a,...f.map(p=>p.data)]);return new m2e(d,l)}else{let f=i.reduce((d,p)=>{let b=t5t(n,p.key)%Sq;return d[b]=b in d?d[b].concat([p]):[p],d},[]),l=0;for(let d of f){let p=await t(d,n+1);await u(p,l),l++}return new m2e(a,c)}async function u(f,l){let d=g1.util.serialize(f),p=await g1.util.cid(d,{cidVersion:0,hashAlg:x2e.SHA2_256});await r.put(V8(p),d),c[l]=new K8("",f.size,p)}}}async function n5t(r,e,t){let i=await i5t(r,t.map(o=>({key:o,data:null}))),n=i.serialize(i),s=await g1.util.cid(n,{cidVersion:0,hashAlg:x2e.SHA2_256});return await r.put(V8(s),n),new K8(e,i.size,s)}g2e.exports={loadSet:r5t,storeSet:n5t}});var I2e=h((ddr,S2e)=>{"use strict";var k2e=ot(),Aq=Nr(),Iq=gT(),j8=wq(),s5t=F8(),m1=_2e(),{createStore:Tq}=b0(),{cidToKey:vm,PIN_DS_KEY:H8,PinTypes:x1}=Eq(),Rq=gq();async function o5t(r,e,t,i){if(!await e.has(H8))return;let n=await e.get(H8),s=new k2e(n),o=await r.get(vm(s)),a=Aq.util.deserialize(o),c=0,u;i&&(u=await Rq(m1.loadSet(r,a,x1.recursive))+await Rq(m1.loadSet(r,a,x1.direct)));for await(let f of m1.loadSet(r,a,x1.recursive)){c++;let l={depth:Infinity};f.version!==0&&(l.version=f.version),f.codec!=="dag-pb"&&(l.codec=j8.getNumber(f.codec)),await t.put(vm(f),Iq.encode(l)),i&&i(c/u*100,`Migrated recursive pin ${f}`)}for await(let f of m1.loadSet(r,a,x1.direct)){c++;let l={depth:0};f.version!==0&&(l.version=f.version),f.codec!=="dag-pb"&&(l.codec=j8.getNumber(f.codec)),await t.put(vm(f),Iq.encode(l)),i(c/u*100,`Migrated direct pin ${f}`)}await r.delete(vm(s)),await e.delete(H8)}async function a5t(r,e,t,i){let n=[],s=[],o=0,a;i&&(a=await Rq(t.query({keysOnly:!0})));for await(let{key:l,value:d}of t.query({})){o++;let p=Iq.decode(d),b=new k2e(p.version||0,p.codec&&j8.getName(p.codec)||"dag-pb",s5t.decode("b"+l.toString().split("/").pop()));p.depth===0?(i&&i(o/a*100,`Reverted direct pin ${b}`),s.push(b)):(i&&i(o/a*100,`Reverted recursive pin ${b}`),n.push(b))}i(100,"Updating pin root");let u=new Aq.DAGNode(new Uint8Array,[await m1.storeSet(r,x1.recursive,n),await m1.storeSet(r,x1.direct,s)]).serialize(),f=await Aq.util.cid(u,{cidVersion:0,hashAlg:j8.SHA2_256});await r.put(vm(f),u),await e.put(H8,f.multihash)}async function A2e(r,e,t,i){let n=Tq(r,"blocks",e),s=Tq(r,"datastore",e),o=Tq(r,"pins",e);await n.open(),await s.open(),await o.open();try{await i(n,s,o,t)}finally{await o.close(),await s.close(),await n.close()}}S2e.exports={version:9,description:"Migrates pins to datastore",migrate:(r,e,t=()=>{})=>A2e(r,e,t,o5t),revert:(r,e,t=()=>{})=>A2e(r,e,t,a5t)}});var C2e=h((bdr,T2e)=>{"use strict";var{createStore:c5t,findLevelJs:R2e}=b0(),{Key:pdr}=ur(),u5t=pr(),f5t=dr();async function l5t(r,e,t=()=>{}){let i=R2e(e);if(!i){t(`${r} did not need an upgrade`);return}t(`Upgrading ${r}`),await q2e(i,(n,s)=>[{type:"del",key:n},{type:"put",key:u5t(n),value:s}])}async function h5t(r,e,t=()=>{}){let i=R2e(e);if(!i){t(`${r} did not need a downgrade`);return}t(`Downgrading ${r}`),await q2e(i,(n,s)=>[{type:"del",key:n},{type:"put",key:f5t(n),value:s}])}async function B2e(r,e,t,i){let n=Object.keys(e.storageBackends).filter(o=>e.storageBackends[o].name==="LevelDatastore").map(o=>({name:o,store:c5t(r,o,e)}));t(0,`Migrating ${n.length} dbs`);let s=0;for(let{name:o,store:a}of n){await a.open();try{await i(o,a,c=>{t(parseInt(s/n.length*100),c)})}finally{s++,a.close()}}t(100,`Migrated ${n.length} dbs`)}T2e.exports={version:10,description:"Migrates datastore-level keys to binary",migrate:(r,e,t=()=>{})=>B2e(r,e,t,l5t),revert:(r,e,t=()=>{})=>B2e(r,e,t,h5t)};function q2e(r,e){function t(i,n){let s=r.store("readwrite"),o=s.transaction,a=0,c;o.onabort=()=>n(c||o.error||new Error("aborted by user")),o.oncomplete=()=>n();function u(){var f=i[a++],l=f.key;try{var d=f.type==="del"?s.delete(l):s.put(f.value,l)}catch(p){c=p,o.abort();return}a<i.length&&(d.onsuccess=u)}u()}return new Promise((i,n)=>{let s=r.iterator();s._deserializeKey=s._deserializeValue=a=>a,o();function o(){s.next((a,c,u)=>{if(a||c===void 0){s.end(f=>{if(f){n(f);return}i()});return}t(e(c,u),o)})}})}});var N2e=h((ydr,M2e)=>{"use strict";var nh={description:"Empty migration.",migrate:()=>{},revert:()=>{},empty:!0};M2e.exports=[Object.assign({version:1},nh),Object.assign({version:2},nh),Object.assign({version:3},nh),Object.assign({version:4},nh),Object.assign({version:5},nh),Object.assign({version:6},nh),Object.assign({version:7},nh),Obe(),I2e(),C2e()]});var G8=h(w1=>{"use strict";var qq=class extends Error{constructor(e){super(e);this.name="NonReversibleMigrationError",this.code="ERR_NON_REVERSIBLE_MIGRATION",this.message=e}};qq.code="ERR_NON_REVERSIBLE_MIGRATION";w1.NonReversibleMigrationError=qq;var Bq=class extends Error{constructor(e){super(e);this.name="NotInitializedRepoError",this.code="ERR_NOT_INITIALIZED_REPO",this.message=e}};Bq.code="ERR_NOT_INITIALIZED_REPO";w1.NotInitializedRepoError=Bq;var Cq=class extends Error{constructor(e){super(e);this.name="RequiredParameterError",this.code="ERR_REQUIRED_PARAMETER",this.message=e}};Cq.code="ERR_REQUIRED_PARAMETER";w1.RequiredParameterError=Cq;var Mq=class extends Error{constructor(e){super(e);this.name="InvalidValueError",this.code="ERR_INVALID_VALUE",this.message=e}};Mq.code="ERR_INVALID_VALUE";w1.InvalidValueError=Mq;var Nq=class extends Error{constructor(e){super(e);this.name="MissingRepoOptionsError",this.code="ERR_MISSING_REPO_OPTIONS",this.message=e}};Nq.code="ERR_MISSING_REPO_OPTIONS";w1.MissingRepoOptionsError=Nq});var D2e=h(P2e=>{"use strict";var Pq=De()("ipfs:repo:migrator:repo:init"),{CONFIG_KEY:d5t,VERSION_KEY:p5t,createStore:b5t}=b0(),{MissingRepoOptionsError:y5t}=G8();P2e.isRepoInitialized=async function(e,t){if(!t)throw new y5t("Please pass repo options when trying to open a repo");let i;try{i=b5t(e,"root",t),await i.open();let n=await i.has(p5t),s=await i.has(d5t);return!n||!s?(Pq(`Version entry present: ${n}`),Pq(`Config entry present: ${s}`),!1):!0}catch(n){return Pq("While checking if repo is initialized error was thrown: "+n.message),!1}finally{i!==void 0&&await i.close()}}});var U2e=h(Dq=>{"use strict";var g5t=D2e(),{MissingRepoOptionsError:O2e,NotInitializedRepoError:m5t}=G8(),{VERSION_KEY:L2e,createStore:F2e}=b0(),x5t=pr(),w5t=dr();Dq.getVersion=v5t;async function v5t(r,e){if(!await g5t.isRepoInitialized(r,e))throw new m5t(`Repo in path ${r} is not initialized!`);if(!e)throw new O2e("Please pass repo options when trying to open a repo");let t=F2e(r,"root",e);await t.open();let i=await t.get(L2e);return i instanceof Uint8Array&&(i=w5t(i)),i=parseInt(i),await t.close(),i}async function E5t(r,e,t){if(!t)throw new O2e("Please pass repo options when trying to open a repo");let i=F2e(r,"root",t);await i.open(),await i.put(L2e,x5t(String(e))),await i.close()}Dq.setVersion=E5t});var V2e=h(z2e=>{"use strict";var _5t=De(),K2e=_5t("ipfs:repo:migrator:repo_mem_lock"),S5t="repo.lock",$8={};z2e.lock=async function(e,t){let i=t+"/"+S5t;if(K2e("locking %s",i),$8[i]===!0)throw Error(`There is already present lock for: ${i}`);return $8[i]=!0,{close(){$8[i]&&(K2e("releasing lock %s",i),delete $8[i])}}}});var $2e=h(v1=>{"use strict";var Oq=N2e(),sh=U2e(),j2e=V2e(),Qs=G8(),_a=De()("ipfs:repo:migrator");v1.getCurrentRepoVersion=sh.getVersion;v1.errors=Qs;function H2e(r){return r=r||Oq,!Array.isArray(r)||r.length===0?0:r[r.length-1].version}v1.getLatestMigrationVersion=H2e;async function k5t(r,e,t,{ignoreLock:i=!1,onProgress:n,isDryRun:s=!1,migrations:o}){if(o=o||Oq,!r)throw new Qs.RequiredParameterError("Path argument is required!");if(!e)throw new Qs.RequiredParameterError("repoOptions argument is required!");if(!t)throw new Qs.RequiredParameterError("toVersion argument is required!");if(!Number.isInteger(t)||t<=0)throw new Qs.InvalidValueError("Version has to be positive integer!");let a=await sh.getVersion(r,e);if(a===t){_a("Nothing to migrate.");return}if(a>t)throw new Qs.InvalidValueError(`Current repo's version (${a}) is higher then toVersion (${t}), you probably wanted to revert it?`);G2e(o,a,t);let c;!s&&!i&&(c=await j2e.lock(a,r));try{for(let u of o){if(t!==void 0&&u.version>t)break;if(!(u.version<=a)){_a(`Migrating version ${u.version}`);try{if(!s){let f;n&&(f=(l,d)=>n(u.version,l.toFixed(2),d)),await u.migrate(r,e,f)}}catch(f){let l=u.version-1;throw _a(`An exception was raised during execution of migration. Setting the repo's version to last successfully migrated version: ${l}`),await sh.setVersion(r,l,e),new Error(`During migration to version ${u.version} exception was raised: ${f.stack||f.message||f}`)}_a(`Migrating to version ${u.version} finished`)}}s||await sh.setVersion(r,t||H2e(o),e),_a("Repo successfully migrated",t!==void 0?`to version ${t}!`:"to latest version!")}finally{!s&&!i&&await c.close()}}v1.migrate=k5t;async function A5t(r,e,t,{ignoreLock:i=!1,onProgress:n,isDryRun:s=!1,migrations:o}){if(o=o||Oq,!r)throw new Qs.RequiredParameterError("Path argument is required!");if(!e)throw new Qs.RequiredParameterError("repoOptions argument is required!");if(!t)throw new Qs.RequiredParameterError("When reverting migrations, you have to specify to which version to revert!");if(!Number.isInteger(t)||t<=0)throw new Qs.InvalidValueError("Version has to be positive integer!");let a=await sh.getVersion(r,e);if(a===t){_a("Nothing to revert.");return}if(a<t)throw new Qs.InvalidValueError(`Current repo's version (${a}) is lower then toVersion (${t}), you probably wanted to migrate it?`);G2e(o,t,a,!0);let c;!s&&!i&&(c=await j2e.lock(a,r)),_a(`Reverting from version ${a} to ${t}`);try{let u=o.slice().reverse();for(let f of u){if(f.version<=t)break;if(!(f.version>a)){_a(`Reverting migration version ${f.version}`);try{if(!s){let l;n&&(l=(d,p)=>n(f.version,d.toFixed(2),p)),await f.revert(r,e,l)}}catch(l){let d=f.version;throw _a(`An exception was raised during execution of migration. Setting the repo's version to last successfully reverted version: ${d}`),await sh.setVersion(r,d,e),l.message=`During reversion to version ${f.version} exception was raised: ${l.message}`,l}_a(`Reverting to version ${f.version} finished`)}}s||await sh.setVersion(r,t,e),_a(`All migrations successfully reverted to version ${t}!`)}finally{!s&&!i&&await c.close()}}v1.revert=A5t;function G2e(r,e,t,i=!1){let n=0;for(let s of r){if(s.version>t)break;if(s.version>e){if(i&&!s.revert)throw new Qs.NonReversibleMigrationError(`It is not possible to revert to version ${e} because migration version ${s.version} is not reversible. Cancelling reversion.`);n++}}if(n!==t-e)throw new Qs.InvalidValueError(`The ipfs-repo-migrations package does not have all migration to migrate from version ${e} to ${t}`)}});var X2e=h((Edr,W8)=>{"use strict";W8.exports=I5t;W8.exports.format=W2e;W8.exports.parse=Y2e;var T5t=/\B(?=(\d{3})+(?!\d))/g,R5t=/(?:\.0*|(\.[^0]+)0+)$/,y0={b:1,kb:1<<10,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},q5t=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function I5t(r,e){return typeof r=="string"?Y2e(r):typeof r=="number"?W2e(r,e):null}function W2e(r,e){if(!Number.isFinite(r))return null;var t=Math.abs(r),i=e&&e.thousandsSeparator||"",n=e&&e.unitSeparator||"",s=e&&e.decimalPlaces!==void 0?e.decimalPlaces:2,o=Boolean(e&&e.fixedDecimals),a=e&&e.unit||"";(!a||!y0[a.toLowerCase()])&&(t>=y0.pb?a="PB":t>=y0.tb?a="TB":t>=y0.gb?a="GB":t>=y0.mb?a="MB":t>=y0.kb?a="KB":a="B");var c=r/y0[a.toLowerCase()],u=c.toFixed(s);return o||(u=u.replace(R5t,"$1")),i&&(u=u.replace(T5t,i)),u+n+a}function Y2e(r){if(typeof r=="number"&&!isNaN(r))return r;if(typeof r!="string")return null;var e=q5t.exec(r),t,i="b";return e?(t=parseFloat(e[1]),i=e[4].toLowerCase()):(t=parseInt(r,10),i="b"),Math.floor(y0[i]*t)}});var Z2e=h((_dr,J2e)=>{"use strict";function B5t(...r){return r.length===0?".":r.join("/")}J2e.exports=B5t});var eye=h((Sdr,Q2e)=>{"use strict";Q2e.exports={repoVersion:10}});var rye=h(tye=>{"use strict";tye.create=function(e,t,i){let n=i.storageBackends[e],s=Object.assign({},i.storageBackendOptions[e]||{});return new n(t,s)}});var nye=h((Adr,iye)=>{"use strict";var C5t=ur().Key,M5t=De(),N5t=M5t("ipfs:repo:version"),P5t=dr(),D5t=pr(),{hasWithFallback:O5t,getWithFallback:L5t}=b0(),Lq=new C5t("version");iye.exports=r=>({async exists(){return O5t(Lq,r.has.bind(r),r)},async get(){let e=await L5t(Lq,r.get.bind(r),r.has.bind(r),r);return parseInt(P5t(e),10)},async set(e){return r.put(Lq,D5t(String(e)))},async check(e){let t=await this.get();return N5t("comparing version: %s and %s",t,e),t===e||(t===6&&e===7||e===6&&t===7)}})});var oye=h((Idr,sye)=>{sye.exports=F5t;function F5t(r,e,t){typeof e=="string"&&(e=e.split(".")),typeof e=="symbol"&&(e=[e]);var i=e.pop();if(!i)return!1;for(var n;n=e.shift();)if(typeof r[n]=="undefined"&&(r[n]={}),r=r[n],!r||typeof r!="object")return!1;return r[i]=t,!0}});var Y8=h(oh=>{"use strict";var Em=class extends Error{constructor(e){super(e);this.name="LockExistsError",this.code=Em.code}};Em.code="ERR_LOCK_EXISTS";oh.LockExistsError=Em;var _m=class extends Error{constructor(e){super(e);this.name="NotFoundError",this.code=_m.code}};_m.code="ERR_NOT_FOUND";oh.NotFoundError=_m;var Sm=class extends Error{constructor(e){super(e);this.name="InvalidRepoVersionError",this.code=Sm.code}};Sm.code="ERR_INVALID_REPO_VERSION";oh.InvalidRepoVersionError=Sm;oh.ERR_REPO_NOT_INITIALIZED="ERR_REPO_NOT_INITIALIZED";oh.ERR_REPO_ALREADY_OPEN="ERR_REPO_ALREADY_OPEN";oh.ERR_REPO_ALREADY_CLOSED="ERR_REPO_ALREADY_CLOSED"});var uye=h((Rdr,aye)=>{"use strict";var U5t=ur().Key,{default:z5t}=Ap(),cye=bq(),K5t=oye(),Fq=qe(),V5t=Y8(),j5t=dr(),H5t=pr(),{hasWithFallback:G5t,getWithFallback:$5t}=b0(),Uq=new U5t("config");aye.exports=r=>{let e=new z5t({concurrency:1}),t={async getAll(s={}){return t.get(void 0,s)},async get(s,o={}){s||(s=void 0);let a=await $5t(Uq,r.get.bind(r),r.has.bind(r),r);if(o.signal&&o.signal.aborted)return;let c=JSON.parse(j5t(a));if(s!==void 0&&cye(c,s)===void 0)throw new V5t.NotFoundError(`Key ${s} does not exist in config`);return s!==void 0?cye(c,s):c},async set(s,o,a={}){if(arguments.length===1)o=s,s=void 0;else if(!s||typeof s!="string")throw Fq(new Error("Invalid key type: "+typeof s),"ERR_INVALID_KEY");if(o===void 0||o instanceof Uint8Array)throw Fq(new Error("Invalid value type: "+typeof o),"ERR_INVALID_VALUE");return e.add(()=>i({key:s,value:o},a.signal))},async replace(s,o={}){if(!s||s instanceof Uint8Array)throw Fq(new Error("Invalid value type: "+typeof s),"ERR_INVALID_VALUE");return e.add(()=>i({key:void 0,value:s},o.signal))},async exists(){return G5t(Uq,r.has.bind(r),r)}};return t;async function i(s,o){if(o&&o.aborted)return;let a=s.key,c=s.value;if(a){let u=await t.get();return K5t(u,a,c),n(u)}return n(c)}function n(s){let o=H5t(JSON.stringify(s,null,2));return r.put(Uq,o)}}});var lye=h((qdr,fye)=>{"use strict";fye.exports=r=>{if(Object.prototype.toString.call(r)!=="[object Object]")return!1;let e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}});var dye=h((Bdr,hye)=>{"use strict";var zq=lye();hye.exports=(r,e={})=>{if(!zq(r)&&!Array.isArray(r))throw new TypeError("Expected a plain object or array");let{deep:t}=e,i=[],n=[],s=a=>{let c=i.indexOf(a);if(c!==-1)return n[c];let u=[];return i.push(a),n.push(u),u.push(...a.map(f=>Array.isArray(f)?s(f):zq(f)?o(f):f)),u},o=a=>{let c=i.indexOf(a);if(c!==-1)return n[c];let u={},f=Object.keys(a).sort(e.compare);i.push(a),n.push(u);for(let l of f){let d=a[l],p;t&&Array.isArray(d)?p=s(d):p=t&&zq(d)?o(d):d,Object.defineProperty(u,l,{...Object.getOwnPropertyDescriptor(a,l),value:p})}return u};return Array.isArray(r)?t?s(r):r.slice():o(r)}});var bye=h((Cdr,pye)=>{"use strict";var W5t=ur().Key,Y5t=dye(),X5t=dr(),J5t=pr(),Kq=new W5t("datastore_spec");pye.exports=r=>({async exists(){return r.has(Kq)},async get(){let e=await r.get(Kq);return JSON.parse(X5t(e))},async set(e){return r.put(Kq,J5t(JSON.stringify(Y5t(e,{deep:!0}))))}})});var gye=h((Mdr,yye)=>{"use strict";var Z5t=ur().Key,Q5t=pr(),Vq=new Z5t("api");yye.exports=r=>({async get(){let e=await r.get(Vq);return e&&e.toString()},async set(e){return r.put(Vq,Q5t(e.toString()))},async delete(){return r.delete(Vq)}})});var X8=h((Ndr,mye)=>{"use strict";var{TextEncoder:eEt,TextDecoder:tEt}=ct(),rEt=new tEt,iEt=r=>rEt.decode(r),nEt=new eEt,sEt=r=>nEt.encode(r);function oEt(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}mye.exports={decodeText:iEt,encodeText:sEt,concat:oEt}});var vye=h((Pdr,xye)=>{"use strict";var{encodeText:aEt}=X8(),wye=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=aEt(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};xye.exports=wye});var _ye=h((Ddr,Eye)=>{"use strict";var cEt=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},uEt=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},fEt=r=>e=>({encode(t){return uEt(t,e,r)},decode(t){return cEt(t,e,r)}});Eye.exports={rfc4648:fEt}});var Iye=h((Odr,Sye)=>{"use strict";var km=ri(),lEt=vye(),{rfc4648:vn}=_ye(),{decodeText:hEt,encodeText:dEt}=X8(),pEt=()=>({encode:hEt,decode:dEt}),kye=[["identity","\0",pEt,""],["base2","0",vn(1),"01"],["base8","7",vn(3),"01234567"],["base10","9",km,"0123456789"],["base16","f",vn(4),"0123456789abcdef"],["base16upper","F",vn(4),"0123456789ABCDEF"],["base32hex","v",vn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",vn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",vn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",vn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",vn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",vn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",vn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",vn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",vn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",km,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",km,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",km,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",km,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",vn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",vn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",vn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",vn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Aye=kye.reduce((r,e)=>(r[e[0]]=new lEt(e[0],e[1],e[2],e[3]),r),{}),bEt=kye.reduce((r,e)=>(r[e[1]]=Aye[e[0]],r),{});Sye.exports={names:Aye,codes:bEt}});var qye=h((Pu,Tye)=>{"use strict";var E1=Iye(),{encodeText:yEt,decodeText:J8,concat:Rye}=X8();function mEt(r,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:t,codeBuf:i}=ah(r);return gEt(t,e),Rye([i,e],i.length+e.length)}function xEt(r,e){let t=ah(r),i=yEt(t.encode(e));return Rye([t.codeBuf,i],t.codeBuf.length+i.length)}function wEt(r){r instanceof Uint8Array&&(r=J8(r));let e=r[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(r=r.toLowerCase()),ah(r[0]).decode(r.substring(1))}function vEt(r){if(r instanceof Uint8Array&&(r=J8(r)),Object.prototype.toString.call(r)!=="[object String]")return!1;try{return ah(r[0]).name}catch(e){return!1}}function gEt(r,e){ah(r).decode(J8(e))}function ah(r){if(Object.prototype.hasOwnProperty.call(E1.names,r))return E1.names[r];if(Object.prototype.hasOwnProperty.call(E1.codes,r))return E1.codes[r];throw new Error(`Unsupported encoding: ${r}`)}function EEt(r){return r instanceof Uint8Array&&(r=J8(r)),ah(r[0])}Pu=Tye.exports=mEt;Pu.encode=xEt;Pu.decode=wEt;Pu.isEncoded=vEt;Pu.encoding=ah;Pu.encodingFromData=EEt;Pu.names=Object.freeze(E1.names);Pu.codes=Object.freeze(E1.codes)});var Hq=h(jq=>{"use strict";var{Key:_Et}=ur(),Bye=ot(),Cye=qye(),SEt=qe(),kEt=dr();jq.cidToKey=r=>{if(!Bye.isCID(r))throw SEt(new Error("Not a valid cid"),"ERR_INVALID_CID");return new _Et("/"+kEt(Cye.encode("base32",r.multihash)).slice(1).toUpperCase(),!1)};jq.keyToCid=r=>new Bye(1,"raw",Cye.decode("b"+r.toString().slice(1).toLowerCase()))});var Nye=h((Udr,Mye)=>{Mye.exports=class{constructor(e){if(!(e>0)||(e-1&e)!=0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}isEmpty(){return this.buffer[this.btm]===void 0}}});var Gq=h((Kdr,Pye)=>{var Dye=Nye();Pye.exports=class{constructor(e){this.hwm=e||16,this.head=new Dye(this.hwm),this.tail=this.head}push(e){if(!this.head.push(e)){let t=this.head;this.head=t.next=new Dye(2*this.head.buffer.length),this.head.push(e)}}shift(){let e=this.tail.shift();if(e===void 0&&this.tail.next){let t=this.tail.next;return this.tail.next=null,this.tail=t,this.tail.shift()}return e}isEmpty(){return this.head.isEmpty()}}});var ch=h((Vdr,Oye)=>{var $q=Gq();Oye.exports=r=>{r=r||{};let e;typeof r=="function"?(e=r,r={}):e=r.onEnd;let t=new $q,i,n,s,o=()=>{if(!t.isEmpty()){if(r.writev){let g,m=[];for(;!t.isEmpty();){if(g=t.shift(),g.error)throw g.error;m.push(g.value)}return{done:g.done,value:m}}let b=t.shift();if(b.error)throw b.error;return b}return s?{done:!0}:new Promise((b,g)=>{n=m=>(n=null,m.error?g(m.error):r.writev&&!m.done?b({done:m.done,value:[m.value]}):b(m),i)})},a=b=>n?n(b):(t.push(b),i),c=b=>(t=new $q,n?n({error:b}):(t.push({error:b}),i)),u=b=>s?i:a({done:!1,value:b}),f=b=>s?i:(s=!0,b?c(b):a({done:!0})),l=()=>(t=new $q,f(),{done:!0}),d=b=>(f(b),{done:!0});if(i={[Symbol.asyncIterator](){return this},next:o,return:l,throw:d,push:u,end:f},!e)return i;let p=i;return i={[Symbol.asyncIterator](){return this},next(){return p.next()},throw(b){return p.throw(b),e&&(e(b),e=null),{done:!0}},return(){return p.return(),e&&(e(),e=null),{done:!0}},push:u,end(b){return p.end(b),e&&(e(b),e=null),i}},i}});var zye=h((jdr,Lye)=>{"use strict";var Fye=Lv(),AEt=Fye.ShardingDatastore,Wq=o1(),{cidToKey:_1,keyToCid:Uye}=Hq(),IEt=cm(),TEt=$y(),REt=ch();Lye.exports=async(r,e)=>{let t=await qEt(r,e);return BEt(t)};function qEt(r,e){if(e.sharding){let t=new Fye.shard.NextToLast(2);return AEt.createOrOpen(r,t)}return r}function BEt(r){return{async*query(e,t){for await(let{key:i,value:n}of r.query(e,t)){if(e.keysOnly){yield Uye(i);continue}yield new Wq(n,Uye(i))}},async get(e,t){let i=_1(e),n=await r.get(i,t);return new Wq(n,e)},async*getMany(e,t){for await(let i of e)yield this.get(i,t)},async put(e,t){if(!Wq.isBlock(e))throw new Error("invalid block");let i=_1(e.cid);return await r.has(i,t)||await r.put(i,e.data,t),e},async*putMany(e,t){let i=REt();(process&&process.nextTick?process.nextTick:setImmediate)(async()=>{try{await TEt(r.putMany(async function*(){for await(let s of e){let o=_1(s.cid);await r.has(o,t)||(yield{key:o,value:s.data}),i.push(s)}}())),i.end()}catch(s){i.end(s)}}),yield*i},async has(e,t){return r.has(_1(e),t)},async delete(e,t){return r.delete(_1(e),t)},async*deleteMany(e,t){yield*r.deleteMany(IEt(e,i=>_1(i)),t)},async close(){return r.close()}}}});var Am=h((Hdr,Kye)=>{Kye.exports=CEt;var MEt=Object.prototype.hasOwnProperty;function CEt(){for(var r={},e=0;e<arguments.length;e++){var t=arguments[e];for(var i in t)MEt.call(t,i)&&(r[i]=t[i])}return r}});var jye=h((Gdr,Vye)=>{Vye.exports=NEt;var PEt=Object.prototype.hasOwnProperty;function NEt(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)PEt.call(t,i)&&(r[i]=t[i])}return r}});var Yq=h(($dr,Hye)=>{"use strict";var Gye=Am(),DEt=jye();Hye.exports=function(){var e=Gye.apply(null,arguments);return DEt(e,{bufferKeys:e.bufferKeys||!1,snapshots:e.snapshots||!1,permanence:e.permanence||!1,seek:e.seek||!1,clear:e.clear||!1,status:e.status||!1,createIfMissing:e.createIfMissing||!1,errorIfExists:e.errorIfExists||!1,deferredOpen:e.deferredOpen||!1,openCallback:e.openCallback||!1,promises:e.promises||!1,streams:e.streams||!1,encodings:e.encodings||!1,additionalMethods:Gye(e.additionalMethods)})}});var sge=h(S1=>{"use strict";var Xq=ra(),k1=bo(),$ye=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;S1.Buffer=Se;S1.SlowBuffer=OEt;S1.INSPECT_MAX_BYTES=50;var Z8=2147483647;S1.kMaxLength=Z8;Se.TYPED_ARRAY_SUPPORT=LEt();!Se.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function LEt(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(t){return!1}}Object.defineProperty(Se.prototype,"parent",{enumerable:!0,get:function(){if(!!Se.isBuffer(this))return this.buffer}});Object.defineProperty(Se.prototype,"offset",{enumerable:!0,get:function(){if(!!Se.isBuffer(this))return this.byteOffset}});function Du(r){if(r>Z8)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,Se.prototype),e}function Se(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Jq(r)}return Wye(r,e,t)}Se.poolSize=8192;function Wye(r,e,t){if(typeof r=="string")return FEt(r,e);if(ArrayBuffer.isView(r))return UEt(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(qc(r,ArrayBuffer)||r&&qc(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(qc(r,SharedArrayBuffer)||r&&qc(r.buffer,SharedArrayBuffer)))return Zq(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return Se.from(i,e,t);var n=zEt(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return Se.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}Se.from=function(r,e,t){return Wye(r,e,t)};Object.setPrototypeOf(Se.prototype,Uint8Array.prototype);Object.setPrototypeOf(Se,Uint8Array);function Yye(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function KEt(r,e,t){return Yye(r),r<=0?Du(r):e!==void 0?typeof t=="string"?Du(r).fill(e,t):Du(r).fill(e):Du(r)}Se.alloc=function(r,e,t){return KEt(r,e,t)};function Jq(r){return Yye(r),Du(r<0?0:Qq(r)|0)}Se.allocUnsafe=function(r){return Jq(r)};Se.allocUnsafeSlow=function(r){return Jq(r)};function FEt(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Se.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=Xye(r,e)|0,i=Du(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function eB(r){for(var e=r.length<0?0:Qq(r.length)|0,t=Du(e),i=0;i<e;i+=1)t[i]=r[i]&255;return t}function UEt(r){if(qc(r,Uint8Array)){var e=new Uint8Array(r);return Zq(e.buffer,e.byteOffset,e.byteLength)}return eB(r)}function Zq(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,Se.prototype),i}function zEt(r){if(Se.isBuffer(r)){var e=Qq(r.length)|0,t=Du(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||tB(r.length)?Du(0):eB(r);if(r.type==="Buffer"&&Array.isArray(r.data))return eB(r.data)}function Qq(r){if(r>=Z8)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Z8.toString(16)+" bytes");return r|0}function OEt(r){return+r!=r&&(r=0),Se.alloc(+r)}Se.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Se.prototype};Se.compare=function(e,t){if(qc(e,Uint8Array)&&(e=Se.from(e,e.offset,e.byteLength)),qc(t,Uint8Array)&&(t=Se.from(t,t.offset,t.byteLength)),!Se.isBuffer(e)||!Se.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};Se.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Se.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Se.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=Se.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var o=e[i];if(qc(o,Uint8Array))s+o.length>n.length?Se.from(o).copy(n,s):Uint8Array.prototype.set.call(n,o,s);else if(Se.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function Xye(r,e){if(Se.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||qc(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return rB(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return Jye(r).length;default:if(n)return i?-1:rB(r).length;e=(""+e).toLowerCase(),n=!0}}Se.byteLength=Xye;function WEt(r,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return GEt(this,e,t);case"utf8":case"utf-8":return Zye(this,e,t);case"ascii":return jEt(this,e,t);case"latin1":case"binary":return HEt(this,e,t);case"base64":return VEt(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $Et(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}Se.prototype._isBuffer=!0;function uh(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}Se.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)uh(this,t,t+1);return this};Se.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)uh(this,t,t+3),uh(this,t+1,t+2);return this};Se.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)uh(this,t,t+7),uh(this,t+1,t+6),uh(this,t+2,t+5),uh(this,t+3,t+4);return this};Se.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?Zye(this,0,e):WEt.apply(this,arguments)};Se.prototype.toLocaleString=Se.prototype.toString;Se.prototype.equals=function(e){if(!Se.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Se.compare(this,e)===0};Se.prototype.inspect=function(){var e="",t=S1.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};$ye&&(Se.prototype[$ye]=Se.prototype.inspect);Se.prototype.compare=function(e,t,i,n,s){if(qc(e,Uint8Array)&&(e=Se.from(e,e.offset,e.byteLength)),!Se.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,a=i-t,c=Math.min(o,a),u=this.slice(n,s),f=e.slice(t,i),l=0;l<c;++l)if(u[l]!==f[l]){o=u[l],a=f[l];break}return o<a?-1:a<o?1:0};function ege(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,tB(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=Se.from(e,i)),Se.isBuffer(e))return e.length===0?-1:Qye(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):Qye(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function Qye(r,e,t,i,n){var s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function c(p,b){return s===1?p[b]:p.readUInt16BE(b*s)}var u;if(n){var f=-1;for(u=t;u<o;u++)if(c(r,u)===c(e,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===a)return f*s}else f!==-1&&(u-=u-f),f=-1}else for(t+a>o&&(t=o-a),u=t;u>=0;u--){for(var l=!0,d=0;d<a;d++)if(c(r,u+d)!==c(e,d)){l=!1;break}if(l)return u}return-1}Se.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};Se.prototype.indexOf=function(e,t,i){return ege(this,e,t,i,!0)};Se.prototype.lastIndexOf=function(e,t,i){return ege(this,e,t,i,!1)};function YEt(r,e,t,i){t=Number(t)||0;var n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(o*2,2),16);if(tB(a))return o;r[t+o]=a}return o}function XEt(r,e,t,i){return Q8(rB(e,r.length-t),r,t,i)}function ZEt(r,e,t,i){return Q8(JEt(e),r,t,i)}function QEt(r,e,t,i){return Q8(Jye(e),r,t,i)}function t_t(r,e,t,i){return Q8(e_t(e,r.length-t),r,t,i)}Se.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return YEt(this,e,t,i);case"utf8":case"utf-8":return XEt(this,e,t,i);case"ascii":case"latin1":case"binary":return ZEt(this,e,t,i);case"base64":return QEt(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t_t(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};Se.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function VEt(r,e,t){return e===0&&t===r.length?Xq.fromByteArray(r):Xq.fromByteArray(r.slice(e,t))}function Zye(r,e,t){t=Math.min(r.length,t);for(var i=[],n=e;n<t;){var s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){var c,u,f,l;switch(a){case 1:s<128&&(o=s);break;case 2:c=r[n+1],(c&192)==128&&(l=(s&31)<<6|c&63,l>127&&(o=l));break;case 3:c=r[n+1],u=r[n+2],(c&192)==128&&(u&192)==128&&(l=(s&15)<<12|(c&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:c=r[n+1],u=r[n+2],f=r[n+3],(c&192)==128&&(u&192)==128&&(f&192)==128&&(l=(s&15)<<18|(c&63)<<12|(u&63)<<6|f&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return r_t(i)}var tge=4096;function r_t(r){var e=r.length;if(e<=tge)return String.fromCharCode.apply(String,r);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=tge));return t}function jEt(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function HEt(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function GEt(r,e,t){var i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var n="",s=e;s<t;++s)n+=i_t[r[s]];return n}function $Et(r,e,t){for(var i=r.slice(e,t),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}Se.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,Se.prototype),n};function Hi(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}Se.prototype.readUintLE=Se.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Hi(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n};Se.prototype.readUintBE=Se.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Hi(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n};Se.prototype.readUint8=Se.prototype.readUInt8=function(e,t){return e=e>>>0,t||Hi(e,1,this.length),this[e]};Se.prototype.readUint16LE=Se.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Hi(e,2,this.length),this[e]|this[e+1]<<8};Se.prototype.readUint16BE=Se.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Hi(e,2,this.length),this[e]<<8|this[e+1]};Se.prototype.readUint32LE=Se.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Hi(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Se.prototype.readUint32BE=Se.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Hi(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Se.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Hi(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};Se.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Hi(e,t,this.length);for(var n=t,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};Se.prototype.readInt8=function(e,t){return e=e>>>0,t||Hi(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Se.prototype.readInt16LE=function(e,t){e=e>>>0,t||Hi(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};Se.prototype.readInt16BE=function(e,t){e=e>>>0,t||Hi(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};Se.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Hi(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Se.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Hi(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Se.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Hi(e,4,this.length),k1.read(this,e,!0,23,4)};Se.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Hi(e,4,this.length),k1.read(this,e,!1,23,4)};Se.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Hi(e,8,this.length),k1.read(this,e,!0,52,8)};Se.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Hi(e,8,this.length),k1.read(this,e,!1,52,8)};function Ms(r,e,t,i,n,s){if(!Se.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}Se.prototype.writeUintLE=Se.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Ms(this,e,t,i,s,0)}var o=1,a=0;for(this[t]=e&255;++a<i&&(o*=256);)this[t+a]=e/o&255;return t+i};Se.prototype.writeUintBE=Se.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Ms(this,e,t,i,s,0)}var o=i-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+i};Se.prototype.writeUint8=Se.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,1,255,0),this[t]=e&255,t+1};Se.prototype.writeUint16LE=Se.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};Se.prototype.writeUint16BE=Se.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};Se.prototype.writeUint32LE=Se.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};Se.prototype.writeUint32BE=Se.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};Se.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);Ms(this,e,t,i,s-1,-s)}var o=0,a=1,c=0;for(this[t]=e&255;++o<i&&(a*=256);)e<0&&c===0&&this[t+o-1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};Se.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);Ms(this,e,t,i,s-1,-s)}var o=i-1,a=1,c=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&c===0&&this[t+o+1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};Se.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};Se.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};Se.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};Se.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};Se.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Ms(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function rge(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function ige(r,e,t,i,n){return e=+e,t=t>>>0,n||rge(r,e,t,4,34028234663852886e22,-34028234663852886e22),k1.write(r,e,t,i,23,4),t+4}Se.prototype.writeFloatLE=function(e,t,i){return ige(this,e,t,!0,i)};Se.prototype.writeFloatBE=function(e,t,i){return ige(this,e,t,!1,i)};function nge(r,e,t,i,n){return e=+e,t=t>>>0,n||rge(r,e,t,8,17976931348623157e292,-17976931348623157e292),k1.write(r,e,t,i,52,8),t+8}Se.prototype.writeDoubleLE=function(e,t,i){return nge(this,e,t,!0,i)};Se.prototype.writeDoubleBE=function(e,t,i){return nge(this,e,t,!1,i)};Se.prototype.copy=function(e,t,i,n){if(!Se.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};Se.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Se.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{var a=Se.isBuffer(e)?e:Se.from(e,n),c=a.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=a[o%c]}return this};var n_t=/[^+/0-9A-Za-z-_]/g;function s_t(r){if(r=r.split("=")[0],r=r.trim().replace(n_t,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function rB(r,e){e=e||Infinity;for(var t,i=r.length,n=null,s=[],o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function JEt(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function e_t(r,e){for(var t,i,n,s=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function Jye(r){return Xq.toByteArray(s_t(r))}function Q8(r,e,t,i){for(var n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function qc(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function tB(r){return r!==r}var i_t=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var i=t*16,n=0;n<16;++n)e[i+n]=r[t]+r[n];return e}()});var oge=h(()=>{});var age=h(iB=>{"use strict";iB.test=function(){return typeof globalThis.queueMicrotask=="function"};iB.install=function(r){return function(){globalThis.queueMicrotask(r)}}});var uge=h(nB=>{"use strict";var cge=globalThis.MutationObserver||globalThis.WebKitMutationObserver;nB.test=function(){return cge};nB.install=function(r){var e=0,t=new cge(r),i=globalThis.document.createTextNode("");return t.observe(i,{characterData:!0}),function(){i.data=e=++e%2}}});var fge=h(sB=>{"use strict";sB.test=function(){return globalThis.setImmediate?!1:typeof globalThis.MessageChannel!="undefined"};sB.install=function(r){var e=new globalThis.MessageChannel;return e.port1.onmessage=r,function(){e.port2.postMessage(0)}}});var lge=h(oB=>{"use strict";oB.test=function(){return"document"in globalThis&&"onreadystatechange"in globalThis.document.createElement("script")};oB.install=function(r){return function(){var e=globalThis.document.createElement("script");return e.onreadystatechange=function(){r(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},globalThis.document.documentElement.appendChild(e),r}}});var hge=h(aB=>{"use strict";aB.test=function(){return!0};aB.install=function(r){return function(){setTimeout(r,0)}}});var gge=h((rpr,dge)=>{"use strict";var Im=[oge(),age(),uge(),fge(),lge(),hge()],A1,fh,Tm=-1,g0=[],cB=!1;function o_t(){!A1||!fh||(A1=!1,fh.length?g0=fh.concat(g0):Tm=-1,g0.length&&pge())}function pge(){if(!A1){cB=!1,A1=!0;for(var r=g0.length,e=setTimeout(o_t);r;){for(fh=g0,g0=[];fh&&++Tm<r;)fh[Tm].run();Tm=-1,r=g0.length}fh=null,Tm=-1,A1=!1,clearTimeout(e)}}var bge,Rm=-1,a_t=Im.length;for(;++Rm<a_t;)if(Im[Rm]&&Im[Rm].test&&Im[Rm].test()){bge=Im[Rm].install(pge);break}function yge(r,e){this.fun=r,this.array=e}yge.prototype.run=function(){var r=this.fun,e=this.array;switch(e.length){case 0:return r();case 1:return r(e[0]);case 2:return r(e[0],e[1]);case 3:return r(e[0],e[1],e[2]);default:return r.apply(null,e)}};dge.exports=c_t;function c_t(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];g0.push(new yge(r,e)),!cB&&!A1&&(cB=!0,bge())}});var e5=h((ipr,mge)=>{mge.exports=gge()});var uB=h((npr,xge)=>{var I1=e5();function m0(r){if(typeof r!="object"||r===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=r,this._ended=!1,this._nexting=!1}m0.prototype.next=function(r){var e=this;if(typeof r!="function")throw new Error("next() requires a callback argument");return e._ended?(I1(r,new Error("cannot call next() after end()")),e):e._nexting?(I1(r,new Error("cannot call next() before previous next() has completed")),e):(e._nexting=!0,e._next(function(){e._nexting=!1,r.apply(null,arguments)}),e)};m0.prototype._next=function(r){I1(r)};m0.prototype.seek=function(r){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");r=this.db._serializeKey(r),this._seek(r)};m0.prototype._seek=function(r){};m0.prototype.end=function(r){if(typeof r!="function")throw new Error("end() requires a callback argument");if(this._ended)return I1(r,new Error("end() already called on iterator"));this._ended=!0,this._end(r)};m0.prototype._end=function(r){I1(r)};m0.prototype._nextTick=I1;xge.exports=m0});var fB=h((spr,wge)=>{var u_t=e5();function Sa(r){if(typeof r!="object"||r===null)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=r,this._operations=[],this._written=!1}Sa.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")};Sa.prototype.put=function(r,e){this._checkWritten();var t=this.db._checkKey(r)||this.db._checkValue(e);if(t)throw t;return r=this.db._serializeKey(r),e=this.db._serializeValue(e),this._put(r,e),this};Sa.prototype._put=function(r,e){this._operations.push({type:"put",key:r,value:e})};Sa.prototype.del=function(r){this._checkWritten();var e=this.db._checkKey(r);if(e)throw e;return r=this.db._serializeKey(r),this._del(r),this};Sa.prototype._del=function(r){this._operations.push({type:"del",key:r})};Sa.prototype.clear=function(){return this._checkWritten(),this._clear(),this};Sa.prototype._clear=function(){this._operations=[]};Sa.prototype.write=function(r,e){if(this._checkWritten(),typeof r=="function"&&(e=r),typeof e!="function")throw new Error("write() requires a callback argument");(typeof r!="object"||r===null)&&(r={}),this._written=!0,this._write(r,e)};Sa.prototype._write=function(r,e){this.db._batch(this._operations,r,e)};Sa.prototype._nextTick=u_t;wge.exports=Sa});var _ge=h((opr,vge)=>{var f_t=Am(),l_t=Yq(),h_t=sge().Buffer,d_t=uB(),p_t=fB(),Vn=e5(),b_t=Object.prototype.hasOwnProperty,y_t="start end gt gte lt lte".split(" ");function zr(r){this.status="new",this.supports=l_t(r,{status:!0})}zr.prototype.open=function(r,e){var t=this,i=this.status;if(typeof r=="function"&&(e=r),typeof e!="function")throw new Error("open() requires a callback argument");(typeof r!="object"||r===null)&&(r={}),r.createIfMissing=r.createIfMissing!==!1,r.errorIfExists=!!r.errorIfExists,this.status="opening",this._open(r,function(n){if(n)return t.status=i,e(n);t.status="open",e()})};zr.prototype._open=function(r,e){Vn(e)};zr.prototype.close=function(r){var e=this,t=this.status;if(typeof r!="function")throw new Error("close() requires a callback argument");this.status="closing",this._close(function(i){if(i)return e.status=t,r(i);e.status="closed",r()})};zr.prototype._close=function(r){Vn(r)};zr.prototype.get=function(r,e,t){if(typeof e=="function"&&(t=e),typeof t!="function")throw new Error("get() requires a callback argument");var i=this._checkKey(r);if(i)return Vn(t,i);r=this._serializeKey(r),(typeof e!="object"||e===null)&&(e={}),e.asBuffer=e.asBuffer!==!1,this._get(r,e,t)};zr.prototype._get=function(r,e,t){Vn(function(){t(new Error("NotFound"))})};zr.prototype.put=function(r,e,t,i){if(typeof t=="function"&&(i=t),typeof i!="function")throw new Error("put() requires a callback argument");var n=this._checkKey(r)||this._checkValue(e);if(n)return Vn(i,n);r=this._serializeKey(r),e=this._serializeValue(e),(typeof t!="object"||t===null)&&(t={}),this._put(r,e,t,i)};zr.prototype._put=function(r,e,t,i){Vn(i)};zr.prototype.del=function(r,e,t){if(typeof e=="function"&&(t=e),typeof t!="function")throw new Error("del() requires a callback argument");var i=this._checkKey(r);if(i)return Vn(t,i);r=this._serializeKey(r),(typeof e!="object"||e===null)&&(e={}),this._del(r,e,t)};zr.prototype._del=function(r,e,t){Vn(t)};zr.prototype.batch=function(r,e,t){if(!arguments.length)return this._chainedBatch();if(typeof e=="function"&&(t=e),typeof r=="function"&&(t=r),typeof t!="function")throw new Error("batch(array) requires a callback argument");if(!Array.isArray(r))return Vn(t,new Error("batch(array) requires an array argument"));if(r.length===0)return Vn(t);(typeof e!="object"||e===null)&&(e={});for(var i=new Array(r.length),n=0;n<r.length;n++){if(typeof r[n]!="object"||r[n]===null)return Vn(t,new Error("batch(array) element must be an object and not `null`"));var s=f_t(r[n]);if(s.type!=="put"&&s.type!=="del")return Vn(t,new Error("`type` must be 'put' or 'del'"));var o=this._checkKey(s.key);if(o)return Vn(t,o);if(s.key=this._serializeKey(s.key),s.type==="put"){var a=this._checkValue(s.value);if(a)return Vn(t,a);s.value=this._serializeValue(s.value)}i[n]=s}this._batch(i,e,t)};zr.prototype._batch=function(r,e,t){Vn(t)};zr.prototype.clear=function(r,e){if(typeof r=="function")e=r;else if(typeof e!="function")throw new Error("clear() requires a callback argument");r=Ege(this,r),r.reverse=!!r.reverse,r.limit="limit"in r?r.limit:-1,this._clear(r,e)};zr.prototype._clear=function(r,e){r.keys=!0,r.values=!1,r.keyAsBuffer=!0,r.valueAsBuffer=!0;var t=this._iterator(r),i={},n=this,s=function(o){if(o)return t.end(function(){e(o)});t.next(function(a,c){if(a)return s(a);if(c===void 0)return t.end(e);n._del(c,i,s)})};s()};zr.prototype._setupIteratorOptions=function(r){return r=Ege(this,r),r.reverse=!!r.reverse,r.keys=r.keys!==!1,r.values=r.values!==!1,r.limit="limit"in r?r.limit:-1,r.keyAsBuffer=r.keyAsBuffer!==!1,r.valueAsBuffer=r.valueAsBuffer!==!1,r};function Ege(r,e){var t={};for(var i in e)if(!!b_t.call(e,i)){var n=e[i];g_t(i)&&(n=r._serializeKey(n)),t[i]=n}return t}function g_t(r){return y_t.indexOf(r)!==-1}zr.prototype.iterator=function(r){return(typeof r!="object"||r===null)&&(r={}),r=this._setupIteratorOptions(r),this._iterator(r)};zr.prototype._iterator=function(r){return new d_t(this)};zr.prototype._chainedBatch=function(){return new p_t(this)};zr.prototype._serializeKey=function(r){return r};zr.prototype._serializeValue=function(r){return r};zr.prototype._checkKey=function(r){if(r==null)return new Error("key cannot be `null` or `undefined`");if(h_t.isBuffer(r)&&r.length===0)return new Error("key cannot be an empty Buffer");if(r==="")return new Error("key cannot be an empty String");if(Array.isArray(r)&&r.length===0)return new Error("key cannot be an empty Array")};zr.prototype._checkValue=function(r){if(r==null)return new Error("value cannot be `null` or `undefined`")};zr.prototype._nextTick=Vn;vge.exports=zr});var x0=h(t5=>{t5.AbstractLevelDOWN=_ge();t5.AbstractIterator=uB();t5.AbstractChainedBatch=fB()});var Age=h((cpr,Sge)=>{var kge=x0().AbstractIterator,m_t=cn();function T1(r,e){kge.call(this,r),this._options=e,this._iterator=null,this._operations=[]}m_t(T1,kge);T1.prototype.setDb=function(r){var e=this._iterator=r.iterator(this._options);this._operations.forEach(function(t){e[t.method].apply(e,t.args)})};T1.prototype._operation=function(r,e){if(this._iterator)return this._iterator[r].apply(this._iterator,e);this._operations.push({method:r,args:e})};"next end".split(" ").forEach(function(r){T1.prototype["_"+r]=function(){this._operation(r,arguments)}});T1.prototype.seek=function(){this._operation("seek",arguments)};Sge.exports=T1});var Bge=h((upr,lB)=>{var Ige=x0().AbstractLevelDOWN,x_t=cn(),Tge=Age(),Rge="put get del batch clear".split(" "),w_t="approximateSize compactRange".split(" ");function lh(r){Ige.call(this,r.supports||{}),w_t.forEach(function(e){typeof r[e]=="function"&&!this.supports.additionalMethods[e]&&(this.supports.additionalMethods[e]=!0)},this),this._db=r,this._operations=[],qge(this)}x_t(lh,Ige);lh.prototype.type="deferred-leveldown";lh.prototype._open=function(r,e){var t=this;this._db.open(r,function(i){if(i)return e(i);t._operations.forEach(function(n){n.iterator?n.iterator.setDb(t._db):t._db[n.method].apply(t._db,n.args)}),t._operations=[],v_t(t),e()})};lh.prototype._close=function(r){var e=this;this._db.close(function(t){if(t)return r(t);qge(e),r()})};function v_t(r){Rge.concat("iterator").forEach(function(e){r["_"+e]=function(){return this._db[e].apply(this._db,arguments)}}),Object.keys(r.supports.additionalMethods).forEach(function(e){r[e]=function(){return this._db[e].apply(this._db,arguments)}})}function qge(r){Rge.forEach(function(e){r["_"+e]=function(){this._operations.push({method:e,args:arguments})}}),Object.keys(r.supports.additionalMethods).forEach(function(e){r[e]=function(){this._operations.push({method:e,args:arguments})}}),r._iterator=function(e){var t=new Tge(r,e);return this._operations.push({iterator:t}),t}}lh.prototype._serializeKey=function(r){return r};lh.prototype._serializeValue=function(r){return r};lB.exports=lh;lB.exports.DeferredIterator=Tge});var hB=h((Fo,Cge)=>{Fo=Cge.exports=_6();Fo.Stream=Fo;Fo.Readable=Fo;Fo.Writable=E6();Fo.Duplex=e0();Fo.Transform=N6();Fo.PassThrough=O9();Fo.finished=gg();Fo.pipeline=F9()});var Pge=h((fpr,Mge)=>{var E_t=cn(),Nge=hB().Readable,__t=Am();Mge.exports=R1;E_t(R1,Nge);function R1(r,e){if(!(this instanceof R1))return new R1(r,e);e=e||{},Nge.call(this,__t(e,{objectMode:!0})),this._iterator=r,this._options=e,this.on("end",this.destroy.bind(this,null,null))}R1.prototype._read=function(){var r=this,e=this._options;this.destroyed||this._iterator.next(function(t,i,n){if(!r.destroyed){if(t)return r.destroy(t);i===void 0&&n===void 0?r.push(null):e.keys!==!1&&e.values===!1?r.push(i):e.keys===!1&&e.values!==!1?r.push(n):r.push({key:i,value:n})}})};R1.prototype._destroy=function(r,e){this._iterator.end(function(t){e(r||t)})}});var Oge=h((Dge,r5)=>{(function(r,e,t){typeof r5!="undefined"&&r5.exports?r5.exports=t():e[r]=t()})("prr",Dge,function(){var r=typeof Object.defineProperty=="function"?function(i,n,s){return Object.defineProperty(i,n,s),i}:function(i,n,s){return i[n]=s.value,i},e=function(i,n){var s=typeof n=="object",o=!s&&typeof n=="string",a=function(c){return s?!!n[c]:o?n.indexOf(c[0])>-1:!1};return{enumerable:a("enumerable"),configurable:a("configurable"),writable:a("writable"),value:i}},t=function(i,n,s,o){var a;if(o=e(s,o),typeof n=="object"){for(a in n)Object.hasOwnProperty.call(n,a)&&(o.value=n[a],r(i,a,o));return i}return r(i,n,o)};return t})});var Uge=h((lpr,Lge)=>{var S_t=Oge();function Fge(r,e,t){!!e&&typeof e!="string"&&(e=e.message||e.name),S_t(this,{type:r,name:r,cause:typeof e!="string"?e:t,message:e},"ewr")}function dB(r,e){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),Fge.call(this,"CustomError",r,e)}dB.prototype=new Error;function k_t(r,e,t){var i=function(n,s){Fge.call(this,e,n,s),e=="FilesystemError"&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(r.errno[this.cause.errno]?r.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,i)};return i.prototype=t?new t:new dB,i}Lge.exports=function(r){var e=function(t,i){return k_t(r,t,i)};return{CustomError:dB,FilesystemError:e("FilesystemError"),createError:e}}});var zge=h((hpr,Bc)=>{var A_t=Bc.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];Bc.exports.errno={};Bc.exports.code={};A_t.forEach(function(r){Bc.exports.errno[r.errno]=r,Bc.exports.code[r.code]=r});Bc.exports.custom=Uge()(Bc.exports);Bc.exports.create=Bc.exports.custom.createError});var i5=h((dpr,Kge)=>{var hh=zge().create,dh=hh("LevelUPError"),pB=hh("NotFoundError",dh);pB.prototype.notFound=!0;pB.prototype.status=404;Kge.exports={LevelUPError:dh,InitializationError:hh("InitializationError",dh),OpenError:hh("OpenError",dh),ReadError:hh("ReadError",dh),WriteError:hh("WriteError",dh),NotFoundError:pB,EncodingError:hh("EncodingError",dh)}});var bB=h((ppr,Vge)=>{function I_t(){var r,e=new Promise(function(t,i){r=function(s,o){s?i(s):t(o)}});return r.promise=e,r}Vge.exports=I_t});var qm=h(yB=>{yB.getCallback=function(r,e){return typeof r=="function"?r:e};yB.getOptions=function(r){return typeof r=="object"&&r!==null?r:{}}});var Hge=h((ypr,jge)=>{var Bm=i5().WriteError,T_t=bB(),R_t=qm().getCallback,q_t=qm().getOptions;function Cm(r){this.db=this._levelup=r,this.batch=r.db.batch(),this.ops=[],this.length=0}Cm.prototype.put=function(r,e){try{this.batch.put(r,e)}catch(t){throw new Bm(t)}return this.ops.push({type:"put",key:r,value:e}),this.length++,this};Cm.prototype.del=function(r){try{this.batch.del(r)}catch(e){throw new Bm(e)}return this.ops.push({type:"del",key:r}),this.length++,this};Cm.prototype.clear=function(){try{this.batch.clear()}catch(r){throw new Bm(r)}return this.ops=[],this.length=0,this};Cm.prototype.write=function(r,e){var t=this._levelup,i=this.ops,n;e=R_t(r,e),e||(e=T_t(),n=e.promise),r=q_t(r);try{this.batch.write(r,function(s){if(s)return e(new Bm(s));t.emit("batch",i),e()})}catch(s){throw new Bm(s)}return n};jge.exports=Cm});var wB=h((gpr,Gge)=>{"use strict";function q1(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?q1=function(t){return typeof t}:q1=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q1(r)}function B_t(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function M_t(r,e){return e&&(q1(e)==="object"||typeof e=="function")?e:C_t(r)}function C_t(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function gB(r){return gB=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gB(r)}function N_t(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&mB(r,e)}function mB(r,e){return mB=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},mB(r,e)}var $ge={},B1,xB;function Mm(r,e,t){t||(t=Error);function i(s,o,a){return typeof e=="string"?e:e(s,o,a)}var n=function(s){N_t(o,s);function o(a,c,u){var f;return B_t(this,o),f=M_t(this,gB(o).call(this,i(a,c,u))),f.code=r,f}return o}(t);$ge[r]=n}function Wge(r,e){if(Array.isArray(r)){var t=r.length;return r=r.map(function(i){return String(i)}),t>2?"one of ".concat(e," ").concat(r.slice(0,t-1).join(", "),", or ")+r[t-1]:t===2?"one of ".concat(e," ").concat(r[0]," or ").concat(r[1]):"of ".concat(e," ").concat(r[0])}else return"of ".concat(e," ").concat(String(r))}function P_t(r,e,t){return r.substr(!t||t<0?0:+t,e.length)===e}function D_t(r,e,t){return(t===void 0||t>r.length)&&(t=r.length),r.substring(t-e.length,t)===e}function O_t(r,e,t){return typeof t!="number"&&(t=0),t+e.length>r.length?!1:r.indexOf(e,t)!==-1}Mm("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError);Mm("ERR_INVALID_ARG_TYPE",function(r,e,t){B1===void 0&&(B1=n5()),B1(typeof r=="string","'name' must be a string");var i;typeof e=="string"&&P_t(e,"not ")?(i="must not be",e=e.replace(/^not /,"")):i="must be";var n;if(D_t(r," argument"))n="The ".concat(r," ").concat(i," ").concat(Wge(e,"type"));else{var s=O_t(r,".")?"property":"argument";n='The "'.concat(r,'" ').concat(s," ").concat(i," ").concat(Wge(e,"type"))}return n+=". Received type ".concat(q1(t)),n},TypeError);Mm("ERR_INVALID_ARG_VALUE",function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";xB===void 0&&(xB=No());var i=xB.inspect(e);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(r,"' ").concat(t,". Received ").concat(i)},TypeError,RangeError);Mm("ERR_INVALID_RETURN_VALUE",function(r,e,t){var i;return t&&t.constructor&&t.constructor.name?i="instance of ".concat(t.constructor.name):i="type ".concat(q1(t)),"Expected ".concat(r,' to be returned from the "').concat(e,'"')+" function but got ".concat(i,".")},TypeError);Mm("ERR_MISSING_ARGS",function(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];B1===void 0&&(B1=n5()),B1(e.length>0,"At least one arg needs to be specified");var i="The ",n=e.length;switch(e=e.map(function(s){return'"'.concat(s,'"')}),n){case 1:i+="".concat(e[0]," argument");break;case 2:i+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:i+=e.slice(0,n-1).join(", "),i+=", and ".concat(e[n-1]," arguments");break}return"".concat(i," must be specified")},TypeError);Gge.exports.codes=$ge});var Qge=h((mpr,Yge)=>{"use strict";function F_t(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.forEach(function(n){L_t(r,n,t[n])})}return r}function L_t(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function U_t(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function Xge(r,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(r,i.key,i)}}function z_t(r,e,t){return e&&Xge(r.prototype,e),t&&Xge(r,t),r}function C1(r,e){return e&&(Uo(e)==="object"||typeof e=="function")?e:vB(r)}function vB(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function K_t(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),e&&Nm(r,e)}function EB(r){var e=typeof Map=="function"?new Map:void 0;return EB=function(i){if(i===null||!V_t(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e!="undefined"){if(e.has(i))return e.get(i);e.set(i,n)}function n(){return s5(i,arguments,w0(this).constructor)}return n.prototype=Object.create(i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Nm(n,i)},EB(r)}function j_t(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}function s5(r,e,t){return j_t()?s5=Reflect.construct:s5=function(n,s,o){var a=[null];a.push.apply(a,s);var c=Function.bind.apply(n,a),u=new c;return o&&Nm(u,o.prototype),u},s5.apply(null,arguments)}function V_t(r){return Function.toString.call(r).indexOf("[native code]")!==-1}function Nm(r,e){return Nm=Object.setPrototypeOf||function(i,n){return i.__proto__=n,i},Nm(r,e)}function w0(r){return w0=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},w0(r)}function Uo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Uo=function(t){return typeof t}:Uo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(r)}var H_t=No(),_B=H_t.inspect,G_t=wB(),$_t=G_t.codes.ERR_INVALID_ARG_TYPE;function Jge(r,e,t){return(t===void 0||t>r.length)&&(t=r.length),r.substring(t-e.length,t)===e}function W_t(r,e){if(e=Math.floor(e),r.length==0||e==0)return"";var t=r.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)r+=r,e--;return r+=r.substring(0,t-r.length),r}var ka="",Pm="",Dm="",En="",ph={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},Y_t=10;function Zge(r){var e=Object.keys(r),t=Object.create(Object.getPrototypeOf(r));return e.forEach(function(i){t[i]=r[i]}),Object.defineProperty(t,"message",{value:r.message}),t}function Om(r){return _B(r,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:Infinity,showHidden:!1,breakLength:Infinity,showProxy:!1,sorted:!0,getters:!0})}function X_t(r,e,t){var i="",n="",s=0,o="",a=!1,c=Om(r),u=c.split(`
`),f=Om(e).split(`
`),l=0,d="";if(t==="strictEqual"&&Uo(r)==="object"&&Uo(e)==="object"&&r!==null&&e!==null&&(t="strictEqualObject"),u.length===1&&f.length===1&&u[0]!==f[0]){var p=u[0].length+f[0].length;if(p<=Y_t){if((Uo(r)!=="object"||r===null)&&(Uo(e)!=="object"||e===null)&&(r!==0||e!==0))return"".concat(ph[t],`

`)+"".concat(u[0]," !== ").concat(f[0],`
`)}else if(t!=="strictEqualObject"){var b=process.stderr&&process.stderr.isTTY?process.stderr.columns:80;if(p<b){for(;u[0][l]===f[0][l];)l++;l>2&&(d=`
  `.concat(W_t(" ",l),"^"),l=0)}}}for(var g=u[u.length-1],m=f[f.length-1];g===m&&(l++<2?o=`
  `.concat(g).concat(o):i=g,u.pop(),f.pop(),!(u.length===0||f.length===0));)g=u[u.length-1],m=f[f.length-1];var w=Math.max(u.length,f.length);if(w===0){var A=c.split(`
`);if(A.length>30)for(A[26]="".concat(ka,"...").concat(En);A.length>27;)A.pop();return"".concat(ph.notIdentical,`

`).concat(A.join(`
`),`
`)}l>3&&(o=`
`.concat(ka,"...").concat(En).concat(o),a=!0),i!==""&&(o=`
  `.concat(i).concat(o),i="");var I=0,F=ph[t]+`
`.concat(Pm,"+ actual").concat(En," ").concat(Dm,"- expected").concat(En),V=" ".concat(ka,"...").concat(En," Lines skipped");for(l=0;l<w;l++){var P=l-s;if(u.length<l+1)P>1&&l>2&&(P>4?(n+=`
`.concat(ka,"...").concat(En),a=!0):P>3&&(n+=`
  `.concat(f[l-2]),I++),n+=`
  `.concat(f[l-1]),I++),s=l,i+=`
`.concat(Dm,"-").concat(En," ").concat(f[l]),I++;else if(f.length<l+1)P>1&&l>2&&(P>4?(n+=`
`.concat(ka,"...").concat(En),a=!0):P>3&&(n+=`
  `.concat(u[l-2]),I++),n+=`
  `.concat(u[l-1]),I++),s=l,n+=`
`.concat(Pm,"+").concat(En," ").concat(u[l]),I++;else{var W=f[l],ne=u[l],Q=ne!==W&&(!Jge(ne,",")||ne.slice(0,-1)!==W);Q&&Jge(W,",")&&W.slice(0,-1)===ne&&(Q=!1,ne+=","),Q?(P>1&&l>2&&(P>4?(n+=`
`.concat(ka,"...").concat(En),a=!0):P>3&&(n+=`
  `.concat(u[l-2]),I++),n+=`
  `.concat(u[l-1]),I++),s=l,n+=`
`.concat(Pm,"+").concat(En," ").concat(ne),i+=`
`.concat(Dm,"-").concat(En," ").concat(W),I+=2):(n+=i,i="",(P===1||l===0)&&(n+=`
  `.concat(ne),I++))}if(I>20&&l<w-2)return"".concat(F).concat(V,`
`).concat(n,`
`).concat(ka,"...").concat(En).concat(i,`
`)+"".concat(ka,"...").concat(En)}return"".concat(F).concat(a?V:"",`
`).concat(n).concat(i).concat(o).concat(d)}var J_t=function(r){K_t(e,r);function e(t){var i;if(U_t(this,e),Uo(t)!=="object"||t===null)throw new $_t("options","Object",t);var n=t.message,s=t.operator,o=t.stackStartFn,a=t.actual,c=t.expected,u=Error.stackTraceLimit;if(Error.stackTraceLimit=0,n!=null)i=C1(this,w0(e).call(this,String(n)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&process.stderr.getColorDepth()!==1?(ka="[34m",Pm="[32m",En="[39m",Dm="[31m"):(ka="",Pm="",En="",Dm="")),Uo(a)==="object"&&a!==null&&Uo(c)==="object"&&c!==null&&"stack"in a&&a instanceof Error&&"stack"in c&&c instanceof Error&&(a=Zge(a),c=Zge(c)),s==="deepStrictEqual"||s==="strictEqual")i=C1(this,w0(e).call(this,X_t(a,c,s)));else if(s==="notDeepStrictEqual"||s==="notStrictEqual"){var f=ph[s],l=Om(a).split(`
`);if(s==="notStrictEqual"&&Uo(a)==="object"&&a!==null&&(f=ph.notStrictEqualObject),l.length>30)for(l[26]="".concat(ka,"...").concat(En);l.length>27;)l.pop();l.length===1?i=C1(this,w0(e).call(this,"".concat(f," ").concat(l[0]))):i=C1(this,w0(e).call(this,"".concat(f,`

`).concat(l.join(`
`),`
`)))}else{var d=Om(a),p="",b=ph[s];s==="notDeepEqual"||s==="notEqual"?(d="".concat(ph[s],`

`).concat(d),d.length>1024&&(d="".concat(d.slice(0,1021),"..."))):(p="".concat(Om(c)),d.length>512&&(d="".concat(d.slice(0,509),"...")),p.length>512&&(p="".concat(p.slice(0,509),"...")),s==="deepEqual"||s==="equal"?d="".concat(b,`

`).concat(d,`

should equal

`):p=" ".concat(s," ").concat(p)),i=C1(this,w0(e).call(this,"".concat(d).concat(p)))}return Error.stackTraceLimit=u,i.generatedMessage=!n,Object.defineProperty(vB(i),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),i.code="ERR_ASSERTION",i.actual=a,i.expected=c,i.operator=s,Error.captureStackTrace&&Error.captureStackTrace(vB(i),o),i.stack,i.name="AssertionError",C1(i)}return z_t(e,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:_B.custom,value:function(i,n){return _B(this,F_t({},n,{customInspect:!1,depth:0}))}}]),e}(EB(Error));Yge.exports=J_t});var rme=h((xpr,eme)=>{"use strict";function tme(r,e){if(r==null)throw new TypeError("Cannot convert first argument to object");for(var t=Object(r),i=1;i<arguments.length;i++){var n=arguments[i];if(n!=null)for(var s=Object.keys(Object(n)),o=0,a=s.length;o<a;o++){var c=s[o],u=Object.getOwnPropertyDescriptor(n,c);u!==void 0&&u.enumerable&&(t[c]=n[c])}}return t}function Z_t(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:tme})}eme.exports={assign:tme,polyfill:Z_t}});var SB=h((wpr,ime)=>{"use strict";var nme=function(r){return r!==r};ime.exports=function(e,t){return e===0&&t===0?1/e==1/t:!!(e===t||nme(e)&&nme(t))}});var kB=h((vpr,sme)=>{"use strict";var Q_t=SB();sme.exports=function(){return typeof Object.is=="function"?Object.is:Q_t}});var ame=h((Epr,ome)=>{"use strict";var eSt=kB(),tSt=J0();ome.exports=function(){var e=eSt();return tSt(Object,{is:e},{is:function(){return Object.is!==e}}),e}});var AB=h((_pr,cme)=>{"use strict";var rSt=J0(),iSt=K6(),nSt=SB(),ume=kB(),sSt=ame(),fme=iSt(ume(),Object);rSt(fme,{getPolyfill:ume,implementation:nSt,shim:sSt});cme.exports=fme});var IB=h((Spr,lme)=>{"use strict";lme.exports=function(e){return e!==e}});var TB=h((kpr,hme)=>{"use strict";var oSt=IB();hme.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:oSt}});var pme=h((Apr,dme)=>{"use strict";var aSt=J0(),cSt=TB();dme.exports=function(){var e=cSt();return aSt(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}});var mme=h((Ipr,bme)=>{"use strict";var uSt=K6(),fSt=J0(),lSt=IB(),yme=TB(),hSt=pme(),gme=uSt(yme(),Number);fSt(gme,{getPolyfill:yme,implementation:lSt,shim:hSt});bme.exports=gme});var Ome=h((Tpr,xme)=>{"use strict";function wme(r,e){return bSt(r)||pSt(r,e)||dSt()}function dSt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function pSt(r,e){var t=[],i=!0,n=!1,s=void 0;try{for(var o=r[Symbol.iterator](),a;!(i=(a=o.next()).done)&&(t.push(a.value),!(e&&t.length===e));i=!0);}catch(c){n=!0,s=c}finally{try{!i&&o.return!=null&&o.return()}finally{if(n)throw s}}return t}function bSt(r){if(Array.isArray(r))return r}function eo(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?eo=function(t){return typeof t}:eo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(r)}var ySt=/a/g.flags!==void 0,o5=function(e){var t=[];return e.forEach(function(i){return t.push(i)}),t},vme=function(e){var t=[];return e.forEach(function(i,n){return t.push([n,i])}),t},Eme=Object.is?Object.is:AB(),a5=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},RB=Number.isNaN?Number.isNaN:mme();function qB(r){return r.call.bind(r)}var Lm=qB(Object.prototype.hasOwnProperty),c5=qB(Object.prototype.propertyIsEnumerable),_me=qB(Object.prototype.toString),ss=No().types,gSt=ss.isAnyArrayBuffer,mSt=ss.isArrayBufferView,Sme=ss.isDate,u5=ss.isMap,kme=ss.isRegExp,f5=ss.isSet,xSt=ss.isNativeError,wSt=ss.isBoxedPrimitive,Ame=ss.isNumberObject,Ime=ss.isStringObject,Tme=ss.isBooleanObject,Rme=ss.isBigIntObject,vSt=ss.isSymbolObject,ESt=ss.isFloat32Array,_St=ss.isFloat64Array;function SSt(r){if(r.length===0||r.length>10)return!0;for(var e=0;e<r.length;e++){var t=r.charCodeAt(e);if(t<48||t>57)return!0}return r.length===10&&r>=Math.pow(2,32)}function l5(r){return Object.keys(r).filter(SSt).concat(a5(r).filter(Object.prototype.propertyIsEnumerable.bind(r)))}function qme(r,e){if(r===e)return 0;for(var t=r.length,i=e.length,n=0,s=Math.min(t,i);n<s;++n)if(r[n]!==e[n]){t=r[n],i=e[n];break}return t<i?-1:i<t?1:0}var h5=void 0,kSt=!0,ASt=!1,BB=0,CB=1,Bme=2,Cme=3;function ISt(r,e){return ySt?r.source===e.source&&r.flags===e.flags:RegExp.prototype.toString.call(r)===RegExp.prototype.toString.call(e)}function TSt(r,e){if(r.byteLength!==e.byteLength)return!1;for(var t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}function RSt(r,e){return r.byteLength!==e.byteLength?!1:qme(new Uint8Array(r.buffer,r.byteOffset,r.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))===0}function qSt(r,e){return r.byteLength===e.byteLength&&qme(new Uint8Array(r),new Uint8Array(e))===0}function BSt(r,e){return Ame(r)?Ame(e)&&Eme(Number.prototype.valueOf.call(r),Number.prototype.valueOf.call(e)):Ime(r)?Ime(e)&&String.prototype.valueOf.call(r)===String.prototype.valueOf.call(e):Tme(r)?Tme(e)&&Boolean.prototype.valueOf.call(r)===Boolean.prototype.valueOf.call(e):Rme(r)?Rme(e)&&BigInt.prototype.valueOf.call(r)===BigInt.prototype.valueOf.call(e):vSt(e)&&Symbol.prototype.valueOf.call(r)===Symbol.prototype.valueOf.call(e)}function zo(r,e,t,i){if(r===e)return r!==0?!0:t?Eme(r,e):!0;if(t){if(eo(r)!=="object")return typeof r=="number"&&RB(r)&&RB(e);if(eo(e)!=="object"||r===null||e===null||Object.getPrototypeOf(r)!==Object.getPrototypeOf(e))return!1}else{if(r===null||eo(r)!=="object")return e===null||eo(e)!=="object"?r==e:!1;if(e===null||eo(e)!=="object")return!1}var n=_me(r),s=_me(e);if(n!==s)return!1;if(Array.isArray(r)){if(r.length!==e.length)return!1;var o=l5(r,h5),a=l5(e,h5);return o.length!==a.length?!1:Fm(r,e,t,i,CB,o)}if(n==="[object Object]"&&(!u5(r)&&u5(e)||!f5(r)&&f5(e)))return!1;if(Sme(r)){if(!Sme(e)||Date.prototype.getTime.call(r)!==Date.prototype.getTime.call(e))return!1}else if(kme(r)){if(!kme(e)||!ISt(r,e))return!1}else if(xSt(r)||r instanceof Error){if(r.message!==e.message||r.name!==e.name)return!1}else if(mSt(r)){if(!t&&(ESt(r)||_St(r))){if(!TSt(r,e))return!1}else if(!RSt(r,e))return!1;var c=l5(r,h5),u=l5(e,h5);return c.length!==u.length?!1:Fm(r,e,t,i,BB,c)}else{if(f5(r))return!f5(e)||r.size!==e.size?!1:Fm(r,e,t,i,Bme);if(u5(r))return!u5(e)||r.size!==e.size?!1:Fm(r,e,t,i,Cme);if(gSt(r)){if(!qSt(r,e))return!1}else if(wSt(r)&&!BSt(r,e))return!1}return Fm(r,e,t,i,BB)}function Mme(r,e){return e.filter(function(t){return c5(r,t)})}function Fm(r,e,t,i,n,s){if(arguments.length===5){s=Object.keys(r);var o=Object.keys(e);if(s.length!==o.length)return!1}for(var a=0;a<s.length;a++)if(!Lm(e,s[a]))return!1;if(t&&arguments.length===5){var c=a5(r);if(c.length!==0){var u=0;for(a=0;a<c.length;a++){var f=c[a];if(c5(r,f)){if(!c5(e,f))return!1;s.push(f),u++}else if(c5(e,f))return!1}var l=a5(e);if(c.length!==l.length&&Mme(e,l).length!==u)return!1}else{var d=a5(e);if(d.length!==0&&Mme(e,d).length!==0)return!1}}if(s.length===0&&(n===BB||n===CB&&r.length===0||r.size===0))return!0;if(i===void 0)i={val1:new Map,val2:new Map,position:0};else{var p=i.val1.get(r);if(p!==void 0){var b=i.val2.get(e);if(b!==void 0)return p===b}i.position++}i.val1.set(r,i.position),i.val2.set(e,i.position);var g=CSt(r,e,t,s,i,n);return i.val1.delete(r),i.val2.delete(e),g}function Nme(r,e,t,i){for(var n=o5(r),s=0;s<n.length;s++){var o=n[s];if(zo(e,o,t,i))return r.delete(o),!0}return!1}function Pme(r){switch(eo(r)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":r=+r;case"number":if(RB(r))return!1}return!0}function MSt(r,e,t){var i=Pme(t);return i??(e.has(i)&&!r.has(i))}function NSt(r,e,t,i,n){var s=Pme(t);if(s!=null)return s;var o=e.get(s);return o===void 0&&!e.has(s)||!zo(i,o,!1,n)?!1:!r.has(s)&&zo(i,o,!1,n)}function PSt(r,e,t,i){for(var n=null,s=o5(r),o=0;o<s.length;o++){var a=s[o];if(eo(a)==="object"&&a!==null)n===null&&(n=new Set),n.add(a);else if(!e.has(a)){if(t||!MSt(r,e,a))return!1;n===null&&(n=new Set),n.add(a)}}if(n!==null){for(var c=o5(e),u=0;u<c.length;u++){var f=c[u];if(eo(f)==="object"&&f!==null){if(!Nme(n,f,t,i))return!1}else if(!t&&!r.has(f)&&!Nme(n,f,t,i))return!1}return n.size===0}return!0}function Dme(r,e,t,i,n,s){for(var o=o5(r),a=0;a<o.length;a++){var c=o[a];if(zo(t,c,n,s)&&zo(i,e.get(c),n,s))return r.delete(c),!0}return!1}function DSt(r,e,t,i){for(var n=null,s=vme(r),o=0;o<s.length;o++){var a=wme(s[o],2),c=a[0],u=a[1];if(eo(c)==="object"&&c!==null)n===null&&(n=new Set),n.add(c);else{var f=e.get(c);if(f===void 0&&!e.has(c)||!zo(u,f,t,i)){if(t||!NSt(r,e,c,u,i))return!1;n===null&&(n=new Set),n.add(c)}}}if(n!==null){for(var l=vme(e),d=0;d<l.length;d++){var p=wme(l[d],2),c=p[0],b=p[1];if(eo(c)==="object"&&c!==null){if(!Dme(n,r,c,b,t,i))return!1}else if(!t&&(!r.has(c)||!zo(r.get(c),b,!1,i))&&!Dme(n,r,c,b,!1,i))return!1}return n.size===0}return!0}function CSt(r,e,t,i,n,s){var o=0;if(s===Bme){if(!PSt(r,e,t,n))return!1}else if(s===Cme){if(!DSt(r,e,t,n))return!1}else if(s===CB)for(;o<r.length;o++)if(Lm(r,o)){if(!Lm(e,o)||!zo(r[o],e[o],t,n))return!1}else{if(Lm(e,o))return!1;for(var a=Object.keys(r);o<a.length;o++){var c=a[o];if(!Lm(e,c)||!zo(r[c],e[c],t,n))return!1}return a.length===Object.keys(e).length}for(o=0;o<i.length;o++){var u=i[o];if(!zo(r[u],e[u],t,n))return!1}return!0}function OSt(r,e){return zo(r,e,ASt)}function LSt(r,e){return zo(r,e,kSt)}xme.exports={isDeepEqual:OSt,isDeepStrictEqual:LSt}});var n5=h((qpr,Lme)=>{"use strict";function v0(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?v0=function(t){return typeof t}:v0=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v0(r)}function FSt(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}var USt=wB(),Um=USt.codes,Fme=Um.ERR_AMBIGUOUS_ARGUMENT,zm=Um.ERR_INVALID_ARG_TYPE,zSt=Um.ERR_INVALID_ARG_VALUE,KSt=Um.ERR_INVALID_RETURN_VALUE,E0=Um.ERR_MISSING_ARGS,bh=Qge(),VSt=No(),jSt=VSt.inspect,Ume=No().types,HSt=Ume.isPromise,MB=Ume.isRegExp,GSt=Object.assign?Object.assign:rme().assign,zme=Object.is?Object.is:AB(),Rpr=new Map,_0,d5;function Km(){var r=Ome();_0=r.isDeepEqual,d5=r.isDeepStrictEqual}var Kme=!1,Kr=Lme.exports=NB,p5={};function Aa(r){throw r.message instanceof Error?r.message:new bh(r)}function Vme(r,e,t,i,n){var s=arguments.length,o;if(s===0)o="Failed";else if(s===1)t=r,r=void 0;else{if(Kme===!1){Kme=!0;var a=process.emitWarning?process.emitWarning:console.warn.bind(console);a("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}s===2&&(i="!=")}if(t instanceof Error)throw t;var c={actual:r,expected:e,operator:i===void 0?"fail":i,stackStartFn:n||Vme};t!==void 0&&(c.message=t);var u=new bh(c);throw o&&(u.message=o,u.generatedMessage=!0),u}Kr.fail=Vme;Kr.AssertionError=bh;function jme(r,e,t,i){if(!t){var n=!1;if(e===0)n=!0,i="No value argument passed to `assert.ok()`";else if(i instanceof Error)throw i;var s=new bh({actual:t,expected:!0,message:i,operator:"==",stackStartFn:r});throw s.generatedMessage=n,s}}function NB(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];jme.apply(void 0,[NB,e.length].concat(e))}Kr.ok=NB;Kr.equal=function r(e,t,i){if(arguments.length<2)throw new E0("actual","expected");e!=t&&Aa({actual:e,expected:t,message:i,operator:"==",stackStartFn:r})};Kr.notEqual=function r(e,t,i){if(arguments.length<2)throw new E0("actual","expected");e==t&&Aa({actual:e,expected:t,message:i,operator:"!=",stackStartFn:r})};Kr.deepEqual=function r(e,t,i){if(arguments.length<2)throw new E0("actual","expected");_0===void 0&&Km(),_0(e,t)||Aa({actual:e,expected:t,message:i,operator:"deepEqual",stackStartFn:r})};Kr.notDeepEqual=function r(e,t,i){if(arguments.length<2)throw new E0("actual","expected");_0===void 0&&Km(),_0(e,t)&&Aa({actual:e,expected:t,message:i,operator:"notDeepEqual",stackStartFn:r})};Kr.deepStrictEqual=function r(e,t,i){if(arguments.length<2)throw new E0("actual","expected");_0===void 0&&Km(),d5(e,t)||Aa({actual:e,expected:t,message:i,operator:"deepStrictEqual",stackStartFn:r})};Kr.notDeepStrictEqual=Hme;function Hme(r,e,t){if(arguments.length<2)throw new E0("actual","expected");_0===void 0&&Km(),d5(r,e)&&Aa({actual:r,expected:e,message:t,operator:"notDeepStrictEqual",stackStartFn:Hme})}Kr.strictEqual=function r(e,t,i){if(arguments.length<2)throw new E0("actual","expected");zme(e,t)||Aa({actual:e,expected:t,message:i,operator:"strictEqual",stackStartFn:r})};Kr.notStrictEqual=function r(e,t,i){if(arguments.length<2)throw new E0("actual","expected");zme(e,t)&&Aa({actual:e,expected:t,message:i,operator:"notStrictEqual",stackStartFn:r})};var Gme=function r(e,t,i){var n=this;FSt(this,r),t.forEach(function(s){s in e&&(i!==void 0&&typeof i[s]=="string"&&MB(e[s])&&e[s].test(i[s])?n[s]=i[s]:n[s]=e[s])})};function $St(r,e,t,i,n,s){if(!(t in r)||!d5(r[t],e[t])){if(!i){var o=new Gme(r,n),a=new Gme(e,n,r),c=new bh({actual:o,expected:a,operator:"deepStrictEqual",stackStartFn:s});throw c.actual=r,c.expected=e,c.operator=s.name,c}Aa({actual:r,expected:e,message:i,operator:s.name,stackStartFn:s})}}function $me(r,e,t,i){if(typeof e!="function"){if(MB(e))return e.test(r);if(arguments.length===2)throw new zm("expected",["Function","RegExp"],e);if(v0(r)!=="object"||r===null){var n=new bh({actual:r,expected:e,message:t,operator:"deepStrictEqual",stackStartFn:i});throw n.operator=i.name,n}var s=Object.keys(e);if(e instanceof Error)s.push("name","message");else if(s.length===0)throw new zSt("error",e,"may not be an empty object");return _0===void 0&&Km(),s.forEach(function(o){typeof r[o]=="string"&&MB(e[o])&&e[o].test(r[o])||$St(r,e,o,t,s,i)}),!0}return e.prototype!==void 0&&r instanceof e?!0:Error.isPrototypeOf(e)?!1:e.call({},r)===!0}function Wme(r){if(typeof r!="function")throw new zm("fn","Function",r);try{r()}catch(e){return e}return p5}function Yme(r){return HSt(r)||r!==null&&v0(r)==="object"&&typeof r.then=="function"&&typeof r.catch=="function"}function Xme(r){return Promise.resolve().then(function(){var e;if(typeof r=="function"){if(e=r(),!Yme(e))throw new KSt("instance of Promise","promiseFn",e)}else if(Yme(r))e=r;else throw new zm("promiseFn",["Function","Promise"],r);return Promise.resolve().then(function(){return e}).then(function(){return p5}).catch(function(t){return t})})}function Jme(r,e,t,i){if(typeof t=="string"){if(arguments.length===4)throw new zm("error",["Object","Error","Function","RegExp"],t);if(v0(e)==="object"&&e!==null){if(e.message===t)throw new Fme("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===t)throw new Fme("error/message",'The error "'.concat(e,'" is identical to the message.'));i=t,t=void 0}else if(t!=null&&v0(t)!=="object"&&typeof t!="function")throw new zm("error",["Object","Error","Function","RegExp"],t);if(e===p5){var n="";t&&t.name&&(n+=" (".concat(t.name,")")),n+=i?": ".concat(i):".";var s=r.name==="rejects"?"rejection":"exception";Aa({actual:void 0,expected:t,operator:r.name,message:"Missing expected ".concat(s).concat(n),stackStartFn:r})}if(t&&!$me(e,t,i,r))throw e}function Zme(r,e,t,i){if(e!==p5){if(typeof t=="string"&&(i=t,t=void 0),!t||$me(e,t)){var n=i?": ".concat(i):".",s=r.name==="doesNotReject"?"rejection":"exception";Aa({actual:e,expected:t,operator:r.name,message:"Got unwanted ".concat(s).concat(n,`
`)+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:r})}throw e}}Kr.throws=function r(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];Jme.apply(void 0,[r,Wme(e)].concat(i))};Kr.rejects=function r(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return Xme(e).then(function(s){return Jme.apply(void 0,[r,s].concat(i))})};Kr.doesNotThrow=function r(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];Zme.apply(void 0,[r,Wme(e)].concat(i))};Kr.doesNotReject=function r(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return Xme(e).then(function(s){return Zme.apply(void 0,[r,s].concat(i))})};Kr.ifError=function r(e){if(e!=null){var t="ifError got unwanted exception: ";v0(e)==="object"&&typeof e.message=="string"?e.message.length===0&&e.constructor?t+=e.constructor.name:t+=e.message:t+=jSt(e);var i=new bh({actual:e,expected:null,operator:"ifError",message:t,stackStartFn:r}),n=e.stack;if(typeof n=="string"){var s=n.split(`
`);s.shift();for(var o=i.stack.split(`
`),a=0;a<s.length;a++){var c=o.indexOf(s[a]);if(c!==-1){o=o.slice(0,c);break}}i.stack="".concat(o.join(`
`),`
`).concat(s.join(`
`))}throw i}};function Qme(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];jme.apply(void 0,[Qme,e.length].concat(e))}Kr.strict=GSt(Qme,Kr,{equal:Kr.strictEqual,deepEqual:Kr.deepStrictEqual,notEqual:Kr.notStrictEqual,notDeepEqual:Kr.notDeepStrictEqual});Kr.strict.strict=Kr.strict});var i3e=h((Bpr,e3e)=>{var b5=Pr().EventEmitter,WSt=No().inherits,PB=Am(),t3e=Bge(),YSt=Pge(),XSt=Hge(),M1=i5(),JSt=Yq(),ZSt=n5(),yh=bB(),Vm=qm().getCallback,N1=qm().getOptions,y5=M1.WriteError,r3e=M1.ReadError,QSt=M1.NotFoundError,ekt=M1.OpenError,tkt=M1.InitializationError;function _r(r,e,t){if(!(this instanceof _r))return new _r(r,e,t);var i,n=this;if(b5.call(this),this.setMaxListeners(Infinity),typeof e=="function"&&(t=e,e={}),e=e||{},!r||typeof r!="object"){if(i=new tkt("First argument must be an abstract-leveldown compliant store"),typeof t=="function")return process.nextTick(t,i);throw i}ZSt.strictEqual(typeof r.status,"string",".status required, old abstract-leveldown"),this.options=N1(e),this._db=r,this.db=new t3e(r),this.open(t||function(s){s&&n.emit("error",s)}),this.supports=JSt(this.db.supports,{status:!1,deferredOpen:!0,openCallback:!0,promises:!0,streams:!0}),Object.keys(this.supports.additionalMethods).forEach(function(s){this[s]==null&&(this[s]=function(){return this.db[s].apply(this.db,arguments)})},this)}_r.prototype.emit=b5.prototype.emit;_r.prototype.once=b5.prototype.once;WSt(_r,b5);_r.prototype.open=function(r,e){var t=this,i;return typeof r=="function"&&(e=r,r=null),e||(e=yh(),i=e.promise),r||(r=this.options),this.isOpen()?(process.nextTick(e,null,t),i):this._isOpening()?(this.once("open",function(){e(null,t)}),i):(this.emit("opening"),this.db.open(r,function(n){if(n)return e(new ekt(n));t.db=t._db,e(null,t),t.emit("open"),t.emit("ready")}),i)};_r.prototype.close=function(r){var e=this,t;return r||(r=yh(),t=r.promise),this.isOpen()?(this.db.close(function(){e.emit("closed"),r.apply(null,arguments)}),this.emit("closing"),this.db=new t3e(this._db)):this.isClosed()?process.nextTick(r):this.db.status==="closing"?this.once("closed",r):this._isOpening()&&this.once("open",function(){e.close(r)}),t};_r.prototype.isOpen=function(){return this.db.status==="open"};_r.prototype._isOpening=function(){return this.db.status==="opening"};_r.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)};_r.prototype.get=function(r,e,t){var i;return t=Vm(e,t),t||(t=yh(),i=t.promise),jm(this,t)||(e=N1(e),this.db.get(r,e,function(n,s){if(n)return/notfound/i.test(n)||n.notFound?n=new QSt("Key not found in database ["+r+"]",n):n=new r3e(n),t(n);t(null,s)})),i};_r.prototype.put=function(r,e,t,i){var n=this,s;return i=Vm(t,i),i||(i=yh(),s=i.promise),jm(this,i)||(t=N1(t),this.db.put(r,e,t,function(o){if(o)return i(new y5(o));n.emit("put",r,e),i()})),s};_r.prototype.del=function(r,e,t){var i=this,n;return t=Vm(e,t),t||(t=yh(),n=t.promise),jm(this,t)||(e=N1(e),this.db.del(r,e,function(s){if(s)return t(new y5(s));i.emit("del",r),t()})),n};_r.prototype.batch=function(r,e,t){if(!arguments.length)return new XSt(this);var i=this,n;return typeof r=="function"?t=r:t=Vm(e,t),t||(t=yh(),n=t.promise),jm(this,t)||(e=N1(e),this.db.batch(r,e,function(s){if(s)return t(new y5(s));i.emit("batch",r),t()})),n};_r.prototype.iterator=function(r){return this.db.iterator(r)};_r.prototype.clear=function(r,e){var t=this,i;return e=Vm(r,e),r=N1(r),e||(e=yh(),i=e.promise),jm(this,e)||this.db.clear(r,function(n){if(n)return e(new y5(n));t.emit("clear",r),e()}),i};_r.prototype.readStream=_r.prototype.createReadStream=function(r){return r=PB({keys:!0,values:!0},r),typeof r.limit!="number"&&(r.limit=-1),new YSt(this.db.iterator(r),r)};_r.prototype.keyStream=_r.prototype.createKeyStream=function(r){return this.createReadStream(PB(r,{keys:!0,values:!1}))};_r.prototype.valueStream=_r.prototype.createValueStream=function(r){return this.createReadStream(PB(r,{keys:!1,values:!0}))};_r.prototype.toString=function(){return"LevelUP"};_r.prototype.type="levelup";function jm(r,e){if(!r._isOpening()&&!r.isOpen())return process.nextTick(e,new r3e("Database is not open")),!0}_r.errors=M1;e3e.exports=_r.default=_r});var y3e=h(P1=>{"use strict";var DB=ra(),D1=bo(),n3e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;P1.Buffer=ke;P1.SlowBuffer=rkt;P1.INSPECT_MAX_BYTES=50;var g5=2147483647;P1.kMaxLength=g5;ke.TYPED_ARRAY_SUPPORT=ikt();!ke.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ikt(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(t){return!1}}Object.defineProperty(ke.prototype,"parent",{enumerable:!0,get:function(){if(!!ke.isBuffer(this))return this.buffer}});Object.defineProperty(ke.prototype,"offset",{enumerable:!0,get:function(){if(!!ke.isBuffer(this))return this.byteOffset}});function Ou(r){if(r>g5)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,ke.prototype),e}function ke(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return OB(r)}return s3e(r,e,t)}ke.poolSize=8192;function s3e(r,e,t){if(typeof r=="string")return nkt(r,e);if(ArrayBuffer.isView(r))return skt(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Cc(r,ArrayBuffer)||r&&Cc(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Cc(r,SharedArrayBuffer)||r&&Cc(r.buffer,SharedArrayBuffer)))return LB(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return ke.from(i,e,t);var n=okt(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return ke.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}ke.from=function(r,e,t){return s3e(r,e,t)};Object.setPrototypeOf(ke.prototype,Uint8Array.prototype);Object.setPrototypeOf(ke,Uint8Array);function o3e(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function akt(r,e,t){return o3e(r),r<=0?Ou(r):e!==void 0?typeof t=="string"?Ou(r).fill(e,t):Ou(r).fill(e):Ou(r)}ke.alloc=function(r,e,t){return akt(r,e,t)};function OB(r){return o3e(r),Ou(r<0?0:FB(r)|0)}ke.allocUnsafe=function(r){return OB(r)};ke.allocUnsafeSlow=function(r){return OB(r)};function nkt(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!ke.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=a3e(r,e)|0,i=Ou(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function UB(r){for(var e=r.length<0?0:FB(r.length)|0,t=Ou(e),i=0;i<e;i+=1)t[i]=r[i]&255;return t}function skt(r){if(Cc(r,Uint8Array)){var e=new Uint8Array(r);return LB(e.buffer,e.byteOffset,e.byteLength)}return UB(r)}function LB(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,ke.prototype),i}function okt(r){if(ke.isBuffer(r)){var e=FB(r.length)|0,t=Ou(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||zB(r.length)?Ou(0):UB(r);if(r.type==="Buffer"&&Array.isArray(r.data))return UB(r.data)}function FB(r){if(r>=g5)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g5.toString(16)+" bytes");return r|0}function rkt(r){return+r!=r&&(r=0),ke.alloc(+r)}ke.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==ke.prototype};ke.compare=function(e,t){if(Cc(e,Uint8Array)&&(e=ke.from(e,e.offset,e.byteLength)),Cc(t,Uint8Array)&&(t=ke.from(t,t.offset,t.byteLength)),!ke.isBuffer(e)||!ke.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};ke.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};ke.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return ke.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=ke.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var o=e[i];if(Cc(o,Uint8Array))s+o.length>n.length?ke.from(o).copy(n,s):Uint8Array.prototype.set.call(n,o,s);else if(ke.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function a3e(r,e){if(ke.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Cc(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return KB(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return c3e(r).length;default:if(n)return i?-1:KB(r).length;e=(""+e).toLowerCase(),n=!0}}ke.byteLength=a3e;function dkt(r,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return lkt(this,e,t);case"utf8":case"utf-8":return u3e(this,e,t);case"ascii":return ukt(this,e,t);case"latin1":case"binary":return fkt(this,e,t);case"base64":return ckt(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return hkt(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}ke.prototype._isBuffer=!0;function gh(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}ke.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)gh(this,t,t+1);return this};ke.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)gh(this,t,t+3),gh(this,t+1,t+2);return this};ke.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)gh(this,t,t+7),gh(this,t+1,t+6),gh(this,t+2,t+5),gh(this,t+3,t+4);return this};ke.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?u3e(this,0,e):dkt.apply(this,arguments)};ke.prototype.toLocaleString=ke.prototype.toString;ke.prototype.equals=function(e){if(!ke.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:ke.compare(this,e)===0};ke.prototype.inspect=function(){var e="",t=P1.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};n3e&&(ke.prototype[n3e]=ke.prototype.inspect);ke.prototype.compare=function(e,t,i,n,s){if(Cc(e,Uint8Array)&&(e=ke.from(e,e.offset,e.byteLength)),!ke.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,a=i-t,c=Math.min(o,a),u=this.slice(n,s),f=e.slice(t,i),l=0;l<c;++l)if(u[l]!==f[l]){o=u[l],a=f[l];break}return o<a?-1:a<o?1:0};function l3e(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,zB(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=ke.from(e,i)),ke.isBuffer(e))return e.length===0?-1:f3e(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):f3e(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function f3e(r,e,t,i,n){var s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function c(p,b){return s===1?p[b]:p.readUInt16BE(b*s)}var u;if(n){var f=-1;for(u=t;u<o;u++)if(c(r,u)===c(e,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===a)return f*s}else f!==-1&&(u-=u-f),f=-1}else for(t+a>o&&(t=o-a),u=t;u>=0;u--){for(var l=!0,d=0;d<a;d++)if(c(r,u+d)!==c(e,d)){l=!1;break}if(l)return u}return-1}ke.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};ke.prototype.indexOf=function(e,t,i){return l3e(this,e,t,i,!0)};ke.prototype.lastIndexOf=function(e,t,i){return l3e(this,e,t,i,!1)};function pkt(r,e,t,i){t=Number(t)||0;var n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(o*2,2),16);if(zB(a))return o;r[t+o]=a}return o}function bkt(r,e,t,i){return m5(KB(e,r.length-t),r,t,i)}function gkt(r,e,t,i){return m5(ykt(e),r,t,i)}function mkt(r,e,t,i){return m5(c3e(e),r,t,i)}function wkt(r,e,t,i){return m5(xkt(e,r.length-t),r,t,i)}ke.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return pkt(this,e,t,i);case"utf8":case"utf-8":return bkt(this,e,t,i);case"ascii":case"latin1":case"binary":return gkt(this,e,t,i);case"base64":return mkt(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return wkt(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};ke.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ckt(r,e,t){return e===0&&t===r.length?DB.fromByteArray(r):DB.fromByteArray(r.slice(e,t))}function u3e(r,e,t){t=Math.min(r.length,t);for(var i=[],n=e;n<t;){var s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){var c,u,f,l;switch(a){case 1:s<128&&(o=s);break;case 2:c=r[n+1],(c&192)==128&&(l=(s&31)<<6|c&63,l>127&&(o=l));break;case 3:c=r[n+1],u=r[n+2],(c&192)==128&&(u&192)==128&&(l=(s&15)<<12|(c&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:c=r[n+1],u=r[n+2],f=r[n+3],(c&192)==128&&(u&192)==128&&(f&192)==128&&(l=(s&15)<<18|(c&63)<<12|(u&63)<<6|f&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return vkt(i)}var h3e=4096;function vkt(r){var e=r.length;if(e<=h3e)return String.fromCharCode.apply(String,r);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=h3e));return t}function ukt(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function fkt(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function lkt(r,e,t){var i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var n="",s=e;s<t;++s)n+=Ekt[r[s]];return n}function hkt(r,e,t){for(var i=r.slice(e,t),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}ke.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,ke.prototype),n};function Gi(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}ke.prototype.readUintLE=ke.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Gi(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n};ke.prototype.readUintBE=ke.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Gi(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n};ke.prototype.readUint8=ke.prototype.readUInt8=function(e,t){return e=e>>>0,t||Gi(e,1,this.length),this[e]};ke.prototype.readUint16LE=ke.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Gi(e,2,this.length),this[e]|this[e+1]<<8};ke.prototype.readUint16BE=ke.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Gi(e,2,this.length),this[e]<<8|this[e+1]};ke.prototype.readUint32LE=ke.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Gi(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};ke.prototype.readUint32BE=ke.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Gi(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};ke.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Gi(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};ke.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Gi(e,t,this.length);for(var n=t,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};ke.prototype.readInt8=function(e,t){return e=e>>>0,t||Gi(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};ke.prototype.readInt16LE=function(e,t){e=e>>>0,t||Gi(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};ke.prototype.readInt16BE=function(e,t){e=e>>>0,t||Gi(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};ke.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Gi(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};ke.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Gi(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};ke.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Gi(e,4,this.length),D1.read(this,e,!0,23,4)};ke.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Gi(e,4,this.length),D1.read(this,e,!1,23,4)};ke.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Gi(e,8,this.length),D1.read(this,e,!0,52,8)};ke.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Gi(e,8,this.length),D1.read(this,e,!1,52,8)};function Ns(r,e,t,i,n,s){if(!ke.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}ke.prototype.writeUintLE=ke.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Ns(this,e,t,i,s,0)}var o=1,a=0;for(this[t]=e&255;++a<i&&(o*=256);)this[t+a]=e/o&255;return t+i};ke.prototype.writeUintBE=ke.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Ns(this,e,t,i,s,0)}var o=i-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+i};ke.prototype.writeUint8=ke.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||Ns(this,e,t,1,255,0),this[t]=e&255,t+1};ke.prototype.writeUint16LE=ke.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Ns(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};ke.prototype.writeUint16BE=ke.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Ns(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};ke.prototype.writeUint32LE=ke.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Ns(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};ke.prototype.writeUint32BE=ke.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Ns(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};ke.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);Ns(this,e,t,i,s-1,-s)}var o=0,a=1,c=0;for(this[t]=e&255;++o<i&&(a*=256);)e<0&&c===0&&this[t+o-1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};ke.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);Ns(this,e,t,i,s-1,-s)}var o=i-1,a=1,c=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&c===0&&this[t+o+1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};ke.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||Ns(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};ke.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Ns(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};ke.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Ns(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};ke.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Ns(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};ke.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Ns(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function d3e(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function p3e(r,e,t,i,n){return e=+e,t=t>>>0,n||d3e(r,e,t,4,34028234663852886e22,-34028234663852886e22),D1.write(r,e,t,i,23,4),t+4}ke.prototype.writeFloatLE=function(e,t,i){return p3e(this,e,t,!0,i)};ke.prototype.writeFloatBE=function(e,t,i){return p3e(this,e,t,!1,i)};function b3e(r,e,t,i,n){return e=+e,t=t>>>0,n||d3e(r,e,t,8,17976931348623157e292,-17976931348623157e292),D1.write(r,e,t,i,52,8),t+8}ke.prototype.writeDoubleLE=function(e,t,i){return b3e(this,e,t,!0,i)};ke.prototype.writeDoubleBE=function(e,t,i){return b3e(this,e,t,!1,i)};ke.prototype.copy=function(e,t,i,n){if(!ke.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};ke.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!ke.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{var a=ke.isBuffer(e)?e:ke.from(e,n),c=a.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=a[o%c]}return this};var _kt=/[^+/0-9A-Za-z-_]/g;function Skt(r){if(r=r.split("=")[0],r=r.trim().replace(_kt,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function KB(r,e){e=e||Infinity;for(var t,i=r.length,n=null,s=[],o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function ykt(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function xkt(r,e){for(var t,i,n,s=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function c3e(r){return DB.toByteArray(Skt(r))}function m5(r,e,t,i){for(var n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function Cc(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function zB(r){return r!==r}var Ekt=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var i=t*16,n=0;n<16;++n)e[i+n]=r[t]+r[n];return e}()});var g3e=h(Lu=>{var VB=y3e().Buffer;Lu.utf8=Lu["utf-8"]={encode:function(r){return jB(r)?r:String(r)},decode:x5,buffer:!1,type:"utf8"};Lu.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"};Lu.binary={encode:function(r){return jB(r)?r:VB.from(r)},decode:x5,buffer:!0,type:"binary"};Lu.none={encode:x5,decode:x5,buffer:!1,type:"id"};Lu.id=Lu.none;var kkt=["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"];kkt.forEach(function(r){Lu[r]={encode:function(e){return jB(e)?e:VB.from(e,r)},decode:function(e){return e.toString(r)},buffer:!0,type:r}});function x5(r){return r}function jB(r){return r==null||VB.isBuffer(r)}});var x3e=h((Npr,m3e)=>{var HB=g3e();m3e.exports=os;function os(r){if(!(this instanceof os))return new os(r);this.opts=r||{},this.encodings=HB}os.prototype._encoding=function(r){return typeof r=="string"&&(r=HB[r]),r||(r=HB.id),r};os.prototype._keyEncoding=function(r,e){return this._encoding(e&&e.keyEncoding||r&&r.keyEncoding||this.opts.keyEncoding)};os.prototype._valueEncoding=function(r,e){return this._encoding(e&&(e.valueEncoding||e.encoding)||r&&(r.valueEncoding||r.encoding)||this.opts.valueEncoding||this.opts.encoding)};os.prototype.encodeKey=function(r,e,t){return this._keyEncoding(e,t).encode(r)};os.prototype.encodeValue=function(r,e,t){return this._valueEncoding(e,t).encode(r)};os.prototype.decodeKey=function(r,e){return this._keyEncoding(e).decode(r)};os.prototype.decodeValue=function(r,e){return this._valueEncoding(e).decode(r)};os.prototype.encodeBatch=function(r,e){var t=this;return r.map(function(i){var n={type:i.type,key:t.encodeKey(i.key,e,i)};return t.keyAsBuffer(e,i)&&(n.keyEncoding="binary"),i.prefix&&(n.prefix=i.prefix),"value"in i&&(n.value=t.encodeValue(i.value,e,i),t.valueAsBuffer(e,i)&&(n.valueEncoding="binary")),n})};var Akt=["lt","gt","lte","gte","start","end"];os.prototype.encodeLtgt=function(r){var e=this,t={};return Object.keys(r).forEach(function(i){t[i]=Akt.indexOf(i)>-1?e.encodeKey(r[i],r):r[i]}),t};os.prototype.createStreamDecoder=function(r){var e=this;return r.keys&&r.values?function(t,i){return{key:e.decodeKey(t,r),value:e.decodeValue(i,r)}}:r.keys?function(t){return e.decodeKey(t,r)}:r.values?function(t,i){return e.decodeValue(i,r)}:function(){}};os.prototype.keyAsBuffer=function(r){return this._keyEncoding(r).buffer};os.prototype.valueAsBuffer=function(r){return this._valueEncoding(r).buffer}});var k3e=h((Ppr,w3e)=>{"use strict";var v3e=x0().AbstractLevelDOWN,E3e=x0().AbstractChainedBatch,_3e=x0().AbstractIterator,GB=cn(),Ikt=x3e(),S3e=i5().EncodingError,Tkt=["approximateSize","compactRange"];w3e.exports=_n.default=_n;function _n(r,e){if(!(this instanceof _n))return new _n(r,e);var t=r.supports||{},i=t.additionalMethods||{};v3e.call(this,t),this.supports.encodings=!0,this.supports.additionalMethods={},Tkt.forEach(function(n){var s=typeof r[n]=="function";(i[n]||s)&&(this.supports.additionalMethods[n]=!0,this[n]=function(o,a,c,u){return o=this.codec.encodeKey(o,c),a=this.codec.encodeKey(a,c),this.db[n](o,a,c,u)})},this),e=e||{},typeof e.keyEncoding=="undefined"&&(e.keyEncoding="utf8"),typeof e.valueEncoding=="undefined"&&(e.valueEncoding="utf8"),this.db=r,this.codec=new Ikt(e)}GB(_n,v3e);_n.prototype.type="encoding-down";_n.prototype._serializeKey=_n.prototype._serializeValue=function(r){return r};_n.prototype._open=function(r,e){this.db.open(r,e)};_n.prototype._close=function(r){this.db.close(r)};_n.prototype._put=function(r,e,t,i){r=this.codec.encodeKey(r,t),e=this.codec.encodeValue(e,t),this.db.put(r,e,t,i)};_n.prototype._get=function(r,e,t){var i=this;r=this.codec.encodeKey(r,e),e.asBuffer=this.codec.valueAsBuffer(e),this.db.get(r,e,function(n,s){if(n)return t(n);try{s=i.codec.decodeValue(s,e)}catch(o){return t(new S3e(o))}t(null,s)})};_n.prototype._del=function(r,e,t){r=this.codec.encodeKey(r,e),this.db.del(r,e,t)};_n.prototype._chainedBatch=function(){return new O1(this)};_n.prototype._batch=function(r,e,t){r=this.codec.encodeBatch(r,e),this.db.batch(r,e,t)};_n.prototype._iterator=function(r){return r.keyAsBuffer=this.codec.keyAsBuffer(r),r.valueAsBuffer=this.codec.valueAsBuffer(r),new Hm(this,r)};_n.prototype._clear=function(r,e){r=this.codec.encodeLtgt(r),this.db.clear(r,e)};function Hm(r,e){_3e.call(this,r),this.codec=r.codec,this.keys=e.keys,this.values=e.values,this.opts=this.codec.encodeLtgt(e),this.it=r.db.iterator(this.opts)}GB(Hm,_3e);Hm.prototype._next=function(r){var e=this;this.it.next(function(t,i,n){if(t)return r(t);try{e.keys&&typeof i!="undefined"?i=e.codec.decodeKey(i,e.opts):i=void 0,e.values&&typeof n!="undefined"?n=e.codec.decodeValue(n,e.opts):n=void 0}catch(s){return r(new S3e(s))}r(null,i,n)})};Hm.prototype._seek=function(r){r=this.codec.encodeKey(r,this.opts),this.it.seek(r)};Hm.prototype._end=function(r){this.it.end(r)};function O1(r,e){E3e.call(this,r),this.codec=r.codec,this.batch=r.db.batch()}GB(O1,E3e);O1.prototype._put=function(r,e){r=this.codec.encodeKey(r),e=this.codec.encodeValue(e),this.batch.put(r,e)};O1.prototype._del=function(r){r=this.codec.encodeKey(r),this.batch.del(r)};O1.prototype._clear=function(){this.batch.clear()};O1.prototype._write=function(r,e){this.batch.write(r,e)}});var T3e=h((Dpr,A3e)=>{var I3e=i3e(),Rkt=k3e();function qkt(r){function e(i,n,s){return typeof i=="function"?s=i:typeof n=="function"&&(s=n),t(n)||(n=t(i)?i:{}),I3e(Rkt(r(i,n),n),n,s)}function t(i){return typeof i=="object"&&i!==null}return["destroy","repair"].forEach(function(i){typeof r[i]=="function"&&(e[i]=function(){r[i].apply(r,arguments)})}),e.errors=I3e.errors,e}A3e.exports=qkt});var q3e=h(si=>{si.compare=function(r,e){if(Buffer.isBuffer(r)){for(var t=Math.min(r.length,e.length),i=0;i<t;i++){var n=r[i]-e[i];if(n)return n}return r.length-e.length}return r<e?-1:r>e?1:0};function R3e(r){return r!==void 0&&r!==""}function L1(r,e){return Object.hasOwnProperty.call(r,e)}function Mc(r,e){return Object.hasOwnProperty.call(r,e)&&e}var Bkt=si.lowerBoundKey=function(r){return Mc(r,"gt")||Mc(r,"gte")||Mc(r,"min")||(r.reverse?Mc(r,"end"):Mc(r,"start"))||void 0},$B=si.lowerBound=function(r,e){var t=Bkt(r);return t?r[t]:e},WB=si.lowerBoundInclusive=function(r){return!L1(r,"gt")},YB=si.upperBoundInclusive=function(r){return!L1(r,"lt")},Ckt=si.lowerBoundExclusive=function(r){return!WB(r)},Mkt=si.upperBoundExclusive=function(r){return!YB(r)},Nkt=si.upperBoundKey=function(r){return Mc(r,"lt")||Mc(r,"lte")||Mc(r,"max")||(r.reverse?Mc(r,"start"):Mc(r,"end"))||void 0},XB=si.upperBound=function(r,e){var t=Nkt(r);return t?r[t]:e};si.start=function(r,e){return r.reverse?XB(r,e):$B(r,e)};si.end=function(r,e){return r.reverse?$B(r,e):XB(r,e)};si.startInclusive=function(r){return r.reverse?YB(r):WB(r)};si.endInclusive=function(r){return r.reverse?WB(r):YB(r)};function Pkt(r){return r}si.toLtgt=function(r,e,t,i,n){e=e||{},t=t||Pkt;var s=arguments.length>3,o=si.lowerBoundKey(r),a=si.upperBoundKey(r);return o?o==="gt"?e.gt=t(r.gt,!1):e.gte=t(r[o],!1):s&&(e.gte=t(i,!1)),a?a==="lt"?e.lt=t(r.lt,!0):e.lte=t(r[a],!0):s&&(e.lte=t(n,!0)),r.reverse!=null&&(e.reverse=!!r.reverse),L1(e,"max")&&delete e.max,L1(e,"min")&&delete e.min,L1(e,"start")&&delete e.start,L1(e,"end")&&delete e.end,e};si.contains=function(r,e,t){t=t||si.compare;var i=$B(r);if(R3e(i)){var n=t(e,i);if(n<0||n===0&&Ckt(r))return!1}var s=XB(r);if(R3e(s)){var n=t(e,s);if(n>0||n===0&&Mkt(r))return!1}return!0};si.filter=function(r,e){return function(t){return si.contains(r,t,e)}}});var JB=h((Lpr,B3e)=>{"use strict";var w5=q3e(),S0={};B3e.exports=function(e){var t=w5.lowerBound(e,S0),i=w5.upperBound(e,S0),n=w5.lowerBoundExclusive(e,S0),s=w5.upperBoundExclusive(e,S0);return t!==S0&&i!==S0?IDBKeyRange.bound(t,i,n,s):t!==S0?IDBKeyRange.lowerBound(t,n):i!==S0?IDBKeyRange.upperBound(i,s):null}});var _5=h(F1=>{"use strict";var ZB=ra(),U1=bo(),C3e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;F1.Buffer=Ae;F1.SlowBuffer=Dkt;F1.INSPECT_MAX_BYTES=50;var v5=2147483647;F1.kMaxLength=v5;Ae.TYPED_ARRAY_SUPPORT=Okt();!Ae.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Okt(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(t){return!1}}Object.defineProperty(Ae.prototype,"parent",{enumerable:!0,get:function(){if(!!Ae.isBuffer(this))return this.buffer}});Object.defineProperty(Ae.prototype,"offset",{enumerable:!0,get:function(){if(!!Ae.isBuffer(this))return this.byteOffset}});function Fu(r){if(r>v5)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,Ae.prototype),e}function Ae(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return QB(r)}return M3e(r,e,t)}Ae.poolSize=8192;function M3e(r,e,t){if(typeof r=="string")return Lkt(r,e);if(ArrayBuffer.isView(r))return Fkt(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Nc(r,ArrayBuffer)||r&&Nc(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Nc(r,SharedArrayBuffer)||r&&Nc(r.buffer,SharedArrayBuffer)))return eC(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return Ae.from(i,e,t);var n=Ukt(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return Ae.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}Ae.from=function(r,e,t){return M3e(r,e,t)};Object.setPrototypeOf(Ae.prototype,Uint8Array.prototype);Object.setPrototypeOf(Ae,Uint8Array);function N3e(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function zkt(r,e,t){return N3e(r),r<=0?Fu(r):e!==void 0?typeof t=="string"?Fu(r).fill(e,t):Fu(r).fill(e):Fu(r)}Ae.alloc=function(r,e,t){return zkt(r,e,t)};function QB(r){return N3e(r),Fu(r<0?0:tC(r)|0)}Ae.allocUnsafe=function(r){return QB(r)};Ae.allocUnsafeSlow=function(r){return QB(r)};function Lkt(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Ae.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=P3e(r,e)|0,i=Fu(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function rC(r){for(var e=r.length<0?0:tC(r.length)|0,t=Fu(e),i=0;i<e;i+=1)t[i]=r[i]&255;return t}function Fkt(r){if(Nc(r,Uint8Array)){var e=new Uint8Array(r);return eC(e.buffer,e.byteOffset,e.byteLength)}return rC(r)}function eC(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,Ae.prototype),i}function Ukt(r){if(Ae.isBuffer(r)){var e=tC(r.length)|0,t=Fu(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||iC(r.length)?Fu(0):rC(r);if(r.type==="Buffer"&&Array.isArray(r.data))return rC(r.data)}function tC(r){if(r>=v5)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+v5.toString(16)+" bytes");return r|0}function Dkt(r){return+r!=r&&(r=0),Ae.alloc(+r)}Ae.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Ae.prototype};Ae.compare=function(e,t){if(Nc(e,Uint8Array)&&(e=Ae.from(e,e.offset,e.byteLength)),Nc(t,Uint8Array)&&(t=Ae.from(t,t.offset,t.byteLength)),!Ae.isBuffer(e)||!Ae.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};Ae.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Ae.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Ae.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=Ae.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var o=e[i];if(Nc(o,Uint8Array))s+o.length>n.length?Ae.from(o).copy(n,s):Uint8Array.prototype.set.call(n,o,s);else if(Ae.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function P3e(r,e){if(Ae.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Nc(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return nC(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return D3e(r).length;default:if(n)return i?-1:nC(r).length;e=(""+e).toLowerCase(),n=!0}}Ae.byteLength=P3e;function $kt(r,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return Hkt(this,e,t);case"utf8":case"utf-8":return O3e(this,e,t);case"ascii":return Vkt(this,e,t);case"latin1":case"binary":return jkt(this,e,t);case"base64":return Kkt(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Gkt(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}Ae.prototype._isBuffer=!0;function mh(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}Ae.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)mh(this,t,t+1);return this};Ae.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)mh(this,t,t+3),mh(this,t+1,t+2);return this};Ae.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)mh(this,t,t+7),mh(this,t+1,t+6),mh(this,t+2,t+5),mh(this,t+3,t+4);return this};Ae.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?O3e(this,0,e):$kt.apply(this,arguments)};Ae.prototype.toLocaleString=Ae.prototype.toString;Ae.prototype.equals=function(e){if(!Ae.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Ae.compare(this,e)===0};Ae.prototype.inspect=function(){var e="",t=F1.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};C3e&&(Ae.prototype[C3e]=Ae.prototype.inspect);Ae.prototype.compare=function(e,t,i,n,s){if(Nc(e,Uint8Array)&&(e=Ae.from(e,e.offset,e.byteLength)),!Ae.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,a=i-t,c=Math.min(o,a),u=this.slice(n,s),f=e.slice(t,i),l=0;l<c;++l)if(u[l]!==f[l]){o=u[l],a=f[l];break}return o<a?-1:a<o?1:0};function F3e(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,iC(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=Ae.from(e,i)),Ae.isBuffer(e))return e.length===0?-1:L3e(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):L3e(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function L3e(r,e,t,i,n){var s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function c(p,b){return s===1?p[b]:p.readUInt16BE(b*s)}var u;if(n){var f=-1;for(u=t;u<o;u++)if(c(r,u)===c(e,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===a)return f*s}else f!==-1&&(u-=u-f),f=-1}else for(t+a>o&&(t=o-a),u=t;u>=0;u--){for(var l=!0,d=0;d<a;d++)if(c(r,u+d)!==c(e,d)){l=!1;break}if(l)return u}return-1}Ae.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};Ae.prototype.indexOf=function(e,t,i){return F3e(this,e,t,i,!0)};Ae.prototype.lastIndexOf=function(e,t,i){return F3e(this,e,t,i,!1)};function Wkt(r,e,t,i){t=Number(t)||0;var n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(o*2,2),16);if(iC(a))return o;r[t+o]=a}return o}function Ykt(r,e,t,i){return E5(nC(e,r.length-t),r,t,i)}function Jkt(r,e,t,i){return E5(Xkt(e),r,t,i)}function Zkt(r,e,t,i){return E5(D3e(e),r,t,i)}function eAt(r,e,t,i){return E5(Qkt(e,r.length-t),r,t,i)}Ae.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return Wkt(this,e,t,i);case"utf8":case"utf-8":return Ykt(this,e,t,i);case"ascii":case"latin1":case"binary":return Jkt(this,e,t,i);case"base64":return Zkt(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return eAt(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};Ae.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Kkt(r,e,t){return e===0&&t===r.length?ZB.fromByteArray(r):ZB.fromByteArray(r.slice(e,t))}function O3e(r,e,t){t=Math.min(r.length,t);for(var i=[],n=e;n<t;){var s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){var c,u,f,l;switch(a){case 1:s<128&&(o=s);break;case 2:c=r[n+1],(c&192)==128&&(l=(s&31)<<6|c&63,l>127&&(o=l));break;case 3:c=r[n+1],u=r[n+2],(c&192)==128&&(u&192)==128&&(l=(s&15)<<12|(c&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:c=r[n+1],u=r[n+2],f=r[n+3],(c&192)==128&&(u&192)==128&&(f&192)==128&&(l=(s&15)<<18|(c&63)<<12|(u&63)<<6|f&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return tAt(i)}var U3e=4096;function tAt(r){var e=r.length;if(e<=U3e)return String.fromCharCode.apply(String,r);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=U3e));return t}function Vkt(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function jkt(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function Hkt(r,e,t){var i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var n="",s=e;s<t;++s)n+=rAt[r[s]];return n}function Gkt(r,e,t){for(var i=r.slice(e,t),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}Ae.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,Ae.prototype),n};function $i(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}Ae.prototype.readUintLE=Ae.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||$i(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n};Ae.prototype.readUintBE=Ae.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||$i(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n};Ae.prototype.readUint8=Ae.prototype.readUInt8=function(e,t){return e=e>>>0,t||$i(e,1,this.length),this[e]};Ae.prototype.readUint16LE=Ae.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||$i(e,2,this.length),this[e]|this[e+1]<<8};Ae.prototype.readUint16BE=Ae.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||$i(e,2,this.length),this[e]<<8|this[e+1]};Ae.prototype.readUint32LE=Ae.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||$i(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Ae.prototype.readUint32BE=Ae.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||$i(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Ae.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||$i(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};Ae.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||$i(e,t,this.length);for(var n=t,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};Ae.prototype.readInt8=function(e,t){return e=e>>>0,t||$i(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Ae.prototype.readInt16LE=function(e,t){e=e>>>0,t||$i(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};Ae.prototype.readInt16BE=function(e,t){e=e>>>0,t||$i(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};Ae.prototype.readInt32LE=function(e,t){return e=e>>>0,t||$i(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Ae.prototype.readInt32BE=function(e,t){return e=e>>>0,t||$i(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Ae.prototype.readFloatLE=function(e,t){return e=e>>>0,t||$i(e,4,this.length),U1.read(this,e,!0,23,4)};Ae.prototype.readFloatBE=function(e,t){return e=e>>>0,t||$i(e,4,this.length),U1.read(this,e,!1,23,4)};Ae.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||$i(e,8,this.length),U1.read(this,e,!0,52,8)};Ae.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||$i(e,8,this.length),U1.read(this,e,!1,52,8)};function Ps(r,e,t,i,n,s){if(!Ae.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}Ae.prototype.writeUintLE=Ae.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Ps(this,e,t,i,s,0)}var o=1,a=0;for(this[t]=e&255;++a<i&&(o*=256);)this[t+a]=e/o&255;return t+i};Ae.prototype.writeUintBE=Ae.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Ps(this,e,t,i,s,0)}var o=i-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+i};Ae.prototype.writeUint8=Ae.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||Ps(this,e,t,1,255,0),this[t]=e&255,t+1};Ae.prototype.writeUint16LE=Ae.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Ps(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};Ae.prototype.writeUint16BE=Ae.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Ps(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};Ae.prototype.writeUint32LE=Ae.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Ps(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};Ae.prototype.writeUint32BE=Ae.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Ps(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};Ae.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);Ps(this,e,t,i,s-1,-s)}var o=0,a=1,c=0;for(this[t]=e&255;++o<i&&(a*=256);)e<0&&c===0&&this[t+o-1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};Ae.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);Ps(this,e,t,i,s-1,-s)}var o=i-1,a=1,c=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&c===0&&this[t+o+1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};Ae.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||Ps(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};Ae.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Ps(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};Ae.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Ps(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};Ae.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Ps(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};Ae.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Ps(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function z3e(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function K3e(r,e,t,i,n){return e=+e,t=t>>>0,n||z3e(r,e,t,4,34028234663852886e22,-34028234663852886e22),U1.write(r,e,t,i,23,4),t+4}Ae.prototype.writeFloatLE=function(e,t,i){return K3e(this,e,t,!0,i)};Ae.prototype.writeFloatBE=function(e,t,i){return K3e(this,e,t,!1,i)};function V3e(r,e,t,i,n){return e=+e,t=t>>>0,n||z3e(r,e,t,8,17976931348623157e292,-17976931348623157e292),U1.write(r,e,t,i,52,8),t+8}Ae.prototype.writeDoubleLE=function(e,t,i){return V3e(this,e,t,!0,i)};Ae.prototype.writeDoubleBE=function(e,t,i){return V3e(this,e,t,!1,i)};Ae.prototype.copy=function(e,t,i,n){if(!Ae.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};Ae.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Ae.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{var a=Ae.isBuffer(e)?e:Ae.from(e,n),c=a.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=a[o%c]}return this};var iAt=/[^+/0-9A-Za-z-_]/g;function nAt(r){if(r=r.split("=")[0],r=r.trim().replace(iAt,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function nC(r,e){e=e||Infinity;for(var t,i=r.length,n=null,s=[],o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function Xkt(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function Qkt(r,e){for(var t,i,n,s=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function D3e(r){return ZB.toByteArray(nAt(r))}function E5(r,e,t,i){for(var n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function Nc(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function iC(r){return r!==r}var rAt=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var i=t*16,n=0;n<16;++n)e[i+n]=r[t]+r[n];return e}()});var sC=h((Upr,j3e)=>{"use strict";var S5=_5().Buffer,sAt=function(){if(globalThis.TextDecoder){var r=new TextDecoder("utf-8");return r.decode.bind(r)}else return function(t){return H3e(t).toString()}}(),oAt=function(){if(globalThis.TextDecoder){var r=new TextDecoder("utf-8");return r.decode.bind(r)}else return function(t){return S5.from(t).toString()}}();function H3e(r){var e=S5.from(r.buffer);return r.byteLength===r.buffer.byteLength?e:e.slice(r.byteOffset,r.byteOffset+r.byteLength)}j3e.exports=function(r,e){return r instanceof Uint8Array?e?H3e(r):sAt(r):r instanceof ArrayBuffer?e?S5.from(r):oAt(r):e?S5.from(String(r)):String(r)}});var Y3e=h((zpr,G3e)=>{"use strict";var aAt=cn(),$3e=x0().AbstractIterator,cAt=JB(),W3e=sC(),uAt=function(){};G3e.exports=Ia;function Ia(r,e,t){if($3e.call(this,r),this._limit=t.limit,this._count=0,this._callback=null,this._cache=[],this._completed=!1,this._aborted=!1,this._error=null,this._transaction=null,this._keys=t.keys,this._values=t.values,this._keyAsBuffer=t.keyAsBuffer,this._valueAsBuffer=t.valueAsBuffer,this._limit===0){this._completed=!0;return}try{var i=cAt(t)}catch(n){this._completed=!0;return}this.createIterator(e,i,t.reverse)}aAt(Ia,$3e);Ia.prototype.createIterator=function(r,e,t){var i=this,n=this.db.db.transaction([r],"readonly"),s=n.objectStore(r),o=s.openCursor(e,t?"prev":"next");o.onsuccess=function(a){var c=a.target.result;c&&i.onItem(c)},this._transaction=n,n.onabort=function(){i.onAbort(i._transaction.error||new Error("aborted by user"))},n.oncomplete=function(){i.onComplete()}};Ia.prototype.onItem=function(r){this._cache.push(r.key,r.value),(this._limit<=0||++this._count<this._limit)&&r.continue(),this.maybeNext()};Ia.prototype.onAbort=function(r){this._aborted=!0,this._error=r,this.maybeNext()};Ia.prototype.onComplete=function(){this._completed=!0,this.maybeNext()};Ia.prototype.maybeNext=function(){this._callback&&(this._next(this._callback),this._callback=null)};Ia.prototype._next=function(r){if(this._aborted){var e=this._error;this._error=null,this._nextTick(r,e)}else if(this._cache.length>0){var t=this._cache.shift(),i=this._cache.shift();this._keys&&t!==void 0?t=this._deserializeKey(t,this._keyAsBuffer):t=void 0,this._values&&i!==void 0?i=this._deserializeValue(i,this._valueAsBuffer):i=void 0,this._nextTick(r,null,t,i)}else this._completed?this._nextTick(r):this._callback=r};Ia.prototype._deserializeKey=W3e;Ia.prototype._deserializeValue=W3e;Ia.prototype._end=function(r){if(this._aborted||this._completed)return this._nextTick(r,this._error);this.onItem=uAt,this.onAbort=r,this.onComplete=r}});var Z3e=h((Kpr,X3e)=>{"use strict";var J3e=_5().Buffer,fAt=function(){if(globalThis.TextEncoder){var r=new TextEncoder("utf-8");return r.encode.bind(r)}else return J3e.from}();X3e.exports=function(r,e){return e?J3e.isBuffer(r)?r:fAt(String(r)):String(r)}});var Q3e=h(k5=>{"use strict";var lAt=_5().Buffer;k5.test=function(r){return function(t){try{return t.cmp(r,0),!0}catch(i){return!1}}};k5.bufferKeys=k5.test(lAt.alloc(0))});var txe=h((jpr,exe)=>{"use strict";exe.exports=function(e,t,i,n,s){if(n.limit===0)return e._nextTick(s);var o=e.db.transaction([t],"readwrite"),a=o.objectStore(t),c=0;o.oncomplete=function(){s()},o.onabort=function(){s(o.error||new Error("aborted by user"))};var u=a.openKeyCursor?"openKeyCursor":"openCursor",f=n.reverse?"prev":"next";a[u](i,f).onsuccess=function(l){var d=l.target.result;d&&(a.delete(d.key).onsuccess=function(){(n.limit<=0||++c<n.limit)&&d.continue()})}}});var oxe=h((Hpr,rxe)=>{"use strict";rxe.exports=Si;var ixe=x0().AbstractLevelDOWN,hAt=cn(),dAt=Y3e(),nxe=Z3e(),oC=sC(),pAt=Q3e(),bAt=txe(),yAt=JB(),sxe="level-js-";function Si(r,e){if(!(this instanceof Si))return new Si(r,e);if(ixe.call(this,{bufferKeys:pAt.bufferKeys(indexedDB),snapshots:!0,permanence:!0,clear:!0}),e=e||{},typeof r!="string")throw new Error("constructor requires a location string argument");this.location=r,this.prefix=e.prefix==null?sxe:e.prefix,this.version=parseInt(e.version||1,10)}hAt(Si,ixe);Si.prototype.type="level-js";Si.prototype._open=function(r,e){var t=indexedDB.open(this.prefix+this.location,this.version),i=this;t.onerror=function(){e(t.error||new Error("unknown error"))},t.onsuccess=function(){i.db=t.result,e()},t.onupgradeneeded=function(n){var s=n.target.result;s.objectStoreNames.contains(i.location)||s.createObjectStore(i.location)}};Si.prototype.store=function(r){var e=this.db.transaction([this.location],r);return e.objectStore(this.location)};Si.prototype.await=function(r,e){var t=r.transaction;t.onabort=function(){e(t.error||new Error("aborted by user"))},t.oncomplete=function(){e(null,r.result)}};Si.prototype._get=function(r,e,t){var i=this.store("readonly");try{var n=i.get(r)}catch(s){return this._nextTick(t,s)}this.await(n,function(s,o){if(s)return t(s);if(o===void 0)return t(new Error("NotFound"));t(null,oC(o,e.asBuffer))})};Si.prototype._del=function(r,e,t){var i=this.store("readwrite");try{var n=i.delete(r)}catch(s){return this._nextTick(t,s)}this.await(n,t)};Si.prototype._put=function(r,e,t,i){var n=this.store("readwrite");try{var s=n.put(e,r)}catch(o){return this._nextTick(i,o)}this.await(s,i)};Si.prototype._serializeKey=function(r){return nxe(r,this.supports.bufferKeys)};Si.prototype._serializeValue=function(r){return nxe(r,!0)};Si.prototype._iterator=function(r){return new dAt(this,this.location,r)};Si.prototype._batch=function(r,e,t){if(r.length===0)return this._nextTick(t);var i=this.store("readwrite"),n=i.transaction,s=0,o;n.onabort=function(){t(o||n.error||new Error("aborted by user"))},n.oncomplete=function(){t()};function a(){var c=r[s++],u=c.key;try{var f=c.type==="del"?i.delete(u):i.put(c.value,u)}catch(l){o=l,n.abort();return}s<r.length&&(f.onsuccess=a)}a()};Si.prototype._clear=function(r,e){try{var t=yAt(r)}catch(s){return this._nextTick(e)}if(r.limit>=0)return bAt(this,this.location,t,r,e);try{var i=this.store("readwrite"),n=t?i.delete(t):i.clear()}catch(s){return this._nextTick(e,s)}this.await(n,e)};Si.prototype._close=function(r){this.db.close(),this._nextTick(r)};Si.prototype.upgrade=function(r){if(this.status!=="open")return this._nextTick(r,new Error("cannot upgrade() before open()"));var e=this.iterator(),t={},i=this;e._deserializeKey=e._deserializeValue=a,n();function n(c){if(c)return o(c);e.next(s)}function s(c,u,f){if(c||u===void 0)return o(c);var l=i._serializeKey(oC(u,!0)),d=i._serializeValue(oC(f,!0));i._batch([{type:"del",key:u},{type:"put",key:l,value:d}],t,n)}function o(c){e.end(function(u){r(c||u)})}function a(c){return c}};Si.destroy=function(r,e,t){typeof e=="function"&&(t=e,e=sxe);var i=indexedDB.deleteDatabase(e+r);i.onsuccess=function(){t()},i.onerror=function(n){t(n)}}});var cxe=h((Gpr,axe)=>{axe.exports=T3e()(oxe())});var z1=h(($pr,uxe)=>{"use strict";var{Key:gAt,Errors:Gm,Adapter:mAt,utils:{filter:fxe,map:xAt,take:wAt,sortAll:vAt}}=ur(),lxe=class extends mAt{constructor(e,t){super();this.path=e,this.opts=t,t&&t.db?(this.database=t.db,delete t.db):this.database=cxe()}_initDb(){return new Promise((e,t)=>{this.db=this.database(this.path,{...this.opts,valueEncoding:"binary",compression:!1},i=>{if(i)return t(i);e(this.db)})})}async open(){try{this.db?await this.db.open():this.db=await this._initDb()}catch(e){throw Gm.dbOpenFailedError(e)}}async put(e,t){try{await this.db.put(e.toString(),t)}catch(i){throw Gm.dbWriteFailedError(i)}}async get(e){let t;try{t=await this.db.get(e.toString())}catch(i){throw i.notFound?Gm.notFoundError(i):Gm.dbWriteFailedError(i)}return t}async has(e){try{await this.db.get(e.toString())}catch(t){if(t.notFound)return!1;throw t}return!0}async delete(e){try{await this.db.del(e.toString())}catch(t){throw Gm.dbDeleteFailedError(t)}}close(){return this.db&&this.db.close()}batch(){let e=[];return{put:(t,i)=>{e.push({type:"put",key:t.toString(),value:i})},delete:t=>{e.push({type:"del",key:t.toString()})},commit:()=>this.db.batch(e)}}query(e){let t=!0;e.keysOnly!=null&&(t=!e.keysOnly);let i={keys:!0,values:t,keyAsBuffer:!0};if(e.prefix!=null){let a=e.prefix.toString();i.gte=a,i.lt=a+"\xFF"}let n=EAt(this.db.iterator(i));n=xAt(n,({key:a,value:c})=>t?{key:a,value:c}:{key:a}),Array.isArray(e.filters)&&(n=e.filters.reduce((a,c)=>fxe(a,c),n)),Array.isArray(e.orders)&&(n=e.orders.reduce((a,c)=>vAt(a,c),n));let{offset:s,limit:o}=e;if(s){let a=0;n=fxe(n,()=>a++>=s)}return o&&(n=wAt(n,o)),n}};function EAt(r){return{[Symbol.asyncIterator](){return{next:()=>new Promise((e,t)=>{r.next((i,n,s)=>{if(i)return t(i);if(n==null)return r.end(o=>{if(o)return t(o);e({done:!0,value:void 0})});e({done:!1,value:{key:new gAt(n,!1),value:s}})})}),return:()=>new Promise((e,t)=>{r.end(i=>{if(i)return t(i);e({done:!0,value:void 0})})})}}}}uxe.exports=lxe});var dxe=h((Wpr,hxe)=>{"use strict";hxe.exports={lock:"memory",storageBackends:{root:z1(),blocks:z1(),keys:z1(),datastore:z1(),pins:z1()},storageBackendOptions:{root:{extension:"",prefix:"",version:2},blocks:{sharding:!1,prefix:"",version:2},keys:{sharding:!1,prefix:"",version:2},datastore:{sharding:!1,prefix:"",version:2},pins:{sharding:!1,prefix:"",version:2}}}});var bxe=h((Ypr,pxe)=>{"use strict";pxe.exports={Spec:{type:"mount",mounts:[{mountpoint:"/blocks",type:"measure",prefix:"flatfs.datastore",child:{type:"flatfs",path:"blocks",sync:!0,shardFunc:"/repo/flatfs/shard/v1/next-to-last/2"}},{mountpoint:"/",type:"measure",prefix:"leveldb.datastore",child:{type:"levelds",path:"datastore",compression:"none"}}]}}});var cC=h(aC=>{"use strict";var _At=Y8(),SAt=De(),yxe=SAt("ipfs:repo:lock"),gxe="repo.lock",$m={};aC.lock=async r=>{let e=r+"/"+gxe;if(yxe("locking %s",e),$m[e]===!0)throw new _At.LockExistsError(`Lock already being held for file: ${e}`);return $m[e]=!0,{async close(){$m[e]&&delete $m[e]}}};aC.locked=async r=>{let e=r+"/"+gxe;return yxe(`checking lock: ${e}`),Boolean($m[e])}});var T5=h((Jpr,Wm)=>{"use strict";var mxe=bq(),kAt=De(),Ym=pa(),Xm=qe(),xxe=$2e(),AAt=X2e(),A5=Z2e(),I5=eye(),Jm=rye(),IAt=nye(),TAt=uye(),RAt=bye(),qAt=gye(),BAt=zye(),uC=dxe(),wxe=bxe(),k0=Y8(),Ds=kAt("ipfs:repo"),CAt=Number.MAX_SAFE_INTEGER,MAt="repoAutoMigrate",vxe={memory:cC(),fs:cC()},Exe=class{constructor(e,t){if(typeof e!="string")throw new Error("missing repoPath");this.options=NAt(t),this.closed=!0,this.path=e,this._locker=this._getLocker(),this.root=Jm.create("root",this.path,this.options),this.version=IAt(this.root),this.config=TAt(this.root),this.spec=RAt(this.root),this.apiAddr=qAt(this.root)}async init(e){Ds("initializing at: %s",this.path),await this._openRoot(),await this.config.set(PAt(e)),await this.spec.set(DAt(e)),await this.version.set(I5.repoVersion)}async isInitialized(){if(!this.closed)return!0;try{return await this._openRoot(),await this._checkInitialized(),await this.root.close(),!0}catch(e){return!1}}async open(){if(!this.closed)throw Xm(new Error("repo is already open"),k0.ERR_REPO_ALREADY_OPEN);Ds("opening at: %s",this.path);try{if(await this._openRoot(),await this._checkInitialized(),this.lockfile=await this._openLock(this.path),Ds("acquired repo.lock"),!await this.version.check(I5.repoVersion))if(await this._isAutoMigrationEnabled())await this._migrate(I5.repoVersion);else throw new k0.InvalidRepoVersionError("Incompatible repo versions. Automatic migrations disabled. Please migrate the repo manually.");Ds("creating datastore"),this.datastore=Jm.create("datastore",A5(this.path,"datastore"),this.options),await this.datastore.open(),Ds("creating blocks");let t=Jm.create("blocks",A5(this.path,"blocks"),this.options);await t.open(),this.blocks=await BAt(t,this.options.storageBackendOptions.blocks),Ds("creating keystore"),this.keys=Jm.create("keys",A5(this.path,"keys"),this.options),await this.keys.open(),Ds("creating pins"),this.pins=Jm.create("pins",A5(this.path,"pins"),this.options),await this.pins.open(),this.closed=!1,Ds("all opened")}catch(e){if(this.lockfile)try{await this._closeLock(),this.lockfile=null}catch(t){Ds("error removing lock",t)}throw e}}_getLocker(){if(typeof this.options.lock=="string"){if(!vxe[this.options.lock])throw new Error("Unknown lock type: "+this.options.lock);return vxe[this.options.lock]}if(!this.options.lock)throw new Error("No lock provided");return this.options.lock}async _openRoot(){try{await this.root.open()}catch(e){if(e.message!=="Already open")throw e}}async _openLock(e){let t=await this._locker.lock(e);if(typeof t.close!="function")throw Xm(new Error("Locks must have a close method"),"ERR_NO_CLOSE_FUNCTION");return t}_closeLock(){return this.lockfile.close()}async _checkInitialized(){Ds("init check");let e;try{[e]=await Promise.all([this.config.exists(),this.spec.exists(),this.version.exists()])}catch(t){throw t.code==="ERR_NOT_FOUND"?Xm(new Error("repo is not initialized yet"),k0.ERR_REPO_NOT_INITIALIZED,{path:this.path}):t}if(!e)throw Xm(new Error("repo is not initialized yet"),k0.ERR_REPO_NOT_INITIALIZED,{path:this.path})}async close(){if(this.closed)throw Xm(new Error("repo is already closed"),k0.ERR_REPO_ALREADY_CLOSED);Ds("closing at: %s",this.path);try{await this.apiAddr.delete()}catch(e){if(e.code!==k0.ERR_REPO_NOT_INITIALIZED&&!e.message.startsWith("ENOENT"))throw e}await Promise.all([this.root,this.blocks,this.keys,this.datastore,this.pins].map(e=>e.close())),Ds("unlocking"),this.closed=!0,await this._closeLock(),this.lockfile=null}async exists(){return this.version.exists()}async stat(){let[e,t,i,n,s]=await Promise.all([this._storageMaxStat(),this._blockStat(),this.version.get(),_xe(this.datastore),_xe(this.keys)]),o=t.size.plus(n).plus(s);return{repoPath:this.path,storageMax:e,version:i,numObjects:t.count,repoSize:o}}async _isAutoMigrationEnabled(){if(this.options.autoMigrate!==void 0)return this.options.autoMigrate;let e;try{e=await this.config.get(MAt)}catch(t){if(t.code===k0.NotFoundError.code)e=!0;else throw t}return e}async _migrate(e){return await this.version.get()>e?(Ds("reverting to version "+e),xxe.revert(this.path,this.options,e,{ignoreLock:!0,onProgress:this.options.onMigrationProgress})):(Ds("migrating to version "+e),xxe.migrate(this.path,this.options,e,{ignoreLock:!0,onProgress:this.options.onMigrationProgress}))}async _storageMaxStat(){try{let e=await this.config.get("Datastore.StorageMax");return new Ym(AAt(e))}catch(e){return new Ym(CAt)}}async _blockStat(){let e=new Ym(0),t=new Ym(0);for await(let i of this.blocks.query({}))e=e.plus(1),t=t.plus(i.data.byteLength).plus(i.cid.bytes.byteLength);return{count:e,size:t}}};async function _xe(r){let e=new Ym(0);for await(let t of r.query({}))e.plus(t.value.byteLength).plus(t.key.uint8Array().byteLength);return e}Wm.exports=Exe;Wm.exports.utils={blockstore:Hq()};Wm.exports.repoVersion=I5.repoVersion;Wm.exports.errors=k0;function NAt(r){let e=Object.assign({},uC,r);return e.storageBackends=Object.assign({},uC.storageBackends,e.storageBackends),e.storageBackendOptions=Object.assign({},uC.storageBackendOptions,e.storageBackendOptions),e}function PAt(r){return r.datastore=Object.assign({},wxe,mxe(r,"datastore",{})),r}function DAt(r){let e=Object.assign({},wxe.Spec,mxe(r,"datastore.Spec",{}));return{type:e.type,mounts:e.mounts.map(t=>({mountpoint:t.mountpoint,type:t.child.type,path:t.child.path,shardFunc:t.child.shardFunc}))}}});var kxe=h((Zpr,Sxe)=>{"use strict";var{repoVersion:OAt}=T5(),LAt=Ke();Sxe.exports=({repo:r})=>{async function e(t){try{await r._checkInitialized(t)}catch(i){if([/Key not found in database \[\/version\]/,/ENOENT/,/repo is not initialized yet/].some(s=>s.test(i.message)))return OAt;throw i}return r.version.get(t)}return LAt(e)}});var Txe=h((Qpr,Axe)=>{"use strict";var FAt=lbe(),UAt=pq(),zAt=kxe(),Ixe=class{constructor({gcLock:e,pin:t,repo:i,refs:n}){this.gc=FAt({gcLock:e,pin:t,refs:n,repo:i}),this.stat=UAt({repo:i}),this.version=zAt({repo:i})}};Axe.exports=Ixe});var Bxe=h((e1r,Rxe)=>{"use strict";var{default:K1}=pa(),{default:KAt}=Y4(),VAt=qe(),jAt=Ke();function qxe(r,e){let t;if(r.metrics?e.peer?t=r.metrics.forPeer(e.peer):e.proto?t=r.metrics.forProtocol(e.proto):t=r.metrics.global:t=void 0,!t)return{totalIn:new K1(0),totalOut:new K1(0),rateIn:new K1(0),rateOut:new K1(0)};let{movingAverages:i,snapshot:n}=t;return{totalIn:n.dataReceived,totalOut:n.dataSent,rateIn:new K1(i.dataReceived[6e4].movingAverage()/60),rateOut:new K1(i.dataSent[6e4].movingAverage()/60)}}Rxe.exports=({network:r})=>jAt(async function*(t={}){let{libp2p:i}=await r.use(t);if(!t.poll){yield qxe(i,t);return}let n=t.interval||1e3,s=-1;try{if(s=typeof n=="string"?KAt(n)||-1:n,!s||s<0)throw new Error("invalid duration")}catch(a){throw VAt(a,"ERR_INVALID_POLL_INTERVAL")}let o;try{for(;;)yield qxe(i,t),await new Promise(a=>{o=setTimeout(a,s)})}finally{clearTimeout(o)}})});var Nxe=h((t1r,Cxe)=>{"use strict";var HAt=Bxe(),GAt=pq(),$At=iR(),Mxe=class{constructor({repo:e,network:t}){this.repo=GAt({repo:e}),this.bw=HAt({network:t}),this.bitswap=$At({network:t})}};Cxe.exports=Mxe});var Lxe=h((r1r,Pxe)=>{"use strict";var{map:WAt}=f0(),Dxe=qe(),Oxe=class{constructor(e){this._repo=e,this._bitswap=null}setExchange(e){this._bitswap=e}unsetExchange(){this._bitswap=null}hasExchange(){return this._bitswap!=null}put(e,t){return this.hasExchange()?this._bitswap.put(e,t):this._repo.blocks.put(e,t)}putMany(e,t){return this.hasExchange()?this._bitswap.putMany(e,t):this._repo.blocks.putMany(e,t)}get(e,t){return this.hasExchange()?this._bitswap.get(e,t):this._repo.blocks.get(e,t)}getMany(e,t){if(!Array.isArray(e))throw new Error("first arg must be an array of cids");return this.hasExchange()?this._bitswap.getMany(e,t):WAt(n=>this._repo.blocks.get(n,t))(e)}async delete(e,t){if(!await this._repo.blocks.has(e))throw Dxe(new Error("blockstore: block not found"),"ERR_BLOCK_NOT_FOUND");return this._repo.blocks.delete(e,t)}deleteMany(e,t){let i=this._repo;return this._repo.blocks.deleteMany(async function*(){for await(let n of e){if(!await i.blocks.has(n))throw Dxe(new Error("blockstore: block not found"),"ERR_BLOCK_NOT_FOUND");yield n}}(),t)}};Pxe.exports=Oxe});var Zm=h((i1r,Fxe)=>{"use strict";var YAt=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});Fxe.exports={baseTable:YAt}});var Vxe=h((n1r,Uxe)=>{"use strict";var{baseTable:zxe}=Zm(),Kxe=new Map;for(let r in zxe){let e=zxe[r];Kxe.set(e,r)}Uxe.exports=Object.freeze(Kxe)});var fC=h((s1r,jxe)=>{"use strict";var{TextEncoder:XAt,TextDecoder:JAt}=ct(),ZAt=new JAt,QAt=r=>ZAt.decode(r),e7t=new XAt,t7t=r=>e7t.encode(r);function r7t(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}jxe.exports={decodeText:QAt,encodeText:t7t,concat:r7t}});var $xe=h((o1r,Hxe)=>{"use strict";var{encodeText:i7t}=fC(),Gxe=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=i7t(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};Hxe.exports=Gxe});var Yxe=h((a1r,Wxe)=>{"use strict";var n7t=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},s7t=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},o7t=r=>e=>({encode(t){return s7t(t,e,r)},decode(t){return n7t(t,e,r)}});Wxe.exports={rfc4648:o7t}});var lC=h((c1r,Xxe)=>{"use strict";var Qm=ri(),a7t=$xe(),{rfc4648:Sn}=Yxe(),{decodeText:c7t,encodeText:u7t}=fC(),f7t=()=>({encode:c7t,decode:u7t}),Jxe=[["identity","\0",f7t,""],["base2","0",Sn(1),"01"],["base8","7",Sn(3),"01234567"],["base10","9",Qm,"0123456789"],["base16","f",Sn(4),"0123456789abcdef"],["base16upper","F",Sn(4),"0123456789ABCDEF"],["base32hex","v",Sn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",Sn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",Sn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",Sn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",Sn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",Sn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",Sn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",Sn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",Sn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",Qm,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",Qm,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",Qm,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",Qm,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",Sn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",Sn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",Sn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",Sn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Zxe=Jxe.reduce((r,e)=>(r[e[0]]=new a7t(e[0],e[1],e[2],e[3]),r),{}),l7t=Jxe.reduce((r,e)=>(r[e[1]]=Zxe[e[0]],r),{});Xxe.exports={names:Zxe,codes:l7t}});var ewe=h((u1r,Qxe)=>{"use strict";var{names:h7t}=lC(),{TextDecoder:d7t}=ct(),p7t=new d7t("utf8");function b7t(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function y7t(r,e="utf8"){if(e==="utf8"||e==="utf-8")return p7t.decode(r);if(e==="ascii")return b7t(r);let t=h7t[e];if(!t)throw new Error("Unknown base");return t.encode(r)}Qxe.exports=y7t});var rwe=h((f1r,twe)=>{"use strict";var{names:g7t}=lC(),{TextEncoder:m7t}=ct(),x7t=new m7t;function w7t(r){let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function v7t(r,e="utf8"){if(e==="utf8"||e==="utf-8")return x7t.encode(r);if(e==="ascii")return w7t(r);let t=g7t[e];if(!t)throw new Error("Unknown base");return t.decode(r)}twe.exports=v7t});var hC=h((l1r,iwe)=>{"use strict";var nwe=ii(),E7t=ewe(),_7t=rwe();iwe.exports={numberToUint8Array:S7t,uint8ArrayToNumber:swe,varintUint8ArrayEncode:k7t,varintEncode:A7t};function swe(r){return parseInt(E7t(r,"base16"),16)}function S7t(r){let e=r.toString(16);return e.length%2==1&&(e="0"+e),_7t(e,"base16")}function k7t(r){return Uint8Array.from(nwe.encode(swe(r)))}function A7t(r){return Uint8Array.from(nwe.encode(r))}});var uwe=h((h1r,owe)=>{"use strict";var{baseTable:awe}=Zm(),I7t=hC().varintEncode,cwe={};for(let r in awe){let e=awe[r];cwe[r]=I7t(e)}owe.exports=Object.freeze(cwe)});var lwe=h((d1r,fwe)=>{"use strict";function T7t(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}fwe.exports=T7t});var pwe=h((p1r,hwe)=>{"use strict";var{baseTable:R7t}=Zm(),dwe={};for(let[r,e]of Object.entries(R7t)){let t=r.toUpperCase().replace(/-/g,"_");dwe[t]=e}hwe.exports=Object.freeze(dwe)});var ywe=h((b1r,bwe)=>{"use strict";var{baseTable:q7t}=Zm(),dC={};for(let[r,e]of Object.entries(q7t))dC[e]===void 0&&(dC[e]=r);bwe.exports=Object.freeze(dC)});var xwe=h((y1r,gwe)=>{"use strict";var V1=ii(),mwe=Vxe(),R5=uwe(),B7t=hC(),C7t=lwe();function M7t(r,e){let t;if(r instanceof Uint8Array)t=B7t.varintUint8ArrayEncode(r);else if(R5[r])t=R5[r];else throw new Error("multicodec not recognized");return C7t([t,e],t.length+e.length)}function N7t(r){return V1.decode(r),r.slice(V1.decode.bytes)}function P7t(r){let e=V1.decode(r),t=mwe.get(e);if(t===void 0)throw new Error(`Code ${e} not found`);return t}function D7t(r){return mwe.get(r)}function O7t(r){let e=R5[r];if(e===void 0)throw new Error("Codec `"+r+"` not found");return V1.decode(e)}function L7t(r){return V1.decode(r)}function F7t(r){let e=R5[r];if(e===void 0)throw new Error("Codec `"+r+"` not found");return e}function U7t(r){return V1.encode(r)}var z7t=pwe(),K7t=ywe();gwe.exports={addPrefix:M7t,rmPrefix:N7t,getCodec:P7t,getName:D7t,getNumber:O7t,getCode:L7t,getCodeVarint:F7t,getVarint:U7t,print:K7t,...z7t}});var bC=h((g1r,q5)=>{"use strict";var V7t=ot(),j7t=Er(),pC=xwe();q5.exports={codec:pC.RAW,defaultHashAlg:pC.SHA2_256,resolver:{resolve:(r,e)=>{if(e!=="/")throw new Error("Only the root path / may be resolved");return{value:r,remainderPath:""}},tree:r=>({done:!0})},util:{deserialize:r=>r,serialize:r=>r,cid:async(r,e)=>{let t={cidVersion:1,hashAlg:q5.exports.defaultHashAlg},i=Object.assign(t,e),n=await j7t(r,i.hashAlg),s=pC.print[q5.exports.codec];return new V7t(i.cidVersion,s,n)}}}});var Ewe=h((m1r,wwe)=>{"use strict";var H7t=hi(),B5=nn(),vwe={get[B5.DAG_PB](){return Nr()},get[B5.DAG_CBOR](){return p6()},get[B5.RAW](){return bC()}};wwe.exports=(r,e={},t)=>H7t.call({concatArrays:!0},{blockService:r,loadFormat:i=>{if(t("Loading IPLD format",i),vwe[i])return vwe[i];throw new Error(`Missing IPLD format "${B5.getName(i)}"`)}},e)});var Swe=h((x1r,_we)=>{"use strict";_we.exports=r=>{if(Object.prototype.toString.call(r)!=="[object Object]")return!1;let e=Object.getPrototypeOf(r);return e===null||e===Object.prototype}});var qwe=h((kwe,Awe)=>{"use strict";var C5=Swe(),{hasOwnProperty:Iwe}=Object.prototype,{propertyIsEnumerable:G7t}=Object,j1=(r,e,t)=>Object.defineProperty(r,e,{value:t,writable:!0,enumerable:!0,configurable:!0}),$7t=kwe,Twe={concatArrays:!1,ignoreUndefined:!1},M5=r=>{let e=[];for(let t in r)Iwe.call(r,t)&&e.push(t);if(Object.getOwnPropertySymbols){let t=Object.getOwnPropertySymbols(r);for(let i of t)G7t.call(r,i)&&e.push(i)}return e};function H1(r){return Array.isArray(r)?W7t(r):C5(r)?Y7t(r):r}function W7t(r){let e=r.slice(0,0);return M5(r).forEach(t=>{j1(e,t,H1(r[t]))}),e}function Y7t(r){let e=Object.getPrototypeOf(r)===null?Object.create(null):{};return M5(r).forEach(t=>{j1(e,t,H1(r[t]))}),e}var Rwe=(r,e,t,i)=>(t.forEach(n=>{typeof e[n]=="undefined"&&i.ignoreUndefined||(n in r&&r[n]!==Object.getPrototypeOf(r)?j1(r,n,yC(r[n],e[n],i)):j1(r,n,H1(e[n])))}),r),X7t=(r,e,t)=>{let i=r.slice(0,0),n=0;return[r,e].forEach(s=>{let o=[];for(let a=0;a<s.length;a++)!Iwe.call(s,a)||(o.push(String(a)),s===r?j1(i,n++,s[a]):j1(i,n++,H1(s[a])));i=Rwe(i,s,M5(s).filter(a=>!o.includes(a)),t)}),i};function yC(r,e,t){return t.concatArrays&&Array.isArray(r)&&Array.isArray(e)?X7t(r,e,t):!C5(e)||!C5(r)?H1(e):Rwe(r,e,M5(e),t)}Awe.exports=function(...r){let e=yC(H1(Twe),this!==$7t&&this||{},Twe),t={_:{}};for(let i of r)if(i!==void 0){if(!C5(i))throw new TypeError("`"+i+"` is not an Option Object");t=yC(t,{_:i},e)}return t._}});var e3=h((w1r,Bwe)=>{"use strict";var J7t=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});Bwe.exports={baseTable:J7t}});var Pwe=h((v1r,Cwe)=>{"use strict";var{baseTable:Mwe}=e3(),Nwe=new Map;for(let r in Mwe){let e=Mwe[r];Nwe.set(e,r)}Cwe.exports=Object.freeze(Nwe)});var gC=h((E1r,Dwe)=>{"use strict";var{TextEncoder:Z7t,TextDecoder:Q7t}=ct(),eIt=new Q7t,tIt=r=>eIt.decode(r),rIt=new Z7t,iIt=r=>rIt.encode(r);function nIt(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}Dwe.exports={decodeText:tIt,encodeText:iIt,concat:nIt}});var Fwe=h((_1r,Owe)=>{"use strict";var{encodeText:sIt}=gC(),Lwe=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=sIt(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};Owe.exports=Lwe});var zwe=h((S1r,Uwe)=>{"use strict";var oIt=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},aIt=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},cIt=r=>e=>({encode(t){return aIt(t,e,r)},decode(t){return oIt(t,e,r)}});Uwe.exports={rfc4648:cIt}});var mC=h((k1r,Kwe)=>{"use strict";var t3=ri(),uIt=Fwe(),{rfc4648:kn}=zwe(),{decodeText:fIt,encodeText:lIt}=gC(),hIt=()=>({encode:fIt,decode:lIt}),Vwe=[["identity","\0",hIt,""],["base2","0",kn(1),"01"],["base8","7",kn(3),"01234567"],["base10","9",t3,"0123456789"],["base16","f",kn(4),"0123456789abcdef"],["base16upper","F",kn(4),"0123456789ABCDEF"],["base32hex","v",kn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",kn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",kn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",kn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",kn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",kn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",kn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",kn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",kn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",t3,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",t3,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",t3,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",t3,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",kn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",kn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",kn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",kn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],jwe=Vwe.reduce((r,e)=>(r[e[0]]=new uIt(e[0],e[1],e[2],e[3]),r),{}),dIt=Vwe.reduce((r,e)=>(r[e[1]]=jwe[e[0]],r),{});Kwe.exports={names:jwe,codes:dIt}});var Gwe=h((A1r,Hwe)=>{"use strict";var{names:pIt}=mC(),{TextDecoder:bIt}=ct(),yIt=new bIt("utf8");function gIt(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function mIt(r,e="utf8"){if(e==="utf8"||e==="utf-8")return yIt.decode(r);if(e==="ascii")return gIt(r);let t=pIt[e];if(!t)throw new Error("Unknown base");return t.encode(r)}Hwe.exports=mIt});var Wwe=h((I1r,$we)=>{"use strict";var{names:xIt}=mC(),{TextEncoder:wIt}=ct(),vIt=new wIt;function EIt(r){let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function _It(r,e="utf8"){if(e==="utf8"||e==="utf-8")return vIt.encode(r);if(e==="ascii")return EIt(r);let t=xIt[e];if(!t)throw new Error("Unknown base");return t.decode(r)}$we.exports=_It});var xC=h((T1r,Ywe)=>{"use strict";var Xwe=ii(),SIt=Gwe(),kIt=Wwe();Ywe.exports={numberToUint8Array:AIt,uint8ArrayToNumber:Jwe,varintUint8ArrayEncode:IIt,varintEncode:TIt};function Jwe(r){return parseInt(SIt(r,"base16"),16)}function AIt(r){let e=r.toString(16);return e.length%2==1&&(e="0"+e),kIt(e,"base16")}function IIt(r){return Uint8Array.from(Xwe.encode(Jwe(r)))}function TIt(r){return Uint8Array.from(Xwe.encode(r))}});var t4e=h((R1r,Zwe)=>{"use strict";var{baseTable:Qwe}=e3(),RIt=xC().varintEncode,e4e={};for(let r in Qwe){let e=Qwe[r];e4e[r]=RIt(e)}Zwe.exports=Object.freeze(e4e)});var i4e=h((q1r,r4e)=>{"use strict";function qIt(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}r4e.exports=qIt});var o4e=h((B1r,n4e)=>{"use strict";var{baseTable:BIt}=e3(),s4e={};for(let[r,e]of Object.entries(BIt)){let t=r.toUpperCase().replace(/-/g,"_");s4e[t]=e}n4e.exports=Object.freeze(s4e)});var c4e=h((C1r,a4e)=>{"use strict";var{baseTable:CIt}=e3(),wC={};for(let[r,e]of Object.entries(CIt))wC[e]===void 0&&(wC[e]=r);a4e.exports=Object.freeze(wC)});var l4e=h((M1r,u4e)=>{"use strict";var G1=ii(),f4e=Pwe(),N5=t4e(),MIt=xC(),NIt=i4e();function PIt(r,e){let t;if(r instanceof Uint8Array)t=MIt.varintUint8ArrayEncode(r);else if(N5[r])t=N5[r];else throw new Error("multicodec not recognized");return NIt([t,e],t.length+e.length)}function DIt(r){return G1.decode(r),r.slice(G1.decode.bytes)}function OIt(r){let e=G1.decode(r),t=f4e.get(e);if(t===void 0)throw new Error(`Code ${e} not found`);return t}function LIt(r){return f4e.get(r)}function FIt(r){let e=N5[r];if(e===void 0)throw new Error("Codec `"+r+"` not found");return G1.decode(e)}function UIt(r){return G1.decode(r)}function zIt(r){let e=N5[r];if(e===void 0)throw new Error("Codec `"+r+"` not found");return e}function KIt(r){return G1.encode(r)}var VIt=o4e(),jIt=c4e();u4e.exports={addPrefix:PIt,rmPrefix:DIt,getCodec:OIt,getName:LIt,getNumber:FIt,getCode:UIt,getCodeVarint:zIt,getVarint:KIt,print:jIt,...VIt}});var _4e=h(HIt=>{Vx(HIt);jx(HIt,{default:()=>GIt,isArrayLike:()=>p4e,isClass:()=>g4e,isDefined:()=>$1,isDefinedValue:()=>y4e,isFunction:()=>E4e,isIterable:()=>w4e,isNull:()=>EC,isNumber:()=>h4e,isObject:()=>vC,isPlainObject:()=>d4e,isPrimitive:()=>m4e,isPromise:()=>x4e,isString:()=>v4e,isUndefined:()=>b4e});function h4e(r){return!isNaN(parseFloat(r))&&isFinite(r)}function d4e(r){return r!==null&&typeof r=="object"&&r.constructor===Object}function p4e(r){return vC(r)&&typeof r.length=="number"}function vC(r){return typeof r=="object"&&r!==null}function $1(r){return typeof r!="undefined"}function b4e(r){return!$1(r)}function EC(r){return r===null}function y4e(r){return $1(r)&&!EC(r)&&!Number.isNaN(r)}function g4e(r){return typeof r=="function"?/^class /.test(Function.prototype.toString.call(r)):!1}function m4e(r){if(r===null)return!0;switch(typeof r){case"string":case"number":case"symbol":case"undefined":case"boolean":return!0;default:return!1}}function x4e(r){if(r){let e=$1(Promise)&&r instanceof Promise,t=r.then&&typeof r.then=="function";return!!(e||t)}else return!1}function w4e(r){return r===null||!$1(r)?!1:typeof r[Symbol.iterator]=="function"||typeof r[Symbol.asyncIterator]=="function"}function v4e(r){return typeof r=="string"}function E4e(r){return typeof r=="function"}var GIt={isNumber:h4e,isPlainObject:d4e,isArrayLike:p4e,isObject:vC,isDefined:$1,isUndefined:b4e,isNull:EC,isDefinedValue:y4e,isClass:g4e,isPrimitive:m4e,isPromise:x4e,isIterable:w4e,isString:v4e,isFunction:E4e}});var S4e=h(A0=>{"use strict";A0.first=async r=>{for await(let e of r)return e};A0.last=async r=>{let e;for await(e of r);return e};A0.all=async r=>{let e=[];for await(let t of r)e.push(t);return e};A0.extendIterator=r=>(r.first=()=>A0.first(r),r.last=()=>A0.last(r),r.all=()=>A0.all(r),r)});var A4e=h((D1r,k4e)=>{"use strict";var $It=o1(),P5=ot(),D5=qwe(),WIt=p6(),YIt=Nr(),XIt=bC(),_C=l4e(),SC=_4e(),{extendIterator:r3}=S4e(),i3=class{constructor(e){let t=D5(i3.defaultOptions,e);if(!t.blockService)throw new Error("Missing blockservice");this.bs=t.blockService,this.resolvers={},typeof t.loadFormat!="function"?this.loadFormat=i=>{let n=_C.print[i];throw new Error(`No resolver found for codec "${n}"`)}:this.loadFormat=t.loadFormat;for(let i of t.formats)this.addFormat(i)}addFormat(e){let t=e.codec;if(this.resolvers[e.codec]){let i=_C.print[t];throw new Error(`Resolver already exists for codec "${i}"`)}return this.resolvers[t]=e,this}removeFormat(e){return this.resolvers[e]&&delete this.resolvers[e],this}resolve(e,t,i){if(!P5.isCID(e))throw new Error("`cid` argument must be a CID");if(typeof t!="string")throw new Error("`path` argument must be a string");let n=async function*(){for(;e!==null;){let s=await this.getFormat(e.codec),o=await this.bs.get(e,i),a=s.resolver.resolve(o.data,t);t=a.remainderPath;let c=a.value;if(Object.keys(c).length===1&&"/"in c)try{c=new P5(c["/"])}catch(u){c=null}e=P5.isCID(c)?c:null,yield{remainderPath:t,value:c}}}.bind(this);return r3(n())}async get(e,t){let i=await this.bs.get(e,t);return(await this.getFormat(i.cid.codec)).util.deserialize(i.data)}getMany(e,t){if(!SC.isIterable(e)||typeof e=="string"||e instanceof Uint8Array)throw new Error("`cids` must be an iterable of CIDs");let i=async function*(){for await(let n of e)yield this.get(n,t)}.bind(this);return r3(i())}async put(e,t,i){if(t===void 0)throw new Error("`put` requires a format");if(typeof t!="number")throw new Error("`format` parameter must be number (multicodec)");let n=await this.getFormat(t),s={hashAlg:n.defaultHashAlg,cidVersion:1,onlyHash:!1},o=D5(s,i),a={cidVersion:o.cidVersion,hashAlg:o.hashAlg,onlyHash:o.onlyHash},c=n.util.serialize(e),u=await n.util.cid(c,a);if(!o.onlyHash){let f=new $It(c,u);await this.bs.put(f,o)}return u}putMany(e,t,i){if(!SC.isIterable(e)||typeof e=="string"||e instanceof Uint8Array)throw new Error("`nodes` must be an iterable");if(t===void 0)throw new Error("`put` requires a format");if(typeof t!="number")throw new Error("`format` parameter must be number (multicodec)");let n,s,o=async function*(){for await(let a of e){if(n===void 0){s=await this.getFormat(t);let c={hashAlg:s.defaultHashAlg,cidVersion:1,onlyHash:!1};n=D5(c,i)}yield this.put(a,t,n)}}.bind(this);return r3(o())}async remove(e,t){return this.bs.delete(e,t)}removeMany(e,t){if(!SC.isIterable(e)||typeof e=="string"||e instanceof Uint8Array)throw new Error("`cids` must be an iterable of CIDs");let i=async function*(){for await(let n of e)yield this.remove(n,t)}.bind(this);return r3(i())}tree(e,t,i){typeof t=="object"&&(i=t,t=void 0),t=t||"";let s=D5({recursive:!1},i),o=async(c,u)=>{let l=(await this.getFormat(c.cid.codec)).resolver.resolve(c.data,u);return P5.isCID(l.value)?l.value:null},a=async function*(){let c=[],u,f=[{cid:e,basePath:""}],l;for(;c.length>0||f.length>0;){if(c.length===0&&f.length>0){({cid:e,basePath:l}=f.shift());let b=await this.getFormat(e.codec);u=await this.bs.get(e,s);let g=b.resolver.tree(u.data);c.push(...g)}let d=c.shift(),p=l+d;s.recursive&&(e=await o(u,d),e!==null&&f.push({cid:e,basePath:p+"/"})),p.startsWith(t)&&p.length>t.length&&(t.length>0&&(p=p.slice(t.length+1)),yield p)}}.bind(this);return r3(a())}async getFormat(e){if(typeof e=="string"){let i=e.toUpperCase().replace(/-/g,"_");e=_C[i]}if(this.resolvers[e])return this.resolvers[e];let t=await this.loadFormat(e);return this.addFormat(t),t}};i3.defaultOptions={formats:[WIt,YIt,XIt]};k4e.exports=i3});var T4e=h((O1r,I4e)=>{"use strict";var JIt=Ewe(),ZIt=A4e(),QIt=({blockService:r,print:e,options:t})=>new ZIt(JIt(r,t,e));I4e.exports=QIt});var q4e=h((L1r,R4e)=>{"use strict";var e9t=T5();R4e.exports=(r={})=>{let e=r.path||"ipfs";return new e9t(e,{autoMigrate:r.autoMigrate})}});var kC=h((F1r,B4e)=>{"use strict";var C4e=()=>{},M4e=Symbol.for("@libp2p/js-interfaces/topology"),N4e=class{constructor({min:e=0,max:t=Infinity,handlers:i={}}){this.min=e,this.max=t,this._onConnect=i.onConnect||C4e,this._onDisconnect=i.onDisconnect||C4e,this.peers=new Set}get[Symbol.toStringTag](){return"Topology"}get[M4e](){return!0}static isTopology(e){return Boolean(e&&e[M4e])}set registrar(e){this._registrar=e}disconnect(e){this._onDisconnect(e)}};B4e.exports=N4e});var O5=h((U1r,P4e)=>{"use strict";var t9t=kC(),D4e=Symbol.for("@libp2p/js-interfaces/topology/multicodec-topology"),O4e=class extends t9t{constructor({min:e,max:t,multicodecs:i,handlers:n}){super({min:e,max:t,handlers:n});if(!i)throw new Error("one or more multicodec should be provided");if(!n)throw new Error("the handlers should be provided");if(typeof n.onConnect!="function")throw new Error("the 'onConnect' handler must be provided");if(typeof n.onDisconnect!="function")throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(i)?i:[i],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}get[Symbol.toStringTag](){return"Topology"}get[D4e](){return!0}static isMulticodecTopology(e){return Boolean(e&&e[D4e])}set registrar(e){this._registrar=e,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),this._updatePeers(this._registrar.peerStore.peers.values())}_updatePeers(e){for(let{id:t,protocols:i}of e)if(this.multicodecs.filter(n=>i.includes(n)).length){this.peers.add(t.toB58String());let n=this._registrar.getConnection(t);n&&this._onConnect(t,n)}else this.peers.delete(t.toB58String())}_onProtocolChange({peerId:e,protocols:t}){let i=this.peers.has(e.toB58String()),n=t.filter(s=>this.multicodecs.includes(s));i&&n.length===0&&this._onDisconnect(e);for(let s of t)if(this.multicodecs.includes(s)){let o=this._registrar.peerStore.get(e);this._updatePeers([o]);return}}_onPeerConnect(e){let t=e.remotePeer,i=this._registrar.peerStore.protoBook.get(t);!i||this.multicodecs.find(n=>i.includes(n))&&(this.peers.add(t.toB58String()),this._onConnect(t,e))}};P4e.exports=O4e});var L5=h(L4e=>{"use strict";L4e.codes={ERR_INVALID_SIGNATURE_POLICY:"ERR_INVALID_SIGNATURE_POLICY",ERR_UNHANDLED_SIGNATURE_POLICY:"ERR_UNHANDLED_SIGNATURE_POLICY",ERR_MISSING_SIGNATURE:"ERR_MISSING_SIGNATURE",ERR_MISSING_SEQNO:"ERR_MISSING_SEQNO",ERR_INVALID_SIGNATURE:"ERR_INVALID_SIGNATURE",ERR_UNEXPECTED_FROM:"ERR_UNEXPECTED_FROM",ERR_UNEXPECTED_SIGNATURE:"ERR_UNEXPECTED_SIGNATURE",ERR_UNEXPECTED_KEY:"ERR_UNEXPECTED_KEY",ERR_UNEXPECTED_SEQNO:"ERR_UNEXPECTED_SEQNO"}});var U4e=h((K1r,F4e)=>{"use strict";F4e.exports=`
message RPC {
  repeated SubOpts subscriptions = 1;
  repeated Message msgs = 2;

  message SubOpts {
    optional bool subscribe = 1; // subscribe or unsubcribe
    optional string topicID = 2;
  }

  message Message {
    optional bytes from = 1;
    optional bytes data = 2;
    optional bytes seqno = 3;
    repeated string topicIDs = 4;
    optional bytes signature = 5;
    optional bytes key = 6;
  }
}`});var K4e=h((V1r,z4e)=>{"use strict";z4e.exports=`
// topicCID = cid(merkledag_protobuf(topicDescriptor)); (not the topic.name)
message TopicDescriptor {
  optional string name = 1;
  optional AuthOpts auth = 2;
  optional EncOpts enc = 2;

  message AuthOpts {
    optional AuthMode mode = 1;
    repeated bytes keys = 2; // root keys to trust

    enum AuthMode {
      NONE = 0; // no authentication, anyone can publish
      KEY = 1; // only messages signed by keys in the topic descriptor are accepted
      WOT = 2; // web of trust, certificates can allow publisher set to grow
    }
  }

  message EncOpts {
    optional EncMode mode = 1;
    repeated bytes keyHashes = 2; // the hashes of the shared keys used (salted)

    enum EncMode {
      NONE = 0; // no encryption, anyone can read
      SHAREDKEY = 1; // messages are encrypted with shared key
      WOT = 2; // web of trust, certificates can allow publisher set to grow
    }
  }
}`});var IC=h((xh,V4e)=>{"use strict";var j4e=ni(),H4e=j4e(U4e()),AC=H4e.RPC,r9t=j4e(K4e());xh=V4e.exports;xh.rpc=H4e;xh.td=r9t;xh.RPC=AC;xh.Message=AC.Message;xh.SubOpts=AC.SubOpts});var X1=h(W1=>{"use strict";var TC=ra(),Y1=bo(),G4e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;W1.Buffer=Ie;W1.SlowBuffer=i9t;W1.INSPECT_MAX_BYTES=50;var F5=2147483647;W1.kMaxLength=F5;Ie.TYPED_ARRAY_SUPPORT=n9t();!Ie.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function n9t(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(t){return!1}}Object.defineProperty(Ie.prototype,"parent",{enumerable:!0,get:function(){if(!!Ie.isBuffer(this))return this.buffer}});Object.defineProperty(Ie.prototype,"offset",{enumerable:!0,get:function(){if(!!Ie.isBuffer(this))return this.byteOffset}});function Uu(r){if(r>F5)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,Ie.prototype),e}function Ie(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return RC(r)}return $4e(r,e,t)}Ie.poolSize=8192;function $4e(r,e,t){if(typeof r=="string")return s9t(r,e);if(ArrayBuffer.isView(r))return o9t(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Pc(r,ArrayBuffer)||r&&Pc(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Pc(r,SharedArrayBuffer)||r&&Pc(r.buffer,SharedArrayBuffer)))return qC(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return Ie.from(i,e,t);var n=a9t(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return Ie.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}Ie.from=function(r,e,t){return $4e(r,e,t)};Object.setPrototypeOf(Ie.prototype,Uint8Array.prototype);Object.setPrototypeOf(Ie,Uint8Array);function W4e(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function c9t(r,e,t){return W4e(r),r<=0?Uu(r):e!==void 0?typeof t=="string"?Uu(r).fill(e,t):Uu(r).fill(e):Uu(r)}Ie.alloc=function(r,e,t){return c9t(r,e,t)};function RC(r){return W4e(r),Uu(r<0?0:BC(r)|0)}Ie.allocUnsafe=function(r){return RC(r)};Ie.allocUnsafeSlow=function(r){return RC(r)};function s9t(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Ie.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=Y4e(r,e)|0,i=Uu(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function CC(r){for(var e=r.length<0?0:BC(r.length)|0,t=Uu(e),i=0;i<e;i+=1)t[i]=r[i]&255;return t}function o9t(r){if(Pc(r,Uint8Array)){var e=new Uint8Array(r);return qC(e.buffer,e.byteOffset,e.byteLength)}return CC(r)}function qC(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,Ie.prototype),i}function a9t(r){if(Ie.isBuffer(r)){var e=BC(r.length)|0,t=Uu(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||MC(r.length)?Uu(0):CC(r);if(r.type==="Buffer"&&Array.isArray(r.data))return CC(r.data)}function BC(r){if(r>=F5)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+F5.toString(16)+" bytes");return r|0}function i9t(r){return+r!=r&&(r=0),Ie.alloc(+r)}Ie.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Ie.prototype};Ie.compare=function(e,t){if(Pc(e,Uint8Array)&&(e=Ie.from(e,e.offset,e.byteLength)),Pc(t,Uint8Array)&&(t=Ie.from(t,t.offset,t.byteLength)),!Ie.isBuffer(e)||!Ie.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};Ie.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Ie.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Ie.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=Ie.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var o=e[i];if(Pc(o,Uint8Array))s+o.length>n.length?Ie.from(o).copy(n,s):Uint8Array.prototype.set.call(n,o,s);else if(Ie.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function Y4e(r,e){if(Ie.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Pc(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return NC(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return X4e(r).length;default:if(n)return i?-1:NC(r).length;e=(""+e).toLowerCase(),n=!0}}Ie.byteLength=Y4e;function p9t(r,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return h9t(this,e,t);case"utf8":case"utf-8":return J4e(this,e,t);case"ascii":return f9t(this,e,t);case"latin1":case"binary":return l9t(this,e,t);case"base64":return u9t(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d9t(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}Ie.prototype._isBuffer=!0;function wh(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}Ie.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)wh(this,t,t+1);return this};Ie.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)wh(this,t,t+3),wh(this,t+1,t+2);return this};Ie.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)wh(this,t,t+7),wh(this,t+1,t+6),wh(this,t+2,t+5),wh(this,t+3,t+4);return this};Ie.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?J4e(this,0,e):p9t.apply(this,arguments)};Ie.prototype.toLocaleString=Ie.prototype.toString;Ie.prototype.equals=function(e){if(!Ie.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Ie.compare(this,e)===0};Ie.prototype.inspect=function(){var e="",t=W1.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};G4e&&(Ie.prototype[G4e]=Ie.prototype.inspect);Ie.prototype.compare=function(e,t,i,n,s){if(Pc(e,Uint8Array)&&(e=Ie.from(e,e.offset,e.byteLength)),!Ie.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,a=i-t,c=Math.min(o,a),u=this.slice(n,s),f=e.slice(t,i),l=0;l<c;++l)if(u[l]!==f[l]){o=u[l],a=f[l];break}return o<a?-1:a<o?1:0};function Q4e(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,MC(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=Ie.from(e,i)),Ie.isBuffer(e))return e.length===0?-1:Z4e(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):Z4e(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function Z4e(r,e,t,i,n){var s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function c(p,b){return s===1?p[b]:p.readUInt16BE(b*s)}var u;if(n){var f=-1;for(u=t;u<o;u++)if(c(r,u)===c(e,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===a)return f*s}else f!==-1&&(u-=u-f),f=-1}else for(t+a>o&&(t=o-a),u=t;u>=0;u--){for(var l=!0,d=0;d<a;d++)if(c(r,u+d)!==c(e,d)){l=!1;break}if(l)return u}return-1}Ie.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};Ie.prototype.indexOf=function(e,t,i){return Q4e(this,e,t,i,!0)};Ie.prototype.lastIndexOf=function(e,t,i){return Q4e(this,e,t,i,!1)};function b9t(r,e,t,i){t=Number(t)||0;var n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(o*2,2),16);if(MC(a))return o;r[t+o]=a}return o}function y9t(r,e,t,i){return U5(NC(e,r.length-t),r,t,i)}function m9t(r,e,t,i){return U5(g9t(e),r,t,i)}function x9t(r,e,t,i){return U5(X4e(e),r,t,i)}function v9t(r,e,t,i){return U5(w9t(e,r.length-t),r,t,i)}Ie.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return b9t(this,e,t,i);case"utf8":case"utf-8":return y9t(this,e,t,i);case"ascii":case"latin1":case"binary":return m9t(this,e,t,i);case"base64":return x9t(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v9t(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};Ie.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function u9t(r,e,t){return e===0&&t===r.length?TC.fromByteArray(r):TC.fromByteArray(r.slice(e,t))}function J4e(r,e,t){t=Math.min(r.length,t);for(var i=[],n=e;n<t;){var s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){var c,u,f,l;switch(a){case 1:s<128&&(o=s);break;case 2:c=r[n+1],(c&192)==128&&(l=(s&31)<<6|c&63,l>127&&(o=l));break;case 3:c=r[n+1],u=r[n+2],(c&192)==128&&(u&192)==128&&(l=(s&15)<<12|(c&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:c=r[n+1],u=r[n+2],f=r[n+3],(c&192)==128&&(u&192)==128&&(f&192)==128&&(l=(s&15)<<18|(c&63)<<12|(u&63)<<6|f&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return E9t(i)}var e6e=4096;function E9t(r){var e=r.length;if(e<=e6e)return String.fromCharCode.apply(String,r);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=e6e));return t}function f9t(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function l9t(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function h9t(r,e,t){var i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var n="",s=e;s<t;++s)n+=_9t[r[s]];return n}function d9t(r,e,t){for(var i=r.slice(e,t),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}Ie.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,Ie.prototype),n};function Wi(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}Ie.prototype.readUintLE=Ie.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Wi(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n};Ie.prototype.readUintBE=Ie.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Wi(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n};Ie.prototype.readUint8=Ie.prototype.readUInt8=function(e,t){return e=e>>>0,t||Wi(e,1,this.length),this[e]};Ie.prototype.readUint16LE=Ie.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Wi(e,2,this.length),this[e]|this[e+1]<<8};Ie.prototype.readUint16BE=Ie.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Wi(e,2,this.length),this[e]<<8|this[e+1]};Ie.prototype.readUint32LE=Ie.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Wi(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Ie.prototype.readUint32BE=Ie.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Wi(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Ie.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Wi(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};Ie.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Wi(e,t,this.length);for(var n=t,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};Ie.prototype.readInt8=function(e,t){return e=e>>>0,t||Wi(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Ie.prototype.readInt16LE=function(e,t){e=e>>>0,t||Wi(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};Ie.prototype.readInt16BE=function(e,t){e=e>>>0,t||Wi(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};Ie.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Wi(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Ie.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Wi(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Ie.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Wi(e,4,this.length),Y1.read(this,e,!0,23,4)};Ie.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Wi(e,4,this.length),Y1.read(this,e,!1,23,4)};Ie.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Wi(e,8,this.length),Y1.read(this,e,!0,52,8)};Ie.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Wi(e,8,this.length),Y1.read(this,e,!1,52,8)};function Os(r,e,t,i,n,s){if(!Ie.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}Ie.prototype.writeUintLE=Ie.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Os(this,e,t,i,s,0)}var o=1,a=0;for(this[t]=e&255;++a<i&&(o*=256);)this[t+a]=e/o&255;return t+i};Ie.prototype.writeUintBE=Ie.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Os(this,e,t,i,s,0)}var o=i-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+i};Ie.prototype.writeUint8=Ie.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||Os(this,e,t,1,255,0),this[t]=e&255,t+1};Ie.prototype.writeUint16LE=Ie.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Os(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};Ie.prototype.writeUint16BE=Ie.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Os(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};Ie.prototype.writeUint32LE=Ie.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Os(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};Ie.prototype.writeUint32BE=Ie.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Os(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};Ie.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);Os(this,e,t,i,s-1,-s)}var o=0,a=1,c=0;for(this[t]=e&255;++o<i&&(a*=256);)e<0&&c===0&&this[t+o-1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};Ie.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);Os(this,e,t,i,s-1,-s)}var o=i-1,a=1,c=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&c===0&&this[t+o+1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};Ie.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||Os(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};Ie.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Os(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};Ie.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Os(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};Ie.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Os(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};Ie.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Os(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function t6e(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function r6e(r,e,t,i,n){return e=+e,t=t>>>0,n||t6e(r,e,t,4,34028234663852886e22,-34028234663852886e22),Y1.write(r,e,t,i,23,4),t+4}Ie.prototype.writeFloatLE=function(e,t,i){return r6e(this,e,t,!0,i)};Ie.prototype.writeFloatBE=function(e,t,i){return r6e(this,e,t,!1,i)};function i6e(r,e,t,i,n){return e=+e,t=t>>>0,n||t6e(r,e,t,8,17976931348623157e292,-17976931348623157e292),Y1.write(r,e,t,i,52,8),t+8}Ie.prototype.writeDoubleLE=function(e,t,i){return i6e(this,e,t,!0,i)};Ie.prototype.writeDoubleBE=function(e,t,i){return i6e(this,e,t,!1,i)};Ie.prototype.copy=function(e,t,i,n){if(!Ie.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};Ie.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Ie.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{var a=Ie.isBuffer(e)?e:Ie.from(e,n),c=a.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=a[o%c]}return this};var S9t=/[^+/0-9A-Za-z-_]/g;function k9t(r){if(r=r.split("=")[0],r=r.trim().replace(S9t,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function NC(r,e){e=e||Infinity;for(var t,i=r.length,n=null,s=[],o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function g9t(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function w9t(r,e){for(var t,i,n,s=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function X4e(r){return TC.toByteArray(k9t(r))}function U5(r,e,t,i){for(var n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function Pc(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function MC(r){return r!==r}var _9t=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var i=t*16,n=0;n<16;++n)e[i+n]=r[t]+r[n];return e}()});var a6e=h((H1r,n6e)=>{n6e.exports=s6e;var o6e=128,A9t=127,I9t=~A9t,T9t=Math.pow(2,31);function s6e(r,e,t){e=e||[],t=t||0;for(var i=t;r>=T9t;)e[t++]=r&255|o6e,r/=128;for(;r&I9t;)e[t++]=r&255|o6e,r>>>=7;return e[t]=r|0,s6e.bytes=t-i+1,e}});var f6e=h((G1r,c6e)=>{c6e.exports=PC;var R9t=128,u6e=127;function PC(r,e){var t=0,e=e||0,i=0,n=e,s,o=r.length;do{if(n>=o)throw PC.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&u6e)<<i:(s&u6e)*Math.pow(2,i),i+=7}while(s>=R9t);return PC.bytes=n-e,t}});var h6e=h(($1r,l6e)=>{var q9t=Math.pow(2,7),B9t=Math.pow(2,14),C9t=Math.pow(2,21),M9t=Math.pow(2,28),N9t=Math.pow(2,35),P9t=Math.pow(2,42),D9t=Math.pow(2,49),O9t=Math.pow(2,56),L9t=Math.pow(2,63);l6e.exports=function(r){return r<q9t?1:r<B9t?2:r<C9t?3:r<M9t?4:r<N9t?5:r<P9t?6:r<D9t?7:r<O9t?8:r<L9t?9:10}});var DC=h((W1r,d6e)=>{d6e.exports={encode:a6e(),decode:f6e(),encodingLength:h6e()}});var OC=h((Y1r,p6e)=>{"use strict";var b6e=DC(),{Buffer:F9t}=X1(),y6e=(r,e,t)=>{let i=b6e.encode(r,e,t);return y6e.bytes=b6e.encode.bytes,e||F9t.from(i)};p6e.exports=y6e});var E6e=h((X1r,z5)=>{"use strict";var{Buffer:g6e}=X1(),m6e=Lo(),x6e=OC(),LC=8,w6e=10*1024;function v6e(r){r=r||{};let e=Math.max(r.poolSize||w6e,r.minPoolSize||LC),t=r.lengthEncoder||x6e;return i=>async function*(){let n=g6e.alloc(e),s=0;for await(let o of i){t(o.length,n,s);let a=n.slice(s,s+t.bytes);s+=t.bytes,n.length-s<LC&&(n=g6e.alloc(e),s=0),yield new m6e().append(a).append(o)}}()}v6e.single=(r,e)=>{e=e||{};let t=e.lengthEncoder||x6e;return new m6e([t(r.length),r])};z5.exports=v6e;z5.exports.MIN_POOL_SIZE=LC;z5.exports.DEFAULT_POOL_SIZE=w6e});var FC=h((J1r,_6e)=>{"use strict";var{Buffer:U9t}=X1(),S6e=DC(),z9t=r=>new Proxy({},{get:(e,t)=>t[0]==="l"?r[t]:r.get(parseInt(t))}),k6e=r=>{let e=S6e.decode(U9t.isBuffer(r)?r:z9t(r));return k6e.bytes=S6e.decode.bytes,e};_6e.exports=k6e});var R6e=h((Z1r,K5)=>{"use strict";var{Buffer:K9t}=X1(),UC=Lo(),V9t=FC(),A6e=8,I6e=1024*1024*4,T6e=K9t.alloc(0),I0={LENGTH:"readLength",DATA:"readData"},j9t={[I0.LENGTH]:(r,e,t,i)=>{e=e.append(r);let n;try{n=i.lengthDecoder(e)}catch(s){if(e.length>i.maxLengthLength)throw Object.assign(s,{message:"message length too long",code:"ERR_MSG_LENGTH_TOO_LONG"});if(s instanceof RangeError)return{mode:I0.LENGTH,buffer:e};throw s}if(n>i.maxDataLength)throw Object.assign(new Error("message data too long"),{code:"ERR_MSG_DATA_TOO_LONG"});return r=e.shallowSlice(i.lengthDecoder.bytes),e=new UC,i.onLength&&i.onLength(n),n<=0?(i.onData&&i.onData(T6e),{mode:I0.LENGTH,chunk:r,buffer:e,data:T6e}):{mode:I0.DATA,chunk:r,buffer:e,state:{dataLength:n}}},[I0.DATA]:(r,e,t,i)=>{if(e=e.append(r),e.length<t.dataLength)return{mode:I0.DATA,buffer:e,state:t};let{dataLength:n}=t,s=e.shallowSlice(0,n);return r=e.length>n?e.shallowSlice(n):null,e=new UC,i.onData&&i.onData(s),{mode:I0.LENGTH,chunk:r,buffer:e,data:s}}};function zC(r){return r=r||{},r.lengthDecoder=r.lengthDecoder||V9t,r.maxLengthLength=r.maxLengthLength||A6e,r.maxDataLength=r.maxDataLength||I6e,e=>async function*(){let t=new UC,i=I0.LENGTH,n;for await(let s of e)for(;s;){let o=j9t[i](s,t,n,r);({mode:i,chunk:s,buffer:t,state:n}=o),o.data&&(yield o.data)}if(t.length)throw Object.assign(new Error("unexpected end of input"),{code:"ERR_UNEXPECTED_EOF"})}()}zC.fromReader=(r,e)=>{e=e||{};let t=1,i={[Symbol.asyncIterator](){return this},next:async()=>{try{return await r.next(t)}catch(n){if(n.code==="ERR_UNDER_READ")return{done:!0,value:null};throw n}finally{t=1}}};return e.onLength=n=>{t=n},zC(e)(i)};K5.exports=zC;K5.exports.MAX_LENGTH_LENGTH=A6e;K5.exports.MAX_DATA_LENGTH=I6e});var C6e=h((Q1r,q6e)=>{"use strict";var{Buffer:H9t}=X1(),B6e=(r,e,t)=>(e=e||H9t.allocUnsafe(4),e.writeInt32BE(r,t),e);B6e.bytes=4;q6e.exports=B6e});var P6e=h((ebr,M6e)=>{"use strict";var N6e=r=>{if(r.length<4)throw RangeError("Could not decode int32BE");return r.readInt32BE(0)};N6e.bytes=4;M6e.exports=N6e});var Ko=h(vh=>{"use strict";vh.encode=E6e();vh.decode=R6e();vh.varintEncode=OC();vh.varintDecode=FC();vh.int32BEEncode=C6e();vh.int32BEDecode=P6e()});var V5=h((rbr,D6e)=>{D6e.exports=function(e){if(e){if(typeof e[Symbol.iterator]=="function")return e[Symbol.iterator]();if(typeof e[Symbol.asyncIterator]=="function")return e[Symbol.asyncIterator]();if(typeof e.next=="function")return e}throw new Error("argument is not an iterator or iterable")}});var L6e=h((nbr,O6e)=>{O6e.exports=class extends Error{constructor(e,t){super(e||"The operation was aborted");this.type="aborted",this.code=t||"ABORT_ERR"}}});var zu=h((sbr,Eh)=>{var G9t=V5(),KC=L6e(),F6e=(r,e,t)=>VC(r,Array.isArray(e)?e:[{signal:e,options:t}]),VC=(r,e)=>{r=G9t(r),e=e.map(({signal:i,options:n})=>({signal:i,options:n||{}}));async function*t(){let i,n=()=>{i&&i()};for(let{signal:s}of e)s.addEventListener("abort",n);for(;;){let s;try{for(let{signal:a,options:c}of e)if(a.aborted){let{abortMessage:u,abortCode:f}=c;throw new KC(u,f)}let o=new Promise((a,c)=>{i=()=>{let{options:u}=e.find(({signal:d})=>d.aborted),{abortMessage:f,abortCode:l}=u;c(new KC(f,l))}});s=await Promise.race([o,r.next()]),i=null}catch(o){for(let{signal:u}of e)u.removeEventListener("abort",n);let a=e.find(({signal:u})=>u.aborted),c=o.type==="aborted"&&a;if(c&&a.options.onAbort&&await a.options.onAbort(r),typeof r.return=="function"&&await r.return(),c&&a.options.returnOnAbort)return;throw o}if(s.done)break;yield s.value}for(let{signal:s}of e)s.removeEventListener("abort",n)}return t()},z6e=(r,e,t)=>U6e(r,Array.isArray(e)?e:[{signal:e,options:t}]),U6e=(r,e)=>t=>r(VC(t,e)),W9t=(r,e,t)=>$9t(r,Array.isArray(e)?e:[{signal:e,options:t}]),$9t=(r,e)=>({sink:U6e(r.sink,e),source:VC(r.source,e)});Eh.exports=F6e;Eh.exports.AbortError=KC;Eh.exports.source=F6e;Eh.exports.sink=z6e;Eh.exports.transform=z6e;Eh.exports.duplex=W9t});var W6e=h((obr,K6e)=>{"use strict";var Y9t=Pr(),V6e=Ko(),X9t=ch(),{pipe:j6e}=yi(),{source:J9t}=zu(),Z9t=Sf().default,H6e=De(),G6e=H6e("libp2p-pubsub:peer-streams");G6e.error=H6e("libp2p-pubsub:peer-streams:error");var $6e=class extends Y9t{constructor({id:e,protocol:t}){super();this.id=e,this.protocol=t,this._rawOutboundStream=null,this._rawInboundStream=null,this._inboundAbortController=new Z9t,this.outboundStream=null,this.inboundStream=null}get isReadable(){return Boolean(this.inboundStream)}get isWritable(){return Boolean(this.outboundStream)}write(e){if(!this.outboundStream){let t=this.id.toB58String();throw new Error("No writable connection to "+t)}this.outboundStream.push(e)}attachInboundStream(e){return this._rawInboundStream=e,this.inboundStream=J9t(j6e(this._rawInboundStream,V6e.decode()),this._inboundAbortController.signal,{returnOnAbort:!0}),this.emit("stream:inbound"),this.inboundStream}async attachOutboundStream(e){let t=this.outboundStream;this.outboundStream&&await this.outboundStream.end(),this._rawOutboundStream=e,this.outboundStream=X9t({onEnd:i=>{this._rawOutboundStream&&this._rawOutboundStream.reset&&this._rawOutboundStream.reset(),this._rawOutboundStream=null,this.outboundStream=null,i&&this.emit("close")}}),j6e(this.outboundStream,V6e.encode(),this._rawOutboundStream).catch(i=>{G6e.error(i)}),t||this.emit("stream:outbound")}close(){this.outboundStream&&this.outboundStream.end(),this.inboundStream&&this._inboundAbortController.abort(),this._rawOutboundStream=null,this.outboundStream=null,this._rawInboundStream=null,this.inboundStream=null,this.emit("close")}};K6e.exports=$6e});var X6e=h(Y6e=>{"use strict";var Q9t={StrictSign:"StrictSign",StrictNoSign:"StrictNoSign"};Y6e.SignaturePolicy=Q9t});var j5=h((cbr,J6e)=>{"use strict";var{TextEncoder:eTt,TextDecoder:tTt}=ct(),rTt=new tTt,iTt=r=>rTt.decode(r),nTt=new eTt,sTt=r=>nTt.encode(r);function oTt(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}J6e.exports={decodeText:iTt,encodeText:sTt,concat:oTt}});var eve=h((ubr,Z6e)=>{"use strict";var{encodeText:aTt}=j5(),Q6e=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=aTt(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};Z6e.exports=Q6e});var rve=h((fbr,tve)=>{"use strict";var cTt=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},uTt=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},fTt=r=>e=>({encode(t){return uTt(t,e,r)},decode(t){return cTt(t,e,r)}});tve.exports={rfc4648:fTt}});var ove=h((lbr,ive)=>{"use strict";var n3=ri(),lTt=eve(),{rfc4648:An}=rve(),{decodeText:hTt,encodeText:dTt}=j5(),pTt=()=>({encode:hTt,decode:dTt}),nve=[["identity","\0",pTt,""],["base2","0",An(1),"01"],["base8","7",An(3),"01234567"],["base10","9",n3,"0123456789"],["base16","f",An(4),"0123456789abcdef"],["base16upper","F",An(4),"0123456789ABCDEF"],["base32hex","v",An(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",An(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",An(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",An(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",An(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",An(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",An(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",An(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",An(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",n3,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",n3,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",n3,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",n3,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",An(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",An(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",An(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",An(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],sve=nve.reduce((r,e)=>(r[e[0]]=new lTt(e[0],e[1],e[2],e[3]),r),{}),bTt=nve.reduce((r,e)=>(r[e[1]]=sve[e[0]],r),{});ive.exports={names:sve,codes:bTt}});var uve=h((Ku,ave)=>{"use strict";var J1=ove(),{encodeText:yTt,decodeText:H5,concat:cve}=j5();function mTt(r,e){if(!e)throw new Error("requires an encoded Uint8Array");let{name:t,codeBuf:i}=_h(r);return gTt(t,e),cve([i,e],i.length+e.length)}function xTt(r,e){let t=_h(r),i=yTt(t.encode(e));return cve([t.codeBuf,i],t.codeBuf.length+i.length)}function wTt(r){r instanceof Uint8Array&&(r=H5(r));let e=r[0];return["f","F","v","V","t","T","b","B","c","C","h","k","K"].includes(e)&&(r=r.toLowerCase()),_h(r[0]).decode(r.substring(1))}function vTt(r){if(r instanceof Uint8Array&&(r=H5(r)),Object.prototype.toString.call(r)!=="[object String]")return!1;try{return _h(r[0]).name}catch(e){return!1}}function gTt(r,e){_h(r).decode(H5(e))}function _h(r){if(Object.prototype.hasOwnProperty.call(J1.names,r))return J1.names[r];if(Object.prototype.hasOwnProperty.call(J1.codes,r))return J1.codes[r];throw new Error(`Unsupported encoding: ${r}`)}function ETt(r){return r instanceof Uint8Array&&(r=H5(r)),_h(r[0])}Ku=ave.exports=mTt;Ku.encode=xTt;Ku.decode=wTt;Ku.isEncoded=vTt;Ku.encoding=_h;Ku.encodingFromData=ETt;Ku.names=Object.freeze(J1.names);Ku.codes=Object.freeze(J1.codes)});var lve=h((hbr,fve)=>{"use strict";var _Tt=Object.freeze({identity:0,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,"murmur3-128":34,"murmur3-32":35,"dbl-sha2-256":86,md4:212,md5:213,bmt:214,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082});fve.exports={names:_Tt}});var mve=h((dbr,hve)=>{"use strict";var dve=uve(),Z1=ii(),{names:s3}=lve(),G5=dr(),STt=pr(),kTt=Gs(),o3={};for(let r in s3){let e=r;o3[s3[e]]=e}function ATt(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return G5(r,"base16")}function ITt(r){return STt(r,"base16")}function TTt(r){if(!(r instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return G5(dve.encode("base58btc",r)).slice(1)}function RTt(r){let e=r instanceof Uint8Array?G5(r):r;return dve.decode("z"+e)}function bve(r){if(!(r instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(r.length<2)throw new Error("multihash too short. must be > 2 bytes.");let e=Z1.decode(r);if(!pve(e))throw new Error(`multihash unknown function code: 0x${e.toString(16)}`);r=r.slice(Z1.decode.bytes);let t=Z1.decode(r);if(t<0)throw new Error(`multihash invalid length: ${t}`);if(r=r.slice(Z1.decode.bytes),r.length!==t)throw new Error(`multihash length inconsistent: 0x${G5(r,"base16")}`);return{code:e,name:o3[e],length:t,digest:r}}function qTt(r,e,t){if(!r||e===void 0)throw new Error("multihash encode requires at least two args: digest, code");let i=yve(e);if(!(r instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(t==null&&(t=r.length),t&&r.length!==t)throw new Error("digest length should be equal to specified length.");let n=Z1.encode(i),s=Z1.encode(t);return kTt([n,s,r],n.length+s.length+r.length)}function yve(r){let e=r;if(typeof r=="string"){if(s3[r]===void 0)throw new Error(`Unrecognized hash function named: ${r}`);e=s3[r]}if(typeof e!="number")throw new Error(`Hash function code should be a number. Got: ${e}`);if(o3[e]===void 0&&!jC(e))throw new Error(`Unrecognized function code: ${e}`);return e}function jC(r){return r>0&&r<16}function pve(r){return!!(jC(r)||o3[r])}function gve(r){bve(r)}function BTt(r){return gve(r),r.subarray(0,2)}hve.exports={names:s3,codes:Object.freeze(o3),toHexString:ATt,fromHexString:ITt,toB58String:TTt,fromB58String:RTt,decode:bve,encode:qTt,coerceCode:yve,isAppCode:jC,validate:gve,prefix:BTt,isValidCode:pve}});var vve=h((Vu,xve)=>{"use strict";var CTt=by(),MTt=dr(),wve=pr(),NTt=yt(),PTt=mve();Vu=xve.exports;Vu.randomSeqno=()=>CTt(8);Vu.msgId=(r,e)=>{let t=NTt.createFromB58String(r).id,i=new Uint8Array(t.length+e.length);return i.set(t,0),i.set(e,t.length),i};Vu.noSignMsgId=r=>PTt.encode(r,"sha2-256");Vu.anyMatch=(r,e)=>{let t;Array.isArray(e)?t=i=>e.indexOf(i)>-1:t=i=>e.has(i);for(let i of r)if(t(i))return!0;return!1};Vu.ensureArray=r=>Array.isArray(r)?r:[r];Vu.normalizeInRpcMessage=(r,e)=>{let t=Object.assign({},r);return r.from instanceof Uint8Array&&(t.from=MTt(r.from,"base58btc")),e&&(t.receivedFrom=e),t};Vu.normalizeOutRpcMessage=r=>{let e=Object.assign({},r);return typeof r.from=="string"&&(e.from=wve(r.from,"base58btc")),typeof r.data=="string"&&(e.data=wve(r.data)),e}});var Ave=h((pbr,Eve)=>{"use strict";var HC=yt(),{Message:_ve}=IC(),Sve=Gs(),DTt=pr(),GC=DTt("libp2p-pubsub:");async function OTt(r,e){let t=Sve([GC,_ve.encode(e)]),i=await r.privKey.sign(t);return{...e,signature:i,key:r.pubKey.bytes}}async function LTt(r){if(!r.signature)throw new Error("Message must contain a signature to be verified");let e=Sve([GC,_ve.encode({...r,from:r.from&&HC.createFromCID(r.from).toBytes(),signature:void 0,key:void 0})]);return(await kve(r)).verify(e,r.signature)}async function kve(r){if(!r.from)throw new Error("Could not get the public key from the originator id");let e=HC.createFromCID(r.from);if(r.key){let t=await HC.createFromPubKey(r.key);if(t.equals(e))return t.pubKey;throw new Error("Public Key does not match the originator")}else{if(e.pubKey)return e.pubKey;throw new Error("Could not get the public key from the originator id")}}Eve.exports={messagePublicKey:kve,signMessage:OTt,SignPrefix:GC,verifySignature:LTt}});var Rve=h((bbr,Ive)=>{"use strict";var Tve=De(),FTt=Pr(),Ls=qe(),{pipe:UTt}=yi(),zTt=O5(),{codes:Ta}=L5(),$C=IC(),KTt=W6e(),{SignaturePolicy:ju}=X6e(),Hu=vve(),{signMessage:VTt,verifySignature:jTt}=Ave(),a3=class extends FTt{constructor({debugName:e,multicodecs:t,libp2p:i,globalSignaturePolicy:n=ju.StrictSign,canRelayMessage:s=!1,emitSelf:o=!1}){if(typeof e!="string")throw new Error("a debugname `string` is required");if(!t)throw new Error("multicodecs are required");if(!i)throw new Error("libp2p is required");super();if(this.log=Tve(e),this.log.err=Tve(`${e}:error`),this.multicodecs=Hu.ensureArray(t),this._libp2p=i,this.registrar=i.registrar,this.peerId=i.peerId,this.started=!1,this.topics=new Map,this.subscriptions=new Set,this.peers=new Map,!ju[n])throw Ls(new Error("Invalid global signature policy"),Ta.ERR_INVALID_SIGUATURE_POLICY);this.globalSignaturePolicy=n,this.canRelayMessage=s,this.emitSelf=o,this.topicValidators=new Map,this._registrarId=void 0,this._onIncomingStream=this._onIncomingStream.bind(this),this._onPeerConnected=this._onPeerConnected.bind(this),this._onPeerDisconnected=this._onPeerDisconnected.bind(this)}start(){if(this.started)return;this.log("starting"),this.registrar.handle(this.multicodecs,this._onIncomingStream);let e=new zTt({multicodecs:this.multicodecs,handlers:{onConnect:this._onPeerConnected,onDisconnect:this._onPeerDisconnected}});this._registrarId=this.registrar.register(e),this.log("started"),this.started=!0}stop(){!this.started||(this.registrar.unregister(this._registrarId),this.log("stopping"),this.peers.forEach(e=>e.close()),this.peers=new Map,this.subscriptions=new Set,this.started=!1,this.log("stopped"))}_onIncomingStream({protocol:e,stream:t,connection:i}){let n=i.remotePeer,s=n.toB58String(),o=this._addPeer(n,e),a=o.attachInboundStream(t);this._processMessages(s,a,o)}async _onPeerConnected(e,t){let i=e.toB58String();this.log("connected",i);try{let{stream:n,protocol:s}=await t.newStream(this.multicodecs);await this._addPeer(e,s).attachOutboundStream(n)}catch(n){this.log.err(n)}this._sendSubscriptions(i,Array.from(this.subscriptions),!0)}_onPeerDisconnected(e,t){let i=e.toB58String();this.log("connection ended",i,t?t.message:""),this._removePeer(e)}_addPeer(e,t){let i=e.toB58String(),n=this.peers.get(i);if(n)return n;this.log("new peer",i);let s=new KTt({id:e,protocol:t});return this.peers.set(i,s),s.once("close",()=>this._removePeer(e)),s}_removePeer(e){if(!e)return;let t=e.toB58String(),i=this.peers.get(t);if(!!i){i.removeAllListeners(),i.close(),this.log("delete peer",t),this.peers.delete(t);for(let n of this.topics.values())n.delete(t);return i}}async _processMessages(e,t,i){try{await UTt(t,async n=>{for await(let s of n){let o=s instanceof Uint8Array?s:s.slice(),a=this._decodeRpc(o);this._processRpc(e,i,a)}})}catch(n){this._onPeerDisconnected(i.id,n)}}_processRpc(e,t,i){this.log("rpc from",e);let n=i.subscriptions,s=i.msgs;return n.length&&(n.forEach(o=>this._processRpcSubOpt(e,o)),this.emit("pubsub:subscription-change",t.id,n)),this._acceptFrom(e)?(s.length&&s.forEach(o=>{if(!(this.canRelayMessage||o.topicIDs.some(c=>this.subscriptions.has(c)))){this.log("received message we didn't subscribe to. Dropping.");return}let a=Hu.normalizeInRpcMessage(o,e);this._processRpcMessage(a)}),!0):(this.log("received message from unacceptable peer %s",e),!1)}_processRpcSubOpt(e,t){let i=t.topicID,n=this.topics.get(i);n||(n=new Set,this.topics.set(i,n)),t.subscribe?n.add(e):n.delete(e)}async _processRpcMessage(e){if(!(this.peerId.toB58String()===e.from&&!this.emitSelf)){try{await this.validate(e)}catch(t){this.log("Message is invalid, dropping it. %O",t);return}this._emitMessage(e),this._publish(Hu.normalizeOutRpcMessage(e))}}_emitMessage(e){e.topicIDs.forEach(t=>{this.subscriptions.has(t)&&this.emit(t,e)})}getMsgId(e){let t=this.globalSignaturePolicy;switch(t){case ju.StrictSign:return Hu.msgId(e.from,e.seqno);case ju.StrictNoSign:return Hu.noSignMsgId(e.data);default:throw Ls(new Error("Cannot get message id: unhandled signature policy: "+t),Ta.ERR_UNHANDLED_SIGNATURE_POLICY)}}_acceptFrom(e){return!0}_decodeRpc(e){return $C.rpc.RPC.decode(e)}_encodeRpc(e){return $C.rpc.RPC.encode(e)}_sendRpc(e,t){let i=this.peers.get(e);if(!i||!i.isWritable){let n=`Cannot send RPC to ${e} as there is no open stream to it available`;this.log.err(n);return}i.write(this._encodeRpc(t))}_sendSubscriptions(e,t,i){return this._sendRpc(e,{subscriptions:t.map(n=>({topicID:n,subscribe:i}))})}async validate(e){let t=this.globalSignaturePolicy;switch(t){case ju.StrictNoSign:if(e.from)throw Ls(new Error("StrictNoSigning: from should not be present"),Ta.ERR_UNEXPECTED_FROM);if(e.signature)throw Ls(new Error("StrictNoSigning: signature should not be present"),Ta.ERR_UNEXPECTED_SIGNATURE);if(e.key)throw Ls(new Error("StrictNoSigning: key should not be present"),Ta.ERR_UNEXPECTED_KEY);if(e.seqno)throw Ls(new Error("StrictNoSigning: seqno should not be present"),Ta.ERR_UNEXPECTED_SEQNO);break;case ju.StrictSign:if(!e.signature)throw Ls(new Error("StrictSigning: Signing required and no signature was present"),Ta.ERR_MISSING_SIGNATURE);if(!e.seqno)throw Ls(new Error("StrictSigning: Signing required and no seqno was present"),Ta.ERR_MISSING_SEQNO);if(!await jTt(e))throw Ls(new Error("StrictSigning: Invalid message signature"),Ta.ERR_INVALID_SIGNATURE);break;default:throw Ls(new Error("Cannot validate message: unhandled signature policy: "+t),Ta.ERR_UNHANDLED_SIGNATURE_POLICY)}for(let i of e.topicIDs){let n=this.topicValidators.get(i);!n||await n(i,e)}}_buildMessage(e){let t=this.globalSignaturePolicy;switch(t){case ju.StrictSign:return e.from=this.peerId.toB58String(),e.seqno=Hu.randomSeqno(),VTt(this.peerId,Hu.normalizeOutRpcMessage(e));case ju.StrictNoSign:return e;default:throw Ls(new Error("Cannot build message: unhandled signature policy: "+t),Ta.ERR_UNHANDLED_SIGNATURE_POLICY)}}getSubscribers(e){if(!this.started)throw Ls(new Error("not started yet"),"ERR_NOT_STARTED_YET");if(!e||typeof e!="string")throw Ls(new Error("a string topic must be provided"),"ERR_NOT_VALID_TOPIC");let t=this.topics.get(e);return t?Array.from(t):[]}async publish(e,t){if(!this.started)throw new Error("Pubsub has not started");this.log("publish",e,t);let n={receivedFrom:this.peerId.toB58String(),data:t,topicIDs:[e]},s=await this._buildMessage(n);n=Hu.normalizeInRpcMessage(s),this.emitSelf&&this._emitMessage(n),await this._publish(n)}_publish(e){throw Ls(new Error("publish must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}subscribe(e){if(!this.started)throw new Error("Pubsub has not started");this.subscriptions.has(e)||(this.subscriptions.add(e),this.peers.forEach((t,i)=>this._sendSubscriptions(i,[e],!0)))}unsubscribe(e){if(!this.started)throw new Error("Pubsub is not started");this.subscriptions.has(e)&&this.listenerCount(e)===0&&(this.subscriptions.delete(e),this.peers.forEach((t,i)=>this._sendSubscriptions(i,[e],!1)))}getTopics(){if(!this.started)throw new Error("Pubsub is not started");return Array.from(this.subscriptions)}};a3.message=$C;a3.utils=Hu;a3.SignaturePolicy=ju;Ive.exports=a3});var qve=h($5=>{"use strict";Object.defineProperty($5,"__esModule",{value:!0});$5.createGossipRpc=void 0;function HTt(r=[],e={}){return{subscriptions:[],msgs:r,control:Object.assign({ihave:[],iwant:[],graft:[],prune:[]},e)}}$5.createGossipRpc=HTt});var Bve=h(W5=>{"use strict";Object.defineProperty(W5,"__esModule",{value:!0});W5.shuffle=void 0;function GTt(r){if(r.length<=1)return r;let e=()=>Math.floor(Math.random()*Math.floor(r.length));for(let t=0;t<r.length;t++){let i=e(),n=r[t];r[t]=r[i],r[i]=n}return r}W5.shuffle=GTt});var Sh=h(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.ERR_TOPIC_VALIDATOR_IGNORE=Fe.ERR_TOPIC_VALIDATOR_REJECT=Fe.TimeCacheDuration=Fe.GossipsubIWantFollowupTime=Fe.GossipsubMaxIHaveMessages=Fe.GossipsubMaxIHaveLength=Fe.GossipsubGraftFloodThreshold=Fe.GossipsubOpportunisticGraftPeers=Fe.GossipsubOpportunisticGraftTicks=Fe.GossipsubDirectConnectInitialDelay=Fe.GossipsubDirectConnectTicks=Fe.GossipsubConnectionTimeout=Fe.GossipsubMaxPendingConnections=Fe.GossipsubConnectors=Fe.GossipsubPruneBackoffTicks=Fe.GossipsubPruneBackoff=Fe.GossipsubPrunePeers=Fe.GossipsubFanoutTTL=Fe.GossipsubHeartbeatInterval=Fe.GossipsubHeartbeatInitialDelay=Fe.GossipsubGossipRetransmission=Fe.GossipsubGossipFactor=Fe.GossipsubDlazy=Fe.GossipsubHistoryGossip=Fe.GossipsubHistoryLength=Fe.GossipsubDout=Fe.GossipsubDscore=Fe.GossipsubDhi=Fe.GossipsubDlo=Fe.GossipsubD=Fe.GossipsubIDv11=Fe.GossipsubIDv10=Fe.FloodsubID=Fe.minute=Fe.second=void 0;Fe.second=1e3;Fe.minute=60*Fe.second;Fe.FloodsubID="/floodsub/1.0.0";Fe.GossipsubIDv10="/meshsub/1.0.0";Fe.GossipsubIDv11="/meshsub/1.1.0";Fe.GossipsubD=6;Fe.GossipsubDlo=4;Fe.GossipsubDhi=12;Fe.GossipsubDscore=4;Fe.GossipsubDout=2;Fe.GossipsubHistoryLength=5;Fe.GossipsubHistoryGossip=3;Fe.GossipsubDlazy=6;Fe.GossipsubGossipFactor=.25;Fe.GossipsubGossipRetransmission=3;Fe.GossipsubHeartbeatInitialDelay=100;Fe.GossipsubHeartbeatInterval=Fe.second;Fe.GossipsubFanoutTTL=Fe.minute;Fe.GossipsubPrunePeers=16;Fe.GossipsubPruneBackoff=Fe.minute;Fe.GossipsubPruneBackoffTicks=15;Fe.GossipsubConnectors=8;Fe.GossipsubMaxPendingConnections=128;Fe.GossipsubConnectionTimeout=30*Fe.second;Fe.GossipsubDirectConnectTicks=300;Fe.GossipsubDirectConnectInitialDelay=Fe.second;Fe.GossipsubOpportunisticGraftTicks=60;Fe.GossipsubOpportunisticGraftPeers=2;Fe.GossipsubGraftFloodThreshold=10*Fe.second;Fe.GossipsubMaxIHaveLength=5e3;Fe.GossipsubMaxIHaveMessages=10;Fe.GossipsubIWantFollowupTime=3*Fe.second;Fe.TimeCacheDuration=120*1e3;Fe.ERR_TOPIC_VALIDATOR_REJECT="ERR_TOPIC_VALIDATOR_REJECT";Fe.ERR_TOPIC_VALIDATOR_IGNORE="ERR_TOPIC_VALIDATOR_IGNORE"});var Mve=h(Y5=>{"use strict";Object.defineProperty(Y5,"__esModule",{value:!0});Y5.hasGossipProtocol=void 0;var Cve=Sh();function $Tt(r){return r===Cve.GossipsubIDv10||r===Cve.GossipsubIDv11}Y5.hasGossipProtocol=$Tt});var WC=h((wbr,Nve)=>{"use strict";var{TextEncoder:WTt,TextDecoder:YTt}=ct(),XTt=new YTt,JTt=r=>XTt.decode(r),ZTt=new WTt,QTt=r=>ZTt.encode(r);function eRt(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}Nve.exports={decodeText:JTt,encodeText:QTt,concat:eRt}});var Ove=h((vbr,Pve)=>{"use strict";var{encodeText:tRt}=WC(),Dve=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=tRt(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};Pve.exports=Dve});var Fve=h((Ebr,Lve)=>{"use strict";var rRt=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},iRt=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},nRt=r=>e=>({encode(t){return iRt(t,e,r)},decode(t){return rRt(t,e,r)}});Lve.exports={rfc4648:nRt}});var Vve=h((_br,Uve)=>{"use strict";var c3=ri(),sRt=Ove(),{rfc4648:In}=Fve(),{decodeText:oRt,encodeText:aRt}=WC(),cRt=()=>({encode:oRt,decode:aRt}),zve=[["identity","\0",cRt,""],["base2","0",In(1),"01"],["base8","7",In(3),"01234567"],["base10","9",c3,"0123456789"],["base16","f",In(4),"0123456789abcdef"],["base16upper","F",In(4),"0123456789ABCDEF"],["base32hex","v",In(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",In(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",In(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",In(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",In(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",In(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",In(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",In(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",In(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",c3,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",c3,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",c3,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",c3,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",In(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",In(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",In(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",In(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],Kve=zve.reduce((r,e)=>(r[e[0]]=new sRt(e[0],e[1],e[2],e[3]),r),{}),uRt=zve.reduce((r,e)=>(r[e[1]]=Kve[e[0]],r),{});Uve.exports={names:Kve,codes:uRt}});var Hve=h((Sbr,jve)=>{"use strict";var{names:fRt}=Vve(),{TextDecoder:lRt}=ct(),hRt=new lRt("utf8");function dRt(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function pRt(r,e="utf8"){if(e==="utf8"||e==="utf-8")return hRt.decode(r);if(e==="ascii")return dRt(r);let t=fRt[e];if(!t)throw new Error("Unknown base");return t.encode(r)}jve.exports=pRt});var Gve=h(X5=>{"use strict";Object.defineProperty(X5,"__esModule",{value:!0});X5.messageIdToString=void 0;var bRt=Hve();function yRt(r){return bRt(r,"base64")}X5.messageIdToString=yRt});var kh=h(Dc=>{"use strict";var gRt=Dc&&Dc.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),J5=Dc&&Dc.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&gRt(e,r,t)};Object.defineProperty(Dc,"__esModule",{value:!0});J5(qve(),Dc);J5(Bve(),Dc);J5(Mve(),Dc);J5(Gve(),Dc)});var Wve=h(Z5=>{"use strict";Object.defineProperty(Z5,"__esModule",{value:!0});Z5.MessageCache=void 0;var Q5=kh(),$ve=class{constructor(e,t,i){this.msgs=new Map,this.peertx=new Map,this.history=[];for(let n=0;n<t;n++)this.history[n]=[];this.gossip=e,this.msgIdFn=i}put(e){let t=this.getMsgId(e),i=Q5.messageIdToString(t);this.msgs.set(i,e),this.history[0].push({msgID:t,topics:e.topicIDs})}getMsgId(e){return this.msgIdFn(e)}get(e){return this.msgs.get(Q5.messageIdToString(e))}getForPeer(e,t){let i=Q5.messageIdToString(e),n=this.msgs.get(i);if(!n)return[void 0,0];let s=this.peertx.get(i);s||(s=new Map,this.peertx.set(i,s));let o=(s.get(t)||0)+1;return s.set(t,o),[n,o]}getGossipIDs(e){let t=[];for(let i=0;i<this.gossip;i++)this.history[i].forEach(n=>{for(let s of n.topics)if(s===e){t.push(n.msgID);break}});return t}shift(){this.history[this.history.length-1].forEach(t=>{let i=Q5.messageIdToString(t.msgID);this.msgs.delete(i),this.peertx.delete(i)}),this.history.pop(),this.history.unshift([])}};Z5.MessageCache=$ve});var Yve=h(YC=>{"use strict";Object.defineProperty(YC,"__esModule",{value:!0});YC.default=`
message RPC {
  repeated SubOpts subscriptions = 1;
  repeated Message msgs = 2;
  optional ControlMessage control = 3;

  message SubOpts {
    optional bool subscribe = 1; // subscribe or unsubcribe
    optional string topicID = 2;
  }

  message Message {
    optional bytes from = 1;
    optional bytes data = 2;
    optional bytes seqno = 3;
    repeated string topicIDs = 4; 
    optional bytes signature = 5;
    optional bytes key = 6;
  }

  message ControlMessage {
    repeated ControlIHave ihave = 1;
    repeated ControlIWant iwant = 2;
    repeated ControlGraft graft = 3;
    repeated ControlPrune prune = 4;
  }

  message ControlIHave {
    optional string topicID = 1;
    repeated bytes messageIDs = 2;
  }

  message ControlIWant {
    repeated bytes messageIDs = 1;  
  }

  message ControlGraft {
    optional string topicID = 1;
  }

  message ControlPrune {
    optional string topicID = 1;
    repeated PeerInfo peers = 2;
    optional uint64 backoff = 3;
  }

  message PeerInfo {
    optional bytes peerID = 1;
    optional bytes signedPeerRecord = 2;
  }
}`});var Xve=h(Q1=>{"use strict";var mRt=Q1&&Q1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Q1,"__esModule",{value:!0});Q1.RPCCodec=void 0;var xRt=mRt(Yve()),wRt=ni(),vRt=wRt(xRt.default);Q1.RPCCodec=vRt.RPC});var XC=h(eE=>{"use strict";Object.defineProperty(eE,"__esModule",{value:!0});eE.getGossipPeers=void 0;var Jve=kh();function ERt(r,e,t,i=()=>!0){let n=r.topics.get(e);if(!n)return new Set;let s=[];return n.forEach(o=>{let a=r.peers.get(o);!a||Jve.hasGossipProtocol(a.protocol)&&i(o)&&s.push(o)}),s=Jve.shuffle(s),t>0&&s.length>t&&(s=s.slice(0,t)),new Set(s)}eE.getGossipPeers=ERt});var Qve=h(Oc=>{"use strict";var _Rt=Oc&&Oc.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),SRt=Oc&&Oc.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),kRt=Oc&&Oc.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&_Rt(e,r,t);return SRt(e,r),e};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.Heartbeat=void 0;var u3=kRt(Sh()),tE=XC(),ARt=kh(),Zve=class{constructor(e){this.gossipsub=e}start(){if(this._heartbeatTimer)return;let e=this._heartbeat.bind(this),t=setTimeout(()=>{e(),this._heartbeatTimer.runPeriodically(e,u3.GossipsubHeartbeatInterval)},u3.GossipsubHeartbeatInitialDelay);this._heartbeatTimer={_intervalId:void 0,runPeriodically:(i,n)=>{this._heartbeatTimer._intervalId=setInterval(i,n)},cancel:()=>{clearTimeout(t),clearInterval(this._heartbeatTimer._intervalId)}}}stop(){!this._heartbeatTimer||(this._heartbeatTimer.cancel(),this._heartbeatTimer=null)}_heartbeat(){let{D:e,Dlo:t,Dhi:i,Dscore:n,Dout:s}=this.gossipsub._options;this.gossipsub.heartbeatTicks++;let o=new Map,a=d=>{let p=o.get(d);return p===void 0&&(p=this.gossipsub.score.score(d),o.set(d,p)),p},c=new Map,u=new Map,f=new Map;this.gossipsub._clearBackoff(),this.gossipsub.peerhave.clear(),this.gossipsub.iasked.clear(),this.gossipsub._applyIwantPenalties(),this.gossipsub._directConnect(),this.gossipsub.mesh.forEach((d,p)=>{let b=m=>{this.gossipsub.log("HEARTBEAT: Remove mesh link to %s in %s",m,p),this.gossipsub.score.prune(m,p),this.gossipsub._addBackoff(m,p),d.delete(m);let w=u.get(m);w?w.push(p):u.set(m,[p])},g=m=>{this.gossipsub.log("HEARTBEAT: Add mesh link to %s in %s",m,p),this.gossipsub.score.graft(m,p),d.add(m);let w=c.get(m);w?w.push(p):c.set(m,[p])};if(d.forEach(m=>{let w=a(m);w<0&&(this.gossipsub.log("HEARTBEAT: Prune peer %s with negative score: score=%d, topic=%s",m,w,p),b(m),f.set(m,!0))}),d.size<t){let m=this.gossipsub.backoff.get(p),w=e-d.size;tE.getGossipPeers(this.gossipsub,p,w,I=>!d.has(I)&&!this.gossipsub.direct.has(I)&&(!m||!m.has(I))&&a(I)>=0).forEach(g)}if(d.size>i){let m=Array.from(d);m.sort((A,I)=>a(I)-a(A)),m=m.slice(0,n).concat(ARt.shuffle(m.slice(n)));let w=0;if(m.slice(0,e).forEach(A=>{this.gossipsub.outbound.get(A)&&w++}),w<s){let A=F=>{let V=m[F];for(let P=F;P>0;P--)m[P]=m[P-1];m[0]=V};if(w>0){let F=w;for(let V=1;V<e&&F>0;V++)this.gossipsub.outbound.get(m[V])&&(A(V),F--)}let I=e-w;for(let F=e;F<m.length&&I>0;F++)this.gossipsub.outbound.get(m[F])&&(A(F),I--)}m.slice(e).forEach(b)}if(d.size>=t){let m=0;if(d.forEach(w=>{this.gossipsub.outbound.get(w)&&m++}),m<s){let w=s-m,A=this.gossipsub.backoff.get(p);tE.getGossipPeers(this.gossipsub,p,w,I=>!d.has(I)&&!this.gossipsub.direct.has(I)&&(!A||!A.has(I))&&a(I)>=0).forEach(g)}}if(this.gossipsub.heartbeatTicks%u3.GossipsubOpportunisticGraftTicks==0&&d.size>1){let m=Array.from(d).sort((I,F)=>a(I)-a(F)),w=d.size/2,A=a(m[w]);if(A<this.gossipsub._options.scoreThresholds.opportunisticGraftThreshold){let I=this.gossipsub.backoff.get(p);tE.getGossipPeers(this.gossipsub,p,u3.GossipsubOpportunisticGraftPeers,V=>d.has(V)&&!this.gossipsub.direct.has(V)&&(!I||!I.has(V))&&a(V)>A).forEach(V=>{this.gossipsub.log("HEARTBEAT: Opportunistically graft peer %s on topic %s",V,p),g(V)})}}this.gossipsub._emitGossip(p,d)});let l=this.gossipsub._now();this.gossipsub.lastpub.forEach((d,p)=>{d+u3.GossipsubFanoutTTL<l&&(this.gossipsub.fanout.delete(p),this.gossipsub.lastpub.delete(p))}),this.gossipsub.fanout.forEach((d,p)=>{let b=this.gossipsub.topics.get(p);if(d.forEach(g=>{(!b.has(g)||a(g)<this.gossipsub._options.scoreThresholds.publishThreshold)&&d.delete(g)}),d.size<e){let g=e-d.size;tE.getGossipPeers(this.gossipsub,p,g,w=>!d.has(w)&&!this.gossipsub.direct.has(w)&&a(w)>=this.gossipsub._options.scoreThresholds.publishThreshold).forEach(w=>{d.add(w)})}this.gossipsub._emitGossip(p,d)}),this.gossipsub._sendGraftPrune(c,u,f),this.gossipsub._flush(),this.gossipsub.messageCache.shift(),this.gossipsub.emit("gossipsub:heartbeat")}};Oc.Heartbeat=Zve});var JC=h(eb=>{"use strict";Object.defineProperty(eb,"__esModule",{value:!0});eb.ERR_INVALID_PEER_SCORE_THRESHOLDS=eb.ERR_INVALID_PEER_SCORE_PARAMS=void 0;eb.ERR_INVALID_PEER_SCORE_PARAMS="ERR_INVALID_PEER_SCORE_PARAMS";eb.ERR_INVALID_PEER_SCORE_THRESHOLDS="ERR_INVALID_PEER_SCORE_THRESHOLDS"});var ZC=h(jn=>{"use strict";Object.defineProperty(jn,"__esModule",{value:!0});jn.validateTopicScoreParams=jn.validatePeerScoreParams=jn.createTopicScoreParams=jn.createPeerScoreParams=jn.defaultTopicScoreParams=jn.defaultPeerScoreParams=void 0;var Sr=JC(),kr=qe();jn.defaultPeerScoreParams={topics:{},topicScoreCap:10,appSpecificScore:()=>0,appSpecificWeight:10,IPColocationFactorWeight:-5,IPColocationFactorThreshold:10,IPColocationFactorWhitelist:new Set,behaviourPenaltyWeight:-10,behaviourPenaltyDecay:.2,decayInterval:1e3,decayToZero:.1,retainScore:3600*1e3};jn.defaultTopicScoreParams={topicWeight:.5,timeInMeshWeight:1,timeInMeshQuantum:1,timeInMeshCap:3600,firstMessageDeliveriesWeight:1,firstMessageDeliveriesDecay:.5,firstMessageDeliveriesCap:2e3,meshMessageDeliveriesWeight:-1,meshMessageDeliveriesDecay:.5,meshMessageDeliveriesCap:100,meshMessageDeliveriesThreshold:20,meshMessageDeliveriesWindow:10,meshMessageDeliveriesActivation:5e3,meshFailurePenaltyWeight:-1,meshFailurePenaltyDecay:.5,invalidMessageDeliveriesWeight:-1,invalidMessageDeliveriesDecay:.3};function IRt(r={}){return Object.assign(Object.assign(Object.assign({},jn.defaultPeerScoreParams),r),{topics:r.topics?Object.entries(r.topics).reduce((e,[t,i])=>(e[t]=e8e(i),e),{}):{}})}jn.createPeerScoreParams=IRt;function e8e(r={}){return Object.assign(Object.assign({},jn.defaultTopicScoreParams),r)}jn.createTopicScoreParams=e8e;function TRt(r){for(let[e,t]of Object.entries(r.topics))try{t8e(t)}catch(i){throw kr(new Error(`invalid score parameters for topic ${e}: ${i.message}`),Sr.ERR_INVALID_PEER_SCORE_PARAMS)}if(r.topicScoreCap<0)throw kr(new Error("invalid topic score cap; must be positive (or 0 for no cap)"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.appSpecificScore===null||r.appSpecificScore===void 0)throw kr(new Error("missing application specific score function"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.IPColocationFactorWeight>0)throw kr(new Error("invalid IPColocationFactorWeight; must be negative (or 0 to disable)"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.IPColocationFactorWeight!==0&&r.IPColocationFactorThreshold<1)throw kr(new Error("invalid IPColocationFactorThreshold; must be at least 1"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.behaviourPenaltyWeight>0)throw kr(new Error("invalid BehaviourPenaltyWeight; must be negative (or 0 to disable)"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.behaviourPenaltyWeight!==0&&(r.behaviourPenaltyDecay<=0||r.behaviourPenaltyDecay>=1))throw kr(new Error("invalid BehaviourPenaltyDecay; must be between 0 and 1"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.decayInterval<1e3)throw kr(new Error("invalid DecayInterval; must be at least 1s"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.decayToZero<=0||r.decayToZero>=1)throw kr(new Error("invalid DecayToZero; must be between 0 and 1"),Sr.ERR_INVALID_PEER_SCORE_PARAMS)}jn.validatePeerScoreParams=TRt;function t8e(r){if(r.topicWeight<0)throw kr(new Error("invalid topic weight; must be >= 0"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.timeInMeshQuantum===0)throw kr(new Error("invalid TimeInMeshQuantum; must be non zero"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.timeInMeshWeight<0)throw kr(new Error("invalid TimeInMeshWeight; must be positive (or 0 to disable)"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.timeInMeshWeight!==0&&r.timeInMeshQuantum<=0)throw kr(new Error("invalid TimeInMeshQuantum; must be positive"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.timeInMeshWeight!==0&&r.timeInMeshCap<=0)throw kr(new Error("invalid TimeInMeshCap; must be positive"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.firstMessageDeliveriesWeight<0)throw kr(new Error("invallid FirstMessageDeliveriesWeight; must be positive (or 0 to disable)"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.firstMessageDeliveriesWeight!==0&&(r.firstMessageDeliveriesDecay<=0||r.firstMessageDeliveriesDecay>=1))throw kr(new Error("invalid FirstMessageDeliveriesDecay; must be between 0 and 1"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.firstMessageDeliveriesWeight!==0&&r.firstMessageDeliveriesCap<=0)throw kr(new Error("invalid FirstMessageDeliveriesCap; must be positive"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.meshMessageDeliveriesWeight>0)throw kr(new Error("invalid MeshMessageDeliveriesWeight; must be negative (or 0 to disable)"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.meshMessageDeliveriesWeight!==0&&(r.meshMessageDeliveriesDecay<=0||r.meshMessageDeliveriesDecay>=1))throw kr(new Error("invalid MeshMessageDeliveriesDecay; must be between 0 and 1"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.meshMessageDeliveriesWeight!==0&&r.meshMessageDeliveriesCap<=0)throw kr(new Error("invalid MeshMessageDeliveriesCap; must be positive"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.meshMessageDeliveriesWeight!==0&&r.meshMessageDeliveriesThreshold<=0)throw kr(new Error("invalid MeshMessageDeliveriesThreshold; must be positive"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.meshMessageDeliveriesWindow<0)throw kr(new Error("invalid MeshMessageDeliveriesWindow; must be non-negative"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.meshMessageDeliveriesWeight!==0&&r.meshMessageDeliveriesActivation<1e3)throw kr(new Error("invalid MeshMessageDeliveriesActivation; must be at least 1s"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.meshFailurePenaltyWeight>0)throw kr(new Error("invalid MeshFailurePenaltyWeight; must be negative (or 0 to disable)"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.meshFailurePenaltyWeight!==0&&(r.meshFailurePenaltyDecay<=0||r.meshFailurePenaltyDecay>=1))throw kr(new Error("invalid MeshFailurePenaltyDecay; must be between 0 and 1"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.invalidMessageDeliveriesWeight>0)throw kr(new Error("invalid InvalidMessageDeliveriesWeight; must be negative (or 0 to disable)"),Sr.ERR_INVALID_PEER_SCORE_PARAMS);if(r.invalidMessageDeliveriesDecay<=0||r.invalidMessageDeliveriesDecay>=1)throw kr(new Error("invalid InvalidMessageDeliveriesDecay; must be between 0 and 1"),Sr.ERR_INVALID_PEER_SCORE_PARAMS)}jn.validateTopicScoreParams=t8e});var r8e=h(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.validatePeerScoreThresholds=Gu.createPeerScoreThresholds=Gu.defaultPeerScoreThresholds=void 0;var f3=JC(),l3=qe();Gu.defaultPeerScoreThresholds={gossipThreshold:-10,publishThreshold:-50,graylistThreshold:-80,acceptPXThreshold:10,opportunisticGraftThreshold:20};function RRt(r={}){return Object.assign(Object.assign({},Gu.defaultPeerScoreThresholds),r)}Gu.createPeerScoreThresholds=RRt;function qRt(r){if(r.gossipThreshold>0)throw l3(new Error("invalid gossip threshold; it must be <= 0"),f3.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(r.publishThreshold>0||r.publishThreshold>r.gossipThreshold)throw l3(new Error("invalid publish threshold; it must be <= 0 and <= gossip threshold"),f3.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(r.graylistThreshold>0||r.graylistThreshold>r.publishThreshold)throw l3(new Error("invalid graylist threshold; it must be <= 0 and <= publish threshold"),f3.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(r.acceptPXThreshold<0)throw l3(new Error("invalid accept PX threshold; it must be >= 0"),f3.ERR_INVALID_PEER_SCORE_THRESHOLDS);if(r.opportunisticGraftThreshold<0)throw l3(new Error("invalid opportunistic grafting threshold; it must be >= 0"),f3.ERR_INVALID_PEER_SCORE_THRESHOLDS)}Gu.validatePeerScoreThresholds=qRt});var i8e=h(T0=>{"use strict";Object.defineProperty(T0,"__esModule",{value:!0});T0.ensureTopicStats=T0.createTopicStats=T0.createPeerStats=void 0;function BRt(r={}){return Object.assign(Object.assign({connected:!1,expire:0,ips:[],behaviourPenalty:0},r),{topics:r.topics?Object.entries(r.topics).reduce((e,[t,i])=>(e[t]=QC(i),e),{}):{}})}T0.createPeerStats=BRt;function QC(r={}){return Object.assign({inMesh:!1,graftTime:0,meshTime:0,firstMessageDeliveries:0,meshMessageDeliveries:0,meshMessageDeliveriesActive:!1,meshFailurePenalty:0,invalidMessageDeliveries:0},r)}T0.createTopicStats=QC;function CRt(r,e,t){let i=e.topics[r];if(i)return i;if(!!t.topics[r])return e.topics[r]=i=QC(),i}T0.ensureTopicStats=CRt});var n8e=h(rE=>{"use strict";Object.defineProperty(rE,"__esModule",{value:!0});rE.computeScore=void 0;function MRt(r,e,t,i){let n=0;return Object.entries(e.topics).forEach(([a,c])=>{let u=t.topics[a];if(!u)return;let f=0;if(c.inMesh){let b=c.meshTime/u.timeInMeshQuantum;b>u.timeInMeshCap&&(b=u.timeInMeshCap),f+=b*u.timeInMeshWeight}if(f+=c.firstMessageDeliveries*u.firstMessageDeliveriesWeight,c.meshMessageDeliveriesActive&&c.meshMessageDeliveries<u.meshMessageDeliveriesThreshold){let b=u.meshMessageDeliveriesThreshold-c.meshMessageDeliveries;f+=b*b*u.meshMessageDeliveriesWeight}f+=c.meshFailurePenalty*u.meshFailurePenaltyWeight,f+=c.invalidMessageDeliveries*c.invalidMessageDeliveries*u.invalidMessageDeliveriesWeight,n+=f*u.topicWeight}),t.topicScoreCap>0&&n>t.topicScoreCap&&(n=t.topicScoreCap),n+=t.appSpecificScore(r)*t.appSpecificWeight,e.ips.forEach(a=>{if(t.IPColocationFactorWhitelist.has(a))return;let c=i.get(a),u=c?c.size:0;if(u>t.IPColocationFactorThreshold){let f=u-t.IPColocationFactorThreshold;n+=f*f*t.IPColocationFactorWeight}}),n+=e.behaviourPenalty*e.behaviourPenalty*t.behaviourPenaltyWeight,n}rE.computeScore=MRt});var o8e=h((Obr,s8e)=>{"use strict";function Zr(r,e){var e=e||{};this._head=0,this._tail=0,this._capacity=e.capacity,this._capacityMask=3,this._list=new Array(4),Array.isArray(r)&&this._fromArray(r)}Zr.prototype.peekAt=function(e){var t=e;if(t===(t|0)){var i=this.size();if(!(t>=i||t<-i))return t<0&&(t+=i),t=this._head+t&this._capacityMask,this._list[t]}};Zr.prototype.get=function(e){return this.peekAt(e)};Zr.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]};Zr.prototype.peekFront=function(){return this.peek()};Zr.prototype.peekBack=function(){return this.peekAt(-1)};Object.defineProperty(Zr.prototype,"length",{get:function(){return this.size()}});Zr.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Zr.prototype.unshift=function(e){if(e===void 0)return this.size();var t=this._list.length;return this._head=this._head-1+t&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Zr.prototype.shift=function(){var e=this._head;if(e!==this._tail){var t=this._list[e];return this._list[e]=void 0,this._head=e+1&this._capacityMask,e<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),t}};Zr.prototype.push=function(e){if(e===void 0)return this.size();var t=this._tail;return this._list[t]=e,this._tail=t+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)};Zr.prototype.pop=function(){var e=this._tail;if(e!==this._head){var t=this._list.length;this._tail=e-1+t&this._capacityMask;var i=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&e>1e4&&e<=t>>>2&&this._shrinkArray(),i}};Zr.prototype.removeOne=function(e){var t=e;if(t===(t|0)&&this._head!==this._tail){var i=this.size(),n=this._list.length;if(!(t>=i||t<-i)){t<0&&(t+=i),t=this._head+t&this._capacityMask;var s=this._list[t],o;if(e<i/2){for(o=e;o>0;o--)this._list[t]=this._list[t=t-1+n&this._capacityMask];this._list[t]=void 0,this._head=this._head+1+n&this._capacityMask}else{for(o=i-1-e;o>0;o--)this._list[t]=this._list[t=t+1+n&this._capacityMask];this._list[t]=void 0,this._tail=this._tail-1+n&this._capacityMask}return s}}};Zr.prototype.remove=function(e,t){var i=e,n,s=t;if(i===(i|0)&&this._head!==this._tail){var o=this.size(),a=this._list.length;if(!(i>=o||i<-o||t<1)){if(i<0&&(i+=o),t===1||!t)return n=new Array(1),n[0]=this.removeOne(i),n;if(i===0&&i+t>=o)return n=this.toArray(),this.clear(),n;i+t>o&&(t=o-i);var c;for(n=new Array(t),c=0;c<t;c++)n[c]=this._list[this._head+i+c&this._capacityMask];if(i=this._head+i&this._capacityMask,e+t===o){for(this._tail=this._tail-t+a&this._capacityMask,c=t;c>0;c--)this._list[i=i+1+a&this._capacityMask]=void 0;return n}if(e===0){for(this._head=this._head+t+a&this._capacityMask,c=t-1;c>0;c--)this._list[i=i+1+a&this._capacityMask]=void 0;return n}if(i<o/2){for(this._head=this._head+e+t+a&this._capacityMask,c=e;c>0;c--)this.unshift(this._list[i=i-1+a&this._capacityMask]);for(i=this._head-1+a&this._capacityMask;s>0;)this._list[i=i-1+a&this._capacityMask]=void 0,s--;e<0&&(this._tail=i)}else{for(this._tail=i,i=i+t+a&this._capacityMask,c=o-(t+e);c>0;c--)this.push(this._list[i++]);for(i=this._tail;s>0;)this._list[i=i+1+a&this._capacityMask]=void 0,s--}return this._head<2&&this._tail>1e4&&this._tail<=a>>>2&&this._shrinkArray(),n}}};Zr.prototype.splice=function(e,t){var i=e;if(i===(i|0)){var n=this.size();if(i<0&&(i+=n),!(i>n))if(arguments.length>2){var s,o,a,c=arguments.length,u=this._list.length,f=2;if(!n||i<n/2){for(o=new Array(i),s=0;s<i;s++)o[s]=this._list[this._head+s&this._capacityMask];for(t===0?(a=[],i>0&&(this._head=this._head+i+u&this._capacityMask)):(a=this.remove(i,t),this._head=this._head+i+u&this._capacityMask);c>f;)this.unshift(arguments[--c]);for(s=i;s>0;s--)this.unshift(o[s-1])}else{o=new Array(n-(i+t));var l=o.length;for(s=0;s<l;s++)o[s]=this._list[this._head+i+t+s&this._capacityMask];for(t===0?(a=[],i!=n&&(this._tail=this._head+i+u&this._capacityMask)):(a=this.remove(i,t),this._tail=this._tail-l+u&this._capacityMask);f<c;)this.push(arguments[f++]);for(s=0;s<l;s++)this.push(o[s])}return a}else return this.remove(i,t)}};Zr.prototype.clear=function(){this._head=0,this._tail=0};Zr.prototype.isEmpty=function(){return this._head===this._tail};Zr.prototype.toArray=function(){return this._copyArray(!1)};Zr.prototype._fromArray=function(e){for(var t=0;t<e.length;t++)this.push(e[t])};Zr.prototype._copyArray=function(e){var t=[],i=this._list,n=i.length,s;if(e||this._head>this._tail){for(s=this._head;s<n;s++)t.push(i[s]);for(s=0;s<this._tail;s++)t.push(i[s])}else for(s=this._head;s<this._tail;s++)t.push(i[s]);return t};Zr.prototype._growArray=function(){this._head&&(this._list=this._copyArray(!0),this._head=0),this._tail=this._list.length,this._list.length*=2,this._capacityMask=this._capacityMask<<1|1};Zr.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1};s8e.exports=Zr});var u8e=h($u=>{"use strict";var NRt=$u&&$u.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($u,"__esModule",{value:!0});$u.MessageDeliveries=$u.DeliveryRecordStatus=void 0;var PRt=Sh(),DRt=NRt(o8e()),ORt=kh(),a8e;(function(r){r[r.unknown=0]="unknown",r[r.valid=1]="valid",r[r.invalid=2]="invalid",r[r.ignored=3]="ignored"})(a8e=$u.DeliveryRecordStatus||($u.DeliveryRecordStatus={}));var c8e=class{constructor(){this.records=new Map,this.queue=new DRt.default}ensureRecord(e){let t=ORt.messageIdToString(e),i=this.records.get(t);if(i)return i;i={status:a8e.unknown,firstSeen:Date.now(),validated:0,peers:new Set},this.records.set(t,i);let n={msgId:t,expire:Date.now()+PRt.TimeCacheDuration};return this.queue.push(n),i}gc(){let e=Date.now(),t=this.queue.peekFront();for(;t&&t.expire<e;)this.records.delete(t.msgId),this.queue.shift(),t=this.queue.peekFront()}clear(){this.records.clear(),this.queue.clear()}};$u.MessageDeliveries=c8e});var l8e=h(tb=>{"use strict";var LRt=tb&&tb.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(tb,"__esModule",{value:!0});tb.PeerScore=void 0;var FRt=ZC(),rb=i8e(),URt=n8e(),Ra=u8e(),zRt=Sh(),KRt=LRt(yt()),VRt=De(),jRt=L5(),{ERR_INVALID_SIGNATURE:HRt,ERR_MISSING_SIGNATURE:GRt}=jRt.codes,ib=VRt("libp2p:gossipsub:score"),f8e=class{constructor(e,t,i){FRt.validatePeerScoreParams(e),this.params=e,this._connectionManager=t,this.peerStats=new Map,this.peerIPs=new Map,this.deliveryRecords=new Ra.MessageDeliveries,this.msgId=i}start(){if(this._backgroundInterval){ib("Peer score already running");return}this._backgroundInterval=setInterval(()=>this.background(),this.params.decayInterval),ib("started")}stop(){if(!this._backgroundInterval){ib("Peer score already stopped");return}clearInterval(this._backgroundInterval),delete this._backgroundInterval,this.peerIPs.clear(),this.peerStats.clear(),this.deliveryRecords.clear(),ib("stopped")}background(){this._refreshScores(),this._updateIPs(),this.deliveryRecords.gc()}_refreshScores(){let e=Date.now(),t=this.params.decayToZero;this.peerStats.forEach((i,n)=>{if(!i.connected){e>i.expire&&(this._removeIPs(n,i.ips),this.peerStats.delete(n));return}Object.entries(i.topics).forEach(([s,o])=>{let a=this.params.topics[s];!a||(o.firstMessageDeliveries*=a.firstMessageDeliveriesDecay,o.firstMessageDeliveries<t&&(o.firstMessageDeliveries=0),o.meshMessageDeliveries*=a.meshMessageDeliveriesDecay,o.meshMessageDeliveries<t&&(o.meshMessageDeliveries=0),o.meshFailurePenalty*=a.meshFailurePenaltyDecay,o.meshFailurePenalty<t&&(o.meshFailurePenalty=0),o.invalidMessageDeliveries*=a.invalidMessageDeliveriesDecay,o.invalidMessageDeliveries<t&&(o.invalidMessageDeliveries=0),o.inMesh&&(o.meshTime=e-o.graftTime,o.meshTime>a.meshMessageDeliveriesActivation&&(o.meshMessageDeliveriesActive=!0)))}),i.behaviourPenalty*=this.params.behaviourPenaltyDecay,i.behaviourPenalty<t&&(i.behaviourPenalty=0)})}score(e){let t=this.peerStats.get(e);return t?URt.computeScore(e,t,this.params,this.peerIPs):0}addPenalty(e,t){let i=this.peerStats.get(e);!i||(i.behaviourPenalty+=t)}addPeer(e){let t=rb.createPeerStats({connected:!0});this.peerStats.set(e,t);let i=this._getIPs(e);this._setIPs(e,i,t.ips),t.ips=i}removePeer(e){let t=this.peerStats.get(e);if(!!t){if(this.score(e)>0){this._removeIPs(e,t.ips),this.peerStats.delete(e);return}Object.entries(t.topics).forEach(([i,n])=>{n.firstMessageDeliveries=0;let s=this.params.topics[i].meshMessageDeliveriesThreshold;if(n.inMesh&&n.meshMessageDeliveriesActive&&n.meshMessageDeliveries<s){let o=s-n.meshMessageDeliveries;n.meshFailurePenalty+=o*o}n.inMesh=!1}),t.connected=!1,t.expire=Date.now()+this.params.retainScore}}graft(e,t){let i=this.peerStats.get(e);if(!i)return;let n=rb.ensureTopicStats(t,i,this.params);!n||(n.inMesh=!0,n.graftTime=Date.now(),n.meshTime=0,n.meshMessageDeliveriesActive=!1)}prune(e,t){let i=this.peerStats.get(e);if(!i)return;let n=rb.ensureTopicStats(t,i,this.params);if(!n)return;let s=this.params.topics[t].meshMessageDeliveriesThreshold;if(n.meshMessageDeliveriesActive&&n.meshMessageDeliveries<s){let o=s-n.meshMessageDeliveries;n.meshFailurePenalty+=o*o}n.inMesh=!1}validateMessage(e){this.deliveryRecords.ensureRecord(this.msgId(e))}deliverMessage(e){let t=e.receivedFrom;this._markFirstMessageDelivery(t,e);let i=this.deliveryRecords.ensureRecord(this.msgId(e)),n=Date.now();if(i.status!==Ra.DeliveryRecordStatus.unknown){ib("unexpected delivery: message from %s was first seen %s ago and has delivery status %d",t,n-i.firstSeen,Ra.DeliveryRecordStatus[i.status]);return}i.status=Ra.DeliveryRecordStatus.valid,i.validated=n,i.peers.forEach(s=>{s!==t&&this._markDuplicateMessageDelivery(s,e)})}rejectMessage(e,t){let i=e.receivedFrom;switch(t){case GRt:case HRt:this._markInvalidMessageDelivery(i,e);return}let n=this.deliveryRecords.ensureRecord(this.msgId(e));if(n.status!==Ra.DeliveryRecordStatus.unknown){ib("unexpected rejection: message from %s was first seen %s ago and has delivery status %d",i,Date.now()-n.firstSeen,Ra.DeliveryRecordStatus[n.status]);return}switch(t){case zRt.ERR_TOPIC_VALIDATOR_IGNORE:n.status=Ra.DeliveryRecordStatus.ignored;return}n.status=Ra.DeliveryRecordStatus.invalid,this._markInvalidMessageDelivery(i,e),n.peers.forEach(s=>{this._markInvalidMessageDelivery(s,e)})}duplicateMessage(e){let t=e.receivedFrom,i=this.deliveryRecords.ensureRecord(this.msgId(e));if(!i.peers.has(t))switch(i.status){case Ra.DeliveryRecordStatus.unknown:i.peers.add(t);break;case Ra.DeliveryRecordStatus.valid:i.peers.add(t),this._markDuplicateMessageDelivery(t,e,i.validated);break;case Ra.DeliveryRecordStatus.invalid:this._markInvalidMessageDelivery(t,e);break}}_markInvalidMessageDelivery(e,t){let i=this.peerStats.get(e);!i||t.topicIDs.forEach(n=>{let s=rb.ensureTopicStats(n,i,this.params);!s||(s.invalidMessageDeliveries+=1)})}_markFirstMessageDelivery(e,t){let i=this.peerStats.get(e);!i||t.topicIDs.forEach(n=>{let s=rb.ensureTopicStats(n,i,this.params);if(!s)return;let o=this.params.topics[n].firstMessageDeliveriesCap;s.firstMessageDeliveries+=1,s.firstMessageDeliveries>o&&(s.firstMessageDeliveries=o),!!s.inMesh&&(o=this.params.topics[n].meshMessageDeliveriesCap,s.meshMessageDeliveries+=1,s.meshMessageDeliveries>o&&(s.meshMessageDeliveries=o))})}_markDuplicateMessageDelivery(e,t,i=0){let n=this.peerStats.get(e);if(!n)return;let s=i?Date.now():0;t.topicIDs.forEach(o=>{let a=rb.ensureTopicStats(o,n,this.params);if(!a||!a.inMesh)return;let c=this.params.topics[o];if(i&&s>i+c.meshMessageDeliveriesWindow)return;let u=c.meshMessageDeliveriesCap;a.meshMessageDeliveries+=1,a.meshMessageDeliveries>u&&(a.meshMessageDeliveries=u)})}_getIPs(e){return this._connectionManager.getAll(KRt.default.createFromB58String(e)).map(t=>t.remoteAddr.toOptions().host)}_setIPs(e,t,i){e:for(let n of t){for(let o of i)if(n===o)continue e;let s=this.peerIPs.get(n);s||(s=new Set,this.peerIPs.set(n,s)),s.add(e)}e:for(let n of i){for(let o of t)if(n===o)continue e;let s=this.peerIPs.get(n);!s||(s.delete(e),s.size||this.peerIPs.delete(n))}}_removeIPs(e,t){t.forEach(i=>{let n=this.peerIPs.get(i);!n||(n.delete(e),n.size||this.peerIPs.delete(i))})}_updateIPs(){this.peerStats.forEach((e,t)=>{let i=this._getIPs(t);this._setIPs(t,i,e.ips),e.ips=i})}};tb.PeerScore=f8e});var h8e=h(Wu=>{"use strict";var $Rt=Wu&&Wu.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),eM=Wu&&Wu.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&$Rt(e,r,t)};Object.defineProperty(Wu,"__esModule",{value:!0});eM(ZC(),Wu);eM(r8e(),Wu);eM(l8e(),Wu)});var p8e=h(iE=>{"use strict";Object.defineProperty(iE,"__esModule",{value:!0});iE.IWantTracer=void 0;var WRt=Sh(),tM=kh(),YRt=L5(),{ERR_INVALID_SIGNATURE:XRt,ERR_MISSING_SIGNATURE:JRt}=YRt.codes,d8e=class{constructor(e){this.getMsgId=e,this.promises=new Map}addPromise(e,t){let i=Math.floor(Math.random()*t.length),n=t[i],s=tM.messageIdToString(n),o=this.promises.get(s);o||(o=new Map,this.promises.set(s,o)),o.has(e)||o.set(e,Date.now()+WRt.GossipsubIWantFollowupTime)}getBrokenPromises(){let e=Date.now(),t=new Map;return this.promises.forEach((i,n)=>{i.forEach((s,o)=>{s<e&&(t.set(o,(t.get(o)||0)+1),i.delete(o))}),i.size||this.promises.delete(n)}),t}deliverMessage(e){let t=this.getMsgId(e),i=tM.messageIdToString(t);this.promises.delete(i)}rejectMessage(e,t){switch(t){case XRt:case JRt:return}let i=this.getMsgId(e),n=tM.messageIdToString(i);this.promises.delete(n)}clear(){this.promises.clear()}};iE.IWantTracer=d8e});var x8e=h((Kbr,b8e)=>{var y8e="Expected a function",g8e=0/0,ZRt="[object Symbol]",QRt=/^\s+|\s+$/g,eqt=/^[-+]0x[0-9a-f]+$/i,tqt=/^0b[01]+$/i,rqt=/^0o[0-7]+$/i,iqt=parseInt,nqt=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,sqt=typeof self=="object"&&self&&self.Object===Object&&self,oqt=nqt||sqt||Function("return this")(),aqt=Object.prototype,cqt=aqt.toString,uqt=Math.max,fqt=Math.min,rM=function(){return oqt.Date.now()};function lqt(r,e,t){var i,n,s,o,a,c,u=0,f=!1,l=!1,d=!0;if(typeof r!="function")throw new TypeError(y8e);e=m8e(e)||0,nE(t)&&(f=!!t.leading,l="maxWait"in t,s=l?uqt(m8e(t.maxWait)||0,e):s,d="trailing"in t?!!t.trailing:d);function p(P){var W=i,ne=n;return i=n=void 0,u=P,o=r.apply(ne,W),o}function b(P){return u=P,a=setTimeout(w,e),f?p(P):o}function g(P){var W=P-c,ne=P-u,Q=e-W;return l?fqt(Q,s-ne):Q}function m(P){var W=P-c,ne=P-u;return c===void 0||W>=e||W<0||l&&ne>=s}function w(){var P=rM();if(m(P))return A(P);a=setTimeout(w,g(P))}function A(P){return a=void 0,d&&i?p(P):(i=n=void 0,o)}function I(){a!==void 0&&clearTimeout(a),u=0,i=c=n=a=void 0}function F(){return a===void 0?o:A(rM())}function V(){var P=rM(),W=m(P);if(i=arguments,n=this,c=P,W){if(a===void 0)return b(c);if(l)return a=setTimeout(w,e),p(c)}return a===void 0&&(a=setTimeout(w,e)),o}return V.cancel=I,V.flush=F,V}function hqt(r,e,t){var i=!0,n=!0;if(typeof r!="function")throw new TypeError(y8e);return nE(t)&&(i="leading"in t?!!t.leading:i,n="trailing"in t?!!t.trailing:n),lqt(r,e,{leading:i,maxWait:e,trailing:n})}function nE(r){var e=typeof r;return!!r&&(e=="object"||e=="function")}function dqt(r){return!!r&&typeof r=="object"}function pqt(r){return typeof r=="symbol"||dqt(r)&&cqt.call(r)==ZRt}function m8e(r){if(typeof r=="number")return r;if(pqt(r))return g8e;if(nE(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=nE(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=r.replace(QRt,"");var t=tqt.test(r);return t||rqt.test(r)?iqt(r.slice(2),t?2:8):eqt.test(r)?g8e:+r}b8e.exports=hqt});var E8e=h((w8e,v8e)=>{"use strict";var bqt=x8e();w8e=v8e.exports=iM;function iM(r){if(!(this instanceof iM))return new iM(r);r=r||{};let e=r.validity||30,t=new Map,i=bqt(()=>{t.forEach((n,s)=>{let o=n.validity||e;yqt(n.timestamp)>o&&t.delete(s)})},200);this.put=(n,s,o)=>{this.has(n)||t.set(n,{value:s,timestamp:new Date,validity:o}),i()},this.get=n=>{if(t.has(n))return t.get(n).value;throw new Error("key does not exist")},this.has=n=>t.has(n)}function yqt(r){let t=new Date().getTime()-r.getTime();return Math.floor(t/1e3)}});var nM=h((Vbr,_8e)=>{"use strict";function gqt(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}_8e.exports=gqt});var sM=h((jbr,S8e)=>{"use strict";var{TextEncoder:mqt,TextDecoder:xqt}=ct(),wqt=new xqt,vqt=r=>wqt.decode(r),Eqt=new mqt,_qt=r=>Eqt.encode(r);function Sqt(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}S8e.exports={decodeText:vqt,encodeText:_qt,concat:Sqt}});var I8e=h((Hbr,k8e)=>{"use strict";var{encodeText:kqt}=sM(),A8e=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=kqt(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};k8e.exports=A8e});var R8e=h((Gbr,T8e)=>{"use strict";var Aqt=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},Iqt=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},Tqt=r=>e=>({encode(t){return Iqt(t,e,r)},decode(t){return Aqt(t,e,r)}});T8e.exports={rfc4648:Tqt}});var oM=h(($br,q8e)=>{"use strict";var h3=ri(),Rqt=I8e(),{rfc4648:Tn}=R8e(),{decodeText:qqt,encodeText:Bqt}=sM(),Cqt=()=>({encode:qqt,decode:Bqt}),B8e=[["identity","\0",Cqt,""],["base2","0",Tn(1),"01"],["base8","7",Tn(3),"01234567"],["base10","9",h3,"0123456789"],["base16","f",Tn(4),"0123456789abcdef"],["base16upper","F",Tn(4),"0123456789ABCDEF"],["base32hex","v",Tn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",Tn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",Tn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",Tn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",Tn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",Tn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",Tn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",Tn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",Tn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",h3,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",h3,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",h3,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",h3,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",Tn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",Tn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",Tn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",Tn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],C8e=B8e.reduce((r,e)=>(r[e[0]]=new Rqt(e[0],e[1],e[2],e[3]),r),{}),Mqt=B8e.reduce((r,e)=>(r[e[1]]=C8e[e[0]],r),{});q8e.exports={names:C8e,codes:Mqt}});var Ah=h((Wbr,M8e)=>{"use strict";var{names:Nqt}=oM(),{TextEncoder:Pqt}=ct(),Dqt=new Pqt;function Oqt(r){let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function Lqt(r,e="utf8"){if(e==="utf8"||e==="utf-8")return Dqt.encode(r);if(e==="ascii")return Oqt(r);let t=Nqt[e];if(!t)throw new Error("Unknown base");return t.decode(r)}M8e.exports=Lqt});var sE=h((Ybr,N8e)=>{"use strict";function Fqt(r,e){if(r===e)return!0;if(r.byteLength!==e.byteLength)return!1;for(let t=0;t<r.byteLength;t++)if(r[t]!==e[t])return!1;return!0}N8e.exports=Fqt});var ki=h(aM=>{"use strict";aM.messages={NOT_STARTED_YET:"The libp2p node is not started yet",DHT_DISABLED:"DHT is not available",CONN_ENCRYPTION_REQUIRED:"At least one connection encryption module is required"};aM.codes={DHT_DISABLED:"ERR_DHT_DISABLED",PUBSUB_NOT_STARTED:"ERR_PUBSUB_NOT_STARTED",DHT_NOT_STARTED:"ERR_DHT_NOT_STARTED",CONN_ENCRYPTION_REQUIRED:"ERR_CONN_ENCRYPTION_REQUIRED",ERR_CONNECTION_ENDED:"ERR_CONNECTION_ENDED",ERR_CONNECTION_FAILED:"ERR_CONNECTION_FAILED",ERR_NODE_NOT_STARTED:"ERR_NODE_NOT_STARTED",ERR_ALREADY_ABORTED:"ERR_ALREADY_ABORTED",ERR_NO_VALID_ADDRESSES:"ERR_NO_VALID_ADDRESSES",ERR_DIALED_SELF:"ERR_DIALED_SELF",ERR_DISCOVERED_SELF:"ERR_DISCOVERED_SELF",ERR_DUPLICATE_TRANSPORT:"ERR_DUPLICATE_TRANSPORT",ERR_ENCRYPTION_FAILED:"ERR_ENCRYPTION_FAILED",ERR_HOP_REQUEST_FAILED:"ERR_HOP_REQUEST_FAILED",ERR_INVALID_KEY:"ERR_INVALID_KEY",ERR_INVALID_MESSAGE:"ERR_INVALID_MESSAGE",ERR_INVALID_PARAMETERS:"ERR_INVALID_PARAMETERS",ERR_INVALID_PEER:"ERR_INVALID_PEER",ERR_MUXER_UNAVAILABLE:"ERR_MUXER_UNAVAILABLE",ERR_TIMEOUT:"ERR_TIMEOUT",ERR_TRANSPORT_UNAVAILABLE:"ERR_TRANSPORT_UNAVAILABLE",ERR_TRANSPORT_DIAL_FAILED:"ERR_TRANSPORT_DIAL_FAILED",ERR_UNSUPPORTED_PROTOCOL:"ERR_UNSUPPORTED_PROTOCOL",ERR_INVALID_MULTIADDR:"ERR_INVALID_MULTIADDR",ERR_SIGNATURE_NOT_VALID:"ERR_SIGNATURE_NOT_VALID"}});var D8e=h((Jbr,P8e)=>{"use strict";var Uqt=ni();P8e.exports=Uqt(`
message Envelope {
  // public_key is the public key of the keypair the enclosed payload was
  // signed with.
  bytes public_key = 1;

  // payload_type encodes the type of payload, so that it can be deserialized
  // deterministically.
  bytes payload_type = 2;

  // payload is the actual payload carried inside this envelope.
  bytes payload = 3;

  // signature is the signature produced by the private key corresponding to
  // the enclosed public key, over the payload, prefixing a domain string for
  // additional security.
  bytes signature = 5;
}
`)});var d3=h((Zbr,O8e)=>{"use strict";var zqt=qe(),Kqt=nM(),Vqt=Ah(),jqt=w4(),Hqt=yt(),cM=ii(),oE=sE(),{codes:Gqt}=ki(),L8e=D8e(),R0=class{constructor({peerId:e,payloadType:t,payload:i,signature:n}){this.peerId=e,this.payloadType=t,this.payload=i,this.signature=n,this._marshal=void 0}marshal(){if(this._marshal)return this._marshal;let e=jqt.marshalPublicKey(this.peerId.pubKey);return this._marshal=L8e.Envelope.encode({public_key:e,payload_type:this.payloadType,payload:this.payload,signature:this.signature}),this._marshal}equals(e){return oE(this.peerId.pubKey.bytes,e.peerId.pubKey.bytes)&&oE(this.payloadType,e.payloadType)&&oE(this.payload,e.payload)&&oE(this.signature,e.signature)}validate(e){let t=F8e(e,this.payloadType,this.payload);return this.peerId.pubKey.verify(t,this.signature)}},F8e=(r,e,t)=>{let i=Vqt(r),n=cM.encode(i.byteLength),s=cM.encode(e.length),o=cM.encode(t.length);return Kqt([new Uint8Array(n),i,new Uint8Array(s),e,new Uint8Array(o),t])};R0.createFromProtobuf=async r=>{let e=L8e.Envelope.decode(r),t=await Hqt.createFromPubKey(e.public_key);return new R0({peerId:t,payloadType:e.payload_type,payload:e.payload,signature:e.signature})};R0.seal=async(r,e)=>{let t=r.domain,i=r.codec,n=r.marshal(),s=F8e(t,i,n),o=await e.privKey.sign(s);return new R0({peerId:e,payloadType:i,payload:n,signature:o})};R0.openAndCertify=async(r,e)=>{let t=await R0.createFromProtobuf(r);if(!await t.validate(e))throw zqt(new Error("envelope signature is not valid for the given domain"),Gqt.ERR_SIGNATURE_NOT_VALID);return t};O8e.exports=R0});var pM=h((Yu,U8e)=>{"use strict";var $qt=Yu&&Yu.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),Wqt=Yu&&Yu.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),z8e=Yu&&Yu.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&$qt(e,r,t);return Wqt(e,r),e},p3=Yu&&Yu.__awaiter||function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(f){try{u(i.next(f))}catch(l){o(l)}}function c(f){try{u(i.throw(f))}catch(l){o(l)}}function u(f){f.done?s(f.value):n(f.value).then(a,c)}u((i=i.apply(r,e||[])).next())})},uM=z8e(Rve()),Yqt=Wve(),fM=Xve(),$t=z8e(Sh()),Xqt=Qve(),aE=XC(),Yi=kh(),lM=h8e(),Jqt=p8e(),Zqt=E8e(),hM=yt(),Qqt=d3(),dM=class extends uM.default{constructor(e,t={}){let i=[$t.GossipsubIDv11,$t.GossipsubIDv10],n=Object.assign(Object.assign({gossipIncoming:!0,fallbackToFloodsub:!0,floodPublish:!0,doPX:!1,directPeers:[],D:$t.GossipsubD,Dlo:$t.GossipsubDlo,Dhi:$t.GossipsubDhi,Dscore:$t.GossipsubDscore,Dout:$t.GossipsubDout,Dlazy:$t.GossipsubDlazy},t),{scoreParams:lM.createPeerScoreParams(t.scoreParams),scoreThresholds:lM.createPeerScoreThresholds(t.scoreThresholds)});n.fallbackToFloodsub&&i.push($t.FloodsubID),super(Object.assign({debugName:"libp2p:gossipsub",multicodecs:i,libp2p:e},n)),this._options=n,this.direct=new Set(n.directPeers.map(s=>s.id.toB58String())),n.directPeers.forEach(s=>{e.peerStore.addressBook.add(s.id,s.addrs)}),this.seenCache=new Zqt,this.mesh=new Map,this.fanout=new Map,this.lastpub=new Map,this.gossip=new Map,this.control=new Map,this.peerhave=new Map,this.iasked=new Map,this.backoff=new Map,this.outbound=new Map,this.messageCache=t.messageCache||new Yqt.MessageCache($t.GossipsubHistoryGossip,$t.GossipsubHistoryLength,this.getMsgId.bind(this)),this.heartbeat=new Xqt.Heartbeat(this),this.heartbeatTicks=0,this.gossipTracer=new Jqt.IWantTracer(this.getMsgId.bind(this)),this._libp2p=e,this.score=new lM.PeerScore(this._options.scoreParams,e.connectionManager,this.getMsgId.bind(this))}_decodeRpc(e){return fM.RPCCodec.decode(e)}_encodeRpc(e){return fM.RPCCodec.encode(e)}_addPeer(e,t){let i=super._addPeer(e,t);this.score.addPeer(e.toB58String());let n=!1;for(let s of this._libp2p.connectionManager.getAll(e))if(s.stat.direction==="outbound"&&Array.from(s.registry.values()).some(o=>t===o.protocol)){n=!0;break}return this.outbound.set(i.id.toB58String(),n),i}_removePeer(e){let t=super._removePeer(e),i=e.toB58String();for(let n of this.mesh.values())n.delete(i);for(let n of this.fanout.values())n.delete(i);return this.gossip.delete(i),this.control.delete(i),this.outbound.delete(i),this.score.removePeer(i),t}_processRpc(e,t,i){return super._processRpc(e,t,i)?(i.control&&this._processRpcControlMessage(e,i.control),!0):!1}_processRpcControlMessage(e,t){if(!t)return;let i=this._handleIHave(e,t.ihave),n=this._handleIWant(e,t.iwant),s=this._handleGraft(e,t.graft);if(this._handlePrune(e,t.prune),!i.length&&!n.length&&!s.length)return;let o=Yi.createGossipRpc(n,{iwant:i,prune:s});this._sendRpc(e,o)}_processRpcMessage(e){let t=Object.create(null,{_processRpcMessage:{get:()=>super._processRpcMessage}});return p3(this,void 0,void 0,function*(){let i=this.getMsgId(e),n=Yi.messageIdToString(i);if(this.seenCache.has(n)){this.score.duplicateMessage(e);return}this.seenCache.put(n),this.score.validateMessage(e),yield t._processRpcMessage.call(this,e)})}_acceptFrom(e){return this.direct.has(e)||this.score.score(e)>=this._options.scoreThresholds.graylistThreshold}validate(e){let t=Object.create(null,{validate:{get:()=>super.validate}});return p3(this,void 0,void 0,function*(){try{yield t.validate.call(this,e)}catch(i){throw this.score.rejectMessage(e,i.code),this.gossipTracer.rejectMessage(e,i.code),i}})}_handleIHave(e,t){if(!t.length)return[];let i=this.score.score(e);if(i<this._options.scoreThresholds.gossipThreshold)return this.log("IHAVE: ignoring peer %s with score below threshold [ score = %d ]",e,i),[];let n=(this.peerhave.get(e)||0)+1;if(this.peerhave.set(e,n),n>$t.GossipsubMaxIHaveMessages)return this.log("IHAVE: peer %s has advertised too many times (%d) within this heartbeat interval; ignoring",e,n),[];let s=this.iasked.get(e)||0;if(s>=$t.GossipsubMaxIHaveLength)return this.log("IHAVE: peer %s has already advertised too many messages (%d); ignoring",e,s),[];let o=new Map;if(t.forEach(({topicID:u,messageIDs:f})=>{!u||!this.mesh.has(u)||f.forEach(l=>{let d=Yi.messageIdToString(l);this.seenCache.has(d)||o.set(d,l)})}),!o.size)return[];let a=o.size;a+s>$t.GossipsubMaxIHaveLength&&(a=$t.GossipsubMaxIHaveLength-s),this.log("IHAVE: Asking for %d out of %d messages from %s",a,o.size,e);let c=Array.from(o.values());return Yi.shuffle(c),c=c.slice(0,a),this.iasked.set(e,s+a),this.gossipTracer.addPromise(e,c),[{messageIDs:c}]}_handleIWant(e,t){if(!t.length)return[];let i=this.score.score(e);if(i<this._options.scoreThresholds.gossipThreshold)return this.log("IWANT: ignoring peer %s with score below threshold [score = %d]",e,i),[];let n=new Map;return t.forEach(({messageIDs:s})=>{s.forEach(o=>{let[a,c]=this.messageCache.getForPeer(o,e);if(!!a){if(c>$t.GossipsubGossipRetransmission){this.log("IWANT: Peer %s has asked for message %s too many times: ignoring request",e,o);return}n.set(Yi.messageIdToString(o),a)}})}),n.size?(this.log("IWANT: Sending %d messages to %s",n.size,e),Array.from(n.values()).map(uM.utils.normalizeOutRpcMessage)):[]}_handleGraft(e,t){let i=[],n=this.score.score(e),s=this._now(),o=this._options.doPX;return t.forEach(({topicID:a})=>{var c;if(!a)return;let u=this.mesh.get(a);if(!u){o=!1;return}if(u.has(e))return;if(this.direct.has(e)){this.log("GRAFT: ignoring request from direct peer %s",e),i.push(a),o=!1;return}let f=(c=this.backoff.get(a))===null||c===void 0?void 0:c.get(e);if(typeof f=="number"&&s<f){this.log("GRAFT: ignoring backed off peer %s",e),this.score.addPenalty(e,1),o=!1;let l=f+$t.GossipsubGraftFloodThreshold-$t.GossipsubPruneBackoff;s<l&&this.score.addPenalty(e,1),this._addBackoff(e,a),i.push(a);return}if(n<0){this.log("GRAFT: ignoring peer %s with negative score: score=%d, topic=%s",e,n,a),i.push(a),o=!1,this._addBackoff(e,a);return}if(u.size>=this._options.Dhi&&!this.outbound.get(e)){i.push(a),this._addBackoff(e,a);return}this.log("GRAFT: Add mesh link from %s in %s",e,a),this.score.graft(e,a),u.add(e)}),i.length?i.map(a=>this._makePrune(e,a,o)):[]}_handlePrune(e,t){let i=this.score.score(e);t.forEach(({topicID:n,backoff:s,peers:o})=>{if(!n)return;let a=this.mesh.get(n);if(!!a&&(this.log("PRUNE: Remove mesh link to %s in %s",e,n),this.score.prune(e,n),a.delete(e),typeof s=="number"&&s>0?this._doAddBackoff(e,n,s*1e3):this._addBackoff(e,n),o&&o.length)){if(i<this._options.scoreThresholds.acceptPXThreshold){this.log("PRUNE: ignoring PX from peer %s with insufficient score [score = %d, topic = %s]",e,i,n);return}this._pxConnect(o)}})}_addBackoff(e,t){this._doAddBackoff(e,t,$t.GossipsubPruneBackoff)}_doAddBackoff(e,t,i){let n=this.backoff.get(t);n||(n=new Map,this.backoff.set(t,n));let s=this._now()+i;(n.get(e)||0)<s&&n.set(e,s)}_applyIwantPenalties(){this.gossipTracer.getBrokenPromises().forEach((e,t)=>{this.log("peer %s didn't follow up in %d IWANT requests; adding penalty",t,e),this.score.addPenalty(t,e)})}_clearBackoff(){if(this.heartbeatTicks%$t.GossipsubPruneBackoffTicks!=0)return;let e=this._now();this.backoff.forEach((t,i)=>{t.forEach((n,s)=>{n<e&&t.delete(s)}),t.size===0&&this.backoff.delete(i)})}_directConnect(){if(this.heartbeatTicks%$t.GossipsubDirectConnectTicks!=0)return;let e=[];this.direct.forEach(t=>{let i=this.peers.get(t);(!i||!i.isWritable)&&e.push(t)}),e.length&&e.forEach(t=>{this._connect(t)})}_pxConnect(e){return p3(this,void 0,void 0,function*(){e.length>$t.GossipsubPrunePeers&&(Yi.shuffle(e),e=e.slice(0,$t.GossipsubPrunePeers));let t=[];yield Promise.all(e.map(i=>p3(this,void 0,void 0,function*(){if(!i.peerID)return;let s=hM.createFromBytes(i.peerID).toB58String();if(!this.peers.has(s)){if(!i.signedPeerRecord){t.push(s);return}try{let o=yield Qqt.openAndCertify(i.signedPeerRecord,"libp2p-peer-record"),a=o.peerId.toB58String();if(s!==a){this.log("bogus peer record obtained through px: peer ID %s doesn't match expected peer %s",a,s);return}if(!this._libp2p.peerStore.addressBook.consumePeerRecord(o)){this.log("bogus peer record obtained through px: could not add peer record to address book");return}t.push(s)}catch(o){this.log("bogus peer record obtained through px: invalid signature or not a peer record")}}}))),!!t.length&&t.forEach(i=>this._connect(i))})}start(){super.start(),this.heartbeat.start(),this.score.start(),this._directPeerInitial=setTimeout(()=>{this.direct.forEach(e=>{this._connect(e)})},$t.GossipsubDirectConnectInitialDelay)}stop(){super.stop(),this.heartbeat.stop(),this.score.stop(),this.mesh=new Map,this.fanout=new Map,this.lastpub=new Map,this.gossip=new Map,this.control=new Map,this.peerhave=new Map,this.iasked=new Map,this.backoff=new Map,this.outbound=new Map,this.gossipTracer.clear(),clearTimeout(this._directPeerInitial)}_connect(e){this.log("Initiating connection with %s",e),this._libp2p.dialProtocol(hM.createFromB58String(e),this.multicodecs)}subscribe(e){super.subscribe(e),this.join(e)}unsubscribe(e){super.unsubscribe(e),this.leave(e)}join(e){if(!this.started)throw new Error("Gossipsub has not started");this.log("JOIN %s",e);let t=this.fanout.get(e);if(t)t.forEach(i=>{this.score.score(i)<0&&t.delete(i)}),t.size<this._options.D&&aE.getGossipPeers(this,e,this._options.D-t.size,i=>!t.has(i)&&!this.direct.has(i)&&this.score.score(i)>=0).forEach(i=>t.add(i)),this.mesh.set(e,t),this.fanout.delete(e),this.lastpub.delete(e);else{let i=aE.getGossipPeers(this,e,this._options.D,n=>!this.direct.has(n)&&this.score.score(n)>=0);this.mesh.set(e,i)}this.mesh.get(e).forEach(i=>{this.log("JOIN: Add mesh link to %s in %s",i,e),this._sendGraft(i,e)})}leave(e){if(!this.started)throw new Error("Gossipsub has not started");this.log("LEAVE %s",e);let t=this.mesh.get(e);t&&(t.forEach(i=>{this.log("LEAVE: Remove mesh link to %s in %s",i,e),this._sendPrune(i,e)}),this.mesh.delete(e))}_publish(e){return p3(this,void 0,void 0,function*(){e.receivedFrom!==this.peerId.toB58String()&&(this.score.deliverMessage(e),this.gossipTracer.deliverMessage(e));let t=this.getMsgId(e),i=Yi.messageIdToString(t);this.seenCache.put(i),this.messageCache.put(e);let n=new Set;e.topicIDs.forEach(o=>{let a=this.topics.get(o);if(!!a)if(this._options.floodPublish&&e.from===this.peerId.toB58String())a.forEach(c=>{(this.direct.has(c)||this.score.score(c)>=this._options.scoreThresholds.publishThreshold)&&n.add(c)});else{this.direct.forEach(u=>{n.add(u)}),a.forEach(u=>{let f=this.score.score(u),l=this.peers.get(u);!l||l.protocol===$t.FloodsubID&&f>=this._options.scoreThresholds.publishThreshold&&n.add(u)});let c=this.mesh.get(o);if(!c||!c.size){if(c=this.fanout.get(o),!c){let u=aE.getGossipPeers(this,o,this._options.D,f=>this.score.score(f)>=this._options.scoreThresholds.publishThreshold);u.size>0?(c=u,this.fanout.set(o,u)):c=new Set}this.lastpub.set(o,this._now())}c.forEach(u=>{n.add(u)})}});let s=Yi.createGossipRpc([uM.utils.normalizeOutRpcMessage(e)]);n.forEach(o=>{o!==e.from&&this._sendRpc(o,s)})})}_sendGraft(e,t){let i=[{topicID:t}],n=Yi.createGossipRpc([],{graft:i});this._sendRpc(e,n)}_sendPrune(e,t){let i=[this._makePrune(e,t,this._options.doPX)],n=Yi.createGossipRpc([],{prune:i});this._sendRpc(e,n)}_sendRpc(e,t){let i=this.peers.get(e);if(!i||!i.isWritable)return;let n=this.control.get(e);n&&(this._piggybackControl(e,t,n),this.control.delete(e));let s=this.gossip.get(e);s&&(this._piggybackGossip(e,t,s),this.gossip.delete(e)),i.write(fM.RPCCodec.encode(t))}_piggybackControl(e,t,i){let n=(i.graft||[]).filter(({topicID:o})=>(o&&this.mesh.get(o)||new Set).has(e)),s=(i.prune||[]).filter(({topicID:o})=>!(o&&this.mesh.get(o)||new Set).has(e));!n.length&&!s.length||(t.control?(t.control.graft=t.control.graft.concat(n),t.control.prune=t.control.prune.concat(s)):t.control={ihave:[],iwant:[],graft:n,prune:s})}_piggybackGossip(e,t,i){t.control||(t.control={ihave:[],iwant:[],graft:[],prune:[]}),t.control.ihave=i}_sendGraftPrune(e,t,i){let n=this._options.doPX;for(let[s,o]of e){let a=o.map(l=>({topicID:l})),c=[],u=t.get(s);u&&(c=u.map(l=>this._makePrune(s,l,n&&!i.get(s))),t.delete(s));let f=Yi.createGossipRpc([],{graft:a,prune:c});this._sendRpc(s,f)}for(let[s,o]of t){let a=o.map(u=>this._makePrune(s,u,n&&!i.get(s))),c=Yi.createGossipRpc([],{prune:a});this._sendRpc(s,c)}}_emitGossip(e,t){let i=this.messageCache.getGossipIDs(e);if(!i.length)return;Yi.shuffle(i),i.length>$t.GossipsubMaxIHaveLength&&this.log("too many messages for gossip; will truncate IHAVE list (%d messages)",i.length);let n=[],s=this.topics.get(e);if(!s)return;s.forEach(c=>{let u=this.peers.get(c);!u||!t.has(c)&&!this.direct.has(c)&&Yi.hasGossipProtocol(u.protocol)&&this.score.score(c)>=this._options.scoreThresholds.gossipThreshold&&n.push(c)});let o=this._options.Dlazy,a=$t.GossipsubGossipFactor*n.length;a>o&&(o=a),o>n.length?o=n.length:Yi.shuffle(n),n.slice(0,o).forEach(c=>{let u=i;i.length>$t.GossipsubMaxIHaveLength&&(u=Yi.shuffle(u.slice()).slice(0,$t.GossipsubMaxIHaveLength)),this._pushGossip(c,{topicID:e,messageIDs:u})})}_flush(){for(let[e,t]of this.gossip.entries()){this.gossip.delete(e);let i=Yi.createGossipRpc([],{ihave:t});this._sendRpc(e,i)}for(let[e,t]of this.control.entries()){this.control.delete(e);let i=Yi.createGossipRpc([],{graft:t.graft,prune:t.prune});this._sendRpc(e,i)}}_pushGossip(e,t){this.log("Add gossip to %s",e);let i=this.gossip.get(e)||[];this.gossip.set(e,i.concat(t))}_now(){return Date.now()}_makePrune(e,t,i){if(this.peers.get(e).protocol===$t.GossipsubIDv10)return{topicID:t,peers:[]};let n=$t.GossipsubPruneBackoff/1e3,s=[];return i&&aE.getGossipPeers(this,t,$t.GossipsubPrunePeers,a=>a!==e&&this.score.score(a)>=0).forEach(a=>{let c=hM.createFromB58String(a);s.push({peerID:c.toBytes(),signedPeerRecord:this._libp2p.peerStore.addressBook.getRawEnvelope(c)})}),{topicID:t,peers:s,backoff:n}}};dM.multicodec=$t.GossipsubIDv11;U8e.exports=dM});var V8e=h((Qbr,K8e)=>{"use strict";K8e.exports={gossipsub:pM()}});var bM=h((e2r,j8e)=>{"use strict";var eBt=async function*(r,e){for await(let t of r)await e(t)&&(yield t)};j8e.exports=eBt});var G8e=h((t2r,H8e)=>{"use strict";var tBt=async function*(r,e){let t=0;if(!(e<1)){for await(let i of r)if(yield i,t++,t===e)return}};H8e.exports=tBt});var yM=h((r2r,$8e)=>{"use strict";var rBt=qe(),iBt=bM(),nBt=cm(),sBt=G8e();function oBt(r,e){return nBt(r,t=>(e.addressBook.add(t.id,t.multiaddrs),t))}function aBt(r){let e=new Set;return iBt(r,t=>e.has(t.id.toString())?!1:(e.add(t.id.toString()),!0))}async function*cBt(r,e=1){let t=0;for await(let i of r)t++,yield i;if(t<e)throw rBt(new Error("not found"),"NOT_FOUND")}function uBt(r,e){return e?sBt(r,e):r}$8e.exports={storeAddresses:oBt,uniquePeers:aBt,requirePeers:cBt,maybeLimitSource:uBt}});var gM=h((i2r,W8e)=>{"use strict";var fBt=ch(),lBt=async function*(...r){let e=fBt();setTimeout(async()=>{try{await Promise.all(r.map(async t=>{for await(let i of t)e.push(i)})),e.end()}catch(t){e.end(t)}},0),yield*e};W8e.exports=lBt});var mM=h((n2r,Y8e)=>{"use strict";var nb=new Map,hBt=()=>`${Date.now()}:${Math.floor(Math.random()*1e6)}`;async function dBt(r,e,t){for(;nb.get(t);){try{await r()}catch(i){setTimeout(()=>{throw i},1);break}if(!nb.get(t))break;await new Promise(i=>{let n=setTimeout(i,e);nb.set(t,n)})}}function pBt(r,e,t){t=t||e;let i=hBt(),n=setTimeout(()=>{dBt(r,e,i)},t);return nb.set(i,n),i}function bBt(r){let e=nb.get(r);e&&(clearTimeout(e),nb.delete(r))}Y8e.exports={setDelayedInterval:pBt,clearDelayedInterval:bBt}});var r5e=h((o2r,X8e)=>{"use strict";var J8e=De(),yBt=Object.assign(J8e("libp2p:peer-routing"),{error:J8e("libp2p:peer-routing:err")}),xM=qe(),{storeAddresses:Z8e,uniquePeers:gBt,requirePeers:mBt}=yM(),Q8e=gM(),{pipe:e5e}=yi(),xBt=b6(),wBt=$y(),vBt=bM(),{setDelayedInterval:EBt,clearDelayedInterval:_Bt}=mM(),s2r=yt(),t5e=class{constructor(e){this._peerId=e.peerId,this._peerStore=e.peerStore,this._routers=e._modules.peerRouting||[],e._dht&&e._config.dht.enabled&&this._routers.push(e._dht),this._refreshManagerOptions=e._options.peerRouting.refreshManager,this._findClosestPeersTask=this._findClosestPeersTask.bind(this)}start(){!this._routers.length||this._timeoutId||!this._refreshManagerOptions.enabled||(this._timeoutId=EBt(this._findClosestPeersTask,this._refreshManagerOptions.interval,this._refreshManagerOptions.bootDelay))}async _findClosestPeersTask(){try{await wBt(this.getClosestPeers(this._peerId.id))}catch(e){yBt.error(e)}}stop(){_Bt(this._timeoutId)}async findPeer(e,t){if(!this._routers.length)throw xM(new Error("No peer routers available"),"NO_ROUTERS_AVAILABLE");let i=await e5e(Q8e(...this._routers.map(n=>[n.findPeer(e,t)])),n=>vBt(n,Boolean),n=>Z8e(n,this._peerStore),n=>xBt(n));if(i)return i;throw xM(new Error("not found"),"NOT_FOUND")}async*getClosestPeers(e,t={timeout:3e4}){if(!this._routers.length)throw xM(new Error("No peer routers available"),"NO_ROUTERS_AVAILABLE");yield*e5e(Q8e(...this._routers.map(i=>i.getClosestPeers(e,t))),i=>Z8e(i,this._peerStore),i=>gBt(i),i=>mBt(i))}};X8e.exports=t5e});var s5e=h((a2r,i5e)=>{"use strict";var b3=qe(),{messages:wM,codes:vM}=ki(),{storeAddresses:SBt,uniquePeers:kBt,requirePeers:ABt,maybeLimitSource:IBt}=yM(),TBt=gM(),{pipe:RBt}=yi(),n5e=class{constructor(e){this.libp2p=e,this.routers=e._modules.contentRouting||[],this.dht=e._dht,this.dht&&e._config.dht.enabled&&this.routers.push(this.dht)}async*findProviders(e,t={}){if(!this.routers.length)throw b3(new Error("No content this.routers available"),"NO_ROUTERS_AVAILABLE");yield*RBt(TBt(...this.routers.map(i=>i.findProviders(e,t))),i=>SBt(i,this.libp2p.peerStore),i=>kBt(i),i=>IBt(i,t.maxNumProviders),i=>ABt(i))}async provide(e){if(!this.routers.length)throw b3(new Error("No content routers available"),"NO_ROUTERS_AVAILABLE");await Promise.all(this.routers.map(t=>t.provide(e)))}put(e,t,i){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw b3(new Error(wM.NOT_STARTED_YET),vM.DHT_NOT_STARTED);return this.dht.put(e,t,i)}get(e,t){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw b3(new Error(wM.NOT_STARTED_YET),vM.DHT_NOT_STARTED);return this.dht.get(e,t)}async getMany(e,t,i){if(!this.libp2p.isStarted()||!this.dht.isStarted)throw b3(new Error(wM.NOT_STARTED_YET),vM.DHT_NOT_STARTED);return this.dht.getMany(e,t,i)}};i5e.exports=n5e});var EM=h((c2r,o5e)=>{"use strict";var qBt=yt(),a5e=tr(),BBt=qe(),{codes:CBt}=ki();function MBt(r){typeof r=="string"&&(r=a5e(r));let e;if(a5e.isMultiaddr(r)){e=r;try{r=qBt.createFromB58String(r.getPeerId())}catch(t){throw BBt(new Error(`${r} is not a valid peer type`),CBt.ERR_INVALID_MULTIADDR)}}return{id:r,multiaddrs:e?[e]:void 0}}o5e.exports=MBt});var c5e=h(()=>{});var f5e=h((l2r,u5e)=>{var sb=1e3,ob=sb*60,ab=ob*60,Ih=ab*24,NBt=Ih*7,PBt=Ih*365.25;u5e.exports=function(r,e){e=e||{};var t=typeof r;if(t==="string"&&r.length>0)return DBt(r);if(t==="number"&&isFinite(r))return e.long?LBt(r):OBt(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function DBt(r){if(r=String(r),!(r.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!!e){var t=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return t*PBt;case"weeks":case"week":case"w":return t*NBt;case"days":case"day":case"d":return t*Ih;case"hours":case"hour":case"hrs":case"hr":case"h":return t*ab;case"minutes":case"minute":case"mins":case"min":case"m":return t*ob;case"seconds":case"second":case"secs":case"sec":case"s":return t*sb;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function OBt(r){var e=Math.abs(r);return e>=Ih?Math.round(r/Ih)+"d":e>=ab?Math.round(r/ab)+"h":e>=ob?Math.round(r/ob)+"m":e>=sb?Math.round(r/sb)+"s":r+"ms"}function LBt(r){var e=Math.abs(r);return e>=Ih?cE(r,e,Ih,"day"):e>=ab?cE(r,e,ab,"hour"):e>=ob?cE(r,e,ob,"minute"):e>=sb?cE(r,e,sb,"second"):r+" ms"}function cE(r,e,t,i){var n=e>=t*1.5;return Math.round(r/t)+" "+i+(n?"s":"")}});var d5e=h((h2r,l5e)=>{"use strict";l5e.exports=h5e;var FBt=f5e(),q0=h5e.prototype,UBt=new Date%1e9;function zBt(){return(Math.random()*1e9>>>0)+UBt++}function h5e(r){r=r||{},this.id=r.id||zBt(),this.max=r.max||Infinity,this.items=r.items||[],this._lookup={},this.size=this.items.length,this.lastModified=new Date(r.lastModified||new Date);for(var e,t,i=this.items.length;i--;)e=this.items[i],t=new Date(e.expires)-new Date,this._lookup[e.key]=e,t>0?this.expire(e.key,t):t<=0&&this.delete(e.key)}q0.has=function(r){return r in this._lookup};q0.get=function(r){if(!this.has(r))return null;var e=this._lookup[r];return e.refresh&&this.expire(r,e.refresh),this.items.splice(this.items.indexOf(e),1),this.items.push(e),e.value};q0.meta=function(r){if(!this.has(r))return null;var e=this._lookup[r];return"meta"in e?e.meta:null};q0.set=function(r,e,t){var i=this._lookup[r],n=this._lookup[r]={key:r,value:e};return this.lastModified=new Date,i?(clearTimeout(i.timeout),this.items.splice(this.items.indexOf(i),1,n)):(this.size>=this.max&&this.delete(this.items[0].key),this.items.push(n),this.size++),t&&("ttl"in t&&this.expire(r,t.ttl),"meta"in t&&(n.meta=t.meta),t.refresh&&(n.refresh=t.ttl)),this};q0.delete=function(r){var e=this._lookup[r];return e?(this.lastModified=new Date,this.items.splice(this.items.indexOf(e),1),clearTimeout(e.timeout),delete this._lookup[r],this.size--,this):!1};q0.expire=function(r,e){var t=e||0,i=this._lookup[r];if(!i)return this;if(typeof t=="string"&&(t=FBt(e)),typeof t!="number")throw new TypeError("Expiration time must be a string or number.");return clearTimeout(i.timeout),i.timeout=setTimeout(this.delete.bind(this,i.key),t),i.expires=Number(new Date)+t,this};q0.clear=function(){for(var r=this.items.length;r--;)this.delete(this.items[r].key);return this};q0.toJSON=function(){for(var r=new Array(this.items.length),e,t=r.length;t--;)e=this.items[t],r[t]={key:e.key,meta:e.meta,value:e.value,expires:e.expires,refresh:e.refresh};return{id:this.id,max:isFinite(this.max)?this.max:void 0,lastModified:this.lastModified,items:r}}});var p5e=h((d2r,_M)=>{"use strict";globalThis.fetch&&globalThis.Headers&&globalThis.Request&&globalThis.Response?_M.exports={default:globalThis.fetch,Headers:globalThis.Headers,Request:globalThis.Request,Response:globalThis.Response}:_M.exports={default:vd().default,Headers:vd().Headers,Request:vd().Request,Response:vd().Response}});var b5e=h((p2r,uE)=>{"use strict";var{default:KBt,Headers:VBt}=p5e();function jBt({serverResolver:r,hostname:e,recordType:t}){return`${r}?name=${e}&type=${t}`}uE.exports.buildResource=jBt;function HBt(r){return KBt(r,{headers:new VBt({accept:"application/dns-json"})})}uE.exports.fetch=HBt;function GBt(r,e){return`${e}_${r}`}uE.exports.getCacheKey=GBt});var m5e=h((b2r,y5e)=>{"use strict";var g5e=De(),fE=g5e("dns-over-http-resolver");fE.error=g5e("dns-over-http-resolver:error");var $Bt=d5e(),{buildResource:SM,fetch:kM,getCacheKey:cb}=b5e(),lE=class{constructor({maxCache:e=100}={}){this._cache=new $Bt({max:e}),this._servers=["https://cloudflare-dns.com/dns-query","https://dns.google/resolve"]}getServers(){return this._servers}_getShuffledServers(){let e=[].concat(this._servers);for(let t=e.length-1;t>0;t--){let i=Math.floor(Math.random()*t),n=e[t];e[t]=e[i],e[i]=n}return e}setServers(e){this._servers=e}resolve(e,t="A"){switch(t){case"A":return this.resolve4(e);case"AAAA":return this.resolve6(e);case"TXT":return this.resolveTxt(e);default:throw new Error(`${t} is not supported`)}}async resolve4(e){let t="A",i=this._cache.get(cb(e,t));if(i)return i;for(let n of this._getShuffledServers())try{let o=await(await kM(SM({serverResolver:n,hostname:e,recordType:t}))).json(),a=o.Answer.map(u=>u.data),c=Math.min(o.Answer.map(u=>u.TTL));return this._cache.set(cb(e,t),a,{ttl:c}),a}catch(s){fE.error(`${n} could not resolve ${e} record ${t}`)}throw new Error(`Could not resolve ${e} record ${t}`)}async resolve6(e){let t="AAAA",i=this._cache.get(cb(e,t));if(i)return i;for(let n of this._getShuffledServers())try{let o=await(await kM(SM({serverResolver:n,hostname:e,recordType:t}))).json(),a=o.Answer.map(u=>u.data),c=Math.min(o.Answer.map(u=>u.TTL));return this._cache.set(cb(e,t),a,{ttl:c}),a}catch(s){fE.error(`${n} could not resolve ${e} record ${t}`)}throw new Error(`Could not resolve ${e} record ${t}`)}async resolveTxt(e){let t="TXT",i=this._cache.get(cb(e,t));if(i)return i;for(let n of this._getShuffledServers())try{let o=await(await kM(SM({serverResolver:n,hostname:e,recordType:t}))).json(),a=o.Answer.map(u=>[u.data.replace(/['"]+/g,"")]),c=Math.min(o.Answer.map(u=>u.TTL));return this._cache.set(cb(e,t),a,{ttl:c}),a}catch(s){fE.error(`${n} could not resolve ${e} record ${t}`)}throw new Error(`Could not resolve ${e} record ${t}`)}};lE.Resolver=lE;y5e.exports=lE});var w5e=h((y2r,x5e)=>{"use strict";var hE;try{if(hE=c5e().promises,!hE)throw new Error("no dns available")}catch(r){hE=m5e()}x5e.exports=hE});var E5e=h((m2r,v5e)=>{"use strict";var g2r=tr(),WBt=Ny(),{code:YBt}=WBt("dnsaddr");async function XBt(r){let{Resolver:e}=w5e(),t=new e,i=r.getPeerId(),[,n]=r.stringTuples().find(([a])=>a===YBt)||[],o=(await t.resolveTxt(`_dnsaddr.${n}`)).flat().map(a=>a.split("=")[1]);return i&&(o=o.filter(a=>a.includes(i))),o}v5e.exports={dnsaddrResolver:XBt}});var dE=h((x2r,_5e)=>{"use strict";_5e.exports={DIAL_TIMEOUT:3e4,MAX_PARALLEL_DIALS:100,MAX_PER_PEER_DIALS:4,METRICS:{computeThrottleMaxQueueSize:1e3,computeThrottleTimeout:2e3,movingAverageIntervals:[60*1e3,5*60*1e3,15*60*1e3],maxOldPeersRetention:50}}});var AM=h((w2r,S5e)=>{S5e.exports={_args:[["libp2p@0.30.10","/Users/alex/Documents/Workspaces/ipfs/js-ipfs-master"]],_from:"libp2p@0.30.10",_id:"libp2p@0.30.10",_inBundle:!1,_integrity:"sha512-TdFLG4CF7/tLF1ypwNM8+q1YshW3+hYWDWYo6IA5Zyhg2MFDPdsUqaX4JLG0EiYHQvVcrUQF8B7rL49YbDHE7Q==",_location:"/libp2p",_phantomChildren:{"@multiformats/base-x":"4.0.1",varint:"6.0.0","web-encoding":"1.1.0"},_requested:{type:"version",registry:!0,raw:"libp2p@0.30.10",name:"libp2p",escapedName:"libp2p",rawSpec:"0.30.10",saveSpec:null,fetchSpec:"0.30.10"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/libp2p/-/libp2p-0.30.10.tgz",_spec:"0.30.10",_where:"/Users/alex/Documents/Workspaces/ipfs/js-ipfs-master",browser:{"@motrix/nat-api":!1},bugs:{url:"https://github.com/libp2p/js-libp2p/issues"},contributors:[{name:"David Dias",email:"daviddias.p@gmail.com"},{name:"Jacob Heun",email:"jacobheun@gmail.com"},{name:"Vasco Santos",email:"vasco.santos@moxy.studio"},{name:"Alan Shaw",email:"alan@tableflip.io"},{name:"Alex Potsides",email:"alex@achingbrain.net"},{name:"Cayman",email:"caymannava@gmail.com"},{name:"Pedro Teixeira",email:"i@pgte.me"},{name:"Friedel Ziegelmayer",email:"dignifiedquire@gmail.com"},{name:"Maciej Kr\xFCger",email:"mkg20001@gmail.com"},{name:"Hugo Dias",email:"mail@hugodias.me"},{name:"Volker Mische",email:"volker.mische@gmail.com"},{name:"dirkmc",email:"dirkmdev@gmail.com"},{name:"Richard Littauer",email:"richard.littauer@gmail.com"},{name:"a1300",email:"matthias-knopp@gmx.net"},{name:"Elven",email:"mon.samuel@qq.com"},{name:"Andrew Nesbitt",email:"andrewnez@gmail.com"},{name:"\u1D20\u026A\u1D04\u1D1B\u1D0F\u0280 \u0299\u1D0A\u1D07\u029F\u1D0B\u029C\u1D0F\u029F\u1D0D",email:"victorbjelkholm@gmail.com"},{name:"Giovanni T. Parra",email:"fiatjaf@gmail.com"},{name:"Ryan Bell",email:"ryan@piing.net"},{name:"Thomas Eizinger",email:"thomas@eizinger.io"},{name:"Samlior",email:"samlior@foxmail.com"},{name:"Didrik Nordstr\xF6m",email:"didrik@betamos.se"},{name:"Julien Bouquillon",email:"contact@revolunet.com"},{name:"Kevin Kwok",email:"antimatter15@gmail.com"},{name:"Kevin Lacker",email:"lacker@gmail.com"},{name:"Miguel Mota",email:"miguelmota2@gmail.com"},{name:"Nuno Nogueira",email:"nunofmn@gmail.com"},{name:"Philipp Muens",email:"raute1337@gmx.de"},{name:"RasmusErik Voel Jensen",email:"github@solsort.com"},{name:"Smite Chow",email:"xiaopengyou@live.com"},{name:"Soeren",email:"nikorpoulsen@gmail.com"},{name:"S\xF6nke Hahn",email:"soenkehahn@gmail.com"},{name:"TJKoury",email:"TJKoury@gmail.com"},{name:"Tiago Alves",email:"alvesjtiago@gmail.com"},{name:"Daijiro Wachi",email:"daijiro.wachi@gmail.com"},{name:"Cindy Wu",email:"ciindy.wu@gmail.com"},{name:"Chris Bratlien",email:"chrisbratlien@gmail.com"},{name:"Yusef Napora",email:"yusef@napora.org"},{name:"Zane Starr",email:"zcstarr@gmail.com"},{name:"Bernd Strehl",email:"bernd.strehl@gmail.com"},{name:"ebinks",email:"elizabethjbinks@gmail.com"},{name:"Ethan Lam",email:"elmemphis2000@gmail.com"},{name:"isan_rivkin",email:"isanrivkin@gmail.com"},{name:"robertkiel",email:"robert.kiel@validitylabs.org"},{name:"Aleksei",email:"vozhdb@gmail.com"},{name:"Fei Liu",email:"liu.feiwood@gmail.com"},{name:"Felipe Martins",email:"felipebrasil93@gmail.com"},{name:"Florian-Merle",email:"florian.david.merle@gmail.com"},{name:"Francis Gulotta",email:"wizard@roborooter.com"},{name:"Dmitriy Ryajov",email:"dryajov@gmail.com"},{name:"Henrique Dias",email:"hacdias@gmail.com"},{name:"Irakli Gozalishvili",email:"rfobic@gmail.com"},{name:"Diogo Silva",email:"fsdiogo@gmail.com"},{name:"Joel Gustafson",email:"joelg@mit.edu"}],dependencies:{"@motrix/nat-api":"^0.3.1","abort-controller":"^3.0.0","aggregate-error":"^3.1.0","any-signal":"^2.1.1","bignumber.js":"^9.0.1",cids:"^1.1.5","class-is":"^1.1.0",debug:"^4.3.1","err-code":"^2.0.0","es6-promisify":"^6.1.1",events:"^3.2.0",hashlru:"^2.3.0","interface-datastore":"^3.0.3","ipfs-utils":"^6.0.0","it-all":"^1.0.4","it-buffer":"^0.1.2","it-drain":"^1.0.3","it-filter":"^1.0.1","it-first":"^1.0.4","it-handshake":"^1.0.2","it-length-prefixed":"^3.1.0","it-map":"^1.0.4","it-merge":"1.0.0","it-pipe":"^1.1.0","it-protocol-buffers":"^0.2.0","it-take":"1.0.0","libp2p-crypto":"^0.19.0","libp2p-interfaces":"^0.8.1","libp2p-utils":"^0.2.2",mafmt:"^8.0.0","merge-options":"^3.0.4","moving-average":"^1.0.0",multiaddr:"^8.1.0",multicodec:"^2.1.0","multihashing-async":"^2.0.1","multistream-select":"^1.0.0","mutable-proxy":"^1.0.0","node-forge":"^0.10.0","p-any":"^3.0.0","p-fifo":"^1.0.0","p-retry":"^4.2.0","p-settle":"^4.0.1","peer-id":"^0.14.2","private-ip":"^2.0.0",protons:"^2.0.0",retimer:"^2.0.0","sanitize-filename":"^1.6.3","set-delayed-interval":"^1.0.0","streaming-iterables":"^5.0.2","timeout-abort-controller":"^1.1.1",varint:"^6.0.0",xsalsa20:"^1.0.2"},description:"JavaScript implementation of libp2p, a modular peer to peer network stack",devDependencies:{"@nodeutils/defaults-deep":"^1.1.0","abortable-iterator":"^3.0.0",aegir:"^29.2.0","chai-bytes":"^0.1.2","chai-string":"^1.5.0",delay:"^4.4.0","interop-libp2p":"^0.3.0","into-stream":"^6.0.0","ipfs-http-client":"^48.2.2","it-concat":"^1.0.0","it-pair":"^1.0.0","it-pushable":"^1.4.0",libp2p:".","libp2p-bootstrap":"^0.12.0","libp2p-delegated-content-routing":"^0.9.0","libp2p-delegated-peer-routing":"^0.8.0","libp2p-floodsub":"^0.24.0","libp2p-gossipsub":"^0.8.0","libp2p-kad-dht":"^0.20.5","libp2p-mdns":"^0.15.0","libp2p-mplex":"^0.10.1","libp2p-noise":"^2.0.0","libp2p-secio":"^0.13.1","libp2p-tcp":"^0.15.1","libp2p-webrtc-star":"^0.20.0","libp2p-websockets":"^0.15.0",multihashes:"^3.0.1",nock:"^13.0.3","p-defer":"^3.0.0","p-times":"^3.0.0","p-wait-for":"^3.2.0",rimraf:"^3.0.2",sinon:"^9.2.4",uint8arrays:"^2.0.5"},engines:{node:">=12.0.0",npm:">=6.0.0"},files:["dist","src"],homepage:"https://libp2p.io",keywords:["libp2p","network","p2p","peer","peer-to-peer","IPFS"],leadMaintainer:"Jacob Heun <jacobheun@gmail.com>",license:"MIT",main:"src/index.js",name:"libp2p",repository:{type:"git",url:"git+https://github.com/libp2p/js-libp2p.git"},scripts:{build:"aegir build",coverage:"nyc --reporter=text --reporter=lcov npm run test:node",lint:"aegir lint",release:"aegir release -t node -t browser","release-major":"aegir release --type major -t node -t browser","release-minor":"aegir release --type minor -t node -t browser",test:"npm run test:node && npm run test:browser","test:browser":"aegir test -t browser","test:examples":"cd examples && npm run test:all","test:node":'aegir test -t node -f "./test/**/*.{node,spec}.js"'},types:"dist/src/index.d.ts",typesVersions:{"*":{"src/*":["dist/src/*","dist/src/*/index"]}},version:"0.30.10"}});var IM=h((v2r,y3)=>{"use strict";var JBt=AM().version;y3.exports.PROTOCOL_VERSION="ipfs/0.1.0";y3.exports.AGENT_VERSION=`js-libp2p/${JBt}`;y3.exports.MULTICODEC_IDENTIFY="/ipfs/id/1.0.0";y3.exports.MULTICODEC_IDENTIFY_PUSH="/ipfs/id/push/1.0.0"});var pE=h((E2r,k5e)=>{"use strict";var A5e=60*1e3;k5e.exports={ADVERTISE_BOOT_DELAY:15*A5e,ADVERTISE_TTL:30*A5e,CIRCUIT_PROTO_CODE:290,HOP_METADATA_KEY:"hop_relay",HOP_METADATA_VALUE:"true",RELAY_RENDEZVOUS_NS:"/libp2p/relay"}});var I5e=h(g3=>{(function(){var r,e,t;t=function(i){var n,s,o,a;return n=(i&255<<24)>>>24,s=(i&255<<16)>>>16,o=(i&255<<8)>>>8,a=i&255,[n,s,o,a].join(".")},e=function(i){var n,s,o,a,c;if(n=(i+"").split("."),n.length===0||n.length>4)throw new Error("Invalid IP");for(o=a=0,c=n.length;a<c;o=++a){if(s=n[o],isNaN(parseInt(s,10)))throw new Error("Invalid byte: "+s);if(s<0||s>255)throw new Error("Invalid byte: "+s)}return((n[0]||0)<<24|(n[1]||0)<<16|(n[2]||0)<<8|(n[3]||0))>>>0},r=function(){function i(n,s){var o,a,c,u,f,l;if(typeof n!="string")throw new Error("Missing `net' parameter");if(s||(l=n.split("/",2),n=l[0],s=l[1]),!s)switch(n.split(".").length){case 1:s=8;break;case 2:s=16;break;case 3:s=24;break;case 4:s=32;break;default:throw new Error("Invalid net address: "+n)}if(typeof s=="string"&&s.indexOf(".")>-1){try{this.maskLong=e(s)}catch(d){throw o=d,new Error("Invalid mask: "+s)}for(u=f=32;f>=0;u=--f)if(this.maskLong===4294967295<<32-u>>>0){this.bitmask=u;break}}else if(s)this.bitmask=parseInt(s,10),this.maskLong=0,this.bitmask>0&&(this.maskLong=4294967295<<32-this.bitmask>>>0);else throw new Error("Invalid mask: empty");try{this.netLong=(e(n)&this.maskLong)>>>0}catch(d){throw o=d,new Error("Invalid net address: "+n)}if(!(this.bitmask<=32))throw new Error("Invalid mask for ip4: "+s);this.size=Math.pow(2,32-this.bitmask),this.base=t(this.netLong),this.mask=t(this.maskLong),this.hostmask=t(~this.maskLong),this.first=this.bitmask<=30?t(this.netLong+1):this.base,this.last=this.bitmask<=30?t(this.netLong+this.size-2):t(this.netLong+this.size-1),this.broadcast=this.bitmask<=30?t(this.netLong+this.size-1):void 0}return i.prototype.contains=function(n){return typeof n=="string"&&(n.indexOf("/")>0||n.split(".").length!==4)&&(n=new i(n)),n instanceof i?this.contains(n.base)&&this.contains(n.broadcast||n.last):(e(n)&this.maskLong)>>>0==(this.netLong&this.maskLong)>>>0},i.prototype.next=function(n){return n==null&&(n=1),new i(t(this.netLong+this.size*n),this.mask)},i.prototype.forEach=function(n){var s,o,a,c,u,f,l,d,p,b;for(f=function(){p=[];for(var g=l=e(this.first),m=e(this.last);l<=m?g<=m:g>=m;l<=m?g++:g--)p.push(g);return p}.apply(this),b=[],s=a=0,c=f.length;a<c;s=++a)u=f[s],b.push(n(t(u),u,s));return b},i.prototype.toString=function(){return this.base+"/"+this.bitmask},i}(),g3.ip2long=e,g3.long2ip=t,g3.Netmask=r}).call(g3)});var T5e=h(TM=>{"use strict";Object.defineProperty(TM,"__esModule",{value:!0});var ZBt=I5e().Netmask,QBt=I7();function eCt(r){var e=["0.0.0.0/8","10.0.0.0/8","100.64.0.0/10","127.0.0.0/8","169.254.0.0/16","172.16.0.0/12","192.0.0.0/24","192.0.0.0/29","192.0.0.8/32","192.0.0.9/32","192.0.0.10/32","192.0.0.170/32","192.0.0.171/32","192.0.2.0/24","192.31.196.0/24","192.52.193.0/24","192.88.99.0/24","192.168.0.0/16","192.175.48.0/24","198.18.0.0/15","198.51.100.0/24","203.0.113.0/24","240.0.0.0/4","255.255.255.255/32"].map(function(c){return new ZBt(c)}),t=!0,i=!1,n=void 0;try{for(var s=e[Symbol.iterator](),o;!(t=(o=s.next()).done);t=!0){var a=o.value;if(a.contains(r))return!0}}catch(c){i=!0,n=c}finally{try{!t&&s.return&&s.return()}finally{if(i)throw n}}return!1}function tCt(r){return/^::$/.test(r)||/^::1$/.test(r)||/^::f{4}:([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(r)||/^::f{4}:0.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(r)||/^64:ff9b::([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(r)||/^100::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(r)||/^2001::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(r)||/^2001:2[0-9a-fA-F]:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(r)||/^2001:db8:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(r)||/^2002:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(r)||/^f[c-d]([0-9a-fA-F]{2,2}):/i.test(r)||/^fe[8-9a-bA-B][0-9a-fA-F]:/i.test(r)||/^ff([0-9a-fA-F]{2,2}):/i.test(r)}TM.default=function(r){return QBt.v4(r)||r.startsWith("0")?eCt(r):tCt(r)}});var RM=h((k2r,R5e)=>{"use strict";R5e.exports=T5e().default});var B5e=h((A2r,q5e)=>{"use strict";var rCt=RM();function iCt(r){let{address:e}=r.nodeAddress();return rCt(e)}q5e.exports=iCt});var qM=h((I2r,C5e)=>{"use strict";var M5e=B5e();function nCt(r,e){let t=M5e(r.multiaddr),i=M5e(e.multiaddr);return t&&!i?1:!t&&i||r.isCertified&&!e.isCertified?-1:!r.isCertified&&e.isCertified?1:0}function sCt(r){return[...r].sort(nCt)}C5e.exports.publicAddressesFirst=sCt});var P5e=h((T2r,BM)=>{"use strict";var N5e=async r=>{try{let e=await r;return{isFulfilled:!0,isRejected:!1,value:e}}catch(e){return{isFulfilled:!1,isRejected:!0,reason:e}}};BM.exports=N5e;BM.exports.default=N5e});var O5e=h((R2r,CM)=>{"use strict";var D5e=(r,...e)=>new Promise(t=>{t(r(...e))});CM.exports=D5e;CM.exports.default=D5e});var F5e=h((q2r,MM)=>{"use strict";var oCt=O5e(),L5e=r=>{if(!((Number.isInteger(r)||r===Infinity)&&r>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));let e=[],t=0,i=()=>{t--,e.length>0&&e.shift()()},n=(a,c,...u)=>{t++;let f=oCt(a,...u);c(f),f.then(i,i)},s=(a,c,...u)=>{t<r?n(a,c,...u):e.push(n.bind(null,a,c,...u))},o=(a,...c)=>new Promise(u=>s(a,u,...c));return Object.defineProperties(o,{activeCount:{get:()=>t},pendingCount:{get:()=>e.length},clearQueue:{value:()=>{e.length=0}}}),o};MM.exports=L5e;MM.exports.default=L5e});var z5e=h((B2r,U5e)=>{"use strict";var NM=P5e(),aCt=F5e();U5e.exports=async(r,e={})=>{let{concurrency:t=Infinity}=e,i=aCt(t);return Promise.all(r.map(n=>n&&typeof n.then=="function"?NM(n):typeof n=="function"?NM(i(()=>n())):NM(Promise.resolve(n))))}});var V5e=h((C2r,K5e)=>{"use strict";function cCt(r,e){return r.length===e.length&&e.sort()&&r.sort().every((t,i)=>e[i].equals(t))}K5e.exports=cCt});var H5e=h((M2r,j5e)=>{"use strict";var uCt=ni();j5e.exports=uCt(`
message PeerRecord {
    // AddressInfo is a wrapper around a binary multiaddr. It is defined as a
    // separate message to allow us to add per-address metadata in the future.
    message AddressInfo {
        bytes multiaddr = 1;
    }

    // peer_id contains a libp2p peer id in its binary representation.
    bytes peer_id = 1;

    // seq contains a monotonically-increasing sequence counter to order PeerRecords in time.
    uint64 seq = 2;

    // addresses is a list of public listen addresses for the peer.
    repeated AddressInfo addresses = 3;
}
`)});var m3=h((N2r,G5e)=>{"use strict";var fCt=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});G5e.exports={baseTable:fCt}});var X5e=h((P2r,$5e)=>{"use strict";var{baseTable:W5e}=m3(),Y5e=new Map;for(let r in W5e){let e=W5e[r];Y5e.set(e,r)}$5e.exports=Object.freeze(Y5e)});var x3=h((D2r,J5e)=>{"use strict";var{names:lCt}=oM(),{TextDecoder:hCt}=ct(),dCt=new hCt("utf8");function pCt(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function bCt(r,e="utf8"){if(e==="utf8"||e==="utf-8")return dCt.decode(r);if(e==="ascii")return pCt(r);let t=lCt[e];if(!t)throw new Error("Unknown base");return t.encode(r)}J5e.exports=bCt});var PM=h((O2r,Z5e)=>{"use strict";var Q5e=ii(),yCt=x3(),gCt=Ah();Z5e.exports={numberToUint8Array:mCt,uint8ArrayToNumber:eEe,varintUint8ArrayEncode:xCt,varintEncode:wCt};function eEe(r){return parseInt(yCt(r,"base16"),16)}function mCt(r){let e=r.toString(16);return e.length%2==1&&(e="0"+e),gCt(e,"base16")}function xCt(r){return Uint8Array.from(Q5e.encode(eEe(r)))}function wCt(r){return Uint8Array.from(Q5e.encode(r))}});var nEe=h((L2r,tEe)=>{"use strict";var{baseTable:rEe}=m3(),vCt=PM().varintEncode,iEe={};for(let r in rEe){let e=rEe[r];iEe[r]=vCt(e)}tEe.exports=Object.freeze(iEe)});var aEe=h((F2r,sEe)=>{"use strict";var{baseTable:ECt}=m3(),oEe={};for(let[r,e]of Object.entries(ECt)){let t=r.toUpperCase().replace(/-/g,"_");oEe[t]=e}sEe.exports=Object.freeze(oEe)});var uEe=h((U2r,cEe)=>{"use strict";var{baseTable:_Ct}=m3(),DM={};for(let[r,e]of Object.entries(_Ct))DM[e]===void 0&&(DM[e]=r);cEe.exports=Object.freeze(DM)});var hEe=h((z2r,fEe)=>{"use strict";var ub=ii(),lEe=X5e(),bE=nEe(),SCt=PM(),kCt=nM();function ACt(r,e){let t;if(r instanceof Uint8Array)t=SCt.varintUint8ArrayEncode(r);else if(bE[r])t=bE[r];else throw new Error("multicodec not recognized");return kCt([t,e],t.length+e.length)}function ICt(r){return ub.decode(r),r.slice(ub.decode.bytes)}function TCt(r){let e=ub.decode(r),t=lEe.get(e);if(t===void 0)throw new Error(`Code ${e} not found`);return t}function RCt(r){return lEe.get(r)}function qCt(r){let e=bE[r];if(e===void 0)throw new Error("Codec `"+r+"` not found");return ub.decode(e)}function BCt(r){return ub.decode(r)}function CCt(r){let e=bE[r];if(e===void 0)throw new Error("Codec `"+r+"` not found");return e}function MCt(r){return ub.encode(r)}var NCt=aEe(),PCt=uEe();fEe.exports={addPrefix:ACt,rmPrefix:ICt,getCodec:TCt,getName:RCt,getNumber:qCt,getCode:BCt,getCodeVarint:CCt,getVarint:MCt,print:PCt,...NCt}});var bEe=h((K2r,dEe)=>{"use strict";var pEe=hEe(),DCt=pEe.getName(pEe.LIBP2P_PEER_RECORD)||"libp2p-peer-record",OCt=Uint8Array.from([3,1]);dEe.exports={ENVELOPE_DOMAIN_PEER_RECORD:DCt,ENVELOPE_PAYLOAD_TYPE_PEER_RECORD:OCt}});var yE=h((V2r,yEe)=>{"use strict";var LCt=tr(),FCt=yt(),UCt=V5e(),gEe=H5e(),{ENVELOPE_DOMAIN_PEER_RECORD:mEe,ENVELOPE_PAYLOAD_TYPE_PEER_RECORD:zCt}=bEe(),Th=class{constructor({peerId:e,multiaddrs:t=[],seqNumber:i=Date.now()}){this.domain=mEe,this.codec=zCt,this.peerId=e,this.multiaddrs=t,this.seqNumber=i,this._marshal=void 0}marshal(){return this._marshal?this._marshal:(this._marshal=gEe.PeerRecord.encode({peer_id:this.peerId.toBytes(),seq:this.seqNumber,addresses:this.multiaddrs.map(e=>({multiaddr:e.bytes}))}),this._marshal)}equals(e){return!(!(e instanceof Th)||!this.peerId.equals(e.peerId)||this.seqNumber!==e.seqNumber||!UCt(this.multiaddrs,e.multiaddrs))}};Th.createFromProtobuf=r=>{let e=gEe.PeerRecord.decode(r),t=FCt.createFromBytes(e.peer_id),i=(e.addresses||[]).map(s=>LCt(s.multiaddr)),n=e.seq;return new Th({peerId:t,multiaddrs:i,seqNumber:n})};Th.DOMAIN=mEe;yEe.exports=Th});var OM=h((j2r,xEe)=>{"use strict";var KCt=d3(),VCt=yE();async function jCt(r){let e=new VCt({peerId:r.peerId,multiaddrs:r.multiaddrs}),t=await KCt.seal(e,r.peerId);r.peerStore.addressBook.consumePeerRecord(t)}xEe.exports.updateSelfPeerRecord=jCt});var FM=h((H2r,wEe)=>{"use strict";var vEe=De(),Rh=Object.assign(vEe("libp2p:transports"),{error:vEe("libp2p:transports:err")}),HCt=z5e(),{codes:fb}=ki(),w3=qe(),{updateSelfPeerRecord:EEe}=OM(),LM=class{constructor({libp2p:e,upgrader:t,faultTolerance:i=gE.FATAL_ALL}){this.libp2p=e,this.upgrader=t,this._transports=new Map,this._listeners=new Map,this._listenerOptions=new Map,this.faultTolerance=i}add(e,t,i={}){if(Rh("adding %s",e),!e)throw w3(new Error(`Transport must have a valid key, was given '${e}'`),fb.ERR_INVALID_KEY);if(this._transports.has(e))throw w3(new Error("There is already a transport with this key"),fb.ERR_DUPLICATE_TRANSPORT);let n=new t({...i,libp2p:this.libp2p,upgrader:this.upgrader});this._transports.set(e,n),this._listenerOptions.set(e,i.listenerOptions||{}),this._listeners.has(e)||this._listeners.set(e,[])}async close(){let e=[];for(let[t,i]of this._listeners)for(Rh("closing listeners for %s",t);i.length;){let n=i.pop();n.removeAllListeners("listening"),n.removeAllListeners("close"),e.push(n.close())}await Promise.all(e),Rh("all listeners closed");for(let t of this._listeners.keys())this._listeners.set(t,[])}async dial(e,t){let i=this.transportForMultiaddr(e);if(!i)throw w3(new Error(`No transport available for address ${String(e)}`),fb.ERR_TRANSPORT_UNAVAILABLE);try{return await i.dial(e,t)}catch(n){throw n.code||(n.code=fb.ERR_TRANSPORT_DIAL_FAILED),n}}getAddrs(){let e=[];for(let t of this._listeners.values())for(let i of t)e=[...e,...i.getAddrs()];return e}getTransports(){return this._transports.values()}transportForMultiaddr(e){for(let t of this._transports.values())if(t.filter([e]).length)return t;return null}async listen(e){if(!e||e.length===0){Rh("no addresses were provided for listening, this node is dial only");return}let t=[];for(let[i,n]of this._transports.entries()){let s=n.filter(e),o=[];for(let u of s){Rh("creating listener for %s on %s",i,u);let f=n.createListener(this._listenerOptions.get(i));this._listeners.get(i).push(f),f.on("listening",()=>EEe(this.libp2p)),f.on("close",()=>EEe(this.libp2p)),o.push(f.listen(u))}if(o.length===0){t.push(i);continue}if(!(await HCt(o)).find(u=>u.isFulfilled===!0)&&this.faultTolerance!==gE.NO_FATAL)throw w3(new Error(`Transport (${i}) could not listen on any available address`),fb.ERR_NO_VALID_ADDRESSES)}if(t.length===this._transports.size){let i=`no valid addresses were provided for transports [${t}]`;if(this.faultTolerance===gE.FATAL_ALL)throw w3(new Error(i),fb.ERR_NO_VALID_ADDRESSES);Rh(`libp2p in dial mode only: ${i}`)}}async remove(e){if(Rh("removing %s",e),this._listeners.has(e))for(let t of this._listeners.get(e))t.removeAllListeners("listening"),t.removeAllListeners("close"),await t.close();this._transports.delete(e),this._listeners.delete(e)}async removeAll(){let e=[];for(let t of this._transports.keys())e.push(this.remove(t));await Promise.all(e)}},gE={FATAL_ALL:0,NO_FATAL:1};LM.FaultTolerance=gE;wEe.exports=LM});var kEe=h((G2r,_Ee)=>{"use strict";var GCt=hi(),{dnsaddrResolver:$Ct}=E5e(),UM=dE(),{AGENT_VERSION:WCt}=IM(),SEe=pE(),{publicAddressesFirst:YCt}=qM(),{FaultTolerance:XCt}=FM(),JCt={addresses:{listen:[],announce:[],noAnnounce:[]},connectionManager:{minConnections:25},transportManager:{faultTolerance:XCt.FATAL_ALL},dialer:{maxParallelDials:UM.MAX_PARALLEL_DIALS,maxDialsPerPeer:UM.MAX_PER_PEER_DIALS,dialTimeout:UM.DIAL_TIMEOUT,resolvers:{dnsaddr:$Ct},addressSorter:YCt},host:{agentVersion:WCt},metrics:{enabled:!1},peerStore:{persistence:!1,threshold:5},peerRouting:{refreshManager:{enabled:!0,interval:6e5,bootDelay:1e4}},config:{dht:{enabled:!1,kBucketSize:20,randomWalk:{enabled:!1,queriesPerPeriod:1,interval:3e5,timeout:1e4}},nat:{enabled:!0,ttl:7200,keepAlive:!0,gateway:null,externalIp:null,pmp:{enabled:!1}},peerDiscovery:{autoDial:!0},pubsub:{enabled:!0},relay:{enabled:!0,advertise:{bootDelay:SEe.ADVERTISE_BOOT_DELAY,enabled:!1,ttl:SEe.ADVERTISE_TTL},hop:{enabled:!1,active:!1},autoRelay:{enabled:!1,maxListeners:2}},transport:{}}};_Ee.exports.validate=r=>{if(r=GCt(JCt,r),r.modules.transport.length<1)throw new Error("'options.modules.transport' must contain at least 1 transport");return r}});var TEe=h(($2r,AEe)=>{"use strict";var ZCt=Pr(),v3=tr(),QCt=yt(),IEe=class extends ZCt{constructor(e,{listen:t=[],announce:i=[]}={}){super();this.peerId=e,this.listen=new Set(t.map(n=>n.toString())),this.announce=new Set(i.map(n=>n.toString())),this.observed=new Set}getListenAddrs(){return Array.from(this.listen).map(e=>v3(e))}getAnnounceAddrs(){return Array.from(this.announce).map(e=>v3(e))}getObservedAddrs(){return Array.from(this.observed).map(e=>v3(e))}addObservedAddr(e){let t=v3(e),i=t.getPeerId();i&&QCt.createFromB58String(i).equals(this.peerId)&&(t=t.decapsulate(v3(`/p2p/${this.peerId}`)));let n=t.toString();this.observed.has(n)||(this.observed.add(n),this.emit("change:addresses"))}};AEe.exports=IEe});var BEe=h((W2r,REe)=>{"use strict";var eMt=Pr(),zM=De()("latency-monitor:VisibilityChangeEmitter"),qEe=class extends eMt{constructor(){super();if(typeof document=="undefined"){zM('This is not a browser, no "document" found. Stopping.');return}this._initializeVisibilityVarNames(),this._addVisibilityChangeListener()}_initializeVisibilityVarNames(){let e,t;typeof document.hidden!="undefined"?(e="hidden",t="visibilitychange"):typeof document.mozHidden!="undefined"?(e="mozHidden",t="mozvisibilitychange"):typeof document.msHidden!="undefined"?(e="msHidden",t="msvisibilitychange"):typeof document.webkitHidden!="undefined"&&(e="webkitHidden",t="webkitvisibilitychange"),this._hidden=e,this._visibilityChange=t}_addVisibilityChangeListener(){typeof document.addEventListener=="undefined"||typeof document[this._hidden]=="undefined"?zM("Checking page visibility requires a browser that supports the Page Visibility API."):document.addEventListener(this._visibilityChange,this._handleVisibilityChange.bind(this),!1)}isVisible(){if(!(this._hidden===void 0||document[this._hidden]===void 0))return!document[this._hidden]}_handleVisibilityChange(){let e=!document[this._hidden];zM(e?"Page Visible":"Page Hidden"),this.emit("visibilityChange",e)}};REe.exports=qEe});var NEe=h((Y2r,CEe)=>{"use strict";var tMt=Pr(),rMt=BEe(),Xu=De()("latency-monitor:LatencyMonitor"),MEe=class extends tMt{constructor({latencyCheckIntervalMs:e,dataEmitIntervalMs:t,asyncTestFn:i,latencyRandomPercentage:n}={}){super();let s=this;s.latencyCheckIntervalMs=e||500,s.latencyRandomPercentage=n||10,s._latecyCheckMultiply=2*(s.latencyRandomPercentage/100)*s.latencyCheckIntervalMs,s._latecyCheckSubtract=s._latecyCheckMultiply/2,s.dataEmitIntervalMs=t===null||t===0?void 0:t||5*1e3,Xu("latencyCheckIntervalMs: %s dataEmitIntervalMs: %s",s.latencyCheckIntervalMs,s.dataEmitIntervalMs),s.dataEmitIntervalMs?Xu("Expecting ~%s events per summary",s.latencyCheckIntervalMs/s.dataEmitIntervalMs):Xu("Not emitting summaries"),s.asyncTestFn=i,globalThis.process&&globalThis.process.hrtime?(Xu("Using process.hrtime for timing"),s.now=globalThis.process.hrtime,s.getDeltaMS=o=>{let a=s.now(o);return a[0]*1e3+a[1]/1e6}):typeof window!="undefined"&&window.performance&&window.performance.now?(Xu("Using performance.now for timing"),s.now=window.performance.now.bind(window.performance),s.getDeltaMS=o=>Math.round(s.now()-o)):(Xu("Using Date.now for timing"),s.now=Date.now,s.getDeltaMS=o=>s.now()-o),s._latencyData=s._initLatencyData(),iMt()&&(s._visibilityChangeEmitter=new rMt,s._visibilityChangeEmitter.on("visibilityChange",o=>{o?s._startTimers():(s._emitSummary(),s._stopTimers())})),(!s._visibilityChangeEmitter||s._visibilityChangeEmitter.isVisible())&&s._startTimers()}_startTimers(){this._checkLatencyID||(this._checkLatency(),this.dataEmitIntervalMs&&(this._emitIntervalID=setInterval(()=>this._emitSummary(),this.dataEmitIntervalMs),typeof this._emitIntervalID.unref=="function"&&this._emitIntervalID.unref()))}_stopTimers(){this._checkLatencyID&&(clearTimeout(this._checkLatencyID),this._checkLatencyID=void 0),this._emitIntervalID&&(clearInterval(this._emitIntervalID),this._emitIntervalID=void 0)}_emitSummary(){let e=this.getSummary();e.events>0&&this.emit("data",e)}getSummary(){let e={events:this._latencyData.events,minMs:this._latencyData.minMs,maxMs:this._latencyData.maxMs,avgMs:this._latencyData.events?this._latencyData.totalMs/this._latencyData.events:Number.POSITIVE_INFINITY,lengthMs:this.getDeltaMS(this._latencyData.startTime)};return this._latencyData=this._initLatencyData(),Xu("Summary: %O",e),e}_checkLatency(){let e=this,t=Math.random()*e._latecyCheckMultiply-e._latecyCheckSubtract,i={deltaOffset:Math.ceil(e.latencyCheckIntervalMs+t),startTime:e.now()},n=()=>{if(!this._checkLatencyID)return;let s=e.getDeltaMS(i.startTime)-i.deltaOffset;e._checkLatency(),e._latencyData.events++,e._latencyData.minMs=Math.min(e._latencyData.minMs,s),e._latencyData.maxMs=Math.max(e._latencyData.maxMs,s),e._latencyData.totalMs+=s,Xu("MS: %s Data: %O",s,e._latencyData)};Xu("localData: %O",i),this._checkLatencyID=setTimeout(()=>{e.asyncTestFn?(i.deltaOffset=0,i.startTime=e.now(),e.asyncTestFn(n)):(i.deltaOffset-=1,n())},i.deltaOffset),typeof this._checkLatencyID.unref=="function"&&this._checkLatencyID.unref()}_initLatencyData(){return{startTime:this.now(),minMs:Number.POSITIVE_INFINITY,maxMs:Number.NEGATIVE_INFINITY,events:0,totalMs:0}}};function iMt(){return typeof window!="undefined"}CEe.exports=MEe});var UEe=h((X2r,PEe)=>{"use strict";var DEe=De(),qa=Object.assign(DEe("libp2p:connection-manager"),{error:DEe("libp2p:connection-manager:err")}),OEe=qe(),nMt=hi(),sMt=NEe(),mE=W4(),oMt=Pr(),aMt=yt(),{codes:{ERR_INVALID_PARAMETERS:LEe}}=ki(),cMt={maxConnections:Infinity,minConnections:0,maxData:Infinity,maxSentData:Infinity,maxReceivedData:Infinity,maxEventLoopDelay:Infinity,pollInterval:2e3,autoDialInterval:1e4,movingAverageInterval:6e4,defaultPeerValue:1},FEe=class extends oMt{constructor(e,t={}){super();if(this._libp2p=e,this._peerId=e.peerId.toB58String(),this._options=nMt.call({ignoreUndefined:!0},cMt,t),this._options.maxConnections<this._options.minConnections)throw OEe(new Error("Connection Manager maxConnections must be greater than minConnections"),LEe);qa("options: %j",this._options),this._peerValues=new Map,this.connections=new Map,this._started=!1,this._timer=null,this._autoDialTimeout=null,this._checkMetrics=this._checkMetrics.bind(this),this._autoDial=this._autoDial.bind(this)}get size(){return Array.from(this.connections.values()).reduce((e,t)=>e+t.length,0)}start(){this._libp2p.metrics&&(this._timer=this._timer||mE(this._checkMetrics,this._options.pollInterval)),this._latencyMonitor=new sMt({latencyCheckIntervalMs:this._options.pollInterval,dataEmitIntervalMs:this._options.pollInterval}),this._onLatencyMeasure=this._onLatencyMeasure.bind(this),this._latencyMonitor.on("data",this._onLatencyMeasure),this._started=!0,qa("started"),this._options.autoDial&&this._autoDial()}async stop(){this._autoDialTimeout&&this._autoDialTimeout.clear(),this._timer&&this._timer.clear(),this._latencyMonitor&&this._latencyMonitor.removeListener("data",this._onLatencyMeasure),this._started=!1,await this._close(),qa("stopped")}async _close(){let e=[];for(let t of this.connections.values())for(let i of t)e.push(i.close());await Promise.all(e),this.connections.clear()}setPeerValue(e,t){if(t<0||t>1)throw new Error("value should be a number between 0 and 1");this._peerValues.set(e.toB58String(),t)}_checkMetrics(){if(this._libp2p.metrics){let e=this._libp2p.metrics.global.movingAverages,t=e.dataReceived[this._options.movingAverageInterval].movingAverage();this._checkMaxLimit("maxReceivedData",t);let i=e.dataSent[this._options.movingAverageInterval].movingAverage();this._checkMaxLimit("maxSentData",i);let n=t+i;this._checkMaxLimit("maxData",n),qa("metrics update",n),this._timer=mE(this._checkMetrics,this._options.pollInterval)}}onConnect(e){let t=e.remotePeer,i=t.toB58String(),n=this.connections.get(i);this.emit("peer:connect",e),n?n.push(e):this.connections.set(i,[e]),this._libp2p.peerStore.keyBook.set(t,t.pubKey),this._peerValues.has(i)||this._peerValues.set(i,this._options.defaultPeerValue),this._checkMaxLimit("maxConnections",this.size)}onDisconnect(e){let t=e.remotePeer.toB58String(),i=this.connections.get(t);i&&i.length>1?(i=i.filter(n=>n.id!==e.id),this.connections.set(t,i)):i&&(this.connections.delete(t),this._peerValues.delete(e.remotePeer.toB58String()),this.emit("peer:disconnect",e))}get(e){let t=this.getAll(e);return t.length?t[0]:null}getAll(e){if(!aMt.isPeerId(e))throw OEe(new Error("peerId must be an instance of peer-id"),LEe);let t=e.toB58String(),i=this.connections.get(t);return i?i.filter(n=>n.stat.status==="open"):[]}_onLatencyMeasure(e){this._checkMaxLimit("maxEventLoopDelay",e.avgMs)}_checkMaxLimit(e,t){let i=this._options[e];qa("checking limit of %s. current value: %d of %d",e,t,i),t>i&&(qa("%s: limit exceeded: %s, %d",this._peerId,e,t),this._maybeDisconnectOne())}async _autoDial(){let e=this._options.minConnections;if(this.size>=e){this._autoDialTimeout=mE(this._autoDial,this._options.autoDialInterval);return}let t=Array.from(this._libp2p.peerStore.peers.values()).sort((i,n)=>n.protocols&&n.protocols.length&&(!i.protocols||!i.protocols.length)||n.id.pubKey&&!i.id.pubKey?1:-1);for(let i=0;i<t.length&&this.size<e;i++)if(!this.get(t[i].id)){qa("connecting to a peerStore stored peer %s",t[i].id.toB58String());try{if(await this._libp2p.dialer.connectToPeer(t[i].id),!this._started)return}catch(n){qa.error("could not connect to peerStore stored peer",n)}}this._autoDialTimeout=mE(this._autoDial,this._options.autoDialInterval)}_maybeDisconnectOne(){if(this._options.minConnections<this.connections.size){let e=Array.from(this._peerValues).sort(uMt);qa("%s: sorted peer values: %j",this._peerId,e);let t=e[0];if(t){let i=t[0];qa("%s: lowest value peer is %s",this._peerId,i),qa("%s: closing a connection to %j",this._peerId,i);for(let n of this.connections.values())if(n[0].remotePeer.toB58String()===i){n[0].close();break}}}}};PEe.exports=FEe;function uMt(r,e){return r[1]-e[1]}});var lb=h((J2r,zEe)=>{"use strict";var fMt=ni();zEe.exports=fMt(`
message CircuitRelay {

  enum Status {
    SUCCESS                    = 100;
    HOP_SRC_ADDR_TOO_LONG      = 220;
    HOP_DST_ADDR_TOO_LONG      = 221;
    HOP_SRC_MULTIADDR_INVALID  = 250;
    HOP_DST_MULTIADDR_INVALID  = 251;
    HOP_NO_CONN_TO_DST         = 260;
    HOP_CANT_DIAL_DST          = 261;
    HOP_CANT_OPEN_DST_STREAM   = 262;
    HOP_CANT_SPEAK_RELAY       = 270;
    HOP_CANT_RELAY_TO_SELF     = 280;
    STOP_SRC_ADDR_TOO_LONG     = 320;
    STOP_DST_ADDR_TOO_LONG     = 321;
    STOP_SRC_MULTIADDR_INVALID = 350;
    STOP_DST_MULTIADDR_INVALID = 351;
    STOP_RELAY_REFUSED         = 390;
    MALFORMED_MESSAGE          = 400;
  }

  enum Type { // RPC identifier, either HOP, STOP or STATUS
    HOP = 1;
    STOP = 2;
    STATUS = 3;
    CAN_HOP = 4;
  }

  message Peer {
    required bytes id = 1;    // peer id
    repeated bytes addrs = 2; // peer's known addresses
  }

  optional Type type = 1;     // Type of the message

  optional Peer srcPeer = 2;  // srcPeer and dstPeer are used when Type is HOP or STATUS
  optional Peer dstPeer = 3;

  optional Status code = 4;   // Status code, used when Type is STATUS
}
`)});var jEe=h((Z2r,KEe)=>{"use strict";var VEe=zu(),lMt=De()("libp2p:stream:converter");function hMt({stream:r,remoteAddr:e,localAddr:t},i={}){let{sink:n,source:s}=r,o={async sink(c){i.signal&&(c=VEe(c,i.signal));try{await n(c)}catch(u){u.type!=="aborted"&&lMt(u)}a()},source:i.signal?VEe(s,i.signal):s,conn:r,localAddr:t,remoteAddr:e,timeline:{open:Date.now()},close(){n([]),a()}};function a(){o.timeline.close||(o.timeline.close=Date.now())}return o}KEe.exports=hMt});var E3=h((Q2r,HEe)=>{"use strict";HEe.exports={relay:"/libp2p/circuit/relay/0.1.0"}});var $Ee=h((eyr,GEe)=>{"use strict";var{EventEmitter:dMt}=Pr(),pMt=tr();GEe.exports=r=>{let e=new Map;async function t(s){let o=String(s).split("/p2p-circuit").find(u=>u!==""),a=await r.dial(pMt(o)),c=a.remoteAddr.encapsulate("/p2p-circuit");e.set(a.remotePeer.toB58String(),c),n.emit("listening")}function i(){let s=[];for(let o of e.values())s.push(o);return s}let n=Object.assign(new dMt,{close:()=>Promise.resolve(),listen:t,getAddrs:i});return r.connectionManager.on("peer:disconnect",s=>{e.delete(s.remotePeer.toB58String())&&n.emit("close")}),n}});var KM=h((tyr,WEe)=>{"use strict";var YEe=tr(),{CircuitRelay:qh}=lb();function XEe(r,e){r.write({type:qh.Type.STATUS,code:e})}function bMt(r,e){try{r.dstPeer.addrs.forEach(t=>YEe(t))}catch(t){throw XEe(e,r.type===qh.Type.HOP?qh.Status.HOP_DST_MULTIADDR_INVALID:qh.Status.STOP_DST_MULTIADDR_INVALID),t}try{r.srcPeer.addrs.forEach(t=>YEe(t))}catch(t){throw XEe(e,r.type===qh.Type.HOP?qh.Status.HOP_SRC_MULTIADDR_INVALID:qh.Status.STOP_SRC_MULTIADDR_INVALID),t}}WEe.exports={validateAddrs:bMt}});var jM=h((ryr,JEe)=>{var VM=Lo();JEe.exports=r=>{let e=async function*(){let t=yield,i=new VM;for await(let n of r){if(!t){t=yield i.append(n),i=new VM;continue}for(i.append(n);i.length>=t;){let s=i.shallowSlice(0,t);if(i.consume(t),t=yield s,!t){i.length&&(t=yield i,i=new VM);break}}}if(t)throw Object.assign(new Error(`stream ended before ${t} bytes became available`),{code:"ERR_UNDER_READ",buffer:i})}();return e.next(),e}});var _3=h((iyr,ZEe)=>{"use strict";var yMt=()=>{let r={};return r.promise=new Promise((e,t)=>{r.resolve=e,r.reject=t}),r};ZEe.exports=yMt});var hb=h((nyr,QEe)=>{"use strict";var gMt=jM(),mMt=ch(),xMt=_3();QEe.exports=r=>{let e=mMt(),t=gMt(r.source),i=xMt(),n,s=r.sink(async function*(){yield*e,yield*await i.promise}());return s.catch(a=>{n=a}),{reader:t,writer:e,stream:{sink:a=>n?Promise.reject(n):(i.resolve(a),s),source:t},rest:()=>e.end(),write:e.push,read:async()=>(await t.next()).value}}});var wE=h((syr,e_e)=>{"use strict";var t_e=De(),xE=Object.assign(t_e("libp2p:circuit:stream-handler"),{error:t_e("libp2p:circuit:stream-handler:err")}),r_e=Ko(),wMt=hb(),{CircuitRelay:i_e}=lb(),n_e=class{constructor({stream:e,maxLength:t=4096}){this.stream=e,this.shake=wMt(this.stream),this.decoder=r_e.decode.fromReader(this.shake.reader,{maxDataLength:t})}async read(){let e=await this.decoder.next();if(e.value){let t=i_e.decode(e.value.slice());return xE("read message type",t.type),t}xE("read received no value, closing stream"),this.close()}write(e){xE("write message type %s",e.type),this.shake.write(r_e.encode.single(i_e.encode(e)))}rest(){return this.shake.rest(),this.shake.stream}end(e){this.write(e),this.close()}close(){xE("closing the stream"),this.rest().sink([])}};e_e.exports=n_e});var $M=h((oyr,HM)=>{"use strict";var s_e=De(),S3=Object.assign(s_e("libp2p:circuit:stop"),{error:s_e("libp2p:circuit:stop:err")}),{CircuitRelay:GM}=lb(),vMt=E3(),EMt=wE(),{validateAddrs:_Mt}=KM();HM.exports.handleStop=function({connection:e,request:t,streamHandler:i}){try{_Mt(t,i)}catch(n){return S3.error("invalid stop request via peer %s",e.remotePeer.toB58String(),n)}return S3("stop request is valid"),i.write({type:GM.Type.STATUS,code:GM.Status.SUCCESS}),i.rest()};HM.exports.stop=async function({connection:e,request:t}){let{stream:i}=await e.newStream([vMt.relay]);S3("starting stop request to %s",e.remotePeer.toB58String());let n=new EMt({stream:i});n.write(t);let s=await n.read();if(s.code===GM.Status.SUCCESS)return S3("stop request to %s was successful",e.remotePeer.toB58String()),n.rest();S3("stop request failed with code %d",s.code),n.close()}});var WM=h((ayr,o_e)=>{"use strict";var a_e=De(),B0=Object.assign(a_e("libp2p:circuit:hop"),{error:a_e("libp2p:circuit:hop:err")}),SMt=qe(),kMt=yt(),{validateAddrs:AMt}=KM(),c_e=wE(),{CircuitRelay:to}=lb(),{pipe:IMt}=yi(),{codes:TMt}=ki(),{stop:RMt}=$M(),u_e=E3();async function qMt({connection:r,request:e,streamHandler:t,circuit:i}){if(!i._options.hop.enabled)return B0("HOP request received but we are not acting as a relay"),t.end({type:to.Type.STATUS,code:to.Status.HOP_CANT_SPEAK_RELAY});try{AMt(e,t)}catch(u){return B0.error("invalid hop request via peer %s",r.remotePeer.toB58String(),u)}let n=new kMt(e.dstPeer.id),s=i._connectionManager.get(n);if(!s&&!i._options.hop.active)return B0("HOP request received but we are not connected to the destination peer"),t.end({type:to.Type.STATUS,code:to.Status.HOP_NO_CONN_TO_DST});if(!s)return;let o={type:to.Type.STOP,dstPeer:e.dstPeer,srcPeer:e.srcPeer},a;try{a=await RMt({connection:s,request:o})}catch(u){return B0.error(u)}B0("hop request from %s is valid",r.remotePeer.toB58String()),t.write({type:to.Type.STATUS,code:to.Status.SUCCESS});let c=t.rest();return IMt(c,a,c)}async function BMt({connection:r,request:e}){let{stream:t}=await r.newStream([u_e.relay]),i=new c_e({stream:t});i.write(e);let n=await i.read();if(n.code===to.Status.SUCCESS)return B0("hop request was successful"),i.rest();throw B0("hop request failed with code %d, closing stream",n.code),i.close(),SMt(new Error(`HOP request failed with code ${n.code}`),TMt.ERR_HOP_REQUEST_FAILED)}async function CMt({connection:r}){let{stream:e}=await r.newStream([u_e.relay]),t=new c_e({stream:e});t.write({type:to.Type.CAN_HOP});let i=await t.read();return await t.close(),i.code===to.Status.SUCCESS}function MMt({connection:r,streamHandler:e,circuit:t}){let i=t._options.hop.enabled;B0("can hop (%s) request from %s",i,r.remotePeer.toB58String()),e.end({type:to.Type.STATUS,code:i?to.Status.SUCCESS:to.Status.HOP_CANT_SPEAK_RELAY})}o_e.exports={handleHop:qMt,hop:BMt,canHop:CMt,handleCanHop:MMt}});var b_e=h((cyr,f_e)=>{"use strict";var l_e=De(),C0=Object.assign(l_e("libp2p:circuit"),{error:l_e("libp2p:circuit:err")}),NMt=Sl(),k3=tr(),h_e=yt(),{CircuitRelay:A3}=lb(),d_e=jEe(),{relay:PMt}=E3(),DMt=$Ee(),{handleCanHop:OMt,handleHop:LMt,hop:FMt}=WM(),{handleStop:UMt}=$M(),zMt=wE(),KMt=Symbol.for("@libp2p/js-libp2p-circuit/circuit"),p_e=class{constructor({libp2p:e,upgrader:t}){this._dialer=e.dialer,this._registrar=e.registrar,this._connectionManager=e.connectionManager,this._upgrader=t,this._options=e._config.relay,this._libp2p=e,this.peerId=e.peerId,this._registrar.handle(PMt,this._onProtocol.bind(this))}async _onProtocol({connection:e,stream:t}){let i=new zMt({stream:t}),n=await i.read();if(!n)return;let s=this,o;switch(n.type){case A3.Type.CAN_HOP:{C0("received CAN_HOP request from %s",e.remotePeer.toB58String()),await OMt({circuit:s,connection:e,streamHandler:i});break}case A3.Type.HOP:{C0("received HOP request from %s",e.remotePeer.toB58String()),o=await LMt({connection:e,request:n,streamHandler:i,circuit:s});break}case A3.Type.STOP:{C0("received STOP request from %s",e.remotePeer.toB58String()),o=await UMt({connection:e,request:n,streamHandler:i});break}default:C0("Request of type %s not supported",n.type)}if(o){let a=k3(n.dstPeer.addrs[0]),c=k3(n.srcPeer.addrs[0]),u=d_e({stream:o,remoteAddr:a,localAddr:c}),f=n.type===A3.Type.HOP?"relay":"inbound";C0("new %s connection %s",f,u.remoteAddr);let l=await this._upgrader.upgradeInbound(u);C0("%s connection %s upgraded",f,u.remoteAddr),this.handler&&this.handler(l)}}async dial(e,t){let i=e.toString().split("/p2p-circuit"),n=k3(i[0]),s=k3(i[i.length-1]),o=h_e.createFromCID(n.getPeerId()),a=h_e.createFromCID(s.getPeerId()),c=!1,u=this._connectionManager.get(o);u||(u=await this._dialer.connectToPeer(n,t),c=!0);try{let f=await FMt({connection:u,request:{type:A3.Type.HOP,srcPeer:{id:this.peerId.toBytes(),addrs:this._libp2p.multiaddrs.map(p=>p.bytes)},dstPeer:{id:a.toBytes(),addrs:[k3(s).bytes]}}}),l=n.encapsulate(`/p2p-circuit/p2p/${this.peerId.toB58String()}`),d=d_e({stream:f,remoteAddr:e,localAddr:l});return C0("new outbound connection %s",d.remoteAddr),this._upgrader.upgradeOutbound(d)}catch(f){throw C0.error("Circuit relay dial failed",f),c&&await u.close(),f}}createListener(e,t){return typeof e=="function"&&(t=e,e={}),this.handler=t,DMt(this._libp2p)}filter(e){return e=Array.isArray(e)?e:[e],e.filter(t=>NMt.Circuit.matches(t))}get[Symbol.toStringTag](){return"Circuit"}static isTransport(e){return Boolean(e&&e[KMt])}};f_e.exports=p_e});var YM=h((uyr,y_e)=>{"use strict";var VMt=ot(),jMt=Er(),HMt=J7();y_e.exports.namespaceToCid=async r=>{let e=new HMt().encode(r),t=await jMt(e,"sha2-256");return new VMt(t)}});var E_e=h((fyr,g_e)=>{"use strict";var m_e=De(),vE=Object.assign(m_e("libp2p:auto-relay"),{error:m_e("libp2p:auto-relay:err")}),GMt=Ah(),$Mt=x3(),WMt=tr(),YMt=yt(),{relay:XMt}=E3(),{canHop:JMt}=WM(),{namespaceToCid:ZMt}=YM(),{CIRCUIT_PROTO_CODE:QMt,HOP_METADATA_KEY:x_e,HOP_METADATA_VALUE:w_e,RELAY_RENDEZVOUS_NS:eNt}=pE(),v_e=class{constructor({libp2p:e,maxListeners:t=1}){this._libp2p=e,this._peerId=e.peerId,this._peerStore=e.peerStore,this._connectionManager=e.connectionManager,this._transportManager=e.transportManager,this._addressSorter=e.dialer.addressSorter,this.maxListeners=t,this._listenRelays=new Set,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerDisconnected=this._onPeerDisconnected.bind(this),this._peerStore.on("change:protocols",this._onProtocolChange),this._connectionManager.on("peer:disconnect",this._onPeerDisconnected)}async _onProtocolChange({peerId:e,protocols:t}){let i=e.toB58String(),n=t.find(s=>s===XMt);if(!n&&this._listenRelays.has(i)){this._removeListenRelay(i);return}else if(!n||this._listenRelays.has(i))return;try{let s=this._connectionManager.get(e);if(!s)return;if(s.remoteAddr.protoCodes().includes(QMt)){vE(`relayed connection to ${i} will not be used to hop on`);return}await JMt({connection:s})&&(this._peerStore.metadataBook.set(e,x_e,GMt(w_e)),await this._addListenRelay(s,i))}catch(s){vE.error(s)}}_onPeerDisconnected(e){let i=e.remotePeer.toB58String();!this._listenRelays.has(i)||this._removeListenRelay(i)}async _addListenRelay(e,t){if(this._listenRelays.size>=this.maxListeners)return;let i=this._peerStore.addressBook.getMultiaddrsForPeer(e.remotePeer,this._addressSorter);if(!i||!i.length)return;let n=`${i[0].toString()}/p2p-circuit`;this._listenRelays.add(t);try{await this._transportManager.listen([WMt(n)])}catch(s){vE.error(s),this._listenRelays.delete(t)}}_removeListenRelay(e){this._listenRelays.delete(e)&&this._listenOnAvailableHopRelays([e])}async _listenOnAvailableHopRelays(e=[]){if(this._listenRelays.size>=this.maxListeners)return;let t=[];for(let[i,n]of this._peerStore.metadataBook.data.entries()){if(this._listenRelays.has(i)||e.includes(i))continue;let s=n.get(x_e);if(!s||$Mt(s)!==w_e)continue;let o=YMt.createFromCID(i),a=this._connectionManager.get(o);if(!a){t.push(o);continue}if(await this._addListenRelay(a,i),this._listenRelays.size>=this.maxListeners)return}for(let i of t){let n=await this._libp2p.dial(i);if(await this._addListenRelay(n,i.toB58String()),this._listenRelays.size>=this.maxListeners)return}try{let i=await ZMt(eNt);for await(let n of this._libp2p.contentRouting.findProviders(i)){if(!n.multiaddrs.length)continue;let s=n.id;this._peerStore.addressBook.add(s,n.multiaddrs);let o=await this._libp2p.dial(s);if(await this._addListenRelay(o,s.toB58String()),this._listenRelays.size>=this.maxListeners)return}}catch(i){vE.error(i)}}};g_e.exports=v_e});var I_e=h((lyr,__e)=>{"use strict";var S_e=De(),k_e=Object.assign(S_e("libp2p:relay"),{error:S_e("libp2p:relay:err")}),{setDelayedInterval:tNt,clearDelayedInterval:rNt}=mM(),iNt=E_e(),{namespaceToCid:nNt}=YM(),{ADVERTISE_BOOT_DELAY:sNt,ADVERTISE_TTL:oNt,RELAY_RENDEZVOUS_NS:aNt}=pE(),A_e=class{constructor(e){this._libp2p=e,this._options={advertise:{bootDelay:sNt,enabled:!0,ttl:oNt,...e._config.relay.advertise},...e._config.relay},this._autoRelay=this._options.autoRelay.enabled&&new iNt({libp2p:e,...this._options.autoRelay}),this._advertiseService=this._advertiseService.bind(this)}start(){this._options.hop.enabled&&this._options.advertise.enabled&&(this._timeout=tNt(this._advertiseService,this._options.advertise.ttl,this._options.advertise.bootDelay))}stop(){rNt(this._timeout)}async _advertiseService(){try{let e=await nNt(aNt);await this._libp2p.contentRouting.provide(e)}catch(e){e.code==="NO_ROUTERS_AVAILABLE"?(k_e.error("a content router, such as a DHT, must be provided in order to advertise the relay service",e),this.stop()):k_e.error(e)}}};__e.exports=A_e});var B_e=h((dyr,T_e)=>{var R_e=Gq(),q_e=_3();T_e.exports=class{constructor(){this._buffer=new R_e,this._waitingConsumers=new R_e}push(e){let{promise:t,resolve:i}=q_e();return this._buffer.push({chunk:e,resolve:i}),this._consume(),t}_consume(){for(;!this._waitingConsumers.isEmpty()&&!this._buffer.isEmpty();){let e=this._waitingConsumers.shift(),t=this._buffer.shift();e.resolve(t.chunk),t.resolve()}}shift(){let{promise:e,resolve:t}=q_e();return this._waitingConsumers.push({resolve:t}),this._consume(),e}isEmpty(){return this._buffer.isEmpty()}}});var M_e=h((pyr,C_e)=>{"use strict";C_e.exports=(r,e=1,t)=>{if(t={indent:" ",includeEmptyLines:!1,...t},typeof r!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof r}\``);if(typeof e!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof e}\``);if(typeof t.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof t.indent}\``);if(e===0)return r;let i=t.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return r.replace(i,t.indent.repeat(e))}});var N_e=h(()=>{});var L_e=h((gyr,P_e)=>{"use strict";var D_e=N_e(),O_e=/\s+at.*(?:\(|\s)(.*)\)?/,cNt=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,uNt=typeof D_e.homedir=="undefined"?"":D_e.homedir();P_e.exports=(r,e)=>(e=Object.assign({pretty:!1},e),r.replace(/\\/g,"/").split(`
`).filter(t=>{let i=t.match(O_e);if(i===null||!i[1])return!0;let n=i[1];return n.includes(".app/Contents/Resources/electron.asar")||n.includes(".app/Contents/Resources/default_app.asar")?!1:!cNt.test(n)}).filter(t=>t.trim()!=="").map(t=>e.pretty?t.replace(O_e,(i,n)=>i.replace(n,n.replace(uNt,"~"))):t).join(`
`))});var XM=h((myr,F_e)=>{"use strict";var fNt=M_e(),lNt=L_e(),hNt=r=>r.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""),U_e=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);e=[...e].map(i=>i instanceof Error?i:i!==null&&typeof i=="object"?Object.assign(new Error(i.message),i):new Error(i));let t=e.map(i=>typeof i.stack=="string"?hNt(lNt(i.stack)):String(i)).join(`
`);t=`
`+fNt(t,4),super(t),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(let e of this._errors)yield e}};F_e.exports=U_e});var z_e=h((xyr,JM)=>{"use strict";var ZM=class extends Error{constructor(e){super(e||"Promise was canceled");this.name="CancelError"}get isCanceled(){return!0}},I3=class{static fn(e){return(...t)=>new I3((i,n,s)=>{t.push(s),e(...t).then(i,n)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((t,i)=>{this._reject=i;let n=a=>{(!this._isCanceled||!o.shouldReject)&&(this._isPending=!1,t(a))},s=a=>{this._isPending=!1,i(a)},o=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};return Object.defineProperties(o,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),e(n,s,o)})}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let t of this._cancelHandlers)t()}catch(t){this._reject(t);return}this._rejectOnCancel&&this._reject(new ZM(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(I3.prototype,Promise.prototype);JM.exports=I3;JM.exports.CancelError=ZM});var V_e=h((wyr,EE)=>{"use strict";var K_e=XM(),dNt=z_e(),QM=class extends Error{},pNt=(r,e)=>new dNt((t,i,n)=>{let{count:s,filter:o=()=>!0}=e;if(!Number.isFinite(s)){i(new TypeError(`Expected a finite number, got ${typeof e.count}`));return}let a=[],c=[],u=0,f=!1,l=new Set,d=()=>(a.length===s&&(t(a),f=!0),u-c.length<s&&(i(new K_e(c)),f=!0),f),p=()=>{for(let b of r)!l.has(b)&&typeof b.cancel=="function"&&b.cancel()};n(p);for(let b of r)u++,(async()=>{try{let g=await b;if(f)return;if(!o(g))throw new QM("Value does not satisfy filter");a.push(g)}catch(g){c.push(g)}finally{l.add(b),!f&&d()&&p()}})();s>u&&(i(new RangeError(`Expected input to contain at least ${e.count} items, but contains ${u} items`)),p())});EE.exports=pNt;EE.exports.AggregateError=K_e;EE.exports.FilterError=QM});var j_e=h((vyr,eN)=>{"use strict";var tN=class extends Error{constructor(e){super(e||"Promise was canceled");this.name="CancelError"}get isCanceled(){return!0}},T3=class{static fn(e){return(...t)=>new T3((i,n,s)=>{t.push(s),e(...t).then(i,n)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((t,i)=>{this._reject=i;let n=a=>{(!this._isCanceled||!o.shouldReject)&&(this._isPending=!1,t(a))},s=a=>{this._isPending=!1,i(a)},o=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};return Object.defineProperties(o,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),e(n,s,o)})}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let t of this._cancelHandlers)t()}catch(t){this._reject(t);return}this._rejectOnCancel&&this._reject(new tN(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(T3.prototype,Promise.prototype);eN.exports=T3;eN.exports.CancelError=tN});var G_e=h((Eyr,rN)=>{"use strict";var H_e=V_e(),bNt=j_e();rN.exports=(r,e)=>{let t=H_e(r,{...e,count:1});return bNt.fn(async i=>{i(()=>{t.cancel()});let[n]=await t;return n})()};rN.exports.AggregateError=H_e.AggregateError});var Y_e=h((_yr,$_e)=>{"use strict";var yNt=qe(),gNt=Sf().default,{anySignal:mNt}=Sd(),xNt=B_e(),wNt=G_e(),W_e=class{constructor({addrs:e,dialAction:t,dialer:i}){this.addrs=e,this.dialer=i,this.dialAction=t}async run(e={}){let t=this.dialer.getTokens(this.addrs.length);if(t.length<1)throw yNt(new Error("No dial tokens available"),"ERR_NO_DIAL_TOKENS");let i=new xNt;t.forEach(o=>i.push(o));let n=this.addrs.map(()=>new gNt),s=0;try{return await wNt(this.addrs.map(async(o,a)=>{let c=await i.shift(),u;try{let f=n[a].signal;u=await this.dialAction(o,{...e,signal:e.signal?mNt([f,e.signal]):f}),n.splice(a,1)}finally{s++,this.addrs.length-s>=t.length?i.push(c):this.dialer.releaseToken(t.splice(t.indexOf(c),1)[0])}return u}))}finally{n.map(o=>o.abort()),t.forEach(o=>this.dialer.releaseToken(o))}}};$_e.exports=W_e});var eSe=h((Syr,X_e)=>{"use strict";var J_e=De(),db=Object.assign(J_e("libp2p:dialer"),{error:J_e("libp2p:dialer:err")}),Z_e=qe(),iN=tr(),vNt=oI(),{anySignal:ENt}=Sd(),_Nt=Y_e(),{publicAddressesFirst:SNt}=qM(),kNt=EM(),{codes:nN}=ki(),{DIAL_TIMEOUT:ANt,MAX_PARALLEL_DIALS:INt,MAX_PER_PEER_DIALS:TNt}=dE(),Q_e=class{constructor({transportManager:e,peerStore:t,addressSorter:i=SNt,concurrency:n=INt,timeout:s=ANt,perPeerLimit:o=TNt,resolvers:a={}}){this.transportManager=e,this.peerStore=t,this.addressSorter=i,this.concurrency=n,this.timeout=s,this.perPeerLimit=o,this.tokens=[...new Array(n)].map((c,u)=>u),this._pendingDials=new Map;for(let[c,u]of Object.entries(a))iN.resolvers.set(c,u)}destroy(){for(let e of this._pendingDials.values())try{e.controller.abort()}catch(t){db.error(t)}this._pendingDials.clear()}async connectToPeer(e,t={}){let i=await this._createDialTarget(e);if(!i.addrs.length)throw Z_e(new Error("The dial request has no addresses"),nN.ERR_NO_VALID_ADDRESSES);let n=this._pendingDials.get(i.id)||this._createPendingDial(i,t);try{let s=await n.promise;return db("dial succeeded to %s",i.id),s}catch(s){throw n.controller.signal.aborted&&(s.code=nN.ERR_TIMEOUT),db.error(s),s}finally{n.destroy()}}async _createDialTarget(e){let{id:t,multiaddrs:i}=kNt(e);i&&this.peerStore.addressBook.add(t,i);let n=this.peerStore.addressBook.getMultiaddrsForPeer(t,this.addressSorter)||[];iN.isMultiaddr(e)&&(n=n.filter(o=>!e.equals(o)),n.unshift(e));let s=[];for(let o of n)(await this._resolve(o)).forEach(c=>s.push(c));return{id:t.toB58String(),addrs:s}}_createPendingDial(e,t={}){let i=(u,f)=>{if(f.signal.aborted)throw Z_e(new Error("already aborted"),nN.ERR_ALREADY_ABORTED);return this.transportManager.dial(u,f)},n=new _Nt({addrs:e.addrs,dialAction:i,dialer:this}),s=new vNt(this.timeout),o=[s.signal];t.signal&&o.push(t.signal);let a=ENt(o),c={dialRequest:n,controller:s,promise:n.run({...t,signal:a}),destroy:()=>{s.clear(),this._pendingDials.delete(e.id)}};return this._pendingDials.set(e.id,c),c}getTokens(e){let t=Math.min(e,this.perPeerLimit,this.tokens.length),i=this.tokens.splice(0,t);return db("%d tokens request, returning %d, %d remaining",e,t,this.tokens.length),i}releaseToken(e){this.tokens.indexOf(e)>-1||(db("token %d released",e),this.tokens.push(e))}async _resolve(e){if(!e.protoNames().includes("dnsaddr"))return[e];let i=await this._resolveRecord(e);return(await Promise.all(i.map(o=>this._resolve(o)))).flat().reduce((o,a)=>(o.find(c=>c.equals(a))||o.push(a),o),[])}async _resolveRecord(e){try{return e=iN(e.toString()),await e.resolve()}catch(t){return db.error(`multiaddr ${e} could not be resolved`),[]}}};X_e.exports=Q_e});var rSe=h((kyr,tSe)=>{"use strict";function RNt(r){return r>=55296&&r<=56319}function qNt(r){return r>=56320&&r<=57343}tSe.exports=function(e,t,i){if(typeof t!="string")throw new Error("Input must be string");for(var n=t.length,s=0,o,a,c=0;c<n;c+=1){if(o=t.charCodeAt(c),a=t[c],RNt(o)&&qNt(t.charCodeAt(c+1))&&(c+=1,a+=t[c]),s+=e(a),s===i)return t.slice(0,c+1);if(s>i)return t.slice(0,c-a.length+1)}return t}});var nSe=h((Ayr,iSe)=>{"use strict";function BNt(r){return r>=55296&&r<=56319}function CNt(r){return r>=56320&&r<=57343}iSe.exports=function(e){if(typeof e!="string")throw new Error("Input must be string");for(var t=e.length,i=0,n=null,s=null,o=0;o<t;o++)n=e.charCodeAt(o),CNt(n)?s!=null&&BNt(s)?i+=1:i+=3:n<=127?i+=1:n>=128&&n<=2047?i+=2:n>=2048&&n<=65535&&(i+=3),s=n;return i}});var oSe=h((Iyr,sSe)=>{"use strict";var MNt=rSe(),NNt=nSe();sSe.exports=MNt.bind(null,NNt)});var uSe=h((Tyr,aSe)=>{"use strict";var PNt=oSe(),DNt=/[\/\?<>\\:\*\|"]/g,ONt=/[\x00-\x1f\x80-\x9f]/g,LNt=/^\.+$/,FNt=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,UNt=/[\. ]+$/;function cSe(r,e){if(typeof r!="string")throw new Error("Input must be string");var t=r.replace(DNt,e).replace(ONt,e).replace(LNt,e).replace(FNt,e).replace(UNt,e);return PNt(t,255)}aSe.exports=function(r,e){var t=e&&e.replacement||"",i=cSe(r,t);return t===""?i:cSe(i,"")}});var dSe=h((Ryr,fSe)=>{var pb=Et();nu();mr();var We=pb.asn1,bb=fSe.exports=pb.pkcs7asn1=pb.pkcs7asn1||{};pb.pkcs7=pb.pkcs7||{};pb.pkcs7.asn1=bb;var lSe={name:"ContentInfo",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:We.Class.UNIVERSAL,type:We.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:We.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};bb.contentInfoValidator=lSe;var hSe={name:"EncryptedContentInfo",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:We.Class.UNIVERSAL,type:We.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:We.Class.UNIVERSAL,type:We.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:We.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:We.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};bb.envelopedDataValidator={name:"EnvelopedData",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:We.Class.UNIVERSAL,type:We.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:We.Class.UNIVERSAL,type:We.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(hSe)};bb.encryptedDataValidator={name:"EncryptedData",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:We.Class.UNIVERSAL,type:We.Type.INTEGER,constructed:!1,capture:"version"}].concat(hSe)};var zNt={name:"SignerInfo",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:We.Class.UNIVERSAL,type:We.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:We.Class.UNIVERSAL,type:We.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:We.Class.UNIVERSAL,type:We.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:We.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:We.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:We.Class.UNIVERSAL,type:We.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:We.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};bb.signedDataValidator={name:"SignedData",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:We.Class.UNIVERSAL,type:We.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:We.Class.UNIVERSAL,type:We.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},lSe,{name:"SignedData.Certificates",tagClass:We.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:We.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:We.Class.UNIVERSAL,type:We.Type.SET,capture:"signerInfos",optional:!0,value:[zNt]}]};bb.recipientInfoValidator={name:"RecipientInfo",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:We.Class.UNIVERSAL,type:We.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:We.Class.UNIVERSAL,type:We.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:We.Class.UNIVERSAL,type:We.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:We.Class.UNIVERSAL,type:We.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:We.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:We.Class.UNIVERSAL,type:We.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}});var bSe=h((qyr,pSe)=>{var Bh=Et();mr();Bh.mgf=Bh.mgf||{};var KNt=pSe.exports=Bh.mgf.mgf1=Bh.mgf1=Bh.mgf1||{};KNt.create=function(r){var e={generate:function(t,i){for(var n=new Bh.util.ByteBuffer,s=Math.ceil(i/r.digestLength),o=0;o<s;o++){var a=new Bh.util.ByteBuffer;a.putInt32(o),r.start(),r.update(t+a.getBytes()),n.putBuffer(r.digest())}return n.truncate(n.length()-i),n.getBytes()}};return e}});var gSe=h((Byr,ySe)=>{var _E=Et();bSe();ySe.exports=_E.mgf=_E.mgf||{};_E.mgf.mgf1=_E.mgf1});var xSe=h((Cyr,mSe)=>{var Ch=Et();qf();mr();var VNt=mSe.exports=Ch.pss=Ch.pss||{};VNt.create=function(r){arguments.length===3&&(r={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var e=r.md,t=r.mgf,i=e.digestLength,n=r.salt||null;typeof n=="string"&&(n=Ch.util.createBuffer(n));var s;if("saltLength"in r)s=r.saltLength;else if(n!==null)s=n.length();else throw new Error("Salt length not specified or specific salt not given.");if(n!==null&&n.length()!==s)throw new Error("Given salt length does not match length of given salt.");var o=r.prng||Ch.random,a={};return a.encode=function(c,u){var f,l=u-1,d=Math.ceil(l/8),p=c.digest().getBytes();if(d<i+s+2)throw new Error("Message is too long to encrypt.");var b;n===null?b=o.getBytesSync(s):b=n.bytes();var g=new Ch.util.ByteBuffer;g.fillWithByte(0,8),g.putBytes(p),g.putBytes(b),e.start(),e.update(g.getBytes());var m=e.digest().getBytes(),w=new Ch.util.ByteBuffer;w.fillWithByte(0,d-s-i-2),w.putByte(1),w.putBytes(b);var A=w.getBytes(),I=d-i-1,F=t.generate(m,I),V="";for(f=0;f<I;f++)V+=String.fromCharCode(A.charCodeAt(f)^F.charCodeAt(f));var P=65280>>8*d-l&255;return V=String.fromCharCode(V.charCodeAt(0)&~P)+V.substr(1),V+m+String.fromCharCode(188)},a.verify=function(c,u,f){var l,d=f-1,p=Math.ceil(d/8);if(u=u.substr(-p),p<i+s+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(u.charCodeAt(p-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var b=p-i-1,g=u.substr(0,b),m=u.substr(b,i),w=65280>>8*p-d&255;if((g.charCodeAt(0)&w)!=0)throw new Error("Bits beyond keysize not zero as expected.");var A=t.generate(m,b),I="";for(l=0;l<b;l++)I+=String.fromCharCode(g.charCodeAt(l)^A.charCodeAt(l));I=String.fromCharCode(I.charCodeAt(0)&~w)+I.substr(1);var F=p-i-s-2;for(l=0;l<F;l++)if(I.charCodeAt(l)!==0)throw new Error("Leftmost octets not zero as expected");if(I.charCodeAt(F)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var V=I.substr(-s),P=new Ch.util.ByteBuffer;P.fillWithByte(0,8),P.putBytes(c),P.putBytes(V),e.start(),e.update(P.getBytes());var W=e.digest().getBytes();return m===W},a}});var oN=h((Myr,wSe)=>{var ze=Et();Nd();nu();qw();Rf();gSe();Bd();Nw();xSe();ay();mr();var C=ze.asn1,Le=wSe.exports=ze.pki=ze.pki||{},ht=Le.oids,Qr={};Qr.CN=ht.commonName;Qr.commonName="CN";Qr.C=ht.countryName;Qr.countryName="C";Qr.L=ht.localityName;Qr.localityName="L";Qr.ST=ht.stateOrProvinceName;Qr.stateOrProvinceName="ST";Qr.O=ht.organizationName;Qr.organizationName="O";Qr.OU=ht.organizationalUnitName;Qr.organizationalUnitName="OU";Qr.E=ht.emailAddress;Qr.emailAddress="E";var vSe=ze.pki.rsa.publicKeyValidator,jNt={name:"Certificate",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:C.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:C.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:C.Class.UNIVERSAL,type:C.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:C.Class.UNIVERSAL,type:C.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:C.Class.UNIVERSAL,type:C.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:C.Class.UNIVERSAL,type:C.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},vSe,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:C.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:C.Class.UNIVERSAL,type:C.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:C.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:C.Class.UNIVERSAL,type:C.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:C.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:C.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:C.Class.UNIVERSAL,type:C.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},HNt={name:"rsapss",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:C.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:C.Class.UNIVERSAL,type:C.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:C.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:C.Class.UNIVERSAL,type:C.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:C.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:C.Class.UNIVERSAL,type:C.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:C.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:C.Class.UNIVERSAL,type:C.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},GNt={name:"CertificationRequestInfo",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},vSe,{name:"CertificationRequestInfo.attributes",tagClass:C.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:C.Class.UNIVERSAL,type:C.Type.SET,constructed:!0}]}]}]},$Nt={name:"CertificationRequest",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[GNt,{name:"CertificationRequest.signatureAlgorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:C.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:C.Class.UNIVERSAL,type:C.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};Le.RDNAttributesAsArray=function(r,e){for(var t=[],i,n,s,o=0;o<r.value.length;++o){i=r.value[o];for(var a=0;a<i.value.length;++a)s={},n=i.value[a],s.type=C.derToOid(n.value[0].value),s.value=n.value[1].value,s.valueTagClass=n.value[1].type,s.type in ht&&(s.name=ht[s.type],s.name in Qr&&(s.shortName=Qr[s.name])),e&&(e.update(s.type),e.update(s.value)),t.push(s)}return t};Le.CRIAttributesAsArray=function(r){for(var e=[],t=0;t<r.length;++t)for(var i=r[t],n=C.derToOid(i.value[0].value),s=i.value[1].value,o=0;o<s.length;++o){var a={};if(a.type=n,a.value=s[o].value,a.valueTagClass=s[o].type,a.type in ht&&(a.name=ht[a.type],a.name in Qr&&(a.shortName=Qr[a.name])),a.type===ht.extensionRequest){a.extensions=[];for(var c=0;c<a.value.length;++c)a.extensions.push(Le.certificateExtensionFromAsn1(a.value[c]))}e.push(a)}return e};function M0(r,e){typeof e=="string"&&(e={shortName:e});for(var t=null,i,n=0;t===null&&n<r.attributes.length;++n)i=r.attributes[n],(e.type&&e.type===i.type||e.name&&e.name===i.name||e.shortName&&e.shortName===i.shortName)&&(t=i);return t}var SE=function(r,e,t){var i={};if(r!==ht["RSASSA-PSS"])return i;t&&(i={hash:{algorithmOid:ht.sha1},mgf:{algorithmOid:ht.mgf1,hash:{algorithmOid:ht.sha1}},saltLength:20});var n={},s=[];if(!C.validate(e,HNt,n,s)){var o=new Error("Cannot read RSASSA-PSS parameter block.");throw o.errors=s,o}return n.hashOid!==void 0&&(i.hash=i.hash||{},i.hash.algorithmOid=C.derToOid(n.hashOid)),n.maskGenOid!==void 0&&(i.mgf=i.mgf||{},i.mgf.algorithmOid=C.derToOid(n.maskGenOid),i.mgf.hash=i.mgf.hash||{},i.mgf.hash.algorithmOid=C.derToOid(n.maskGenHashOid)),n.saltLength!==void 0&&(i.saltLength=n.saltLength.charCodeAt(0)),i};Le.certificateFromPem=function(r,e,t){var i=ze.pem.decode(r)[0];if(i.type!=="CERTIFICATE"&&i.type!=="X509 CERTIFICATE"&&i.type!=="TRUSTED CERTIFICATE"){var n=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw n.headerType=i.type,n}if(i.procType&&i.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=C.fromDer(i.body,t);return Le.certificateFromAsn1(s,e)};Le.certificateToPem=function(r,e){var t={type:"CERTIFICATE",body:C.toDer(Le.certificateToAsn1(r)).getBytes()};return ze.pem.encode(t,{maxline:e})};Le.publicKeyFromPem=function(r){var e=ze.pem.decode(r)[0];if(e.type!=="PUBLIC KEY"&&e.type!=="RSA PUBLIC KEY"){var t=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw t.headerType=e.type,t}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var i=C.fromDer(e.body);return Le.publicKeyFromAsn1(i)};Le.publicKeyToPem=function(r,e){var t={type:"PUBLIC KEY",body:C.toDer(Le.publicKeyToAsn1(r)).getBytes()};return ze.pem.encode(t,{maxline:e})};Le.publicKeyToRSAPublicKeyPem=function(r,e){var t={type:"RSA PUBLIC KEY",body:C.toDer(Le.publicKeyToRSAPublicKey(r)).getBytes()};return ze.pem.encode(t,{maxline:e})};Le.getPublicKeyFingerprint=function(r,e){e=e||{};var t=e.md||ze.md.sha1.create(),i=e.type||"RSAPublicKey",n;switch(i){case"RSAPublicKey":n=C.toDer(Le.publicKeyToRSAPublicKey(r)).getBytes();break;case"SubjectPublicKeyInfo":n=C.toDer(Le.publicKeyToAsn1(r)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+e.type+'".')}t.start(),t.update(n);var s=t.digest();if(e.encoding==="hex"){var o=s.toHex();return e.delimiter?o.match(/.{2}/g).join(e.delimiter):o}else{if(e.encoding==="binary")return s.getBytes();if(e.encoding)throw new Error('Unknown encoding "'+e.encoding+'".')}return s};Le.certificationRequestFromPem=function(r,e,t){var i=ze.pem.decode(r)[0];if(i.type!=="CERTIFICATE REQUEST"){var n=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw n.headerType=i.type,n}if(i.procType&&i.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=C.fromDer(i.body,t);return Le.certificationRequestFromAsn1(s,e)};Le.certificationRequestToPem=function(r,e){var t={type:"CERTIFICATE REQUEST",body:C.toDer(Le.certificationRequestToAsn1(r)).getBytes()};return ze.pem.encode(t,{maxline:e})};Le.createCertificate=function(){var r={};return r.version=2,r.serialNumber="00",r.signatureOid=null,r.signature=null,r.siginfo={},r.siginfo.algorithmOid=null,r.validity={},r.validity.notBefore=new Date,r.validity.notAfter=new Date,r.issuer={},r.issuer.getField=function(e){return M0(r.issuer,e)},r.issuer.addField=function(e){Vo([e]),r.issuer.attributes.push(e)},r.issuer.attributes=[],r.issuer.hash=null,r.subject={},r.subject.getField=function(e){return M0(r.subject,e)},r.subject.addField=function(e){Vo([e]),r.subject.attributes.push(e)},r.subject.attributes=[],r.subject.hash=null,r.extensions=[],r.publicKey=null,r.md=null,r.setSubject=function(e,t){Vo(e),r.subject.attributes=e,delete r.subject.uniqueId,t&&(r.subject.uniqueId=t),r.subject.hash=null},r.setIssuer=function(e,t){Vo(e),r.issuer.attributes=e,delete r.issuer.uniqueId,t&&(r.issuer.uniqueId=t),r.issuer.hash=null},r.setExtensions=function(e){for(var t=0;t<e.length;++t)ESe(e[t],{cert:r});r.extensions=e},r.getExtension=function(e){typeof e=="string"&&(e={name:e});for(var t=null,i,n=0;t===null&&n<r.extensions.length;++n)i=r.extensions[n],(e.id&&i.id===e.id||e.name&&i.name===e.name)&&(t=i);return t},r.sign=function(e,t){r.md=t||ze.md.sha1.create();var i=ht[r.md.algorithm+"WithRSAEncryption"];if(!i){var n=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw n.algorithm=r.md.algorithm,n}r.signatureOid=r.siginfo.algorithmOid=i,r.tbsCertificate=Le.getTBSCertificate(r);var s=C.toDer(r.tbsCertificate);r.md.update(s.getBytes()),r.signature=e.sign(r.md)},r.verify=function(e){var t=!1;if(!r.issued(e)){var i=e.issuer,n=r.subject,s=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw s.expectedIssuer=i.attributes,s.actualIssuer=n.attributes,s}var o=e.md;if(o===null){if(e.signatureOid in ht){var a=ht[e.signatureOid];switch(a){case"sha1WithRSAEncryption":o=ze.md.sha1.create();break;case"md5WithRSAEncryption":o=ze.md.md5.create();break;case"sha256WithRSAEncryption":o=ze.md.sha256.create();break;case"sha384WithRSAEncryption":o=ze.md.sha384.create();break;case"sha512WithRSAEncryption":o=ze.md.sha512.create();break;case"RSASSA-PSS":o=ze.md.sha256.create();break}}if(o===null){var s=new Error("Could not compute certificate digest. Unknown signature OID.");throw s.signatureOid=e.signatureOid,s}var c=e.tbsCertificate||Le.getTBSCertificate(e),u=C.toDer(c);o.update(u.getBytes())}if(o!==null){var f;switch(e.signatureOid){case ht.sha1WithRSAEncryption:f=void 0;break;case ht["RSASSA-PSS"]:var l,d;if(l=ht[e.signatureParameters.mgf.hash.algorithmOid],l===void 0||ze.md[l]===void 0){var s=new Error("Unsupported MGF hash function.");throw s.oid=e.signatureParameters.mgf.hash.algorithmOid,s.name=l,s}if(d=ht[e.signatureParameters.mgf.algorithmOid],d===void 0||ze.mgf[d]===void 0){var s=new Error("Unsupported MGF function.");throw s.oid=e.signatureParameters.mgf.algorithmOid,s.name=d,s}if(d=ze.mgf[d].create(ze.md[l].create()),l=ht[e.signatureParameters.hash.algorithmOid],l===void 0||ze.md[l]===void 0)throw{message:"Unsupported RSASSA-PSS hash function.",oid:e.signatureParameters.hash.algorithmOid,name:l};f=ze.pss.create(ze.md[l].create(),d,e.signatureParameters.saltLength);break}t=r.publicKey.verify(o.digest().getBytes(),e.signature,f)}return t},r.isIssuer=function(e){var t=!1,i=r.issuer,n=e.subject;if(i.hash&&n.hash)t=i.hash===n.hash;else if(i.attributes.length===n.attributes.length){t=!0;for(var s,o,a=0;t&&a<i.attributes.length;++a)s=i.attributes[a],o=n.attributes[a],(s.type!==o.type||s.value!==o.value)&&(t=!1)}return t},r.issued=function(e){return e.isIssuer(r)},r.generateSubjectKeyIdentifier=function(){return Le.getPublicKeyFingerprint(r.publicKey,{type:"RSAPublicKey"})},r.verifySubjectKeyIdentifier=function(){for(var e=ht.subjectKeyIdentifier,t=0;t<r.extensions.length;++t){var i=r.extensions[t];if(i.id===e){var n=r.generateSubjectKeyIdentifier().getBytes();return ze.util.hexToBytes(i.subjectKeyIdentifier)===n}}return!1},r};Le.certificateFromAsn1=function(r,e){var t={},i=[];if(!C.validate(r,jNt,t,i)){var n=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw n.errors=i,n}var s=C.derToOid(t.publicKeyOid);if(s!==Le.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var o=Le.createCertificate();o.version=t.certVersion?t.certVersion.charCodeAt(0):0;var a=ze.util.createBuffer(t.certSerialNumber);o.serialNumber=a.toHex(),o.signatureOid=ze.asn1.derToOid(t.certSignatureOid),o.signatureParameters=SE(o.signatureOid,t.certSignatureParams,!0),o.siginfo.algorithmOid=ze.asn1.derToOid(t.certinfoSignatureOid),o.siginfo.parameters=SE(o.siginfo.algorithmOid,t.certinfoSignatureParams,!1),o.signature=t.certSignature;var c=[];if(t.certValidity1UTCTime!==void 0&&c.push(C.utcTimeToDate(t.certValidity1UTCTime)),t.certValidity2GeneralizedTime!==void 0&&c.push(C.generalizedTimeToDate(t.certValidity2GeneralizedTime)),t.certValidity3UTCTime!==void 0&&c.push(C.utcTimeToDate(t.certValidity3UTCTime)),t.certValidity4GeneralizedTime!==void 0&&c.push(C.generalizedTimeToDate(t.certValidity4GeneralizedTime)),c.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(c.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(o.validity.notBefore=c[0],o.validity.notAfter=c[1],o.tbsCertificate=t.tbsCertificate,e){if(o.md=null,o.signatureOid in ht){var s=ht[o.signatureOid];switch(s){case"sha1WithRSAEncryption":o.md=ze.md.sha1.create();break;case"md5WithRSAEncryption":o.md=ze.md.md5.create();break;case"sha256WithRSAEncryption":o.md=ze.md.sha256.create();break;case"sha384WithRSAEncryption":o.md=ze.md.sha384.create();break;case"sha512WithRSAEncryption":o.md=ze.md.sha512.create();break;case"RSASSA-PSS":o.md=ze.md.sha256.create();break}}if(o.md===null){var n=new Error("Could not compute certificate digest. Unknown signature OID.");throw n.signatureOid=o.signatureOid,n}var u=C.toDer(o.tbsCertificate);o.md.update(u.getBytes())}var f=ze.md.sha1.create();o.issuer.getField=function(d){return M0(o.issuer,d)},o.issuer.addField=function(d){Vo([d]),o.issuer.attributes.push(d)},o.issuer.attributes=Le.RDNAttributesAsArray(t.certIssuer,f),t.certIssuerUniqueId&&(o.issuer.uniqueId=t.certIssuerUniqueId),o.issuer.hash=f.digest().toHex();var l=ze.md.sha1.create();return o.subject.getField=function(d){return M0(o.subject,d)},o.subject.addField=function(d){Vo([d]),o.subject.attributes.push(d)},o.subject.attributes=Le.RDNAttributesAsArray(t.certSubject,l),t.certSubjectUniqueId&&(o.subject.uniqueId=t.certSubjectUniqueId),o.subject.hash=l.digest().toHex(),t.certExtensions?o.extensions=Le.certificateExtensionsFromAsn1(t.certExtensions):o.extensions=[],o.publicKey=Le.publicKeyFromAsn1(t.subjectPublicKeyInfo),o};Le.certificateExtensionsFromAsn1=function(r){for(var e=[],t=0;t<r.value.length;++t)for(var i=r.value[t],n=0;n<i.value.length;++n)e.push(Le.certificateExtensionFromAsn1(i.value[n]));return e};Le.certificateExtensionFromAsn1=function(r){var e={};if(e.id=C.derToOid(r.value[0].value),e.critical=!1,r.value[1].type===C.Type.BOOLEAN?(e.critical=r.value[1].value.charCodeAt(0)!==0,e.value=r.value[2].value):e.value=r.value[1].value,e.id in ht){if(e.name=ht[e.id],e.name==="keyUsage"){var t=C.fromDer(e.value),i=0,n=0;t.value.length>1&&(i=t.value.charCodeAt(1),n=t.value.length>2?t.value.charCodeAt(2):0),e.digitalSignature=(i&128)==128,e.nonRepudiation=(i&64)==64,e.keyEncipherment=(i&32)==32,e.dataEncipherment=(i&16)==16,e.keyAgreement=(i&8)==8,e.keyCertSign=(i&4)==4,e.cRLSign=(i&2)==2,e.encipherOnly=(i&1)==1,e.decipherOnly=(n&128)==128}else if(e.name==="basicConstraints"){var t=C.fromDer(e.value);t.value.length>0&&t.value[0].type===C.Type.BOOLEAN?e.cA=t.value[0].value.charCodeAt(0)!==0:e.cA=!1;var s=null;t.value.length>0&&t.value[0].type===C.Type.INTEGER?s=t.value[0].value:t.value.length>1&&(s=t.value[1].value),s!==null&&(e.pathLenConstraint=C.derToInteger(s))}else if(e.name==="extKeyUsage")for(var t=C.fromDer(e.value),o=0;o<t.value.length;++o){var a=C.derToOid(t.value[o].value);a in ht?e[ht[a]]=!0:e[a]=!0}else if(e.name==="nsCertType"){var t=C.fromDer(e.value),i=0;t.value.length>1&&(i=t.value.charCodeAt(1)),e.client=(i&128)==128,e.server=(i&64)==64,e.email=(i&32)==32,e.objsign=(i&16)==16,e.reserved=(i&8)==8,e.sslCA=(i&4)==4,e.emailCA=(i&2)==2,e.objCA=(i&1)==1}else if(e.name==="subjectAltName"||e.name==="issuerAltName"){e.altNames=[];for(var c,t=C.fromDer(e.value),u=0;u<t.value.length;++u){c=t.value[u];var f={type:c.type,value:c.value};switch(e.altNames.push(f),c.type){case 1:case 2:case 6:break;case 7:f.ip=ze.util.bytesToIP(c.value);break;case 8:f.oid=C.derToOid(c.value);break;default:}}}else if(e.name==="subjectKeyIdentifier"){var t=C.fromDer(e.value);e.subjectKeyIdentifier=ze.util.bytesToHex(t.value)}}return e};Le.certificationRequestFromAsn1=function(r,e){var t={},i=[];if(!C.validate(r,$Nt,t,i)){var n=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw n.errors=i,n}var s=C.derToOid(t.publicKeyOid);if(s!==Le.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var o=Le.createCertificationRequest();if(o.version=t.csrVersion?t.csrVersion.charCodeAt(0):0,o.signatureOid=ze.asn1.derToOid(t.csrSignatureOid),o.signatureParameters=SE(o.signatureOid,t.csrSignatureParams,!0),o.siginfo.algorithmOid=ze.asn1.derToOid(t.csrSignatureOid),o.siginfo.parameters=SE(o.siginfo.algorithmOid,t.csrSignatureParams,!1),o.signature=t.csrSignature,o.certificationRequestInfo=t.certificationRequestInfo,e){if(o.md=null,o.signatureOid in ht){var s=ht[o.signatureOid];switch(s){case"sha1WithRSAEncryption":o.md=ze.md.sha1.create();break;case"md5WithRSAEncryption":o.md=ze.md.md5.create();break;case"sha256WithRSAEncryption":o.md=ze.md.sha256.create();break;case"sha384WithRSAEncryption":o.md=ze.md.sha384.create();break;case"sha512WithRSAEncryption":o.md=ze.md.sha512.create();break;case"RSASSA-PSS":o.md=ze.md.sha256.create();break}}if(o.md===null){var n=new Error("Could not compute certification request digest. Unknown signature OID.");throw n.signatureOid=o.signatureOid,n}var a=C.toDer(o.certificationRequestInfo);o.md.update(a.getBytes())}var c=ze.md.sha1.create();return o.subject.getField=function(u){return M0(o.subject,u)},o.subject.addField=function(u){Vo([u]),o.subject.attributes.push(u)},o.subject.attributes=Le.RDNAttributesAsArray(t.certificationRequestInfoSubject,c),o.subject.hash=c.digest().toHex(),o.publicKey=Le.publicKeyFromAsn1(t.subjectPublicKeyInfo),o.getAttribute=function(u){return M0(o,u)},o.addAttribute=function(u){Vo([u]),o.attributes.push(u)},o.attributes=Le.CRIAttributesAsArray(t.certificationRequestInfoAttributes||[]),o};Le.createCertificationRequest=function(){var r={};return r.version=0,r.signatureOid=null,r.signature=null,r.siginfo={},r.siginfo.algorithmOid=null,r.subject={},r.subject.getField=function(e){return M0(r.subject,e)},r.subject.addField=function(e){Vo([e]),r.subject.attributes.push(e)},r.subject.attributes=[],r.subject.hash=null,r.publicKey=null,r.attributes=[],r.getAttribute=function(e){return M0(r,e)},r.addAttribute=function(e){Vo([e]),r.attributes.push(e)},r.md=null,r.setSubject=function(e){Vo(e),r.subject.attributes=e,r.subject.hash=null},r.setAttributes=function(e){Vo(e),r.attributes=e},r.sign=function(e,t){r.md=t||ze.md.sha1.create();var i=ht[r.md.algorithm+"WithRSAEncryption"];if(!i){var n=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw n.algorithm=r.md.algorithm,n}r.signatureOid=r.siginfo.algorithmOid=i,r.certificationRequestInfo=Le.getCertificationRequestInfo(r);var s=C.toDer(r.certificationRequestInfo);r.md.update(s.getBytes()),r.signature=e.sign(r.md)},r.verify=function(){var e=!1,t=r.md;if(t===null){if(r.signatureOid in ht){var i=ht[r.signatureOid];switch(i){case"sha1WithRSAEncryption":t=ze.md.sha1.create();break;case"md5WithRSAEncryption":t=ze.md.md5.create();break;case"sha256WithRSAEncryption":t=ze.md.sha256.create();break;case"sha384WithRSAEncryption":t=ze.md.sha384.create();break;case"sha512WithRSAEncryption":t=ze.md.sha512.create();break;case"RSASSA-PSS":t=ze.md.sha256.create();break}}if(t===null){var n=new Error("Could not compute certification request digest. Unknown signature OID.");throw n.signatureOid=r.signatureOid,n}var s=r.certificationRequestInfo||Le.getCertificationRequestInfo(r),o=C.toDer(s);t.update(o.getBytes())}if(t!==null){var a;switch(r.signatureOid){case ht.sha1WithRSAEncryption:break;case ht["RSASSA-PSS"]:var c,u;if(c=ht[r.signatureParameters.mgf.hash.algorithmOid],c===void 0||ze.md[c]===void 0){var n=new Error("Unsupported MGF hash function.");throw n.oid=r.signatureParameters.mgf.hash.algorithmOid,n.name=c,n}if(u=ht[r.signatureParameters.mgf.algorithmOid],u===void 0||ze.mgf[u]===void 0){var n=new Error("Unsupported MGF function.");throw n.oid=r.signatureParameters.mgf.algorithmOid,n.name=u,n}if(u=ze.mgf[u].create(ze.md[c].create()),c=ht[r.signatureParameters.hash.algorithmOid],c===void 0||ze.md[c]===void 0){var n=new Error("Unsupported RSASSA-PSS hash function.");throw n.oid=r.signatureParameters.hash.algorithmOid,n.name=c,n}a=ze.pss.create(ze.md[c].create(),u,r.signatureParameters.saltLength);break}e=r.publicKey.verify(t.digest().getBytes(),r.signature,a)}return e},r};function yb(r){for(var e=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]),t,i,n=r.attributes,s=0;s<n.length;++s){t=n[s];var o=t.value,a=C.Type.PRINTABLESTRING;"valueTagClass"in t&&(a=t.valueTagClass,a===C.Type.UTF8&&(o=ze.util.encodeUtf8(o))),i=C.create(C.Class.UNIVERSAL,C.Type.SET,!0,[C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(t.type).getBytes()),C.create(C.Class.UNIVERSAL,a,!1,o)])]),e.value.push(i)}return e}function Vo(r){for(var e,t=0;t<r.length;++t){if(e=r[t],typeof e.name=="undefined"&&(e.type&&e.type in Le.oids?e.name=Le.oids[e.type]:e.shortName&&e.shortName in Qr&&(e.name=Le.oids[Qr[e.shortName]])),typeof e.type=="undefined")if(e.name&&e.name in Le.oids)e.type=Le.oids[e.name];else{var i=new Error("Attribute type not specified.");throw i.attribute=e,i}if(typeof e.shortName=="undefined"&&e.name&&e.name in Qr&&(e.shortName=Qr[e.name]),e.type===ht.extensionRequest&&(e.valueConstructed=!0,e.valueTagClass=C.Type.SEQUENCE,!e.value&&e.extensions)){e.value=[];for(var n=0;n<e.extensions.length;++n)e.value.push(Le.certificateExtensionToAsn1(ESe(e.extensions[n])))}if(typeof e.value=="undefined"){var i=new Error("Attribute value not specified.");throw i.attribute=e,i}}}function ESe(r,e){if(e=e||{},typeof r.name=="undefined"&&r.id&&r.id in Le.oids&&(r.name=Le.oids[r.id]),typeof r.id=="undefined")if(r.name&&r.name in Le.oids)r.id=Le.oids[r.name];else{var t=new Error("Extension ID not specified.");throw t.extension=r,t}if(typeof r.value!="undefined")return r;if(r.name==="keyUsage"){var i=0,n=0,s=0;r.digitalSignature&&(n|=128,i=7),r.nonRepudiation&&(n|=64,i=6),r.keyEncipherment&&(n|=32,i=5),r.dataEncipherment&&(n|=16,i=4),r.keyAgreement&&(n|=8,i=3),r.keyCertSign&&(n|=4,i=2),r.cRLSign&&(n|=2,i=1),r.encipherOnly&&(n|=1,i=0),r.decipherOnly&&(s|=128,i=7);var o=String.fromCharCode(i);s!==0?o+=String.fromCharCode(n)+String.fromCharCode(s):n!==0&&(o+=String.fromCharCode(n)),r.value=C.create(C.Class.UNIVERSAL,C.Type.BITSTRING,!1,o)}else if(r.name==="basicConstraints")r.value=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]),r.cA&&r.value.value.push(C.create(C.Class.UNIVERSAL,C.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in r&&r.value.value.push(C.create(C.Class.UNIVERSAL,C.Type.INTEGER,!1,C.integerToDer(r.pathLenConstraint).getBytes()));else if(r.name==="extKeyUsage"){r.value=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]);var a=r.value.value;for(var c in r)r[c]===!0&&(c in ht?a.push(C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(ht[c]).getBytes())):c.indexOf(".")!==-1&&a.push(C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(c).getBytes())))}else if(r.name==="nsCertType"){var i=0,n=0;r.client&&(n|=128,i=7),r.server&&(n|=64,i=6),r.email&&(n|=32,i=5),r.objsign&&(n|=16,i=4),r.reserved&&(n|=8,i=3),r.sslCA&&(n|=4,i=2),r.emailCA&&(n|=2,i=1),r.objCA&&(n|=1,i=0);var o=String.fromCharCode(i);n!==0&&(o+=String.fromCharCode(n)),r.value=C.create(C.Class.UNIVERSAL,C.Type.BITSTRING,!1,o)}else if(r.name==="subjectAltName"||r.name==="issuerAltName"){r.value=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]);for(var u,f=0;f<r.altNames.length;++f){u=r.altNames[f];var o=u.value;if(u.type===7&&u.ip){if(o=ze.util.bytesFromIP(u.ip),o===null){var t=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw t.extension=r,t}}else u.type===8&&(u.oid?o=C.oidToDer(C.oidToDer(u.oid)):o=C.oidToDer(o));r.value.value.push(C.create(C.Class.CONTEXT_SPECIFIC,u.type,!1,o))}}else if(r.name==="nsComment"&&e.cert){if(!/^[\x00-\x7F]*$/.test(r.comment)||r.comment.length<1||r.comment.length>128)throw new Error('Invalid "nsComment" content.');r.value=C.create(C.Class.UNIVERSAL,C.Type.IA5STRING,!1,r.comment)}else if(r.name==="subjectKeyIdentifier"&&e.cert){var l=e.cert.generateSubjectKeyIdentifier();r.subjectKeyIdentifier=l.toHex(),r.value=C.create(C.Class.UNIVERSAL,C.Type.OCTETSTRING,!1,l.getBytes())}else if(r.name==="authorityKeyIdentifier"&&e.cert){r.value=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]);var a=r.value.value;if(r.keyIdentifier){var d=r.keyIdentifier===!0?e.cert.generateSubjectKeyIdentifier().getBytes():r.keyIdentifier;a.push(C.create(C.Class.CONTEXT_SPECIFIC,0,!1,d))}if(r.authorityCertIssuer){var p=[C.create(C.Class.CONTEXT_SPECIFIC,4,!0,[yb(r.authorityCertIssuer===!0?e.cert.issuer:r.authorityCertIssuer)])];a.push(C.create(C.Class.CONTEXT_SPECIFIC,1,!0,p))}if(r.serialNumber){var b=ze.util.hexToBytes(r.serialNumber===!0?e.cert.serialNumber:r.serialNumber);a.push(C.create(C.Class.CONTEXT_SPECIFIC,2,!1,b))}}else if(r.name==="cRLDistributionPoints"){r.value=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]);for(var a=r.value.value,g=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]),m=C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[]),u,f=0;f<r.altNames.length;++f){u=r.altNames[f];var o=u.value;if(u.type===7&&u.ip){if(o=ze.util.bytesFromIP(u.ip),o===null){var t=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw t.extension=r,t}}else u.type===8&&(u.oid?o=C.oidToDer(C.oidToDer(u.oid)):o=C.oidToDer(o));m.value.push(C.create(C.Class.CONTEXT_SPECIFIC,u.type,!1,o))}g.value.push(C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[m])),a.push(g)}if(typeof r.value=="undefined"){var t=new Error("Extension value not specified.");throw t.extension=r,t}return r}function sN(r,e){switch(r){case ht["RSASSA-PSS"]:var t=[];return e.hash.algorithmOid!==void 0&&t.push(C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(e.hash.algorithmOid).getBytes()),C.create(C.Class.UNIVERSAL,C.Type.NULL,!1,"")])])),e.mgf.algorithmOid!==void 0&&t.push(C.create(C.Class.CONTEXT_SPECIFIC,1,!0,[C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(e.mgf.algorithmOid).getBytes()),C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(e.mgf.hash.algorithmOid).getBytes()),C.create(C.Class.UNIVERSAL,C.Type.NULL,!1,"")])])])),e.saltLength!==void 0&&t.push(C.create(C.Class.CONTEXT_SPECIFIC,2,!0,[C.create(C.Class.UNIVERSAL,C.Type.INTEGER,!1,C.integerToDer(e.saltLength).getBytes())])),C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,t);default:return C.create(C.Class.UNIVERSAL,C.Type.NULL,!1,"")}}function WNt(r){var e=C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[]);if(r.attributes.length===0)return e;for(var t=r.attributes,i=0;i<t.length;++i){var n=t[i],s=n.value,o=C.Type.UTF8;"valueTagClass"in n&&(o=n.valueTagClass),o===C.Type.UTF8&&(s=ze.util.encodeUtf8(s));var a=!1;"valueConstructed"in n&&(a=n.valueConstructed);var c=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(n.type).getBytes()),C.create(C.Class.UNIVERSAL,C.Type.SET,!0,[C.create(C.Class.UNIVERSAL,o,a,s)])]);e.value.push(c)}return e}var YNt=new Date("1950-01-01T00:00:00Z"),XNt=new Date("2050-01-01T00:00:00Z");function _Se(r){return r>=YNt&&r<XNt?C.create(C.Class.UNIVERSAL,C.Type.UTCTIME,!1,C.dateToUtcTime(r)):C.create(C.Class.UNIVERSAL,C.Type.GENERALIZEDTIME,!1,C.dateToGeneralizedTime(r))}Le.getTBSCertificate=function(r){var e=_Se(r.validity.notBefore),t=_Se(r.validity.notAfter),i=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[C.create(C.Class.UNIVERSAL,C.Type.INTEGER,!1,C.integerToDer(r.version).getBytes())]),C.create(C.Class.UNIVERSAL,C.Type.INTEGER,!1,ze.util.hexToBytes(r.serialNumber)),C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(r.siginfo.algorithmOid).getBytes()),sN(r.siginfo.algorithmOid,r.siginfo.parameters)]),yb(r.issuer),C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[e,t]),yb(r.subject),Le.publicKeyToAsn1(r.publicKey)]);return r.issuer.uniqueId&&i.value.push(C.create(C.Class.CONTEXT_SPECIFIC,1,!0,[C.create(C.Class.UNIVERSAL,C.Type.BITSTRING,!1,String.fromCharCode(0)+r.issuer.uniqueId)])),r.subject.uniqueId&&i.value.push(C.create(C.Class.CONTEXT_SPECIFIC,2,!0,[C.create(C.Class.UNIVERSAL,C.Type.BITSTRING,!1,String.fromCharCode(0)+r.subject.uniqueId)])),r.extensions.length>0&&i.value.push(Le.certificateExtensionsToAsn1(r.extensions)),i};Le.getCertificationRequestInfo=function(r){var e=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.INTEGER,!1,C.integerToDer(r.version).getBytes()),yb(r.subject),Le.publicKeyToAsn1(r.publicKey),WNt(r)]);return e};Le.distinguishedNameToAsn1=function(r){return yb(r)};Le.certificateToAsn1=function(r){var e=r.tbsCertificate||Le.getTBSCertificate(r);return C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[e,C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(r.signatureOid).getBytes()),sN(r.signatureOid,r.signatureParameters)]),C.create(C.Class.UNIVERSAL,C.Type.BITSTRING,!1,String.fromCharCode(0)+r.signature)])};Le.certificateExtensionsToAsn1=function(r){var e=C.create(C.Class.CONTEXT_SPECIFIC,3,!0,[]),t=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]);e.value.push(t);for(var i=0;i<r.length;++i)t.value.push(Le.certificateExtensionToAsn1(r[i]));return e};Le.certificateExtensionToAsn1=function(r){var e=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]);e.value.push(C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(r.id).getBytes())),r.critical&&e.value.push(C.create(C.Class.UNIVERSAL,C.Type.BOOLEAN,!1,String.fromCharCode(255)));var t=r.value;return typeof r.value!="string"&&(t=C.toDer(t).getBytes()),e.value.push(C.create(C.Class.UNIVERSAL,C.Type.OCTETSTRING,!1,t)),e};Le.certificationRequestToAsn1=function(r){var e=r.certificationRequestInfo||Le.getCertificationRequestInfo(r);return C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[e,C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(r.signatureOid).getBytes()),sN(r.signatureOid,r.signatureParameters)]),C.create(C.Class.UNIVERSAL,C.Type.BITSTRING,!1,String.fromCharCode(0)+r.signature)])};Le.createCaStore=function(r){var e={certs:{}};e.getIssuer=function(o){var a=t(o.issuer);return a},e.addCertificate=function(o){if(typeof o=="string"&&(o=ze.pki.certificateFromPem(o)),i(o.subject),!e.hasCertificate(o))if(o.subject.hash in e.certs){var a=e.certs[o.subject.hash];ze.util.isArray(a)||(a=[a]),a.push(o),e.certs[o.subject.hash]=a}else e.certs[o.subject.hash]=o},e.hasCertificate=function(o){typeof o=="string"&&(o=ze.pki.certificateFromPem(o));var a=t(o.subject);if(!a)return!1;ze.util.isArray(a)||(a=[a]);for(var c=C.toDer(Le.certificateToAsn1(o)).getBytes(),u=0;u<a.length;++u){var f=C.toDer(Le.certificateToAsn1(a[u])).getBytes();if(c===f)return!0}return!1},e.listAllCertificates=function(){var o=[];for(var a in e.certs)if(e.certs.hasOwnProperty(a)){var c=e.certs[a];if(!ze.util.isArray(c))o.push(c);else for(var u=0;u<c.length;++u)o.push(c[u])}return o},e.removeCertificate=function(o){var a;if(typeof o=="string"&&(o=ze.pki.certificateFromPem(o)),i(o.subject),!e.hasCertificate(o))return null;var c=t(o.subject);if(!ze.util.isArray(c))return a=e.certs[o.subject.hash],delete e.certs[o.subject.hash],a;for(var u=C.toDer(Le.certificateToAsn1(o)).getBytes(),f=0;f<c.length;++f){var l=C.toDer(Le.certificateToAsn1(c[f])).getBytes();u===l&&(a=c[f],c.splice(f,1))}return c.length===0&&delete e.certs[o.subject.hash],a};function t(o){return i(o),e.certs[o.hash]||null}function i(o){if(!o.hash){var a=ze.md.sha1.create();o.attributes=Le.RDNAttributesAsArray(yb(o),a),o.hash=a.digest().toHex()}}if(r)for(var n=0;n<r.length;++n){var s=r[n];e.addCertificate(s)}return e};Le.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"};Le.verifyCertificateChain=function(r,e,t){typeof t=="function"&&(t={verify:t}),t=t||{},e=e.slice(0);var i=e.slice(0),n=t.validityCheckDate;typeof n=="undefined"&&(n=new Date);var s=!0,o=null,a=0;do{var c=e.shift(),u=null,f=!1;if(n&&(n<c.validity.notBefore||n>c.validity.notAfter)&&(o={message:"Certificate is not valid yet or has expired.",error:Le.certificateError.certificate_expired,notBefore:c.validity.notBefore,notAfter:c.validity.notAfter,now:n}),o===null){if(u=e[0]||r.getIssuer(c),u===null&&c.isIssuer(c)&&(f=!0,u=c),u){var l=u;ze.util.isArray(l)||(l=[l]);for(var d=!1;!d&&l.length>0;){u=l.shift();try{d=u.verify(c)}catch(V){}}d||(o={message:"Certificate signature is invalid.",error:Le.certificateError.bad_certificate})}o===null&&(!u||f)&&!r.hasCertificate(c)&&(o={message:"Certificate is not trusted.",error:Le.certificateError.unknown_ca})}if(o===null&&u&&!c.isIssuer(u)&&(o={message:"Certificate issuer is invalid.",error:Le.certificateError.bad_certificate}),o===null)for(var p={keyUsage:!0,basicConstraints:!0},b=0;o===null&&b<c.extensions.length;++b){var g=c.extensions[b];g.critical&&!(g.name in p)&&(o={message:"Certificate has an unsupported critical extension.",error:Le.certificateError.unsupported_certificate})}if(o===null&&(!s||e.length===0&&(!u||f))){var m=c.getExtension("basicConstraints"),w=c.getExtension("keyUsage");if(w!==null&&(!w.keyCertSign||m===null)&&(o={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:Le.certificateError.bad_certificate}),o===null&&m!==null&&!m.cA&&(o={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:Le.certificateError.bad_certificate}),o===null&&w!==null&&"pathLenConstraint"in m){var A=a-1;A>m.pathLenConstraint&&(o={message:"Certificate basicConstraints pathLenConstraint violated.",error:Le.certificateError.bad_certificate})}}var I=o===null?!0:o.error,F=t.verify?t.verify(I,a,i):I;if(F===!0)o=null;else throw I===!0&&(o={message:"The application rejected the certificate.",error:Le.certificateError.bad_certificate}),(F||F===0)&&(typeof F=="object"&&!ze.util.isArray(F)?(F.message&&(o.message=F.message),F.error&&(o.error=F.error)):typeof F=="string"&&(o.error=F)),o;s=!1,++a}while(e.length>0);return!0}});var ASe=h((Nyr,SSe)=>{var Ve=Et();Nd();nu();qw();Bd();Nw();dSe();qf();mr();oN();var se=Ve.asn1,as=SSe.exports=Ve.pkcs7=Ve.pkcs7||{};as.messageFromPem=function(r){var e=Ve.pem.decode(r)[0];if(e.type!=="PKCS7"){var t=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw t.headerType=e.type,t}if(e.procType&&e.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var i=se.fromDer(e.body);return as.messageFromAsn1(i)};as.messageToPem=function(r,e){var t={type:"PKCS7",body:se.toDer(r.toAsn1()).getBytes()};return Ve.pem.encode(t,{maxline:e})};as.messageFromAsn1=function(r){var e={},t=[];if(!se.validate(r,as.asn1.contentInfoValidator,e,t)){var i=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw i.errors=t,i}var n=se.derToOid(e.contentType),s;switch(n){case Ve.pki.oids.envelopedData:s=as.createEnvelopedData();break;case Ve.pki.oids.encryptedData:s=as.createEncryptedData();break;case Ve.pki.oids.signedData:s=as.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+n+" is not (yet) supported.")}return s.fromAsn1(e.content.value[0]),s};as.createSignedData=function(){var r=null;return r={type:Ve.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(i){if(cN(r,i,as.asn1.signedDataValidator),r.certificates=[],r.crls=[],r.digestAlgorithmIdentifiers=[],r.contentInfo=null,r.signerInfos=[],r.rawCapture.certificates)for(var n=r.rawCapture.certificates.value,s=0;s<n.length;++s)r.certificates.push(Ve.pki.certificateFromAsn1(n[s]))},toAsn1:function(){r.contentInfo||r.sign();for(var i=[],n=0;n<r.certificates.length;++n)i.push(Ve.pki.certificateToAsn1(r.certificates[n]));var s=[],o=se.create(se.Class.CONTEXT_SPECIFIC,0,!0,[se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,se.integerToDer(r.version).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.SET,!0,r.digestAlgorithmIdentifiers),r.contentInfo])]);return i.length>0&&o.value[0].value.push(se.create(se.Class.CONTEXT_SPECIFIC,0,!0,i)),s.length>0&&o.value[0].value.push(se.create(se.Class.CONTEXT_SPECIFIC,1,!0,s)),o.value[0].value.push(se.create(se.Class.UNIVERSAL,se.Type.SET,!0,r.signerInfos)),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(r.type).getBytes()),o])},addSigner:function(i){var n=i.issuer,s=i.serialNumber;if(i.certificate){var o=i.certificate;typeof o=="string"&&(o=Ve.pki.certificateFromPem(o)),n=o.issuer.attributes,s=o.serialNumber}var a=i.key;if(!a)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof a=="string"&&(a=Ve.pki.privateKeyFromPem(a));var c=i.digestAlgorithm||Ve.pki.oids.sha1;switch(c){case Ve.pki.oids.sha1:case Ve.pki.oids.sha256:case Ve.pki.oids.sha384:case Ve.pki.oids.sha512:case Ve.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+c)}var u=i.authenticatedAttributes||[];if(u.length>0){for(var f=!1,l=!1,d=0;d<u.length;++d){var p=u[d];if(!f&&p.type===Ve.pki.oids.contentType){if(f=!0,l)break;continue}if(!l&&p.type===Ve.pki.oids.messageDigest){if(l=!0,f)break;continue}}if(!f||!l)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}r.signers.push({key:a,version:1,issuer:n,serialNumber:s,digestAlgorithm:c,signatureAlgorithm:Ve.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:u,unauthenticatedAttributes:[]})},sign:function(i){if(i=i||{},(typeof r.content!="object"||r.contentInfo===null)&&(r.contentInfo=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(Ve.pki.oids.data).getBytes())]),"content"in r)){var n;r.content instanceof Ve.util.ByteBuffer?n=r.content.bytes():typeof r.content=="string"&&(n=Ve.util.encodeUtf8(r.content)),i.detached?r.detachedContent=se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,n):r.contentInfo.value.push(se.create(se.Class.CONTEXT_SPECIFIC,0,!0,[se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,n)]))}if(r.signers.length!==0){var s=e();t(s)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(i){typeof i=="string"&&(i=Ve.pki.certificateFromPem(i)),r.certificates.push(i)},addCertificateRevokationList:function(i){throw new Error("PKCS#7 CRL support not yet implemented.")}},r;function e(){for(var i={},n=0;n<r.signers.length;++n){var s=r.signers[n],o=s.digestAlgorithm;o in i||(i[o]=Ve.md[Ve.pki.oids[o]].create()),s.authenticatedAttributes.length===0?s.md=i[o]:s.md=Ve.md[Ve.pki.oids[o]].create()}r.digestAlgorithmIdentifiers=[];for(var o in i)r.digestAlgorithmIdentifiers.push(se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(o).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.NULL,!1,"")]));return i}function t(i){var n;if(r.detachedContent?n=r.detachedContent:(n=r.contentInfo.value[1],n=n.value[0]),!n)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var s=se.derToOid(r.contentInfo.value[0].value),o=se.toDer(n);o.getByte(),se.getBerValueLength(o),o=o.getBytes();for(var a in i)i[a].start().update(o);for(var c=new Date,u=0;u<r.signers.length;++u){var f=r.signers[u];if(f.authenticatedAttributes.length===0){if(s!==Ve.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{f.authenticatedAttributesAsn1=se.create(se.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var l=se.create(se.Class.UNIVERSAL,se.Type.SET,!0,[]),d=0;d<f.authenticatedAttributes.length;++d){var p=f.authenticatedAttributes[d];p.type===Ve.pki.oids.messageDigest?p.value=i[f.digestAlgorithm].digest():p.type===Ve.pki.oids.signingTime&&(p.value||(p.value=c)),l.value.push(aN(p)),f.authenticatedAttributesAsn1.value.push(aN(p))}o=se.toDer(l).getBytes(),f.md.start().update(o)}f.signature=f.key.sign(f.md,"RSASSA-PKCS1-V1_5")}r.signerInfos=JNt(r.signers)}};as.createEncryptedData=function(){var r=null;return r={type:Ve.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:Ve.pki.oids["aes256-CBC"]},fromAsn1:function(e){cN(r,e,as.asn1.encryptedDataValidator)},decrypt:function(e){e!==void 0&&(r.encryptedContent.key=e),kSe(r)}},r};as.createEnvelopedData=function(){var r=null;return r={type:Ve.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:Ve.pki.oids["aes256-CBC"]},fromAsn1:function(e){var t=cN(r,e,as.asn1.envelopedDataValidator);r.recipients=ZNt(t.recipientInfos.value)},toAsn1:function(){return se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(r.type).getBytes()),se.create(se.Class.CONTEXT_SPECIFIC,0,!0,[se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,se.integerToDer(r.version).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.SET,!0,QNt(r.recipients)),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,ePt(r.encryptedContent))])])])},findRecipient:function(e){for(var t=e.issuer.attributes,i=0;i<r.recipients.length;++i){var n=r.recipients[i],s=n.issuer;if(n.serialNumber===e.serialNumber&&s.length===t.length){for(var o=!0,a=0;a<t.length;++a)if(s[a].type!==t[a].type||s[a].value!==t[a].value){o=!1;break}if(o)return n}}return null},decrypt:function(e,t){if(r.encryptedContent.key===void 0&&e!==void 0&&t!==void 0)switch(e.encryptedContent.algorithm){case Ve.pki.oids.rsaEncryption:case Ve.pki.oids.desCBC:var i=t.decrypt(e.encryptedContent.content);r.encryptedContent.key=Ve.util.createBuffer(i);break;default:throw new Error("Unsupported asymmetric cipher, OID "+e.encryptedContent.algorithm)}kSe(r)},addRecipient:function(e){r.recipients.push({version:0,issuer:e.issuer.attributes,serialNumber:e.serialNumber,encryptedContent:{algorithm:Ve.pki.oids.rsaEncryption,key:e.publicKey}})},encrypt:function(e,t){if(r.encryptedContent.content===void 0){t=t||r.encryptedContent.algorithm,e=e||r.encryptedContent.key;var i,n,s;switch(t){case Ve.pki.oids["aes128-CBC"]:i=16,n=16,s=Ve.aes.createEncryptionCipher;break;case Ve.pki.oids["aes192-CBC"]:i=24,n=16,s=Ve.aes.createEncryptionCipher;break;case Ve.pki.oids["aes256-CBC"]:i=32,n=16,s=Ve.aes.createEncryptionCipher;break;case Ve.pki.oids["des-EDE3-CBC"]:i=24,n=8,s=Ve.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+t)}if(e===void 0)e=Ve.util.createBuffer(Ve.random.getBytes(i));else if(e.length()!=i)throw new Error("Symmetric key has wrong length; got "+e.length()+" bytes, expected "+i+".");r.encryptedContent.algorithm=t,r.encryptedContent.key=e,r.encryptedContent.parameter=Ve.util.createBuffer(Ve.random.getBytes(n));var o=s(e);if(o.start(r.encryptedContent.parameter.copy()),o.update(r.content),!o.finish())throw new Error("Symmetric encryption failed.");r.encryptedContent.content=o.output}for(var a=0;a<r.recipients.length;++a){var c=r.recipients[a];if(c.encryptedContent.content===void 0)switch(c.encryptedContent.algorithm){case Ve.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(r.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}},r};function tPt(r){var e={},t=[];if(!se.validate(r,as.asn1.recipientInfoValidator,e,t)){var i=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw i.errors=t,i}return{version:e.version.charCodeAt(0),issuer:Ve.pki.RDNAttributesAsArray(e.issuer),serialNumber:Ve.util.createBuffer(e.serial).toHex(),encryptedContent:{algorithm:se.derToOid(e.encAlgorithm),parameter:e.encParameter.value,content:e.encKey}}}function rPt(r){return se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,se.integerToDer(r.version).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[Ve.pki.distinguishedNameToAsn1({attributes:r.issuer}),se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,Ve.util.hexToBytes(r.serialNumber))]),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(r.encryptedContent.algorithm).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.NULL,!1,"")]),se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,r.encryptedContent.content)])}function ZNt(r){for(var e=[],t=0;t<r.length;++t)e.push(tPt(r[t]));return e}function QNt(r){for(var e=[],t=0;t<r.length;++t)e.push(rPt(r[t]));return e}function iPt(r){var e=se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,se.integerToDer(r.version).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[Ve.pki.distinguishedNameToAsn1({attributes:r.issuer}),se.create(se.Class.UNIVERSAL,se.Type.INTEGER,!1,Ve.util.hexToBytes(r.serialNumber))]),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(r.digestAlgorithm).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.NULL,!1,"")])]);if(r.authenticatedAttributesAsn1&&e.value.push(r.authenticatedAttributesAsn1),e.value.push(se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(r.signatureAlgorithm).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.NULL,!1,"")])),e.value.push(se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,r.signature)),r.unauthenticatedAttributes.length>0){for(var t=se.create(se.Class.CONTEXT_SPECIFIC,1,!0,[]),i=0;i<r.unauthenticatedAttributes.length;++i){var n=r.unauthenticatedAttributes[i];t.values.push(aN(n))}e.value.push(t)}return e}function JNt(r){for(var e=[],t=0;t<r.length;++t)e.push(iPt(r[t]));return e}function aN(r){var e;if(r.type===Ve.pki.oids.contentType)e=se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(r.value).getBytes());else if(r.type===Ve.pki.oids.messageDigest)e=se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,r.value.bytes());else if(r.type===Ve.pki.oids.signingTime){var t=new Date("1950-01-01T00:00:00Z"),i=new Date("2050-01-01T00:00:00Z"),n=r.value;if(typeof n=="string"){var s=Date.parse(n);isNaN(s)?n.length===13?n=se.utcTimeToDate(n):n=se.generalizedTimeToDate(n):n=new Date(s)}n>=t&&n<i?e=se.create(se.Class.UNIVERSAL,se.Type.UTCTIME,!1,se.dateToUtcTime(n)):e=se.create(se.Class.UNIVERSAL,se.Type.GENERALIZEDTIME,!1,se.dateToGeneralizedTime(n))}return se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(r.type).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.SET,!0,[e])])}function ePt(r){return[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(Ve.pki.oids.data).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.SEQUENCE,!0,[se.create(se.Class.UNIVERSAL,se.Type.OID,!1,se.oidToDer(r.algorithm).getBytes()),se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,r.parameter.getBytes())]),se.create(se.Class.CONTEXT_SPECIFIC,0,!0,[se.create(se.Class.UNIVERSAL,se.Type.OCTETSTRING,!1,r.content.getBytes())])]}function cN(r,e,t){var i={},n=[];if(!se.validate(e,t,i,n)){var s=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw s.errors=s,s}var o=se.derToOid(i.contentType);if(o!==Ve.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(i.encryptedContent){var a="";if(Ve.util.isArray(i.encryptedContent))for(var c=0;c<i.encryptedContent.length;++c){if(i.encryptedContent[c].type!==se.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");a+=i.encryptedContent[c].value}else a=i.encryptedContent;r.encryptedContent={algorithm:se.derToOid(i.encAlgorithm),parameter:Ve.util.createBuffer(i.encParameter.value),content:Ve.util.createBuffer(a)}}if(i.content){var a="";if(Ve.util.isArray(i.content))for(var c=0;c<i.content.length;++c){if(i.content[c].type!==se.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");a+=i.content[c].value}else a=i.content;r.content=Ve.util.createBuffer(a)}return r.version=i.version.charCodeAt(0),r.rawCapture=i,i}function kSe(r){if(r.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(r.content===void 0){var e;switch(r.encryptedContent.algorithm){case Ve.pki.oids["aes128-CBC"]:case Ve.pki.oids["aes192-CBC"]:case Ve.pki.oids["aes256-CBC"]:e=Ve.aes.createDecryptionCipher(r.encryptedContent.key);break;case Ve.pki.oids.desCBC:case Ve.pki.oids["des-EDE3-CBC"]:e=Ve.des.createDecryptionCipher(r.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+r.encryptedContent.algorithm)}if(e.start(r.encryptedContent.parameter),e.update(r.encryptedContent.content),!e.finish())throw new Error("Symmetric decryption failed.");r.content=e.output}}});var TSe=h((uN,fN)=>{"use strict";oN();var nPt=Et(),ISe=nPt.pki;uN=fN.exports;uN.certificateForKey=(r,e)=>{let t=ISe.setRsaPublicKey(e.n,e.e),i=ISe.createCertificate();i.publicKey=t,i.serialNumber="01",i.validity.notBefore=new Date,i.validity.notAfter=new Date,i.validity.notAfter.setFullYear(i.validity.notBefore.getFullYear()+10);let n=[{name:"organizationName",value:"ipfs"},{shortName:"OU",value:"keystore"},{name:"commonName",value:r.id}];return i.setSubject(n),i.setIssuer(n),i.setExtensions([{name:"basicConstraints",cA:!0},{name:"keyUsage",keyCertSign:!0,digitalSignature:!0,nonRepudiation:!0,keyEncipherment:!0,dataEncipherment:!0},{name:"extKeyUsage",serverAuth:!0,clientAuth:!0,codeSigning:!0,emailProtection:!0,timeStamping:!0},{name:"nsCertType",client:!0,server:!0,email:!0,objsign:!0,sslCA:!0,emailCA:!0,objCA:!0}]),i.sign(e),i};async function sPt(r,e){let t=r.map(e),n=(await Promise.all(t)).findIndex(s=>s);return r[n]}fN.exports.findAsync=sPt});var CSe=h((Pyr,RSe)=>{"use strict";ASe();wA();var N0=Et(),{certificateForKey:oPt,findAsync:aPt}=TSe(),gb=qe(),qSe=Ah(),cPt=x3(),lN=new WeakMap,BSe=class{constructor(e,t){if(!e)throw gb(new Error("keychain is required"),"ERR_KEYCHAIN_REQUIRED");this.keychain=e,lN.set(this,{dek:t})}async encrypt(e,t){if(!(t instanceof Uint8Array))throw gb(new Error("Plain data must be a Uint8Array"),"ERR_INVALID_PARAMS");let i=await this.keychain.findKeyByName(e),n=await this.keychain._getPrivateKey(e),s=lN.get(this).dek,o=N0.pki.decryptRsaPrivateKey(n,s),a=await oPt(i,o),c=N0.pkcs7.createEnvelopedData();c.addRecipient(a),c.content=N0.util.createBuffer(t),c.encrypt();let u=N0.asn1.toDer(c.toAsn1()).getBytes();return qSe(u,"ascii")}async decrypt(e){if(!(e instanceof Uint8Array))throw gb(new Error("CMS data is required"),"ERR_INVALID_PARAMS");let t;try{let u=N0.util.createBuffer(cPt(e,"ascii")),f=N0.asn1.fromDer(u);t=N0.pkcs7.messageFromAsn1(f)}catch(u){throw gb(new Error("Invalid CMS: "+u.message),"ERR_INVALID_CMS")}let i=t.recipients.filter(u=>u.issuer.find(f=>f.shortName==="O"&&f.value==="ipfs")).filter(u=>u.issuer.find(f=>f.shortName==="CN")).map(u=>({recipient:u,keyId:u.issuer.find(f=>f.shortName==="CN").value})),n=await aPt(i,async u=>{try{if(await this.keychain.findKeyById(u.keyId))return!0}catch(f){return!1}return!1});if(!n){let u=i.map(f=>f.keyId);throw gb(new Error("Decryption needs one of the key(s): "+u.join(", ")),"ERR_MISSING_KEYS",{missingKeys:u})}let s=await this.keychain.findKeyById(n.keyId);if(!s)throw gb(new Error("No key available to decrypto"),"ERR_NO_KEY");let o=await this.keychain._getPrivateKey(s.name),a=lN.get(this).dek,c=N0.pki.decryptRsaPrivateKey(o,a);return t.decrypt(n.recipient,c),qSe(t.content.getBytes(),"ascii")}};RSe.exports=BSe});var OSe=h((Dyr,MSe)=>{"use strict";var uPt=uSe(),fPt=hi(),R3=pc(),{Key:NSe}=ur(),lPt=CSe(),oi=qe(),mb=x3(),Mh=Ah();jw();var hPt="/pkcs8/",PSe="/info/",xb=new WeakMap,Nh={minKeyLength:112/8,minSaltLength:128/8,minIterationCount:1e3},hN={dek:{keyLength:512/8,iterationCount:1e4,salt:"you should override this value with a crypto secure random number",hash:"sha2-512"}};function Ju(r){return!r||typeof r!="string"?!1:r===uPt(r.trim())}async function Ar(r){let e=200,t=1e3,i=Math.random()*(t-e)+e;throw await new Promise(n=>setTimeout(n,i)),r}function P0(r){return new NSe(hPt+r)}function Ph(r){return new NSe(PSe+r)}var DSe=class{constructor(e,t){if(!e)throw new Error("store is required");if(this.store=e,this.opts=fPt(hN,t),this.opts.passPhrase&&this.opts.passPhrase.length<20)throw new Error("passPhrase must be least 20 characters");if(this.opts.dek.keyLength<Nh.minKeyLength)throw new Error(`dek.keyLength must be least ${Nh.minKeyLength} bytes`);if(this.opts.dek.salt.length<Nh.minSaltLength)throw new Error(`dek.saltLength must be least ${Nh.minSaltLength} bytes`);if(this.opts.dek.iterationCount<Nh.minIterationCount)throw new Error(`dek.iterationCount must be least ${Nh.minIterationCount}`);let i=this.opts.passPhrase?R3.pbkdf2(this.opts.passPhrase,this.opts.dek.salt,this.opts.dek.iterationCount,this.opts.dek.keyLength,this.opts.dek.hash):"";xb.set(this,{dek:i})}get cms(){return new lPt(this,xb.get(this).dek)}static generateOptions(){let e=Object.assign({},hN),t=Math.ceil(Nh.minSaltLength/3)*3;return e.dek.salt=mb(R3.randomBytes(t),"base64"),e}static get options(){return hN}async createKey(e,t,i=2048){let n=this;if(!Ju(e)||e==="self")return Ar(oi(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(typeof t!="string")return Ar(oi(new Error(`Invalid key type '${t}'`),"ERR_INVALID_KEY_TYPE"));let s=P0(e);if(await n.store.has(s))return Ar(oi(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS"));switch(t.toLowerCase()){case"rsa":if(!Number.isSafeInteger(i)||i<2048)return Ar(oi(new Error(`Invalid RSA key size ${i}`),"ERR_INVALID_KEY_SIZE"));break;default:break}let a;try{let c=await R3.keys.generateKeyPair(t,i),u=await c.id(),f=xb.get(this).dek,l=await c.export(f);a={name:e,id:u};let d=n.store.batch();d.put(s,Mh(l)),d.put(Ph(e),Mh(JSON.stringify(a))),await d.commit()}catch(c){return Ar(c)}return a}async listKeys(){let e=this,t={prefix:PSe},i=[];for await(let n of e.store.query(t))i.push(JSON.parse(mb(n.value)));return i}async findKeyById(e){try{return(await this.listKeys()).find(i=>i.id===e)}catch(t){return Ar(t)}}async findKeyByName(e){if(!Ju(e))return Ar(oi(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));let t=Ph(e);try{let i=await this.store.get(t);return JSON.parse(mb(i))}catch(i){return Ar(oi(new Error(`Key '${e}' does not exist. ${i.message}`),"ERR_KEY_NOT_FOUND"))}}async removeKey(e){let t=this;if(!Ju(e)||e==="self")return Ar(oi(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));let i=P0(e),n=await t.findKeyByName(e),s=t.store.batch();return s.delete(i),s.delete(Ph(e)),await s.commit(),n}async renameKey(e,t){let i=this;if(!Ju(e)||e==="self")return Ar(oi(new Error(`Invalid old key name '${e}'`),"ERR_OLD_KEY_NAME_INVALID"));if(!Ju(t)||t==="self")return Ar(oi(new Error(`Invalid new key name '${t}'`),"ERR_NEW_KEY_NAME_INVALID"));let n=P0(e),s=P0(t),o=Ph(e),a=Ph(t);if(await i.store.has(s))return Ar(oi(new Error(`Key '${t}' already exists`),"ERR_KEY_ALREADY_EXISTS"));try{let u=await i.store.get(n),f=await i.store.get(o),l=JSON.parse(mb(f));l.name=t;let d=i.store.batch();return d.put(s,u),d.put(a,Mh(JSON.stringify(l))),d.delete(n),d.delete(o),await d.commit(),l}catch(u){return Ar(u)}}async exportKey(e,t){if(!Ju(e))return Ar(oi(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t)return Ar(oi(new Error("Password is required"),"ERR_PASSWORD_REQUIRED"));let i=P0(e);try{let n=await this.store.get(i),s=mb(n),o=xb.get(this).dek;return(await R3.keys.import(s,o)).export(t)}catch(n){return Ar(n)}}async importKey(e,t,i){let n=this;if(!Ju(e)||e==="self")return Ar(oi(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t)return Ar(oi(new Error("PEM encoded key is required"),"ERR_PEM_REQUIRED"));let s=P0(e);if(await n.store.has(s))return Ar(oi(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS"));let a;try{a=await R3.keys.import(t,i)}catch(l){return Ar(oi(new Error("Cannot read the key, most likely the password is wrong"),"ERR_CANNOT_READ_KEY"))}let c;try{c=await a.id();let l=xb.get(this).dek;t=await a.export(l)}catch(l){return Ar(l)}let u={name:e,id:c},f=n.store.batch();return f.put(s,Mh(t)),f.put(Ph(e),Mh(JSON.stringify(u))),await f.commit(),u}async importPeer(e,t){let i=this;if(!Ju(e))return Ar(oi(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));if(!t||!t.privKey)return Ar(oi(new Error("Peer.privKey is required"),"ERR_MISSING_PRIVATE_KEY"));let n=t.privKey,s=P0(e);if(await i.store.has(s))return Ar(oi(new Error(`Key '${e}' already exists`),"ERR_KEY_ALREADY_EXISTS"));try{let a=await n.id(),c=xb.get(this).dek,u=await n.export(c),f={name:e,id:a},l=i.store.batch();return l.put(s,Mh(u)),l.put(Ph(e),Mh(JSON.stringify(f))),await l.commit(),f}catch(a){return Ar(a)}}async _getPrivateKey(e){if(!Ju(e))return Ar(oi(new Error(`Invalid key name '${e}'`),"ERR_INVALID_KEY_NAME"));try{let t=P0(e),i=await this.store.get(t);return mb(i)}catch(t){return Ar(oi(new Error(`Key '${e}' does not exist. ${t.message}`),"ERR_KEY_NOT_FOUND"))}}};MSe.exports=DSe});var FSe=h((Oyr,LSe)=>{"use strict";var dPt=sg();LSe.exports=r=>{let e=dPt(r);return e.delete=e.remove,e}});var dN=h((USe,zSe)=>{"use strict";var pPt=Math.exp;USe=zSe.exports=function(e){if(typeof e!="number")throw new Error("must provide a timespan to the moving average constructor");if(e<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let t,i=0,n=0,s=0,o,a={};function c(u,f){return 1-pPt(-(u-f)/e)}return a.push=function(f,l){if(o){let d=c(f,o),p=l-t,b=d*p;t=d*l+(1-d)*t,i=(1-d)*(i+p*b),n=Math.sqrt(i),s=t+d*p}else t=l;o=f},a.movingAverage=function(){return t},a.variance=function(){return i},a.deviation=function(){return n},a.forecast=function(){return s},a}});var GSe=h((Lyr,KSe)=>{"use strict";var bPt=Pr(),VSe=pa(),jSe=dN(),yPt=W4(),HSe=class extends bPt{constructor(e,t){super();this._options=t,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this);let i=this._options.movingAverageIntervals;for(var n=0;n<e.length;n++){var s=e[n];this._stats[s]=VSe(0),this._movingAverages[s]={};for(var o=0;o<i.length;o++){var a=i[o],c=this._movingAverages[s][a]=jSe(a);c.push(this._frequencyLastTime,0)}}}start(){this._queue.length&&this._resetComputeTimeout()}stop(){this._timeout&&(this._timeout.clear(),this._timeout=null)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}toJSON(){let e=this.snapshot,t=this.movingAverages,i={dataReceived:e.dataReceived.toString(),dataSent:e.dataSent.toString(),movingAverages:{}},n=Object.keys(t);for(let s of n){i.movingAverages[s]={};for(let o of Object.keys(t[s]))i.movingAverages[s][o]=t[s][o].movingAverage()}return i}push(e,t){this._queue.push([e,t,Date.now()]),this._resetComputeTimeout()}_resetComputeTimeout(){this._timeout=yPt(this._update,this._nextTimeout())}_nextTimeout(){let e=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-e),0)}_update(){if(this._timeout=null,this._queue.length){let e;for(e of this._queue)this._applyOp(e);this._queue=[],this._updateFrequency(e[2]),this.emit("update",this._stats)}}_updateFrequency(e){let t=e-this._frequencyLastTime;Object.keys(this._stats).forEach(i=>{this._updateFrequencyFor(i,t,e)}),this._frequencyLastTime=e}_updateFrequencyFor(e,t,i){let n=this._frequencyAccumulators[e]||0;this._frequencyAccumulators[e]=0;let o=n/(t||1)*1e3,a=this._movingAverages[e];a||(a=this._movingAverages[e]={});let c=this._options.movingAverageIntervals;for(var u=0;u<c.length;u++){var f=c[u],l=a[f];l||(l=a[f]=jSe(f)),l.push(i,o)}}_applyOp(e){let t=e[0],i=e[1];if(typeof i!="number")throw new Error(`invalid increment number: ${i}`);let n;Object.prototype.hasOwnProperty.call(this._stats,t)?n=this._stats[t]:n=this._stats[t]=VSe(0),this._stats[t]=n.plus(i),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=i}};KSe.exports=HSe});var YSe=h((Fyr,$Se)=>{"use strict";var gPt=hi(),{pipe:mPt}=yi(),{tap:WSe}=f0(),xPt=FSe(),{METRICS:wPt}=dE(),pN=GSe(),bN=["dataReceived","dataSent"],vPt={in:"dataReceived",out:"dataSent"},kE=class{constructor(e){this._options=gPt(wPt,e),this._globalStats=new pN(bN,this._options),this._peerStats=new Map,this._protocolStats=new Map,this._oldPeers=xPt(this._options.maxOldPeersRetention),this._running=!1,this._onMessage=this._onMessage.bind(this),this._connectionManager=e.connectionManager,this._connectionManager.on("peer:disconnect",t=>{this.onPeerDisconnected(t.remotePeer)})}start(){this._running=!0}stop(){this._running=!1,this._globalStats.stop();for(let e of this._peerStats.values())e.stop();for(let e of this._protocolStats.values())e.stop()}get global(){return this._globalStats}get peers(){return Array.from(this._peerStats.keys())}forPeer(e){let t=e.toB58String();return this._peerStats.get(t)||this._oldPeers.get(t)}get protocols(){return Array.from(this._protocolStats.keys())}forProtocol(e){return this._protocolStats.get(e)}onPeerDisconnected(e){let t=e.toB58String(),i=this._peerStats.get(t);i&&(i.stop(),this._peerStats.delete(t),this._oldPeers.set(t,i))}_onMessage({remotePeer:e,protocol:t,direction:i,dataLength:n}){if(!this._running)return;let s=vPt[i],o=this.forPeer(e);if(o||(o=new pN(bN,this._options),this._peerStats.set(e.toB58String(),o)),o.push(s,n),this._globalStats.push(s,n),t){let a=this.forProtocol(t);a||(a=new pN(bN,this._options),this._protocolStats.set(t,a)),a.push(s,n)}}updatePlaceholder(e,t){if(!this._running)return;let i=this.forPeer(e),n=t.toB58String(),s=this.forPeer(t),o=i;s&&(o=kE.mergeStats(s,o),this._oldPeers.delete(n)),this._peerStats.delete(e.toB58String()),this._peerStats.set(n,o),o.start()}trackStream({stream:e,remotePeer:t,protocol:i}){let n=this,s=e.source;e.source=WSe(a=>n._onMessage({remotePeer:t,protocol:i,direction:"in",dataLength:a.length}))(s);let o=e.sink;return e.sink=a=>mPt(a,WSe(c=>n._onMessage({remotePeer:t,protocol:i,direction:"out",dataLength:c.length})),o),e}static mergeStats(e,t){return e.stop(),t.stop(),e._queue=[...e._queue,...t._queue],e}};$Se.exports=kE});var yN=h((Uyr,XSe)=>{"use strict";var{TextEncoder:EPt,TextDecoder:_Pt}=ct(),SPt=new _Pt,kPt=r=>SPt.decode(r),APt=new EPt,IPt=r=>APt.encode(r);function TPt(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}XSe.exports={decodeText:kPt,encodeText:IPt,concat:TPt}});var QSe=h((zyr,JSe)=>{"use strict";var{encodeText:RPt}=yN(),ZSe=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=RPt(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};JSe.exports=ZSe});var tke=h((Kyr,eke)=>{"use strict";var qPt=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},BPt=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},CPt=r=>e=>({encode(t){return BPt(t,e,r)},decode(t){return qPt(t,e,r)}});eke.exports={rfc4648:CPt}});var ske=h((Vyr,rke)=>{"use strict";var q3=ri(),MPt=QSe(),{rfc4648:Rn}=tke(),{decodeText:NPt,encodeText:PPt}=yN(),DPt=()=>({encode:NPt,decode:PPt}),ike=[["identity","\0",DPt,""],["base2","0",Rn(1),"01"],["base8","7",Rn(3),"01234567"],["base10","9",q3,"0123456789"],["base16","f",Rn(4),"0123456789abcdef"],["base16upper","F",Rn(4),"0123456789ABCDEF"],["base32hex","v",Rn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",Rn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",Rn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",Rn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",Rn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",Rn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",Rn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",Rn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",Rn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",q3,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",q3,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",q3,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",q3,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",Rn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",Rn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",Rn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",Rn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],nke=ike.reduce((r,e)=>(r[e[0]]=new MPt(e[0],e[1],e[2],e[3]),r),{}),OPt=ike.reduce((r,e)=>(r[e[1]]=nke[e[0]],r),{});rke.exports={names:nke,codes:OPt}});var ake=h((jyr,oke)=>{"use strict";var{names:LPt}=ske(),{TextEncoder:FPt}=ct(),UPt=new FPt;function zPt(r){let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function KPt(r,e="utf8"){if(e==="utf8"||e==="utf-8")return UPt.encode(r);if(e==="ascii")return zPt(r);let t=LPt[e];if(!t)throw new Error("Unknown base");return t.decode(r)}oke.exports=KPt});var AE=h(Dh=>{"use strict";var cke=Lo(),uke=Ko(),VPt=yi(),jPt=qe(),HPt=ake(),fke=HPt(`
`);async function GPt(r){for await(let e of r)return e}Dh.encode=r=>uke.encode.single(new cke([r,fke]));Dh.write=(r,e)=>r.push(Dh.encode(e));Dh.writeAll=(r,e)=>{r.push(e.reduce((t,i)=>t.append(Dh.encode(i)),new cke))};Dh.read=async r=>{let e=1,t={[Symbol.asyncIterator](){return this},next:()=>r.next(e)},i=s=>{e=s},n=await VPt(t,uke.decode({onLength:i}),GPt);if(n.get(n.length-1)!==fke[0])throw jPt(new Error("missing newline"),"ERR_INVALID_MULTISTREAM_SELECT_MESSAGE");return n.shallowSlice(0,-1)}});var hke=h((Gyr,lke)=>{"use strict";var wb=De()("mss:select"),$Pt=qe(),vb=AE(),WPt=hb();lke.exports=async(r,e,t)=>{e=Array.isArray(e)?[...e]:[e];let{reader:i,writer:n,rest:s,stream:o}=WPt(r),a=e.shift();t?(wb('select: write ["%s", "%s"]',t,a),vb.writeAll(n,[t,a])):(wb('select: write "%s"',a),vb.write(n,a));let c=(await vb.read(i)).toString();if(wb('select: read "%s"',c),c===t&&(c=(await vb.read(i)).toString(),wb('select: read "%s"',c)),c===a)return s(),{stream:o,protocol:a};for(let u of e){wb('select: write "%s"',u),vb.write(n,u);let f=(await vb.read(i)).toString();if(wb('select: read "%s" for "%s"',f,u),f===u)return s(),{stream:o,protocol:u}}throw s(),$Pt(new Error("protocol selection failed"),"ERR_UNSUPPORTED_PROTOCOL")}});var gN=h(dke=>{"use strict";dke.PROTOCOL_ID="/multistream/1.0.0"});var bke=h((Wyr,pke)=>{"use strict";var B3=De()("mss:handle"),YPt=Lo(),Eb=AE(),XPt=hb(),{PROTOCOL_ID:mN}=gN();pke.exports=async(r,e)=>{e=Array.isArray(e)?e:[e];let{writer:t,reader:i,rest:n,stream:s}=XPt(r);for(;;){let o=(await Eb.read(i)).toString();if(B3('read "%s"',o),o===mN){B3('respond with "%s" for "%s"',mN,o),Eb.write(t,mN);continue}if(e.includes(o))return Eb.write(t,o),B3('respond with "%s" for "%s"',o,o),n(),{stream:s,protocol:o};if(o==="ls"){Eb.write(t,new YPt(e.map(a=>Eb.encode(a)))),B3('respond with "%s" for %s',e,o);continue}Eb.write(t,"na"),B3('respond with "na" for "%s"',o)}}});var mke=h((Yyr,yke)=>{"use strict";var JPt=jM(),ZPt=De()("it-multistream-select:ls"),gke=AE(),QPt=hb(),eDt=Ko(),tDt=yi();yke.exports=async r=>{let{reader:e,writer:t,rest:i,stream:n}=QPt(r);ZPt('write "ls"'),gke.write(t,"ls"),i();let s=await gke.read(e),o=JPt([s]),a=[];return await tDt(o,eDt.decode(),async c=>{for await(let u of c)a.push(u.shallowSlice(0,-1).toString())}),{stream:n,protocols:a}}});var Eke=h(IE=>{"use strict";var xke=hke(),rDt=bke(),iDt=mke(),{PROTOCOL_ID:xN}=gN();IE.PROTOCOL_ID=xN;var wN=class{constructor(e){this._stream=e,this._shaken=!1}async _handshake(){if(this._shaken)return;let{stream:e}=await xke(this._stream,xN);this._stream=e,this._shaken=!0}},wke=class extends wN{select(e){return xke(this._stream,e,this._shaken?null:xN)}async ls(){await this._handshake();let{stream:e,protocols:t}=await iDt(this._stream);return this._stream=e,t}};IE.Dialer=wke;var vke=class extends wN{handle(e){return rDt(this._stream,e)}};IE.Listener=vke});var Ske=h((Jyr,_ke)=>{"use strict";var nDt={OPEN:"open",CLOSING:"closing",CLOSED:"closed"};_ke.exports=nDt});var qke=h((Zyr,kke)=>{"use strict";var Ake=yt(),sDt=tr(),ro=qe(),{OPEN:oDt,CLOSING:Ike,CLOSED:vN}=Ske(),Tke=Symbol.for("@libp2p/interface-connection/connection"),Rke=class{constructor({localAddr:e,remoteAddr:t,localPeer:i,remotePeer:n,newStream:s,close:o,getStreams:a,stat:c}){aDt(e,i,n,s,o,a,c),this.id=parseInt(String(Math.random()*1e9)).toString(36)+Date.now(),this.localAddr=e,this.remoteAddr=t,this.localPeer=i,this.remotePeer=n,this._stat={...c,status:oDt},this._newStream=s,this._close=o,this._getStreams=a,this.registry=new Map,this.tags=[]}get[Symbol.toStringTag](){return"Connection"}get[Tke](){return!0}static isConnection(e){return Boolean(e&&e[Tke])}get stat(){return this._stat}get streams(){return this._getStreams()}async newStream(e){if(this.stat.status===Ike)throw ro(new Error("the connection is being closed"),"ERR_CONNECTION_BEING_CLOSED");if(this.stat.status===vN)throw ro(new Error("the connection is closed"),"ERR_CONNECTION_CLOSED");Array.isArray(e)||(e=[e]);let{stream:t,protocol:i}=await this._newStream(e);return this.addStream(t,{protocol:i}),{stream:t,protocol:i}}addStream(e,{protocol:t,metadata:i={}}){this.registry.set(e.id,{protocol:t,...i})}removeStream(e){this.registry.delete(e)}async close(){if(this.stat.status!==vN){if(this._closing)return this._closing;this.stat.status=Ike,this._closing=await this._close(),this._stat.timeline.close=Date.now(),this.stat.status=vN}}};kke.exports=Rke;function aDt(r,e,t,i,n,s,o){if(r&&!sDt.isMultiaddr(r))throw ro(new Error("localAddr must be an instance of multiaddr"),"ERR_INVALID_PARAMETERS");if(!Ake.isPeerId(e))throw ro(new Error("localPeer must be an instance of peer-id"),"ERR_INVALID_PARAMETERS");if(!Ake.isPeerId(t))throw ro(new Error("remotePeer must be an instance of peer-id"),"ERR_INVALID_PARAMETERS");if(typeof i!="function")throw ro(new Error("new stream must be a function"),"ERR_INVALID_PARAMETERS");if(typeof n!="function")throw ro(new Error("close must be a function"),"ERR_INVALID_PARAMETERS");if(typeof s!="function")throw ro(new Error("getStreams must be a function"),"ERR_INVALID_PARAMETERS");if(!o)throw ro(new Error("connection metadata object must be provided"),"ERR_INVALID_PARAMETERS");if(o.direction!=="inbound"&&o.direction!=="outbound")throw ro(new Error('direction must be "inbound" or "outbound"'),"ERR_INVALID_PARAMETERS");if(!o.timeline)throw ro(new Error("connection timeline object must be provided in the stat object"),"ERR_INVALID_PARAMETERS");if(!o.timeline.open)throw ro(new Error("connection open timestamp must be provided"),"ERR_INVALID_PARAMETERS");if(!o.timeline.upgraded)throw ro(new Error("connection upgraded timestamp must be provided"),"ERR_INVALID_PARAMETERS")}});var Cke=h(Bke=>{"use strict";Bke.Connection=qke()});var Nke=h((egr,Mke)=>{"use strict";function cDt(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}else return Array.from(r)}Mke.exports=function(e){var t=void 0,i=void 0;function n(a){if(!(a instanceof Object))throw new Error('Target "'+a+'" is not an object');i=a}function s(a){Object.keys(a).forEach(function(c){var u=a[c];if(typeof u!="function")throw new Error('Trap "'+c+": "+u+'" is not a function');if(!Reflect[c])throw new Error('Trap "'+c+": "+u+'" is not a valid trap')}),t=a}n(function(){}),e&&n(e),s(Reflect);var o=new Proxy({},{get:function(c,u){return function(){for(var f=arguments.length,l=Array(f),d=0;d<f;d++)l[d]=arguments[d];return t[u].apply(null,[i].concat(cDt(l.slice(1))))}}});return{setTarget:n,setHandler:s,getTarget:function(){return i},getHandler:function(){return t},proxy:new Proxy(i,o)}}});var Fke=h((tgr,Pke)=>{"use strict";var Dke=De(),Ai=Object.assign(Dke("libp2p:upgrader"),{error:Dke("libp2p:upgrader:err")}),_b=qe(),Sb=Eke(),{Connection:uDt}=Cke(),fDt=yt(),{pipe:lDt}=yi(),Oke=Nke(),{codes:C3}=ki(),Lke=class{constructor({localPeer:e,metrics:t,cryptos:i=new Map,muxers:n=new Map,onConnectionEnd:s=()=>{},onConnection:o=()=>{}}){this.localPeer=e,this.metrics=t,this.cryptos=i,this.muxers=n,this.protector=null,this.protocols=new Map,this.onConnection=o,this.onConnectionEnd=s}async upgradeInbound(e){let t,i,n,s,o,a,c;if(this.metrics){({setTarget:a,proxy:c}=Oke());let f=(Math.random()*1e9).toString(36)+Date.now();a({toB58String:()=>f}),e=this.metrics.trackStream({stream:e,remotePeer:c})}Ai("Starting the inbound connection upgrade");let u=e;this.protector&&(u=await this.protector.protect(e));try{({conn:t,remotePeer:i,protocol:o}=await this._encryptInbound(this.localPeer,u,this.cryptos)),this.muxers.size?{stream:n,Muxer:s}=await this._multiplexInbound(t,this.muxers):n=t}catch(f){throw Ai.error("Failed to upgrade inbound connection",f),await e.close(f),f}return this.metrics&&(this.metrics.updatePlaceholder(c,i),a(i)),Ai("Successfully upgraded inbound connection"),this._createConnection({cryptoProtocol:o,direction:"inbound",maConn:e,upgradedConn:n,Muxer:s,remotePeer:i})}async upgradeOutbound(e){let t=fDt.createFromB58String(e.remoteAddr.getPeerId()),i,n,s,o,a,c,u;if(this.metrics){({setTarget:c,proxy:u}=Oke());let l=(Math.random()*1e9).toString(36)+Date.now();c({toB58String:()=>l}),e=this.metrics.trackStream({stream:e,remotePeer:u})}Ai("Starting the outbound connection upgrade");let f=e;this.protector&&(f=await this.protector.protect(e));try{({conn:i,remotePeer:n,protocol:o}=await this._encryptOutbound(this.localPeer,f,t,this.cryptos)),this.muxers.size?{stream:s,Muxer:a}=await this._multiplexOutbound(i,this.muxers):s=i}catch(l){throw Ai.error("Failed to upgrade outbound connection",l),await e.close(l),l}return this.metrics&&(this.metrics.updatePlaceholder(u,n),c(n)),Ai("Successfully upgraded outbound connection"),this._createConnection({cryptoProtocol:o,direction:"outbound",maConn:e,upgradedConn:s,Muxer:a,remotePeer:n})}_createConnection({cryptoProtocol:e,direction:t,maConn:i,upgradedConn:n,Muxer:s,remotePeer:o}){let a,c,u;s&&(a=new s({onStream:async d=>{let p=new Sb.Listener(d);try{let{stream:b,protocol:g}=await p.handle(Array.from(this.protocols.keys()));Ai("%s: incoming stream opened on %s",t,g),this.metrics&&this.metrics.trackStream({stream:b,remotePeer:o,protocol:g}),u.addStream(d,{protocol:g}),this._onStream({connection:u,stream:{...d,...b},protocol:g})}catch(b){Ai.error(b)}},onStreamEnd:d=>{u.removeStream(d.id)}}),c=async d=>{Ai("%s: starting new stream on %s",t,d);let p=a.newStream(),b=new Sb.Dialer(p);try{let{stream:g,protocol:m}=await b.select(d);return this.metrics&&this.metrics.trackStream({stream:g,remotePeer:o,protocol:m}),{stream:{...p,...g},protocol:m}}catch(g){throw Ai.error("could not create new stream",g),_b(g,C3.ERR_UNSUPPORTED_PROTOCOL)}},lDt(n,a,n).catch(Ai.error));let f=i.timeline;i.timeline=new Proxy(f,{set:(...d)=>(u&&d[1]==="close"&&d[2]&&!f.close&&(async()=>{try{u.stat.status==="open"&&await u.close()}catch(p){Ai.error(p)}finally{this.onConnectionEnd(u)}})(),Reflect.set(...d))}),i.timeline.upgraded=Date.now();let l=()=>{throw _b(new Error("connection is not multiplexed"),"ERR_CONNECTION_NOT_MULTIPLEXED")};return u=new uDt({localAddr:i.localAddr,remoteAddr:i.remoteAddr,localPeer:this.localPeer,remotePeer:o,stat:{direction:t,timeline:i.timeline,multiplexer:s&&s.multicodec,encryption:e},newStream:c||l,getStreams:()=>a?a.streams:l,close:async d=>{await i.close(d),a&&a.streams.map(p=>p.abort(d))}}),this.onConnection(u),u}_onStream({connection:e,stream:t,protocol:i}){this.protocols.get(i)({connection:e,stream:t,protocol:i})}async _encryptInbound(e,t,i){let n=new Sb.Listener(t),s=Array.from(i.keys());Ai("handling inbound crypto protocol selection",s);try{let{stream:o,protocol:a}=await n.handle(s),c=i.get(a);if(Ai("encrypting inbound connection..."),!c)throw new Error(`no crypto module found for ${a}`);return{...await c.secureInbound(e,o),protocol:a}}catch(o){throw _b(o,C3.ERR_ENCRYPTION_FAILED)}}async _encryptOutbound(e,t,i,n){let s=new Sb.Dialer(t),o=Array.from(n.keys());Ai("selecting outbound crypto protocol",o);try{let{stream:a,protocol:c}=await s.select(o),u=n.get(c);if(Ai("encrypting outbound connection to %j",i),!u)throw new Error(`no crypto module found for ${c}`);return{...await u.secureOutbound(e,a,i),protocol:c}}catch(a){throw _b(a,C3.ERR_ENCRYPTION_FAILED)}}async _multiplexOutbound(e,t){let i=new Sb.Dialer(e),n=Array.from(t.keys());Ai("outbound selecting muxer %s",n);try{let{stream:s,protocol:o}=await i.select(n);Ai("%s selected as muxer protocol",o);let a=t.get(o);return{stream:s,Muxer:a}}catch(s){throw _b(s,C3.ERR_MUXER_UNAVAILABLE)}}async _multiplexInbound(e,t){let i=new Sb.Listener(e),n=Array.from(t.keys());Ai("inbound handling muxers %s",n);try{let{stream:s,protocol:o}=await i.handle(n),a=t.get(o);return{stream:s,Muxer:a}}catch(s){throw _b(s,C3.ERR_MUXER_UNAVAILABLE)}}};Pke.exports=Lke});var M3=h((rgr,Uke)=>{"use strict";var EN=qe(),zke=yt(),{codes:{ERR_INVALID_PARAMETERS:Kke}}=ki(),hDt=r=>r,Vke=class{constructor({peerStore:e,eventName:t,eventProperty:i,eventTransformer:n=hDt}){this._ps=e,this.eventName=t,this.eventProperty=i,this.eventTransformer=n,this.data=new Map}set(e,t){throw EN(new Error("set must be implemented by the subclass"),"ERR_NOT_IMPLEMENTED")}_setData(e,t,{emit:i=!0}={}){let n=e.toB58String();this.data.set(n,t),i&&this._emit(e,t)}_emit(e,t){this._ps.emit(this.eventName,{peerId:e,[this.eventProperty]:this.eventTransformer(t)})}get(e){if(!zke.isPeerId(e))throw EN(new Error("peerId must be an instance of peer-id"),Kke);let t=this.data.get(e.toB58String());return t?[...t]:void 0}delete(e){if(!zke.isPeerId(e))throw EN(new Error("peerId must be an instance of peer-id"),Kke);return this.data.delete(e.toB58String())?(this._emit(e,[]),!0):!1}};Uke.exports=Vke});var $ke=h((igr,jke)=>{"use strict";var Hke=De(),Ba=Object.assign(Hke("libp2p:peer-store:address-book"),{error:Hke("libp2p:peer-store:address-book:err")}),kb=qe(),dDt=tr(),TE=yt(),pDt=M3(),bDt=yE(),{codes:{ERR_INVALID_PARAMETERS:Ab}}=ki(),yDt=d3(),Gke=class extends pDt{constructor(e){super({peerStore:e,eventName:"change:multiaddrs",eventProperty:"multiaddrs",eventTransformer:t=>t.addresses?t.addresses.map(i=>i.multiaddr):[]});this.data=new Map}consumePeerRecord(e){let t;try{t=bDt.createFromProtobuf(e.payload)}catch(c){return Ba.error("invalid peer record received"),!1}if(!t.peerId.equals(e.peerId))return Ba("signing key does not match PeerId in the PeerRecord"),!1;if(!t.multiaddrs||!t.multiaddrs.length)return!1;let i=t.peerId,n=i.toB58String(),o=(this.data.get(n)||{record:void 0}).record;if(o&&o.seqNumber>=t.seqNumber)return!1;let a=this._toAddresses(t.multiaddrs,!0);return this._setData(i,{addresses:a,record:{raw:e.marshal(),seqNumber:t.seqNumber}}),Ba(`stored provided peer record for ${n}`),!0}getRawEnvelope(e){let t=this.data.get(e.toB58String());if(!(!t||!t.record||!t.record.raw))return t.record.raw}getPeerRecord(e){let t=this.getRawEnvelope(e);if(!!t)return yDt.createFromProtobuf(t)}set(e,t){if(!TE.isPeerId(e))throw Ba.error("peerId must be an instance of peer-id to store data"),kb(new Error("peerId must be an instance of peer-id"),Ab);let i=this._toAddresses(t);if(!i.length)return this;let n=e.toB58String(),s=this.data.get(n);return s&&s.addresses&&s.addresses.length===i.length&&s.addresses.filter(a=>i.some(c=>a.multiaddr.equals(c.multiaddr))).length===s.addresses.length?(Ba(`the addresses provided to store are equal to the already stored for ${n}`),this):(this._setData(e,{addresses:i,record:s&&s.record}),Ba(`stored provided multiaddrs for ${n}`),s||this._ps.emit("peer",e),this)}add(e,t){if(!TE.isPeerId(e))throw Ba.error("peerId must be an instance of peer-id to store data"),kb(new Error("peerId must be an instance of peer-id"),Ab);let i=this._toAddresses(t),n=e.toB58String(),s=this.data.get(n);return s&&s.addresses&&(s.addresses.forEach(o=>{i.find(a=>a.multiaddr.equals(o.multiaddr))||i.push(o)}),s.addresses.length===i.length)?(Ba(`the addresses provided to store are already stored for ${n}`),this):(this._setData(e,{addresses:i,record:s&&s.record}),Ba(`added provided multiaddrs for ${n}`),s&&s.addresses||this._ps.emit("peer",e),this)}get(e){if(!TE.isPeerId(e))throw kb(new Error("peerId must be an instance of peer-id"),Ab);let t=this.data.get(e.toB58String());return t&&t.addresses?[...t.addresses]:void 0}_toAddresses(e,t=!1){if(!e)throw Ba.error("multiaddrs must be provided to store data"),kb(new Error("multiaddrs must be provided"),Ab);let i=[];return e.forEach(n=>{if(!dDt.isMultiaddr(n))throw Ba.error(`multiaddr ${n} must be an instance of multiaddr`),kb(new Error(`multiaddr ${n} must be an instance of multiaddr`),Ab);i.push({multiaddr:n,isCertified:t})}),i}getMultiaddrsForPeer(e,t=i=>i){if(!TE.isPeerId(e))throw kb(new Error("peerId must be an instance of peer-id"),Ab);let i=this.data.get(e.toB58String());if(!(!i||!i.addresses))return t(i.addresses||[]).map(n=>{let s=n.multiaddr,o=s.getPeerId();return o&&o===e.toB58String()?s:s.encapsulate(`/p2p/${e.toB58String()}`)})}};jke.exports=Gke});var tAe=h((ngr,Wke)=>{"use strict";var Yke=De(),Xke=Object.assign(Yke("libp2p:peer-store:key-book"),{error:Yke("libp2p:peer-store:key-book:err")}),Jke=qe(),Zke=yt(),gDt=M3(),{codes:{ERR_INVALID_PARAMETERS:Qke}}=ki(),eAe=class extends gDt{constructor(e){super({peerStore:e,eventName:"change:pubkey",eventProperty:"pubkey",eventTransformer:t=>t.pubKey});this.data=new Map}set(e,t){if(!Zke.isPeerId(e))throw Xke.error("peerId must be an instance of peer-id to store data"),Jke(new Error("peerId must be an instance of peer-id"),Qke);let i=e.toB58String();return!this.data.get(i)&&t&&(e.pubKey=t,this._setData(e,e),Xke(`stored provided public key for ${i}`)),this}get(e){if(!Zke.isPeerId(e))throw Jke(new Error("peerId must be an instance of peer-id"),Qke);let t=this.data.get(e.toB58String());return t?t.pubKey:void 0}};Wke.exports=eAe});var sAe=h((sgr,rAe)=>{"use strict";var iAe=De(),_N=Object.assign(iAe("libp2p:peer-store:proto-book"),{error:iAe("libp2p:peer-store:proto-book:err")}),Ib=qe(),mDt=sE(),N3=yt(),xDt=M3(),{codes:{ERR_INVALID_PARAMETERS:Tb}}=ki(),nAe=class extends xDt{constructor(e){super({peerStore:e,eventName:"change:metadata",eventProperty:"metadata"});this.data=new Map}set(e,t,i){if(!N3.isPeerId(e))throw _N.error("peerId must be an instance of peer-id to store data"),Ib(new Error("peerId must be an instance of peer-id"),Tb);if(typeof t!="string"||!(i instanceof Uint8Array))throw _N.error("valid key and value must be provided to store data"),Ib(new Error("valid key and value must be provided"),Tb);return this._setValue(e,t,i),this}_setValue(e,t,i,{emit:n=!0}={}){let s=e.toB58String(),o=this.data.get(s)||new Map,a=o.get(t);if(a&&mDt(i,a)){_N(`the metadata provided to store is equal to the already stored for ${s} on ${t}`);return}o.set(t,i),this.data.set(s,o),n&&this._emit(e,t)}get(e){if(!N3.isPeerId(e))throw Ib(new Error("peerId must be an instance of peer-id"),Tb);return this.data.get(e.toB58String())}getValue(e,t){if(!N3.isPeerId(e))throw Ib(new Error("peerId must be an instance of peer-id"),Tb);let i=this.data.get(e.toB58String());return i&&i.get(t)}delete(e){if(!N3.isPeerId(e))throw Ib(new Error("peerId must be an instance of peer-id"),Tb);return this.data.delete(e.toB58String())?(this._emit(e),!0):!1}deleteValue(e,t){if(!N3.isPeerId(e))throw Ib(new Error("peerId must be an instance of peer-id"),Tb);let i=this.data.get(e.toB58String());return!i||!i.delete(t)?!1:(this._emit(e,t),!0)}};rAe.exports=nAe});var uAe=h((ogr,oAe)=>{"use strict";var aAe=De(),Ca=Object.assign(aAe("libp2p:peer-store:proto-book"),{error:aAe("libp2p:peer-store:proto-book:err")}),Rb=qe(),SN=yt(),wDt=M3(),{codes:{ERR_INVALID_PARAMETERS:qb}}=ki(),cAe=class extends wDt{constructor(e){super({peerStore:e,eventName:"change:protocols",eventProperty:"protocols",eventTransformer:t=>Array.from(t)});this.data=new Map}set(e,t){if(!SN.isPeerId(e))throw Ca.error("peerId must be an instance of peer-id to store data"),Rb(new Error("peerId must be an instance of peer-id"),qb);if(!t)throw Ca.error("protocols must be provided to store data"),Rb(new Error("protocols must be provided"),qb);let i=e.toB58String(),n=this.data.get(i),s=new Set(t);return n&&((a,c)=>a.size===c.size&&[...a].every(u=>c.has(u)))(n,s)?(Ca(`the protocols provided to store are equal to the already stored for ${i}`),this):(this._setData(e,s),Ca(`stored provided protocols for ${i}`),this)}add(e,t){if(!SN.isPeerId(e))throw Ca.error("peerId must be an instance of peer-id to store data"),Rb(new Error("peerId must be an instance of peer-id"),qb);if(!t)throw Ca.error("protocols must be provided to store data"),Rb(new Error("protocols must be provided"),qb);let i=e.toB58String(),n=this.data.get(i)||new Set,s=new Set([...n,...t]);return n.size===s.size?(Ca(`the protocols provided to store are already stored for ${i}`),this):(this._setData(e,s),Ca(`added provided protocols for ${i}`),this)}remove(e,t){if(!SN.isPeerId(e))throw Ca.error("peerId must be an instance of peer-id to store data"),Rb(new Error("peerId must be an instance of peer-id"),qb);if(!t)throw Ca.error("protocols must be provided to store data"),Rb(new Error("protocols must be provided"),qb);let i=e.toB58String(),n=this.data.get(i);if(n){let s=new Set([...n].filter(o=>!t.includes(o)));if(n.size===s.size)return this;this._setData(e,s),Ca(`removed provided protocols for ${i}`)}return this}};oAe.exports=cAe});var kN=h((agr,fAe)=>{"use strict";var vDt=qe(),EDt=Pr(),lAe=yt(),_Dt=$ke(),SDt=tAe(),kDt=sAe(),ADt=uAe(),{codes:{ERR_INVALID_PARAMETERS:IDt}}=ki(),hAe=class extends EDt{constructor({peerId:e}){super();this._peerId=e,this.addressBook=new _Dt(this),this.keyBook=new SDt(this),this.metadataBook=new kDt(this),this.protoBook=new ADt(this)}start(){}stop(){}get peers(){let e=new Set([...this.addressBook.data.keys(),...this.keyBook.data.keys(),...this.protoBook.data.keys(),...this.metadataBook.data.keys()]);this._peerId&&e.delete(this._peerId.toB58String());let t=new Map;return e.forEach(i=>{t.set(i,this.get(lAe.createFromCID(i)))}),t}delete(e){let t=this.addressBook.delete(e),i=this.keyBook.delete(e),n=this.protoBook.delete(e),s=this.metadataBook.delete(e);return t||i||n||s}get(e){if(!lAe.isPeerId(e))throw vDt(new Error("peerId must be an instance of peer-id"),IDt);let t=this.keyBook.data.get(e.toB58String()),i=this.addressBook.get(e),n=this.metadataBook.get(e),s=this.protoBook.get(e);if(!(!t&&!i&&!n&&!s))return{id:t||e,addresses:i||[],protocols:s||[],metadata:n}}};fAe.exports=hAe});var pAe=h((cgr,dAe)=>{"use strict";function TDt(r,e,t){let i=new r(e,t);i._subscribeAdapter=i.subscribe,i._unsubscribeAdapter=i.unsubscribe;function n(o,a){a&&i.on(o,a),i._subscribeAdapter(o)}function s(o,a){a?i.removeListener(o,a):i.removeAllListeners(o),i.listenerCount(o)===0&&i._unsubscribeAdapter(o)}return i.subscribe=n,i.unsubscribe=s,i}dAe.exports=TDt});var bAe=h((ugr,Bb)=>{"use strict";Bb.exports.NAMESPACE_COMMON="/peers/";Bb.exports.NAMESPACE_ADDRESS="/peers/addrs/";Bb.exports.NAMESPACE_KEYS="/peers/keys/";Bb.exports.NAMESPACE_METADATA="/peers/metadata/";Bb.exports.NAMESPACE_PROTOCOL="/peers/protos/"});var gAe=h((fgr,yAe)=>{"use strict";var RDt=ni(),qDt=`
message Addresses {
  // Address represents a single multiaddr.
  message Address {
    required bytes multiaddr = 1;

    // Flag to indicate if the address comes from a certified source.
    optional bool isCertified = 2;
  }

  // CertifiedRecord contains a serialized signed PeerRecord used to
  // populate the signedAddrs list.
  message CertifiedRecord {
    // The Seq counter from the signed PeerRecord envelope
    uint64 seq = 1;

    // The serialized bytes of the SignedEnvelope containing the PeerRecord.
    bytes raw = 2;
  }

  // The known multiaddrs.
  repeated Address addrs = 1;

  // The most recently received signed PeerRecord.
  CertifiedRecord certified_record = 2;
}
`;yAe.exports=RDt(qDt).Addresses});var xAe=h((lgr,mAe)=>{"use strict";var BDt=ni(),CDt=`
message Protocols {
  repeated string protocols = 1;
}
`;mAe.exports=BDt(CDt).Protocols});var kAe=h((hgr,wAe)=>{"use strict";var vAe=De(),Xi=Object.assign(vAe("libp2p:persistent-peer-store"),{error:vAe("libp2p:persistent-peer-store:err")}),{Key:RE}=ur(),MDt=tr(),AN=yt(),NDt=kN(),{NAMESPACE_ADDRESS:PDt,NAMESPACE_COMMON:DDt,NAMESPACE_KEYS:ODt,NAMESPACE_METADATA:LDt,NAMESPACE_PROTOCOL:FDt}=bAe(),EAe=gAe(),_Ae=xAe(),SAe=class extends NDt{constructor({peerId:e,datastore:t,threshold:i=5}){super({peerId:e});this._datastore=t,this._dirtyPeers=new Set,this._dirtyMetadata=new Map,this.threshold=i,this._addDirtyPeer=this._addDirtyPeer.bind(this)}async start(){Xi("PeerStore is starting"),this.on("change:protocols",this._addDirtyPeer),this.on("change:multiaddrs",this._addDirtyPeer),this.on("change:pubkey",this._addDirtyPeerKey),this.on("change:metadata",this._addDirtyPeerMetadata);for await(let e of this._datastore.query({prefix:DDt}))await this._processDatastoreEntry(e);Xi("PeerStore started")}async stop(){Xi("PeerStore is stopping"),this.removeAllListeners(),await this._commitData(),Xi("PeerStore stopped")}_addDirtyPeer({peerId:e}){let t=e.toB58String();Xi("add dirty peer",t),this._dirtyPeers.add(t),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(i=>{Xi.error("error committing data",i)})}_addDirtyPeerKey({peerId:e}){if(e.hasInlinePublicKey())return;let t=e.toB58String();Xi("add dirty peer key",t),this._dirtyPeers.add(t),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(i=>{Xi.error("error committing data",i)})}_addDirtyPeerMetadata({peerId:e,metadata:t}){let i=e.toB58String();Xi("add dirty metadata peer",i),this._dirtyPeers.add(i);let n=this._dirtyMetadata.get(i)||new Set;n.add(t),this._dirtyMetadata.set(i,n),this._dirtyPeers.size>=this.threshold&&this._commitData().catch(s=>{Xi.error("error committing data",s)})}async _commitData(){let e=Array.from(this._dirtyPeers);if(!e.length)return;this._dirtyPeers.clear(),Xi("create batch commit");let t=this._datastore.batch();for(let i of e){let n=this.keyBook.data.get(i)||AN.createFromCID(i);this._batchAddressBook(n,t),!n.hasInlinePublicKey()&&this._batchKeyBook(n,t),this._batchMetadataBook(n,t),this._batchProtoBook(n,t)}await t.commit(),Xi("batch committed")}_batchAddressBook(e,t){let i=e.toString(),n=new RE(`${PDt}${i}`),s=this.addressBook.data.get(e.toB58String());try{if(!s){t.delete(n);return}let o=EAe.encode({addrs:s.addresses.map(a=>({multiaddr:a.multiaddr.bytes,isCertified:a.isCertified})),certified_record:s.record?{seq:s.record.seqNumber,raw:s.record.raw}:void 0});t.put(n,o)}catch(o){Xi.error(o)}}_batchKeyBook(e,t){let i=e.toString(),n=new RE(`${ODt}${i}`);try{if(!e.pubKey){t.delete(n);return}let s=e.marshalPubKey();t.put(n,s)}catch(s){Xi.error(s)}}_batchMetadataBook(e,t){let i=e.toString(),n=this._dirtyMetadata.get(e.toB58String())||[];try{n.forEach(s=>{let o=new RE(`${LDt}${i}/${s}`),a=this.metadataBook.getValue(e,s);a?t.put(o,a):t.delete(o)})}catch(s){Xi.error(s)}}_batchProtoBook(e,t){let i=e.toString(),n=new RE(`${FDt}${i}`),s=this.protoBook.get(e);try{if(!s){t.delete(n);return}let o=_Ae.encode({protocols:s});t.put(n,o)}catch(o){Xi.error(o)}}async _processDatastoreEntry({key:e,value:t}){try{let i=e.toString().split("/"),n=AN.createFromCID(i[3]),s;switch(i[2]){case"addrs":s=EAe.decode(t),this.addressBook._setData(n,{addresses:s.addrs.map(o=>({multiaddr:MDt(o.multiaddr),isCertified:Boolean(o.isCertified)})),record:s.certified_record?{raw:s.certified_record.raw,seqNumber:s.certified_record.seq}:void 0},{emit:!1});break;case"keys":s=await AN.createFromPubKey(t),this.keyBook._setData(s,s,{emit:!1});break;case"metadata":this.metadataBook._setValue(n,i[4],t,{emit:!1});break;case"protos":s=_Ae.decode(t),this.protoBook._setData(n,new Set(s.protocols),{emit:!1});break;default:Xi("invalid data persisted for: ",e.toString())}}catch(i){Xi.error(i)}}};wAe.exports=SAe});var RAe=h((dgr,AAe)=>{"use strict";var IAe=De(),UDt=Object.assign(IAe("libp2p:peer-store"),{error:IAe("libp2p:peer-store:err")}),zDt=qe(),{codes:{ERR_INVALID_PARAMETERS:KDt}}=ki(),VDt=kC(),TAe=class{constructor({peerStore:e,connectionManager:t}){this.peerStore=e,this.connectionManager=t,this.topologies=new Map,this._handle=void 0,this._onDisconnect=this._onDisconnect.bind(this),this.connectionManager.on("peer:disconnect",this._onDisconnect)}get handle(){return this._handle}set handle(e){this._handle=e}getConnection(e){return this.connectionManager.get(e)}register(e){if(!VDt.isTopology(e))throw UDt.error("topology must be an instance of interfaces/topology"),zDt(new Error("topology must be an instance of interfaces/topology"),KDt);let t=(Math.random()*1e9).toString(36)+Date.now();return this.topologies.set(t,e),e.registrar=this,t}unregister(e){return this.topologies.delete(e)}_onDisconnect(e,t){for(let[,i]of this.topologies)i.disconnect(e.remotePeer,t)}};AAe.exports=TAe});var KAe=h(Cb=>{"use strict";var IN=ra(),Mb=bo(),qAe=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Cb.Buffer=Te;Cb.SlowBuffer=jDt;Cb.INSPECT_MAX_BYTES=50;var qE=2147483647;Cb.kMaxLength=qE;Te.TYPED_ARRAY_SUPPORT=HDt();!Te.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function HDt(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(t){return!1}}Object.defineProperty(Te.prototype,"parent",{enumerable:!0,get:function(){if(!!Te.isBuffer(this))return this.buffer}});Object.defineProperty(Te.prototype,"offset",{enumerable:!0,get:function(){if(!!Te.isBuffer(this))return this.byteOffset}});function Zu(r){if(r>qE)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,Te.prototype),e}function Te(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return TN(r)}return BAe(r,e,t)}Te.poolSize=8192;function BAe(r,e,t){if(typeof r=="string")return GDt(r,e);if(ArrayBuffer.isView(r))return $Dt(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Lc(r,ArrayBuffer)||r&&Lc(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Lc(r,SharedArrayBuffer)||r&&Lc(r.buffer,SharedArrayBuffer)))return RN(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return Te.from(i,e,t);var n=WDt(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return Te.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}Te.from=function(r,e,t){return BAe(r,e,t)};Object.setPrototypeOf(Te.prototype,Uint8Array.prototype);Object.setPrototypeOf(Te,Uint8Array);function CAe(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function YDt(r,e,t){return CAe(r),r<=0?Zu(r):e!==void 0?typeof t=="string"?Zu(r).fill(e,t):Zu(r).fill(e):Zu(r)}Te.alloc=function(r,e,t){return YDt(r,e,t)};function TN(r){return CAe(r),Zu(r<0?0:qN(r)|0)}Te.allocUnsafe=function(r){return TN(r)};Te.allocUnsafeSlow=function(r){return TN(r)};function GDt(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Te.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=MAe(r,e)|0,i=Zu(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function BN(r){for(var e=r.length<0?0:qN(r.length)|0,t=Zu(e),i=0;i<e;i+=1)t[i]=r[i]&255;return t}function $Dt(r){if(Lc(r,Uint8Array)){var e=new Uint8Array(r);return RN(e.buffer,e.byteOffset,e.byteLength)}return BN(r)}function RN(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,Te.prototype),i}function WDt(r){if(Te.isBuffer(r)){var e=qN(r.length)|0,t=Zu(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||CN(r.length)?Zu(0):BN(r);if(r.type==="Buffer"&&Array.isArray(r.data))return BN(r.data)}function qN(r){if(r>=qE)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+qE.toString(16)+" bytes");return r|0}function jDt(r){return+r!=r&&(r=0),Te.alloc(+r)}Te.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Te.prototype};Te.compare=function(e,t){if(Lc(e,Uint8Array)&&(e=Te.from(e,e.offset,e.byteLength)),Lc(t,Uint8Array)&&(t=Te.from(t,t.offset,t.byteLength)),!Te.isBuffer(e)||!Te.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};Te.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Te.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Te.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=Te.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var o=e[i];if(Lc(o,Uint8Array))s+o.length>n.length?Te.from(o).copy(n,s):Uint8Array.prototype.set.call(n,o,s);else if(Te.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function MAe(r,e){if(Te.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Lc(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return MN(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return NAe(r).length;default:if(n)return i?-1:MN(r).length;e=(""+e).toLowerCase(),n=!0}}Te.byteLength=MAe;function tOt(r,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return QDt(this,e,t);case"utf8":case"utf-8":return PAe(this,e,t);case"ascii":return JDt(this,e,t);case"latin1":case"binary":return ZDt(this,e,t);case"base64":return XDt(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return eOt(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}Te.prototype._isBuffer=!0;function Oh(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}Te.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Oh(this,t,t+1);return this};Te.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Oh(this,t,t+3),Oh(this,t+1,t+2);return this};Te.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Oh(this,t,t+7),Oh(this,t+1,t+6),Oh(this,t+2,t+5),Oh(this,t+3,t+4);return this};Te.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?PAe(this,0,e):tOt.apply(this,arguments)};Te.prototype.toLocaleString=Te.prototype.toString;Te.prototype.equals=function(e){if(!Te.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Te.compare(this,e)===0};Te.prototype.inspect=function(){var e="",t=Cb.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};qAe&&(Te.prototype[qAe]=Te.prototype.inspect);Te.prototype.compare=function(e,t,i,n,s){if(Lc(e,Uint8Array)&&(e=Te.from(e,e.offset,e.byteLength)),!Te.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,a=i-t,c=Math.min(o,a),u=this.slice(n,s),f=e.slice(t,i),l=0;l<c;++l)if(u[l]!==f[l]){o=u[l],a=f[l];break}return o<a?-1:a<o?1:0};function OAe(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,CN(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=Te.from(e,i)),Te.isBuffer(e))return e.length===0?-1:DAe(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):DAe(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function DAe(r,e,t,i,n){var s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function c(p,b){return s===1?p[b]:p.readUInt16BE(b*s)}var u;if(n){var f=-1;for(u=t;u<o;u++)if(c(r,u)===c(e,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===a)return f*s}else f!==-1&&(u-=u-f),f=-1}else for(t+a>o&&(t=o-a),u=t;u>=0;u--){for(var l=!0,d=0;d<a;d++)if(c(r,u+d)!==c(e,d)){l=!1;break}if(l)return u}return-1}Te.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};Te.prototype.indexOf=function(e,t,i){return OAe(this,e,t,i,!0)};Te.prototype.lastIndexOf=function(e,t,i){return OAe(this,e,t,i,!1)};function rOt(r,e,t,i){t=Number(t)||0;var n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(o*2,2),16);if(CN(a))return o;r[t+o]=a}return o}function iOt(r,e,t,i){return BE(MN(e,r.length-t),r,t,i)}function sOt(r,e,t,i){return BE(nOt(e),r,t,i)}function oOt(r,e,t,i){return BE(NAe(e),r,t,i)}function cOt(r,e,t,i){return BE(aOt(e,r.length-t),r,t,i)}Te.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return rOt(this,e,t,i);case"utf8":case"utf-8":return iOt(this,e,t,i);case"ascii":case"latin1":case"binary":return sOt(this,e,t,i);case"base64":return oOt(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cOt(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};Te.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function XDt(r,e,t){return e===0&&t===r.length?IN.fromByteArray(r):IN.fromByteArray(r.slice(e,t))}function PAe(r,e,t){t=Math.min(r.length,t);for(var i=[],n=e;n<t;){var s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){var c,u,f,l;switch(a){case 1:s<128&&(o=s);break;case 2:c=r[n+1],(c&192)==128&&(l=(s&31)<<6|c&63,l>127&&(o=l));break;case 3:c=r[n+1],u=r[n+2],(c&192)==128&&(u&192)==128&&(l=(s&15)<<12|(c&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:c=r[n+1],u=r[n+2],f=r[n+3],(c&192)==128&&(u&192)==128&&(f&192)==128&&(l=(s&15)<<18|(c&63)<<12|(u&63)<<6|f&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return uOt(i)}var LAe=4096;function uOt(r){var e=r.length;if(e<=LAe)return String.fromCharCode.apply(String,r);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=LAe));return t}function JDt(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function ZDt(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function QDt(r,e,t){var i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var n="",s=e;s<t;++s)n+=fOt[r[s]];return n}function eOt(r,e,t){for(var i=r.slice(e,t),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}Te.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,Te.prototype),n};function Ji(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}Te.prototype.readUintLE=Te.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Ji(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n};Te.prototype.readUintBE=Te.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Ji(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n};Te.prototype.readUint8=Te.prototype.readUInt8=function(e,t){return e=e>>>0,t||Ji(e,1,this.length),this[e]};Te.prototype.readUint16LE=Te.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Ji(e,2,this.length),this[e]|this[e+1]<<8};Te.prototype.readUint16BE=Te.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Ji(e,2,this.length),this[e]<<8|this[e+1]};Te.prototype.readUint32LE=Te.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Ji(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Te.prototype.readUint32BE=Te.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Ji(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Te.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Ji(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};Te.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Ji(e,t,this.length);for(var n=t,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};Te.prototype.readInt8=function(e,t){return e=e>>>0,t||Ji(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Te.prototype.readInt16LE=function(e,t){e=e>>>0,t||Ji(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};Te.prototype.readInt16BE=function(e,t){e=e>>>0,t||Ji(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};Te.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Ji(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Te.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Ji(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Te.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Ji(e,4,this.length),Mb.read(this,e,!0,23,4)};Te.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Ji(e,4,this.length),Mb.read(this,e,!1,23,4)};Te.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Ji(e,8,this.length),Mb.read(this,e,!0,52,8)};Te.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Ji(e,8,this.length),Mb.read(this,e,!1,52,8)};function Fs(r,e,t,i,n,s){if(!Te.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}Te.prototype.writeUintLE=Te.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Fs(this,e,t,i,s,0)}var o=1,a=0;for(this[t]=e&255;++a<i&&(o*=256);)this[t+a]=e/o&255;return t+i};Te.prototype.writeUintBE=Te.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Fs(this,e,t,i,s,0)}var o=i-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+i};Te.prototype.writeUint8=Te.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||Fs(this,e,t,1,255,0),this[t]=e&255,t+1};Te.prototype.writeUint16LE=Te.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Fs(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};Te.prototype.writeUint16BE=Te.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Fs(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};Te.prototype.writeUint32LE=Te.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Fs(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};Te.prototype.writeUint32BE=Te.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Fs(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};Te.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);Fs(this,e,t,i,s-1,-s)}var o=0,a=1,c=0;for(this[t]=e&255;++o<i&&(a*=256);)e<0&&c===0&&this[t+o-1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};Te.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);Fs(this,e,t,i,s-1,-s)}var o=i-1,a=1,c=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&c===0&&this[t+o+1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};Te.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||Fs(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};Te.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Fs(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};Te.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Fs(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};Te.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Fs(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};Te.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Fs(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function FAe(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function UAe(r,e,t,i,n){return e=+e,t=t>>>0,n||FAe(r,e,t,4,34028234663852886e22,-34028234663852886e22),Mb.write(r,e,t,i,23,4),t+4}Te.prototype.writeFloatLE=function(e,t,i){return UAe(this,e,t,!0,i)};Te.prototype.writeFloatBE=function(e,t,i){return UAe(this,e,t,!1,i)};function zAe(r,e,t,i,n){return e=+e,t=t>>>0,n||FAe(r,e,t,8,17976931348623157e292,-17976931348623157e292),Mb.write(r,e,t,i,52,8),t+8}Te.prototype.writeDoubleLE=function(e,t,i){return zAe(this,e,t,!0,i)};Te.prototype.writeDoubleBE=function(e,t,i){return zAe(this,e,t,!1,i)};Te.prototype.copy=function(e,t,i,n){if(!Te.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};Te.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Te.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{var a=Te.isBuffer(e)?e:Te.from(e,n),c=a.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=a[o%c]}return this};var lOt=/[^+/0-9A-Za-z-_]/g;function hOt(r){if(r=r.split("=")[0],r=r.trim().replace(lOt,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function MN(r,e){e=e||Infinity;for(var t,i=r.length,n=null,s=[],o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function nOt(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function aOt(r,e){for(var t,i,n,s=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function NAe(r){return IN.toByteArray(hOt(r))}function BE(r,e,t,i){for(var n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function Lc(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function CN(r){return r!==r}var fOt=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var i=t*16,n=0;n<16;++n)e[i+n]=r[t]+r[n];return e}()});var D3=h((bgr,P3)=>{"use strict";var{Buffer:CE}=KAe(),ME=Lo();P3.exports=async function*(r){for await(let e of r)CE.isBuffer(e)?yield e:ME.isBufferList(e)?yield e.slice():yield CE.from(e)};P3.exports.toBuffer=P3.exports;P3.exports.toList=async function*(r){for await(let e of r)CE.isBuffer(e)?yield new ME().append(e):ME.isBufferList(e)?yield e:yield new ME().append(CE.from(e))}});var jAe=h((ygr,VAe)=>{"use strict";VAe.exports={PROTOCOL:"/ipfs/ping/1.0.0",PING_LENGTH:32}});var WAe=h((NE,HAe)=>{"use strict";var GAe=De(),dOt=Object.assign(GAe("libp2p:ping"),{error:GAe("libp2p:ping:err")}),pOt=qe(),bOt=pc(),{pipe:$Ae}=yi(),{toBuffer:yOt}=D3(),{collect:gOt,take:mOt}=f0(),xOt=sE(),{PROTOCOL:PE,PING_LENGTH:wOt}=jAe();async function vOt(r,e){dOt("dialing %s to %s",PE,e.toB58String?e.toB58String():e);let{stream:t}=await r.dialProtocol(e,PE),i=Date.now(),n=bOt.randomBytes(wOt),[s]=await $Ae([n],t,a=>mOt(1,a),yOt,gOt),o=Date.now();if(!xOt(n,s))throw pOt(new Error("Received wrong ping ack"),"ERR_WRONG_PING_ACK");return o-i}function EOt(r){r.handle(PE,({stream:e})=>$Ae(e,e))}function _Ot(r){r.unhandle(PE)}NE=HAe.exports=vOt;NE.mount=EOt;NE.unmount=_Ot});var YAe=h((ggr,NN)=>{"use strict";NN.exports.encode=r=>e=>async function*(){for await(let t of e)yield r.encode(t)}();NN.exports.decode=r=>e=>async function*(){for await(let t of e)yield r.decode(t)}()});var JAe=h((mgr,DE)=>{"use strict";var XAe=Ko(),PN=YAe(),SOt=D3();DE.exports.encode=r=>e=>XAe.encode()(PN.encode(r)(e));DE.exports.decode=r=>e=>PN.decode(r)(SOt(XAe.decode()(e)));DE.exports.it=PN});var QAe=h((xgr,ZAe)=>{"use strict";var kOt=ni(),AOt=`
message Identify {
  // protocolVersion determines compatibility between peers
  optional string protocolVersion = 5; // e.g. ipfs/1.0.0

  // agentVersion is like a UserAgent string in browsers, or client version in bittorrent
  // includes the client name and client.
  optional string agentVersion = 6; // e.g. go-ipfs/0.1.0

  // publicKey is this node's public key (which also gives its node.ID)
  // - may not need to be sent, as secure channel implies it has been sent.
  // - then again, if we change / disable secure channel, may still want it.
  optional bytes publicKey = 1;

  // listenAddrs are the multiaddrs the sender node listens for open connections on
  repeated bytes listenAddrs = 2;

  // oservedAddr is the multiaddr of the remote endpoint that the sender node perceives
  // this is useful information to convey to the other side, as it helps the remote endpoint
  // determine whether its connection to the local peer goes through NAT.
  optional bytes observedAddr = 4;

  repeated string protocols = 3;

  // signedPeerRecord contains a serialized SignedEnvelope containing a PeerRecord,
  // signed by the sending node. It contains the same addresses as the listenAddrs field, but
  // in a form that lets us share authenticated addrs with other peers.
  optional bytes signedPeerRecord = 8;
}
`;ZAe.exports=kOt(AOt).Identify});var c7e=h((wgr,e7e)=>{"use strict";var t7e=De(),Fc=Object.assign(t7e("libp2p:identify"),{error:t7e("libp2p:identify:err")}),DN=qe(),IOt=JAe(),ON=Ko(),{pipe:OE}=yi(),{collect:r7e,take:i7e,consume:n7e}=f0(),LN=Ah(),TOt=yt(),FN=tr(),{toBuffer:s7e}=D3(),O3=QAe(),o7e=d3(),a7e=yE(),{MULTICODEC_IDENTIFY:UN,MULTICODEC_IDENTIFY_PUSH:LE,AGENT_VERSION:ROt,PROTOCOL_VERSION:qOt}=IM(),{codes:zN}=ki(),Nb=class{constructor({libp2p:e}){this._libp2p=e,this.peerStore=e.peerStore,this.addressManager=e.addressManager,this.connectionManager=e.connectionManager,this.peerId=e.peerId,this.handleMessage=this.handleMessage.bind(this),this._host={agentVersion:ROt,protocolVersion:qOt,...e._options.host},this.peerStore.metadataBook.set(this.peerId,"AgentVersion",LN(this._host.agentVersion)),this.peerStore.metadataBook.set(this.peerId,"ProtocolVersion",LN(this._host.protocolVersion)),this.connectionManager.on("peer:connect",t=>{this.identify(t).catch(Fc.error)}),this.peerStore.on("change:multiaddrs",({peerId:t})=>{t.toString()===this.peerId.toString()&&this.pushToPeerStore()}),this.peerStore.on("change:protocols",({peerId:t})=>{t.toString()===this.peerId.toString()&&this.pushToPeerStore()})}async push(e){let t=await this.peerStore.addressBook.getRawEnvelope(this.peerId),i=this._libp2p.multiaddrs.map(o=>o.bytes),n=this.peerStore.protoBook.get(this.peerId)||[],s=e.map(async o=>{try{let{stream:a}=await o.newStream(LE);await OE([{listenAddrs:i,signedPeerRecord:t,protocols:n}],IOt.encode(O3),a,n7e)}catch(a){Fc.error("could not push identify update to peer",a)}});return Promise.all(s)}pushToPeerStore(){if(!this._libp2p.isStarted())return;let e=[],t;for(let i of this.peerStore.peers.values())i.protocols.includes(LE)&&(t=this.connectionManager.get(i.id))&&e.push(t);this.push(e)}async identify(e){let{stream:t}=await e.newStream(UN),[i]=await OE([],t,ON.decode(),i7e(1),s7e,r7e);if(!i)throw DN(new Error("No data could be retrieved"),zN.ERR_CONNECTION_ENDED);let n;try{n=O3.decode(i)}catch(l){throw DN(l,zN.ERR_INVALID_MESSAGE)}let{publicKey:s,listenAddrs:o,protocols:a,observedAddr:c,signedPeerRecord:u}=n,f=await TOt.createFromPubKey(s);if(e.remotePeer.toB58String()!==f.toB58String())throw DN(new Error("identified peer does not match the expected peer"),zN.ERR_INVALID_PEER);c=Nb.getCleanMultiaddr(c);try{let l=await o7e.openAndCertify(u,a7e.DOMAIN);if(this.peerStore.addressBook.consumePeerRecord(l)){this.peerStore.protoBook.set(f,a);return}}catch(l){Fc("received invalid envelope, discard it and fallback to listenAddrs is available",l)}try{this.peerStore.addressBook.set(f,o.map(l=>FN(l)))}catch(l){Fc.error("received invalid addrs",l)}this.peerStore.protoBook.set(f,a),this.peerStore.metadataBook.set(f,"AgentVersion",LN(n.agentVersion)),Fc("received observed address of %s",c)}handleMessage({connection:e,stream:t,protocol:i}){switch(i){case UN:return this._handleIdentify({connection:e,stream:t});case LE:return this._handlePush({connection:e,stream:t});default:Fc.error("cannot handle unknown protocol %s",i)}}async _handleIdentify({connection:e,stream:t}){let i=new Uint8Array(0);this.peerId.pubKey&&(i=this.peerId.pubKey.bytes);let n=await this.peerStore.addressBook.getRawEnvelope(this.peerId),s=this.peerStore.protoBook.get(this.peerId)||[],o=O3.encode({protocolVersion:this._host.protocolVersion,agentVersion:this._host.agentVersion,publicKey:i,listenAddrs:this._libp2p.multiaddrs.map(a=>a.bytes),signedPeerRecord:n,observedAddr:e.remoteAddr.bytes,protocols:s});try{await OE([o],ON.encode(),t,n7e)}catch(a){Fc.error("could not respond to identify request",a)}}async _handlePush({connection:e,stream:t}){let i;try{let[s]=await OE([],t,ON.decode(),i7e(1),s7e,r7e);i=O3.decode(s)}catch(s){return Fc.error("received invalid message",s)}let n=e.remotePeer;try{let s=await o7e.openAndCertify(i.signedPeerRecord,a7e.DOMAIN);if(this.peerStore.addressBook.consumePeerRecord(s)){this.peerStore.protoBook.set(n,i.protocols);return}}catch(s){Fc("received invalid envelope, discard it and fallback to listenAddrs is available",s)}try{this.peerStore.addressBook.set(n,i.listenAddrs.map(s=>FN(s)))}catch(s){Fc.error("received invalid addrs",s)}this.peerStore.protoBook.set(n,i.protocols)}static getCleanMultiaddr(e){if(e&&e.length>0)try{return FN(e)}catch(t){return null}return null}},BOt={IDENTIFY:UN,IDENTIFY_PUSH:LE};Nb.multicodecs=BOt;Nb.Messsage=O3;e7e.exports=Nb});var u7e=h(()=>{});var l7e=h(KN=>{"use strict";Object.defineProperty(KN,"__esModule",{value:!0});KN.promisify=FE;var f7e="__ES6-PROMISIFY--CUSTOM-ARGUMENTS__";function FE(r){if(typeof r!="function")throw new TypeError("Argument to promisify must be a function");var e=r[f7e],t=FE.Promise||Promise;if(typeof t!="function")throw new Error("No Promise implementation found; do you need a polyfill?");return function(){for(var i=this,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return new t(function(a,c){s.push(function(f){if(f)return c(f);for(var l=arguments.length,d=new Array(l>1?l-1:0),p=1;p<l;p++)d[p-1]=arguments[p];if(d.length===1||!e)return a(d[0]);var b={};d.forEach(function(g,m){var w=e[m];w&&(b[w]=g)}),a(b)}),r.apply(i,s)})}}FE.argumentNames=f7e;FE.Promise=void 0});var d7e=h((Sgr,h7e)=>{function jo(r,e){typeof e=="boolean"&&(e={forever:e}),this._originalTimeouts=JSON.parse(JSON.stringify(r)),this._timeouts=r,this._options=e||{},this._maxRetryTime=e&&e.maxRetryTime||Infinity,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}h7e.exports=jo;jo.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts};jo.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null};jo.prototype.retry=function(r){if(this._timeout&&clearTimeout(this._timeout),!r)return!1;var e=new Date().getTime();if(r&&e-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(r);var t=this._timeouts.shift();if(t===void 0)if(this._cachedTimeouts)this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),t=this._timeouts.shift();else return!1;var i=this,n=setTimeout(function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout(function(){i._operationTimeoutCb(i._attempts)},i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)},t);return this._options.unref&&n.unref(),!0};jo.prototype.attempt=function(r,e){this._fn=r,e&&(e.timeout&&(this._operationTimeout=e.timeout),e.cb&&(this._operationTimeoutCb=e.cb));var t=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){t._operationTimeoutCb()},t._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};jo.prototype.try=function(r){console.log("Using RetryOperation.try() is deprecated"),this.attempt(r)};jo.prototype.start=function(r){console.log("Using RetryOperation.start() is deprecated"),this.attempt(r)};jo.prototype.start=jo.prototype.try;jo.prototype.errors=function(){return this._errors};jo.prototype.attempts=function(){return this._attempts};jo.prototype.mainError=function(){if(this._errors.length===0)return null;for(var r={},e=null,t=0,i=0;i<this._errors.length;i++){var n=this._errors[i],s=n.message,o=(r[s]||0)+1;r[s]=o,o>=t&&(e=n,t=o)}return e}});var p7e=h(Lh=>{var COt=d7e();Lh.operation=function(r){var e=Lh.timeouts(r);return new COt(e,{forever:r&&r.forever,unref:r&&r.unref,maxRetryTime:r&&r.maxRetryTime})};Lh.timeouts=function(r){if(r instanceof Array)return[].concat(r);var e={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:Infinity,randomize:!1};for(var t in r)e[t]=r[t];if(e.minTimeout>e.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],n=0;n<e.retries;n++)i.push(this.createTimeout(n,e));return r&&r.forever&&!i.length&&i.push(this.createTimeout(n,e)),i.sort(function(s,o){return s-o}),i};Lh.createTimeout=function(r,e){var t=e.randomize?Math.random()+1:1,i=Math.round(t*e.minTimeout*Math.pow(e.factor,r));return i=Math.min(i,e.maxTimeout),i};Lh.wrap=function(r,e,t){if(e instanceof Array&&(t=e,e=null),!t){t=[];for(var i in r)typeof r[i]=="function"&&t.push(i)}for(var n=0;n<t.length;n++){var s=t[n],o=r[s];r[s]=function(c){var u=Lh.operation(e),f=Array.prototype.slice.call(arguments,1),l=f.pop();f.push(function(d){u.retry(d)||(d&&(arguments[0]=u.mainError()),l.apply(this,arguments))}),u.attempt(function(){c.apply(r,f)})}.bind(r,o),r[s].options=e}}});var y7e=h((Agr,b7e)=>{b7e.exports=p7e()});var m7e=h((Igr,UE)=>{"use strict";var MOt=y7e(),NOt=["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline"],VN=class extends Error{constructor(e){super();e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}},POt=(r,e,t)=>{let i=t.retries-(e-1);return r.attemptNumber=e,r.retriesLeft=i,r},DOt=r=>NOt.includes(r),g7e=(r,e)=>new Promise((t,i)=>{e={onFailedAttempt:()=>{},retries:10,...e};let n=MOt.operation(e);n.attempt(async s=>{try{t(await r(s))}catch(o){if(!(o instanceof Error)){i(new TypeError(`Non-error was thrown: "${o}". You should only throw errors.`));return}if(o instanceof VN)n.stop(),i(o.originalError);else if(o instanceof TypeError&&!DOt(o.message))n.stop(),i(o);else{POt(o,s,e);try{await e.onFailedAttempt(o)}catch(a){i(a);return}n.retry(o)||i(n.mainError())}}})});UE.exports=g7e;UE.exports.default=g7e;UE.exports.AbortError=VN});var w7e=h((Tgr,x7e)=>{"use strict";function OOt(r){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(r)||/^::1$/.test(r)}x7e.exports=OOt});var E7e=h((Rgr,v7e)=>{"use strict";var LOt=w7e();function FOt(r){let{address:e}=r.nodeAddress();return LOt(e)}v7e.exports=FOt});var T7e=h((qgr,_7e)=>{"use strict";var UOt=u7e(),S7e=De(),jN=l7e(),zOt=tr(),Pb=Object.assign(S7e("libp2p:nat"),{error:S7e("libp2p:nat:err")}),{isBrowser:k7e}=N2(),HN=m7e(),KOt=RM(),A7e=AM(),VOt=qe(),{codes:{ERR_INVALID_PARAMETERS:jOt}}=ki(),HOt=E7e();function GOt(r=1024,e=65535){return Math.floor(Math.random()*(e-r+1)+r)}var GN=7200,I7e=class{constructor({peerId:e,addressManager:t,transportManager:i,...n}){if(this._peerId=e,this._addressManager=t,this._transportManager=i,this._enabled=n.enabled,this._externalIp=n.externalIp,this._options={description:n.description||`${A7e.name}@${A7e.version} ${this._peerId}`,ttl:n.ttl||GN,autoUpdate:n.keepAlive||!0,gateway:n.gateway,enablePMP:Boolean(n.pmp&&n.pmp.enabled)},this._options.ttl<GN)throw VOt(new Error(`NatManager ttl should be at least ${GN} seconds`),jOt)}start(){k7e||!this._enabled||this._start().catch(e=>{Pb.error(e)})}async _start(){let e=this._transportManager.getAddrs();for(let t of e){let{family:i,host:n,port:s,transport:o}=t.toOptions();if(!t.isThinWaistAddress()||o!=="tcp"||HOt(t)||i!=="ipv4")continue;let a=this._getClient(),c=this._externalIp||await a.externalIp();if(KOt(c))throw new Error(`${c} is private - please set config.nat.externalIp to an externally routable IP or ensure you are not behind a double NAT`);let u=GOt();Pb(`opening uPnP connection from ${c}:${u} to ${n}:${s}`),await a.map({publicPort:u,privatePort:s,protocol:o.toUpperCase()}),this._addressManager.addObservedAddr(zOt.fromNodeAddress({family:"IPv4",address:c,port:`${u}`},o))}}_getClient(){if(this._client)return this._client;let e=new UOt(this._options),t=jN(e.map,{context:e}),i=jN(e.destroy,{context:e}),n=jN(e.externalIp,{context:e});return this._client={map:(...s)=>HN(()=>t(...s),{onFailedAttempt:Pb.error,unref:!0}),destroy:(...s)=>HN(()=>i(...s),{onFailedAttempt:Pb.error,unref:!0}),externalIp:(...s)=>HN(()=>n(...s),{onFailedAttempt:Pb.error,unref:!0})},this._client}async stop(){if(!(k7e||!this._client))try{await this._client.destroy(),this._client=null}catch(e){Pb.error(e)}}};_7e.exports=I7e});var P7e=h((Bgr,R7e)=>{"use strict";var q7e=De(),io=Object.assign(q7e("libp2p"),{error:q7e("libp2p:err")}),$Ot=Pr(),B7e=qe(),WOt=yt(),YOt=tr(),XOt=r5e(),JOt=s5e(),$N=EM(),{validate:ZOt}=kEe(),{codes:WN,messages:QOt}=ki(),eLt=TEe(),tLt=UEe(),C7e=b_e(),rLt=I_e(),iLt=eSe(),M7e=OSe(),nLt=YSe(),sLt=FM(),oLt=Fke(),aLt=kN(),cLt=pAe(),uLt=kAe(),fLt=RAe(),zE=WAe(),N7e=c7e(),lLt=N7e.multicodecs,hLt=T7e(),{updateSelfPeerRecord:dLt}=OM(),L3=class extends $Ot{static async create(e){if(e.peerId)return new L3(e);let t=await WOt.create();return e.peerId=t,new L3(e)}constructor(e){super();if(this._options=ZOt(e),this.peerId=this._options.peerId,this.datastore=this._options.datastore,this.peerStore=this.datastore&&this._options.peerStore.persistence?new uLt({peerId:this.peerId,datastore:this.datastore,...this._options.peerStore}):new aLt({peerId:this.peerId}),this.addresses=this._options.addresses,this.addressManager=new eLt(this.peerId,this._options.addresses),this.addressManager.on("change:addresses",()=>{dLt(this).catch(i=>{io.error("Error updating self peer record",i)})}),this._modules=this._options.modules,this._config=this._options.config,this._transport=[],this._discovery=new Map,this._options.connectionManager.minPeers&&(this._options.connectionManager.minConnections=this._options.connectionManager.minPeers),this.connectionManager=new tLt(this,{autoDial:this._config.peerDiscovery.autoDial,...this._options.connectionManager}),this._options.metrics.enabled&&(this.metrics=new nLt({...this._options.metrics,connectionManager:this.connectionManager})),this._options.keychain&&this._options.keychain.datastore){io("creating keychain");let i=M7e.generateOptions();this.keychain=new M7e(this._options.keychain.datastore,{passPhrase:this._options.keychain.pass,...i,...this._options.keychain}),io("keychain constructed")}if(this.upgrader=new oLt({localPeer:this.peerId,metrics:this.metrics,onConnection:i=>this.connectionManager.onConnect(i),onConnectionEnd:i=>this.connectionManager.onDisconnect(i)}),this.transportManager=new sLt({libp2p:this,upgrader:this.upgrader,faultTolerance:this._options.transportManager.faultTolerance}),this.natManager=new hLt({peerId:this.peerId,addressManager:this.addressManager,transportManager:this.transportManager,...this._options.config.nat}),this.registrar=new fLt({peerStore:this.peerStore,connectionManager:this.connectionManager}),this.handle=this.handle.bind(this),this.registrar.handle=this.handle,!this._modules.connEncryption||!this._modules.connEncryption.length)throw B7e(new Error(QOt.CONN_ENCRYPTION_REQUIRED),WN.CONN_ENCRYPTION_REQUIRED);if(this._modules.connEncryption.forEach(i=>{this.upgrader.cryptos.set(i.protocol,i)}),this.dialer=new iLt({transportManager:this.transportManager,peerStore:this.peerStore,concurrency:this._options.dialer.maxParallelDials,perPeerLimit:this._options.dialer.maxDialsPerPeer,timeout:this._options.dialer.dialTimeout,resolvers:this._options.dialer.resolvers,addressSorter:this._options.dialer.addressSorter}),this._modules.transport.forEach(i=>{let n=i.prototype[Symbol.toStringTag],s=this._config.transport[n];this.transportManager.add(n,i,s)}),this._config.relay.enabled&&(this.transportManager.add(C7e.prototype[Symbol.toStringTag],C7e),this.relay=new rLt(this)),this._modules.streamMuxer&&(this._modules.streamMuxer.forEach(n=>{this.upgrader.muxers.set(n.multicodec,n)}),this.identifyService=new N7e({libp2p:this}),this.handle(Object.values(lLt),this.identifyService.handleMessage)),this._modules.connProtector)this.upgrader.protector=this._modules.connProtector;else if(globalThis.process!==void 0&&globalThis.process.env&&globalThis.process.env.LIBP2P_FORCE_PNET)throw new Error("Private network is enforced, but no protector was provided");if(this._modules.dht){let i=this._modules.dht;this._dht=new i({libp2p:this,dialer:this.dialer,peerId:this.peerId,peerStore:this.peerStore,registrar:this.registrar,datastore:this.datastore,...this._config.dht})}if(this._modules.pubsub){let i=this._modules.pubsub;this.pubsub=cLt(i,this,this._config.pubsub)}this.peerRouting=new XOt(this),this.contentRouting=new JOt(this),zE.mount(this),this._onDiscoveryPeer=this._onDiscoveryPeer.bind(this)}emit(e,...t){return e==="error"&&!this._events.error?(io.error(t),!1):super.emit(e,...t)}async start(){io("libp2p is starting");try{await this._onStarting(),await this._onDidStart(),io("libp2p has started")}catch(e){throw this.emit("error",e),io.error("An error occurred starting libp2p",e),await this.stop(),e}}async stop(){io("libp2p is stopping");try{this._isStarted=!1,this.relay&&this.relay.stop(),this.peerRouting.stop();for(let e of this._discovery.values())e.removeListener("peer",this._onDiscoveryPeer);await Promise.all(Array.from(this._discovery.values(),e=>e.stop())),this._discovery=new Map,await this.peerStore.stop(),await this.connectionManager.stop(),await Promise.all([this.pubsub&&this.pubsub.stop(),this._dht&&this._dht.stop(),this.metrics&&this.metrics.stop()]),await this.natManager.stop(),await this.transportManager.close(),zE.unmount(this),this.dialer.destroy()}catch(e){e&&(io.error(e),this.emit("error",e))}io("libp2p has stopped")}async loadKeychain(){if(!!this.keychain)try{await this.keychain.findKeyByName("self")}catch(e){await this.keychain.importPeer("self",this.peerId)}}isStarted(){return this._isStarted}get connections(){return this.connectionManager.connections}dial(e,t){return this.dialProtocol(e,[],t)}async dialProtocol(e,t,i){let{id:n,multiaddrs:s}=$N(e);if(n.equals(this.peerId))throw B7e(new Error("Cannot dial self"),WN.ERR_DIALED_SELF);let o=this.connectionManager.get(n);return o?s&&this.peerStore.addressBook.add(n,s):o=await this.dialer.connectToPeer(e,i),t&&t.length?o.newStream(t):o}get multiaddrs(){let e=this.addressManager.getAnnounceAddrs().map(n=>n.toString());e.length||(e=this.transportManager.getAddrs().map(n=>n.toString())),e=e.concat(this.addressManager.getObservedAddrs().map(n=>n.toString()));let t=this._options.addresses.announceFilter||(n=>n),i=new Set(e);return t(Array.from(i).map(n=>YOt(n)))}async hangUp(e){let{id:t}=$N(e),i=this.connectionManager.connections.get(t.toB58String());!i||await Promise.all(i.map(n=>n.close()))}ping(e){let{id:t,multiaddrs:i}=$N(e);return i?zE(this,i[0]):zE(this,t)}handle(e,t){e=Array.isArray(e)?e:[e],e.forEach(i=>{this.upgrader.protocols.set(i,t)}),this.peerStore.protoBook.add(this.peerId,e)}unhandle(e){e=Array.isArray(e)?e:[e],e.forEach(t=>{this.upgrader.protocols.delete(t)}),this.peerStore.protoBook.remove(this.peerId,e)}async _onStarting(){let e=this.addressManager.getListenAddrs();await this.transportManager.listen(e),this.natManager.start(),await this.peerStore.start(),this._config.pubsub.enabled&&this.pubsub&&this.pubsub.start(),this._config.dht.enabled&&(this._dht&&this._dht.start(),this._dht.on("peer",this._onDiscoveryPeer)),this.metrics&&this.metrics.start()}async _onDidStart(){this._isStarted=!0,this.peerStore.on("peer",e=>{this.emit("peer:discovery",e),this._maybeConnect(e)});for(let e of this.peerStore.peers.values())this.emit("peer:discovery",e.id);this.connectionManager.start(),await this._setupPeerDiscovery(),this.relay&&this.relay.start(),this.peerRouting.start()}_onDiscoveryPeer(e){if(e.id.toB58String()===this.peerId.toB58String()){io.error(new Error(WN.ERR_DISCOVERED_SELF));return}e.multiaddrs&&this.peerStore.addressBook.add(e.id,e.multiaddrs),e.protocols&&this.peerStore.protoBook.set(e.id,e.protocols)}async _maybeConnect(e){if(this._config.peerDiscovery.autoDial===!0&&!this.connectionManager.get(e)&&(this._options.connectionManager.minConnections||0)>this.connectionManager.size){io("connecting to discovered peer %s",e.toB58String());try{await this.dialer.connectToPeer(e)}catch(i){io.error("could not connect to discovered peer",i)}}}async _setupPeerDiscovery(){let e=t=>{let i={enabled:!0};if(t.tag&&this._config.peerDiscovery&&this._config.peerDiscovery[t.tag]&&(i={...i,...this._config.peerDiscovery[t.tag]}),i.enabled&&!this._discovery.has(t.tag)){let n;typeof t=="function"?n=new t(Object.assign({},i,{peerId:this.peerId,libp2p:this})):n=t,n.on("peer",this._onDiscoveryPeer),this._discovery.set(t.tag,n)}};for(let t of this._modules.peerDiscovery||[])e(t);for(let t of this.transportManager.getTransports())t.discovery&&e(t.discovery);await Promise.all(Array.from(this._discovery.values(),t=>t.start()))}};R7e.exports=L3});var D7e=h(()=>{});var L7e=h((Ngr,O7e)=>{O7e.exports=typeof WebSocket=="undefined"?D7e():WebSocket});var J7e=h(Db=>{"use strict";var YN=ra(),Ob=bo(),F7e=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Db.Buffer=Re;Db.SlowBuffer=pLt;Db.INSPECT_MAX_BYTES=50;var KE=2147483647;Db.kMaxLength=KE;Re.TYPED_ARRAY_SUPPORT=bLt();!Re.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function bLt(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(t){return!1}}Object.defineProperty(Re.prototype,"parent",{enumerable:!0,get:function(){if(!!Re.isBuffer(this))return this.buffer}});Object.defineProperty(Re.prototype,"offset",{enumerable:!0,get:function(){if(!!Re.isBuffer(this))return this.byteOffset}});function Qu(r){if(r>KE)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,Re.prototype),e}function Re(r,e,t){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return XN(r)}return U7e(r,e,t)}Re.poolSize=8192;function U7e(r,e,t){if(typeof r=="string")return yLt(r,e);if(ArrayBuffer.isView(r))return gLt(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(Uc(r,ArrayBuffer)||r&&Uc(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Uc(r,SharedArrayBuffer)||r&&Uc(r.buffer,SharedArrayBuffer)))return JN(r,e,t);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var i=r.valueOf&&r.valueOf();if(i!=null&&i!==r)return Re.from(i,e,t);var n=mLt(r);if(n)return n;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return Re.from(r[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}Re.from=function(r,e,t){return U7e(r,e,t)};Object.setPrototypeOf(Re.prototype,Uint8Array.prototype);Object.setPrototypeOf(Re,Uint8Array);function z7e(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function xLt(r,e,t){return z7e(r),r<=0?Qu(r):e!==void 0?typeof t=="string"?Qu(r).fill(e,t):Qu(r).fill(e):Qu(r)}Re.alloc=function(r,e,t){return xLt(r,e,t)};function XN(r){return z7e(r),Qu(r<0?0:ZN(r)|0)}Re.allocUnsafe=function(r){return XN(r)};Re.allocUnsafeSlow=function(r){return XN(r)};function yLt(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!Re.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var t=K7e(r,e)|0,i=Qu(t),n=i.write(r,e);return n!==t&&(i=i.slice(0,n)),i}function QN(r){for(var e=r.length<0?0:ZN(r.length)|0,t=Qu(e),i=0;i<e;i+=1)t[i]=r[i]&255;return t}function gLt(r){if(Uc(r,Uint8Array)){var e=new Uint8Array(r);return JN(e.buffer,e.byteOffset,e.byteLength)}return QN(r)}function JN(r,e,t){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');var i;return e===void 0&&t===void 0?i=new Uint8Array(r):t===void 0?i=new Uint8Array(r,e):i=new Uint8Array(r,e,t),Object.setPrototypeOf(i,Re.prototype),i}function mLt(r){if(Re.isBuffer(r)){var e=ZN(r.length)|0,t=Qu(e);return t.length===0||r.copy(t,0,0,e),t}if(r.length!==void 0)return typeof r.length!="number"||eP(r.length)?Qu(0):QN(r);if(r.type==="Buffer"&&Array.isArray(r.data))return QN(r.data)}function ZN(r){if(r>=KE)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+KE.toString(16)+" bytes");return r|0}function pLt(r){return+r!=r&&(r=0),Re.alloc(+r)}Re.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==Re.prototype};Re.compare=function(e,t){if(Uc(e,Uint8Array)&&(e=Re.from(e,e.offset,e.byteLength)),Uc(t,Uint8Array)&&(t=Re.from(t,t.offset,t.byteLength)),!Re.isBuffer(e)||!Re.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var i=e.length,n=t.length,s=0,o=Math.min(i,n);s<o;++s)if(e[s]!==t[s]){i=e[s],n=t[s];break}return i<n?-1:n<i?1:0};Re.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};Re.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return Re.alloc(0);var i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;var n=Re.allocUnsafe(t),s=0;for(i=0;i<e.length;++i){var o=e[i];if(Uc(o,Uint8Array))s+o.length>n.length?Re.from(o).copy(n,s):Uint8Array.prototype.set.call(n,o,s);else if(Re.isBuffer(o))o.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return n};function K7e(r,e){if(Re.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||Uc(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var t=r.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return tP(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return V7e(r).length;default:if(n)return i?-1:tP(r).length;e=(""+e).toLowerCase(),n=!0}}Re.byteLength=K7e;function kLt(r,e,t){var i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return _Lt(this,e,t);case"utf8":case"utf-8":return j7e(this,e,t);case"ascii":return vLt(this,e,t);case"latin1":case"binary":return ELt(this,e,t);case"base64":return wLt(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return SLt(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}Re.prototype._isBuffer=!0;function Fh(r,e,t){var i=r[e];r[e]=r[t],r[t]=i}Re.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Fh(this,t,t+1);return this};Re.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Fh(this,t,t+3),Fh(this,t+1,t+2);return this};Re.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Fh(this,t,t+7),Fh(this,t+1,t+6),Fh(this,t+2,t+5),Fh(this,t+3,t+4);return this};Re.prototype.toString=function(){var e=this.length;return e===0?"":arguments.length===0?j7e(this,0,e):kLt.apply(this,arguments)};Re.prototype.toLocaleString=Re.prototype.toString;Re.prototype.equals=function(e){if(!Re.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:Re.compare(this,e)===0};Re.prototype.inspect=function(){var e="",t=Db.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};F7e&&(Re.prototype[F7e]=Re.prototype.inspect);Re.prototype.compare=function(e,t,i,n,s){if(Uc(e,Uint8Array)&&(e=Re.from(e,e.offset,e.byteLength)),!Re.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),t<0||i>e.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&t>=i)return 0;if(n>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var o=s-n,a=i-t,c=Math.min(o,a),u=this.slice(n,s),f=e.slice(t,i),l=0;l<c;++l)if(u[l]!==f[l]){o=u[l],a=f[l];break}return o<a?-1:a<o?1:0};function G7e(r,e,t,i,n){if(r.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,eP(t)&&(t=n?0:r.length-1),t<0&&(t=r.length+t),t>=r.length){if(n)return-1;t=r.length-1}else if(t<0)if(n)t=0;else return-1;if(typeof e=="string"&&(e=Re.from(e,i)),Re.isBuffer(e))return e.length===0?-1:H7e(r,e,t,i,n);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?n?Uint8Array.prototype.indexOf.call(r,e,t):Uint8Array.prototype.lastIndexOf.call(r,e,t):H7e(r,[e],t,i,n);throw new TypeError("val must be string, number or Buffer")}function H7e(r,e,t,i,n){var s=1,o=r.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(r.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function c(p,b){return s===1?p[b]:p.readUInt16BE(b*s)}var u;if(n){var f=-1;for(u=t;u<o;u++)if(c(r,u)===c(e,f===-1?0:u-f)){if(f===-1&&(f=u),u-f+1===a)return f*s}else f!==-1&&(u-=u-f),f=-1}else for(t+a>o&&(t=o-a),u=t;u>=0;u--){for(var l=!0,d=0;d<a;d++)if(c(r,u+d)!==c(e,d)){l=!1;break}if(l)return u}return-1}Re.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};Re.prototype.indexOf=function(e,t,i){return G7e(this,e,t,i,!0)};Re.prototype.lastIndexOf=function(e,t,i){return G7e(this,e,t,i,!1)};function ALt(r,e,t,i){t=Number(t)||0;var n=r.length-t;i?(i=Number(i),i>n&&(i=n)):i=n;var s=e.length;i>s/2&&(i=s/2);for(var o=0;o<i;++o){var a=parseInt(e.substr(o*2,2),16);if(eP(a))return o;r[t+o]=a}return o}function ILt(r,e,t,i){return VE(tP(e,r.length-t),r,t,i)}function RLt(r,e,t,i){return VE(TLt(e),r,t,i)}function qLt(r,e,t,i){return VE(V7e(e),r,t,i)}function CLt(r,e,t,i){return VE(BLt(e,r.length-t),r,t,i)}Re.prototype.write=function(e,t,i,n){if(t===void 0)n="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")n=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,n===void 0&&(n="utf8")):(n=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return ALt(this,e,t,i);case"utf8":case"utf-8":return ILt(this,e,t,i);case"ascii":case"latin1":case"binary":return RLt(this,e,t,i);case"base64":return qLt(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return CLt(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}};Re.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function wLt(r,e,t){return e===0&&t===r.length?YN.fromByteArray(r):YN.fromByteArray(r.slice(e,t))}function j7e(r,e,t){t=Math.min(r.length,t);for(var i=[],n=e;n<t;){var s=r[n],o=null,a=s>239?4:s>223?3:s>191?2:1;if(n+a<=t){var c,u,f,l;switch(a){case 1:s<128&&(o=s);break;case 2:c=r[n+1],(c&192)==128&&(l=(s&31)<<6|c&63,l>127&&(o=l));break;case 3:c=r[n+1],u=r[n+2],(c&192)==128&&(u&192)==128&&(l=(s&15)<<12|(c&63)<<6|u&63,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:c=r[n+1],u=r[n+2],f=r[n+3],(c&192)==128&&(u&192)==128&&(f&192)==128&&(l=(s&15)<<18|(c&63)<<12|(u&63)<<6|f&63,l>65535&&l<1114112&&(o=l))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),n+=a}return MLt(i)}var $7e=4096;function MLt(r){var e=r.length;if(e<=$7e)return String.fromCharCode.apply(String,r);for(var t="",i=0;i<e;)t+=String.fromCharCode.apply(String,r.slice(i,i+=$7e));return t}function vLt(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]&127);return i}function ELt(r,e,t){var i="";t=Math.min(r.length,t);for(var n=e;n<t;++n)i+=String.fromCharCode(r[n]);return i}function _Lt(r,e,t){var i=r.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);for(var n="",s=e;s<t;++s)n+=NLt[r[s]];return n}function SLt(r,e,t){for(var i=r.slice(e,t),n="",s=0;s<i.length-1;s+=2)n+=String.fromCharCode(i[s]+i[s+1]*256);return n}Re.prototype.slice=function(e,t){var i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,Re.prototype),n};function Zi(r,e,t){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+e>t)throw new RangeError("Trying to access beyond buffer length")}Re.prototype.readUintLE=Re.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Zi(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return n};Re.prototype.readUintBE=Re.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Zi(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n};Re.prototype.readUint8=Re.prototype.readUInt8=function(e,t){return e=e>>>0,t||Zi(e,1,this.length),this[e]};Re.prototype.readUint16LE=Re.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Zi(e,2,this.length),this[e]|this[e+1]<<8};Re.prototype.readUint16BE=Re.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Zi(e,2,this.length),this[e]<<8|this[e+1]};Re.prototype.readUint32LE=Re.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Zi(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};Re.prototype.readUint32BE=Re.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Zi(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};Re.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Zi(e,t,this.length);for(var n=this[e],s=1,o=0;++o<t&&(s*=256);)n+=this[e+o]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*t)),n};Re.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Zi(e,t,this.length);for(var n=t,s=1,o=this[e+--n];n>0&&(s*=256);)o+=this[e+--n]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};Re.prototype.readInt8=function(e,t){return e=e>>>0,t||Zi(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};Re.prototype.readInt16LE=function(e,t){e=e>>>0,t||Zi(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};Re.prototype.readInt16BE=function(e,t){e=e>>>0,t||Zi(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};Re.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Zi(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};Re.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Zi(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};Re.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Zi(e,4,this.length),Ob.read(this,e,!0,23,4)};Re.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Zi(e,4,this.length),Ob.read(this,e,!1,23,4)};Re.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Zi(e,8,this.length),Ob.read(this,e,!0,52,8)};Re.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Zi(e,8,this.length),Ob.read(this,e,!1,52,8)};function Us(r,e,t,i,n,s){if(!Re.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>r.length)throw new RangeError("Index out of range")}Re.prototype.writeUintLE=Re.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Us(this,e,t,i,s,0)}var o=1,a=0;for(this[t]=e&255;++a<i&&(o*=256);)this[t+a]=e/o&255;return t+i};Re.prototype.writeUintBE=Re.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,i=i>>>0,!n){var s=Math.pow(2,8*i)-1;Us(this,e,t,i,s,0)}var o=i-1,a=1;for(this[t+o]=e&255;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+i};Re.prototype.writeUint8=Re.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||Us(this,e,t,1,255,0),this[t]=e&255,t+1};Re.prototype.writeUint16LE=Re.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Us(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};Re.prototype.writeUint16BE=Re.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Us(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};Re.prototype.writeUint32LE=Re.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Us(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};Re.prototype.writeUint32BE=Re.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Us(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};Re.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);Us(this,e,t,i,s-1,-s)}var o=0,a=1,c=0;for(this[t]=e&255;++o<i&&(a*=256);)e<0&&c===0&&this[t+o-1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};Re.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t=t>>>0,!n){var s=Math.pow(2,8*i-1);Us(this,e,t,i,s-1,-s)}var o=i-1,a=1,c=0;for(this[t+o]=e&255;--o>=0&&(a*=256);)e<0&&c===0&&this[t+o+1]!==0&&(c=1),this[t+o]=(e/a>>0)-c&255;return t+i};Re.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||Us(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};Re.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||Us(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};Re.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||Us(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};Re.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||Us(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};Re.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||Us(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function W7e(r,e,t,i,n,s){if(t+i>r.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Y7e(r,e,t,i,n){return e=+e,t=t>>>0,n||W7e(r,e,t,4,34028234663852886e22,-34028234663852886e22),Ob.write(r,e,t,i,23,4),t+4}Re.prototype.writeFloatLE=function(e,t,i){return Y7e(this,e,t,!0,i)};Re.prototype.writeFloatBE=function(e,t,i){return Y7e(this,e,t,!1,i)};function X7e(r,e,t,i,n){return e=+e,t=t>>>0,n||W7e(r,e,t,8,17976931348623157e292,-17976931348623157e292),Ob.write(r,e,t,i,52,8),t+8}Re.prototype.writeDoubleLE=function(e,t,i){return X7e(this,e,t,!0,i)};Re.prototype.writeDoubleBE=function(e,t,i){return X7e(this,e,t,!1,i)};Re.prototype.copy=function(e,t,i,n){if(!Re.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!n&&n!==0&&(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);var s=n-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),s};Re.prototype.fill=function(e,t,i,n){if(typeof e=="string"){if(typeof t=="string"?(n=t,t=0,i=this.length):typeof i=="string"&&(n=i,i=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Re.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(e.length===1){var s=e.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);var o;if(typeof e=="number")for(o=t;o<i;++o)this[o]=e;else{var a=Re.isBuffer(e)?e:Re.from(e,n),c=a.length;if(c===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<i-t;++o)this[o+t]=a[o%c]}return this};var PLt=/[^+/0-9A-Za-z-_]/g;function DLt(r){if(r=r.split("=")[0],r=r.trim().replace(PLt,""),r.length<2)return"";for(;r.length%4!=0;)r=r+"=";return r}function tP(r,e){e=e||Infinity;for(var t,i=r.length,n=null,s=[],o=0;o<i;++o){if(t=r.charCodeAt(o),t>55295&&t<57344){if(!n){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}n=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),n=t;continue}t=(n-55296<<10|t-56320)+65536}else n&&(e-=3)>-1&&s.push(239,191,189);if(n=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function TLt(r){for(var e=[],t=0;t<r.length;++t)e.push(r.charCodeAt(t)&255);return e}function BLt(r,e){for(var t,i,n,s=[],o=0;o<r.length&&!((e-=2)<0);++o)t=r.charCodeAt(o),i=t>>8,n=t%256,s.push(n),s.push(i);return s}function V7e(r){return YN.toByteArray(DLt(r))}function VE(r,e,t,i){for(var n=0;n<i&&!(n+t>=e.length||n>=r.length);++n)e[n+t]=r[n];return n}function Uc(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function eP(r){return r!==r}var NLt=function(){for(var r="0123456789abcdef",e=new Array(256),t=0;t<16;++t)for(var i=t*16,n=0;n<16;++n)e[i+n]=r[t]+r[n];return e}()});var Q7e=h(jE=>{"use strict";Object.defineProperty(jE,"__esModule",{value:!0});var Z7e=class{constructor(){this.pullQueue=[],this.pushQueue=[],this.eventHandlers={},this.isPaused=!1,this.isStopped=!1}push(e){if(this.isStopped)return;let t={value:e,done:!1};if(this.pullQueue.length){let i=this.pullQueue.shift();i&&i.resolve(t)}else this.pushQueue.push(Promise.resolve(t)),this.highWaterMark!==void 0&&this.pushQueue.length>=this.highWaterMark&&!this.isPaused&&(this.isPaused=!0,this.eventHandlers.highWater?this.eventHandlers.highWater():console&&console.warn(`EventIterator queue reached ${this.pushQueue.length} items`))}stop(){if(!this.isStopped){this.isStopped=!0,this.remove();for(let e of this.pullQueue)e.resolve({value:void 0,done:!0});this.pullQueue.length=0}}fail(e){if(!this.isStopped)if(this.isStopped=!0,this.remove(),this.pullQueue.length){for(let t of this.pullQueue)t.reject(e);this.pullQueue.length=0}else{let t=Promise.reject(e);t.catch(()=>{}),this.pushQueue.push(t)}}remove(){Promise.resolve().then(()=>{this.removeCallback&&this.removeCallback()})}[Symbol.asyncIterator](){return{next:e=>{let t=this.pushQueue.shift();return t?(this.lowWaterMark!==void 0&&this.pushQueue.length<=this.lowWaterMark&&this.isPaused&&(this.isPaused=!1,this.eventHandlers.lowWater&&this.eventHandlers.lowWater()),t):this.isStopped?Promise.resolve({value:void 0,done:!0}):new Promise((i,n)=>{this.pullQueue.push({resolve:i,reject:n})})},return:()=>(this.isStopped=!0,this.pushQueue.length=0,this.remove(),Promise.resolve({value:void 0,done:!0}))}}},rP=class{constructor(e,{highWaterMark:t=100,lowWaterMark:i=1}={}){let n=new Z7e;n.highWaterMark=t,n.lowWaterMark=i,n.removeCallback=e({push:s=>n.push(s),stop:()=>n.stop(),fail:s=>n.fail(s),on:(s,o)=>{n.eventHandlers[s]=o}})||(()=>{}),this[Symbol.asyncIterator]=()=>n[Symbol.asyncIterator](),Object.freeze(this)}};jE.EventIterator=rP;jE.default=rP});var eIe=h(F3=>{"use strict";Object.defineProperty(F3,"__esModule",{value:!0});var iP=Q7e();F3.EventIterator=iP.EventIterator;function OLt(r,e,t){return new iP.EventIterator(({push:i})=>(this.addEventListener(r,i,e),()=>this.removeEventListener(r,i,e)),t)}F3.subscribe=OLt;F3.default=iP.EventIterator});var rIe=h((Lgr,tIe)=>{var{Buffer:LLt}=J7e(),{EventIterator:FLt}=eIe();function ULt(r){return r instanceof ArrayBuffer||r!=null&&r.constructor!=null&&r.constructor.name==="ArrayBuffer"&&typeof r.byteLength=="number"}tIe.exports=r=>{let e=r.removeEventListener||r.removeListener,t=async function*(){let s=new FLt(({push:o,stop:a,fail:c})=>(r.addEventListener("message",o),r.addEventListener("error",c),r.addEventListener("close",a),()=>{e.call(r,"message",o),e.call(r,"error",c),e.call(r,"close",a)}),{highWaterMark:Infinity});for await(let{data:o}of s)yield ULt(o)?LLt.from(o):o}(),i=r.readyState===1,n;return r.addEventListener("open",()=>{i=!0,n=null}),r.addEventListener("close",()=>{i=!1,n=null}),r.addEventListener("error",s=>{i||(n=s)}),t.connected=()=>new Promise((s,o)=>{if(i)return s();if(n)return o(n);let a=f=>{e.call(r,"open",c),e.call(r,"error",u),f()},c=()=>a(s),u=f=>a(()=>o(f));r.addEventListener("open",c),r.addEventListener("error",u)}),t}});var nIe=h((Fgr,iIe)=>{iIe.exports=async r=>{if(r.readyState>=2)throw new Error("socket closed");if(r.readyState!==1)return new Promise((e,t)=>{let i=r&&(r.removeEventListener||r.removeListener);function n(){typeof i=="function"&&(i.call(r,"open",s),i.call(r,"error",o))}function s(){n(),e()}function o(a){n(),t(a)}r.addEventListener("open",s),r.addEventListener("error",o)})}});var oIe=h((Ugr,sIe)=>{var zLt=nIe();sIe.exports=(r,e)=>(e=e||{},e.closeOnEnd=e.closeOnEnd!==!1,async t=>{for await(let i of t){try{await zLt(r)}catch(n){if(n.message==="socket closed")break;throw n}r.send(i)}if(e.closeOnEnd&&r.readyState<=1)return new Promise((i,n)=>{r.addEventListener("close",s=>{if(s.wasClean||s.code===1006)i();else{let o=Object.assign(new Error("ws error"),{event:s});n(o)}}),setTimeout(()=>r.close())})})});var cIe=h((zgr,aIe)=>{var KLt=rIe(),VLt=oIe();aIe.exports=(r,e)=>{e=e||{},e.binaryType?r.binaryType=e.binaryType:e.binary&&(r.binaryType="arraybuffer");let t={sink:VLt(r,e),source:KLt(r,e),connected:()=>t.source.connected()};return t}});var fIe=h((Kgr,uIe)=>{var U3=lv();uIe.exports=function(r,e,t,i){t=t||{};var r=U3.parse(r,!1,!0),n;return r.protocol?n=r.protocol:(n=e.protocol?e.protocol.replace(/:$/,""):"http",n=(t[n]||i||n)+":"),r.host&&r.host[0]===":"&&(r.host=null),r.hostname?U3.format({protocol:n,slashes:!0,hostname:r.hostname,port:r.port,pathname:r.pathname,search:r.search}):(r.host=e.host,r.port?U3.format({protocol:n,slashes:!0,host:e.hostname+":"+r.port,port:r.port,pathname:r.pathname,search:r.search}):r.pathname?U3.format({protocol:n,slashes:!0,host:r.host,pathname:r.pathname,search:r.search}):(r.pathname=e.pathname,r.search?U3.format({protocol:n,slashes:!0,host:r.host,pathname:r.pathname,search:r.search}):(r.search=e.search,r.format(r))))}});var hIe=h((Vgr,lIe)=>{var jLt=fIe(),HLt={http:"ws",https:"wss"},GLt="ws";lIe.exports=(r,e)=>jLt(r,e,HLt,GLt)});var dIe=h((jgr,HE)=>{"use strict";var $Lt=L7e(),WLt=cIe(),YLt=hIe();HE.exports=function(r,e={}){let t=typeof window=="undefined"?{}:window.location,i=YLt(r,t),n=new $Lt(i,e.websocket),s=WLt(n,e);return s.remoteAddress=i,s.close=()=>new Promise((o,a)=>{n.addEventListener("close",o),n.close()}),s.destroy=()=>{n.terminate?n.terminate():n.close()},s.socket=n,s};HE.exports.connect=HE.exports});var bIe=h((Hgr,pIe)=>{"use strict";pIe.exports=function(){throw new Error("WebSocket Servers can not be created in the browser!")}});var nP=h(Uh=>{"use strict";Uh.CODE_P2P=421;Uh.CODE_CIRCUIT=290;Uh.CODE_TCP=6;Uh.CODE_WS=477;Uh.CODE_WSS=478;Uh.CLOSE_TIMEOUT=2e3});var sP=h((GE,yIe)=>{(function(){var r,e=244837814094590,t=(e&16777215)==15715070;function i(R,B,j){R!=null&&(typeof R=="number"?this.fromNumber(R,B,j):B==null&&typeof R!="string"?this.fromString(R,256):this.fromString(R,B))}function n(){return new i(null)}function s(R,B,j,le,Ce,Pe){for(;--Pe>=0;){var He=B*this[R++]+j[le]+Ce;Ce=Math.floor(He/67108864),j[le++]=He&67108863}return Ce}function o(R,B,j,le,Ce,Pe){for(var He=B&32767,Ze=B>>15;--Pe>=0;){var Cr=this[R]&32767,qi=this[R++]>>15,ho=Ze*Cr+qi*He;Cr=He*Cr+((ho&32767)<<15)+j[le]+(Ce&1073741823),Ce=(Cr>>>30)+(ho>>>15)+Ze*qi+(Ce>>>30),j[le++]=Cr&1073741823}return Ce}function a(R,B,j,le,Ce,Pe){for(var He=B&16383,Ze=B>>14;--Pe>=0;){var Cr=this[R]&16383,qi=this[R++]>>14,ho=Ze*Cr+qi*He;Cr=He*Cr+((ho&16383)<<14)+j[le]+Ce,Ce=(Cr>>28)+(ho>>14)+Ze*qi,j[le++]=Cr&268435455}return Ce}var c=typeof navigator!="undefined";c&&t&&navigator.appName=="Microsoft Internet Explorer"?(i.prototype.am=o,r=30):c&&t&&navigator.appName!="Netscape"?(i.prototype.am=s,r=26):(i.prototype.am=a,r=28),i.prototype.DB=r,i.prototype.DM=(1<<r)-1,i.prototype.DV=1<<r;var u=52;i.prototype.FV=Math.pow(2,u),i.prototype.F1=u-r,i.prototype.F2=2*r-u;var f="0123456789abcdefghijklmnopqrstuvwxyz",l=new Array,d,p;for(d="0".charCodeAt(0),p=0;p<=9;++p)l[d++]=p;for(d="a".charCodeAt(0),p=10;p<36;++p)l[d++]=p;for(d="A".charCodeAt(0),p=10;p<36;++p)l[d++]=p;function b(R){return f.charAt(R)}function g(R,B){var j=l[R.charCodeAt(B)];return j??-1}function m(R){for(var B=this.t-1;B>=0;--B)R[B]=this[B];R.t=this.t,R.s=this.s}function w(R){this.t=1,this.s=R<0?-1:0,R>0?this[0]=R:R<-1?this[0]=R+this.DV:this.t=0}function A(R){var B=n();return B.fromInt(R),B}function I(R,B){var j;if(B==16)j=4;else if(B==8)j=3;else if(B==256)j=8;else if(B==2)j=1;else if(B==32)j=5;else if(B==4)j=2;else{this.fromRadix(R,B);return}this.t=0,this.s=0;for(var le=R.length,Ce=!1,Pe=0;--le>=0;){var He=j==8?R[le]&255:g(R,le);if(He<0){R.charAt(le)=="-"&&(Ce=!0);continue}Ce=!1,Pe==0?this[this.t++]=He:Pe+j>this.DB?(this[this.t-1]|=(He&(1<<this.DB-Pe)-1)<<Pe,this[this.t++]=He>>this.DB-Pe):this[this.t-1]|=He<<Pe,Pe+=j,Pe>=this.DB&&(Pe-=this.DB)}j==8&&(R[0]&128)!=0&&(this.s=-1,Pe>0&&(this[this.t-1]|=(1<<this.DB-Pe)-1<<Pe)),this.clamp(),Ce&&i.ZERO.subTo(this,this)}function F(){for(var R=this.s&this.DM;this.t>0&&this[this.t-1]==R;)--this.t}function V(R){if(this.s<0)return"-"+this.negate().toString(R);var B;if(R==16)B=4;else if(R==8)B=3;else if(R==2)B=1;else if(R==32)B=5;else if(R==4)B=2;else return this.toRadix(R);var j=(1<<B)-1,le,Ce=!1,Pe="",He=this.t,Ze=this.DB-He*this.DB%B;if(He-- >0)for(Ze<this.DB&&(le=this[He]>>Ze)>0&&(Ce=!0,Pe=b(le));He>=0;)Ze<B?(le=(this[He]&(1<<Ze)-1)<<B-Ze,le|=this[--He]>>(Ze+=this.DB-B)):(le=this[He]>>(Ze-=B)&j,Ze<=0&&(Ze+=this.DB,--He)),le>0&&(Ce=!0),Ce&&(Pe+=b(le));return Ce?Pe:"0"}function P(){var R=n();return i.ZERO.subTo(this,R),R}function W(){return this.s<0?this.negate():this}function ne(R){var B=this.s-R.s;if(B!=0)return B;var j=this.t;if(B=j-R.t,B!=0)return this.s<0?-B:B;for(;--j>=0;)if((B=this[j]-R[j])!=0)return B;return 0}function Q(R){var B=1,j;return(j=R>>>16)!=0&&(R=j,B+=16),(j=R>>8)!=0&&(R=j,B+=8),(j=R>>4)!=0&&(R=j,B+=4),(j=R>>2)!=0&&(R=j,B+=2),(j=R>>1)!=0&&(R=j,B+=1),B}function M(){return this.t<=0?0:this.DB*(this.t-1)+Q(this[this.t-1]^this.s&this.DM)}function y(R,B){var j;for(j=this.t-1;j>=0;--j)B[j+R]=this[j];for(j=R-1;j>=0;--j)B[j]=0;B.t=this.t+R,B.s=this.s}function v(R,B){for(var j=R;j<this.t;++j)B[j-R]=this[j];B.t=Math.max(this.t-R,0),B.s=this.s}function k(R,B){var j=R%this.DB,le=this.DB-j,Ce=(1<<le)-1,Pe=Math.floor(R/this.DB),He=this.s<<j&this.DM,Ze;for(Ze=this.t-1;Ze>=0;--Ze)B[Ze+Pe+1]=this[Ze]>>le|He,He=(this[Ze]&Ce)<<j;for(Ze=Pe-1;Ze>=0;--Ze)B[Ze]=0;B[Pe]=He,B.t=this.t+Pe+1,B.s=this.s,B.clamp()}function N(R,B){B.s=this.s;var j=Math.floor(R/this.DB);if(j>=this.t){B.t=0;return}var le=R%this.DB,Ce=this.DB-le,Pe=(1<<le)-1;B[0]=this[j]>>le;for(var He=j+1;He<this.t;++He)B[He-j-1]|=(this[He]&Pe)<<Ce,B[He-j]=this[He]>>le;le>0&&(B[this.t-j-1]|=(this.s&Pe)<<Ce),B.t=this.t-j,B.clamp()}function L(R,B){for(var j=0,le=0,Ce=Math.min(R.t,this.t);j<Ce;)le+=this[j]-R[j],B[j++]=le&this.DM,le>>=this.DB;if(R.t<this.t){for(le-=R.s;j<this.t;)le+=this[j],B[j++]=le&this.DM,le>>=this.DB;le+=this.s}else{for(le+=this.s;j<R.t;)le-=R[j],B[j++]=le&this.DM,le>>=this.DB;le-=R.s}B.s=le<0?-1:0,le<-1?B[j++]=this.DV+le:le>0&&(B[j++]=le),B.t=j,B.clamp()}function $(R,B){var j=this.abs(),le=R.abs(),Ce=j.t;for(B.t=Ce+le.t;--Ce>=0;)B[Ce]=0;for(Ce=0;Ce<le.t;++Ce)B[Ce+j.t]=j.am(0,le[Ce],B,Ce,0,j.t);B.s=0,B.clamp(),this.s!=R.s&&i.ZERO.subTo(B,B)}function X(R){for(var B=this.abs(),j=R.t=2*B.t;--j>=0;)R[j]=0;for(j=0;j<B.t-1;++j){var le=B.am(j,B[j],R,2*j,0,1);(R[j+B.t]+=B.am(j+1,2*B[j],R,2*j+1,le,B.t-j-1))>=B.DV&&(R[j+B.t]-=B.DV,R[j+B.t+1]=1)}R.t>0&&(R[R.t-1]+=B.am(j,B[j],R,2*j,0,1)),R.s=0,R.clamp()}function q(R,B,j){var le=R.abs();if(!(le.t<=0)){var Ce=this.abs();if(Ce.t<le.t){B!=null&&B.fromInt(0),j!=null&&this.copyTo(j);return}j==null&&(j=n());var Pe=n(),He=this.s,Ze=R.s,Cr=this.DB-Q(le[le.t-1]);Cr>0?(le.lShiftTo(Cr,Pe),Ce.lShiftTo(Cr,j)):(le.copyTo(Pe),Ce.copyTo(j));var qi=Pe.t,ho=Pe[qi-1];if(ho!=0){var Hs=ho*(1<<this.F1)+(qi>1?Pe[qi-2]>>this.F2:0),Jc=this.FV/Hs,zx=(1<<this.F1)/Hs,ea=1<<this.F2,ta=j.t,Kx=ta-qi,wf=B??n();for(Pe.dlShiftTo(Kx,wf),j.compareTo(wf)>=0&&(j[j.t++]=1,j.subTo(wf,j)),i.ONE.dlShiftTo(qi,wf),wf.subTo(Pe,Pe);Pe.t<qi;)Pe[Pe.t++]=0;for(;--Kx>=0;){var QS=j[--ta]==ho?this.DM:Math.floor(j[ta]*Jc+(j[ta-1]+ea)*zx);if((j[ta]+=Pe.am(0,QS,j,Kx,0,qi))<QS)for(Pe.dlShiftTo(Kx,wf),j.subTo(wf,j);j[ta]<--QS;)j.subTo(wf,j)}B!=null&&(j.drShiftTo(qi,B),He!=Ze&&i.ZERO.subTo(B,B)),j.t=qi,j.clamp(),Cr>0&&j.rShiftTo(Cr,j),He<0&&i.ZERO.subTo(j,j)}}}function x(R){var B=n();return this.abs().divRemTo(R,null,B),this.s<0&&B.compareTo(i.ZERO)>0&&R.subTo(B,B),B}function z(R){this.m=R}function pe(R){return R.s<0||R.compareTo(this.m)>=0?R.mod(this.m):R}function G(R){return R}function be(R){R.divRemTo(this.m,null,R)}function U(R,B,j){R.multiplyTo(B,j),this.reduce(j)}function _(R,B){R.squareTo(B),this.reduce(B)}z.prototype.convert=pe,z.prototype.revert=G,z.prototype.reduce=be,z.prototype.mulTo=U,z.prototype.sqrTo=_;function ue(){if(this.t<1)return 0;var R=this[0];if((R&1)==0)return 0;var B=R&3;return B=B*(2-(R&15)*B)&15,B=B*(2-(R&255)*B)&255,B=B*(2-((R&65535)*B&65535))&65535,B=B*(2-R*B%this.DV)%this.DV,B>0?this.DV-B:-B}function fe(R){this.m=R,this.mp=R.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<R.DB-15)-1,this.mt2=2*R.t}function E(R){var B=n();return R.abs().dlShiftTo(this.m.t,B),B.divRemTo(this.m,null,B),R.s<0&&B.compareTo(i.ZERO)>0&&this.m.subTo(B,B),B}function T(R){var B=n();return R.copyTo(B),this.reduce(B),B}function D(R){for(;R.t<=this.mt2;)R[R.t++]=0;for(var B=0;B<this.m.t;++B){var j=R[B]&32767,le=j*this.mpl+((j*this.mph+(R[B]>>15)*this.mpl&this.um)<<15)&R.DM;for(j=B+this.m.t,R[j]+=this.m.am(0,le,R,B,0,this.m.t);R[j]>=R.DV;)R[j]-=R.DV,R[++j]++}R.clamp(),R.drShiftTo(this.m.t,R),R.compareTo(this.m)>=0&&R.subTo(this.m,R)}function K(R,B){R.squareTo(B),this.reduce(B)}function H(R,B,j){R.multiplyTo(B,j),this.reduce(j)}fe.prototype.convert=E,fe.prototype.revert=T,fe.prototype.reduce=D,fe.prototype.mulTo=H,fe.prototype.sqrTo=K;function ee(){return(this.t>0?this[0]&1:this.s)==0}function Z(R,B){if(R>4294967295||R<1)return i.ONE;var j=n(),le=n(),Ce=B.convert(this),Pe=Q(R)-1;for(Ce.copyTo(j);--Pe>=0;)if(B.sqrTo(j,le),(R&1<<Pe)>0)B.mulTo(le,Ce,j);else{var He=j;j=le,le=He}return B.revert(j)}function J(R,B){var j;return R<256||B.isEven()?j=new z(B):j=new fe(B),this.exp(R,j)}i.prototype.copyTo=m,i.prototype.fromInt=w,i.prototype.fromString=I,i.prototype.clamp=F,i.prototype.dlShiftTo=y,i.prototype.drShiftTo=v,i.prototype.lShiftTo=k,i.prototype.rShiftTo=N,i.prototype.subTo=L,i.prototype.multiplyTo=$,i.prototype.squareTo=X,i.prototype.divRemTo=q,i.prototype.invDigit=ue,i.prototype.isEven=ee,i.prototype.exp=Z,i.prototype.toString=V,i.prototype.negate=P,i.prototype.abs=W,i.prototype.compareTo=ne,i.prototype.bitLength=M,i.prototype.mod=x,i.prototype.modPowInt=J,i.ZERO=A(0),i.ONE=A(1);function te(){var R=n();return this.copyTo(R),R}function ae(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function ce(){return this.t==0?this.s:this[0]<<24>>24}function ye(){return this.t==0?this.s:this[0]<<16>>16}function Me(R){return Math.floor(Math.LN2*this.DB/Math.log(R))}function Be(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function Je(R){if(R==null&&(R=10),this.signum()==0||R<2||R>36)return"0";var B=this.chunkSize(R),j=Math.pow(R,B),le=A(j),Ce=n(),Pe=n(),He="";for(this.divRemTo(le,Ce,Pe);Ce.signum()>0;)He=(j+Pe.intValue()).toString(R).substr(1)+He,Ce.divRemTo(le,Ce,Pe);return Pe.intValue().toString(R)+He}function $e(R,B){this.fromInt(0),B==null&&(B=10);for(var j=this.chunkSize(B),le=Math.pow(B,j),Ce=!1,Pe=0,He=0,Ze=0;Ze<R.length;++Ze){var Cr=g(R,Ze);if(Cr<0){R.charAt(Ze)=="-"&&this.signum()==0&&(Ce=!0);continue}He=B*He+Cr,++Pe>=j&&(this.dMultiply(le),this.dAddOffset(He,0),Pe=0,He=0)}Pe>0&&(this.dMultiply(Math.pow(B,Pe)),this.dAddOffset(He,0)),Ce&&i.ZERO.subTo(this,this)}function nt(R,B,j){if(typeof B=="number")if(R<2)this.fromInt(1);else for(this.fromNumber(R,j),this.testBit(R-1)||this.bitwiseTo(i.ONE.shiftLeft(R-1),S,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(B);)this.dAddOffset(2,0),this.bitLength()>R&&this.subTo(i.ONE.shiftLeft(R-1),this);else{var le=new Array,Ce=R&7;le.length=(R>>3)+1,B.nextBytes(le),Ce>0?le[0]&=(1<<Ce)-1:le[0]=0,this.fromString(le,256)}}function Qe(){var R=this.t,B=new Array;B[0]=this.s;var j=this.DB-R*this.DB%8,le,Ce=0;if(R-- >0)for(j<this.DB&&(le=this[R]>>j)!=(this.s&this.DM)>>j&&(B[Ce++]=le|this.s<<this.DB-j);R>=0;)j<8?(le=(this[R]&(1<<j)-1)<<8-j,le|=this[--R]>>(j+=this.DB-8)):(le=this[R]>>(j-=8)&255,j<=0&&(j+=this.DB,--R)),(le&128)!=0&&(le|=-256),Ce==0&&(this.s&128)!=(le&128)&&++Ce,(Ce>0||le!=this.s)&&(B[Ce++]=le);return B}function Ue(R){return this.compareTo(R)==0}function Ye(R){return this.compareTo(R)<0?this:R}function It(R){return this.compareTo(R)>0?this:R}function it(R,B,j){var le,Ce,Pe=Math.min(R.t,this.t);for(le=0;le<Pe;++le)j[le]=B(this[le],R[le]);if(R.t<this.t){for(Ce=R.s&this.DM,le=Pe;le<this.t;++le)j[le]=B(this[le],Ce);j.t=this.t}else{for(Ce=this.s&this.DM,le=Pe;le<R.t;++le)j[le]=B(Ce,R[le]);j.t=R.t}j.s=B(this.s,R.s),j.clamp()}function je(R,B){return R&B}function re(R){var B=n();return this.bitwiseTo(R,je,B),B}function S(R,B){return R|B}function Y(R){var B=n();return this.bitwiseTo(R,S,B),B}function Yt(R,B){return R^B}function tt(R){var B=n();return this.bitwiseTo(R,Yt,B),B}function Pt(R,B){return R&~B}function Yn(R){var B=n();return this.bitwiseTo(R,Pt,B),B}function Ut(){for(var R=n(),B=0;B<this.t;++B)R[B]=this.DM&~this[B];return R.t=this.t,R.s=~this.s,R}function rt(R){var B=n();return R<0?this.rShiftTo(-R,B):this.lShiftTo(R,B),B}function Xn(R){var B=n();return R<0?this.lShiftTo(-R,B):this.rShiftTo(R,B),B}function zt(R){if(R==0)return-1;var B=0;return(R&65535)==0&&(R>>=16,B+=16),(R&255)==0&&(R>>=8,B+=8),(R&15)==0&&(R>>=4,B+=4),(R&3)==0&&(R>>=2,B+=2),(R&1)==0&&++B,B}function Kt(){for(var R=0;R<this.t;++R)if(this[R]!=0)return R*this.DB+zt(this[R]);return this.s<0?this.t*this.DB:-1}function Jn(R){for(var B=0;R!=0;)R&=R-1,++B;return B}function Vt(){for(var R=0,B=this.s&this.DM,j=0;j<this.t;++j)R+=Jn(this[j]^B);return R}function kt(R){var B=Math.floor(R/this.DB);return B>=this.t?this.s!=0:(this[B]&1<<R%this.DB)!=0}function ps(R,B){var j=i.ONE.shiftLeft(R);return this.bitwiseTo(j,B,j),j}function Xt(R){return this.changeBit(R,S)}function Jt(R){return this.changeBit(R,Pt)}function bs(R){return this.changeBit(R,Yt)}function at(R,B){for(var j=0,le=0,Ce=Math.min(R.t,this.t);j<Ce;)le+=this[j]+R[j],B[j++]=le&this.DM,le>>=this.DB;if(R.t<this.t){for(le+=R.s;j<this.t;)le+=this[j],B[j++]=le&this.DM,le>>=this.DB;le+=this.s}else{for(le+=this.s;j<R.t;)le+=R[j],B[j++]=le&this.DM,le>>=this.DB;le+=R.s}B.s=le<0?-1:0,le>0?B[j++]=le:le<-1&&(B[j++]=this.DV+le),B.t=j,B.clamp()}function Zt(R){var B=n();return this.addTo(R,B),B}function ys(R){var B=n();return this.subTo(R,B),B}function hr(R){var B=n();return this.multiplyTo(R,B),B}function sr(){var R=n();return this.squareTo(R),R}function Jo(R){var B=n();return this.divRemTo(R,B,null),B}function or(R){var B=n();return this.divRemTo(R,null,B),B}function ar(R){var B=n(),j=n();return this.divRemTo(R,B,j),new Array(B,j)}function ir(R){this[this.t]=this.am(0,R-1,this,0,0,this.t),++this.t,this.clamp()}function cr(R,B){if(R!=0){for(;this.t<=B;)this[this.t++]=0;for(this[B]+=R;this[B]>=this.DV;)this[B]-=this.DV,++B>=this.t&&(this[this.t++]=0),++this[B]}}function jt(){}function Vs(R){return R}function oo(R,B,j){R.multiplyTo(B,j)}function ao(R,B){R.squareTo(B)}jt.prototype.convert=Vs,jt.prototype.revert=Vs,jt.prototype.mulTo=oo,jt.prototype.sqrTo=ao;function co(R){return this.exp(R,new jt)}function uo(R,B,j){var le=Math.min(this.t+R.t,B);for(j.s=0,j.t=le;le>0;)j[--le]=0;var Ce;for(Ce=j.t-this.t;le<Ce;++le)j[le+this.t]=this.am(0,R[le],j,le,0,this.t);for(Ce=Math.min(R.t,B);le<Ce;++le)this.am(0,R[le],j,le,0,B-le);j.clamp()}function fo(R,B,j){--B;var le=j.t=this.t+R.t-B;for(j.s=0;--le>=0;)j[le]=0;for(le=Math.max(B-this.t,0);le<R.t;++le)j[this.t+le-B]=this.am(B-le,R[le],j,0,0,this.t+le-B);j.clamp(),j.drShiftTo(1,j)}function dt(R){this.r2=n(),this.q3=n(),i.ONE.dlShiftTo(2*R.t,this.r2),this.mu=this.r2.divide(R),this.m=R}function lo(R){if(R.s<0||R.t>2*this.m.t)return R.mod(this.m);if(R.compareTo(this.m)<0)return R;var B=n();return R.copyTo(B),this.reduce(B),B}function W0(R){return R}function ie(R){for(R.drShiftTo(this.m.t-1,this.r2),R.t>this.m.t+1&&(R.t=this.m.t+1,R.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);R.compareTo(this.r2)<0;)R.dAddOffset(1,this.m.t+1);for(R.subTo(this.r2,R);R.compareTo(this.m)>=0;)R.subTo(this.m,R)}function xt(R,B){R.squareTo(B),this.reduce(B)}function vt(R,B,j){R.multiplyTo(B,j),this.reduce(j)}dt.prototype.convert=lo,dt.prototype.revert=W0,dt.prototype.reduce=ie,dt.prototype.mulTo=vt,dt.prototype.sqrTo=xt;function gt(R,B){var j=R.bitLength(),le,Ce=A(1),Pe;if(j<=0)return Ce;j<18?le=1:j<48?le=3:j<144?le=4:j<768?le=5:le=6,j<8?Pe=new z(B):B.isEven()?Pe=new dt(B):Pe=new fe(B);var He=new Array,Ze=3,Cr=le-1,qi=(1<<le)-1;if(He[1]=Pe.convert(this),le>1){var ho=n();for(Pe.sqrTo(He[1],ho);Ze<=qi;)He[Ze]=n(),Pe.mulTo(ho,He[Ze-2],He[Ze]),Ze+=2}var Hs=R.t-1,Jc,zx=!0,ea=n(),ta;for(j=Q(R[Hs])-1;Hs>=0;){for(j>=Cr?Jc=R[Hs]>>j-Cr&qi:(Jc=(R[Hs]&(1<<j+1)-1)<<Cr-j,Hs>0&&(Jc|=R[Hs-1]>>this.DB+j-Cr)),Ze=le;(Jc&1)==0;)Jc>>=1,--Ze;if((j-=Ze)<0&&(j+=this.DB,--Hs),zx)He[Jc].copyTo(Ce),zx=!1;else{for(;Ze>1;)Pe.sqrTo(Ce,ea),Pe.sqrTo(ea,Ce),Ze-=2;Ze>0?Pe.sqrTo(Ce,ea):(ta=Ce,Ce=ea,ea=ta),Pe.mulTo(ea,He[Jc],Ce)}for(;Hs>=0&&(R[Hs]&1<<j)==0;)Pe.sqrTo(Ce,ea),ta=Ce,Ce=ea,ea=ta,--j<0&&(j=this.DB-1,--Hs)}return Pe.revert(Ce)}function Ua(R){var B=this.s<0?this.negate():this.clone(),j=R.s<0?R.negate():R.clone();if(B.compareTo(j)<0){var le=B;B=j,j=le}var Ce=B.getLowestSetBit(),Pe=j.getLowestSetBit();if(Pe<0)return B;for(Ce<Pe&&(Pe=Ce),Pe>0&&(B.rShiftTo(Pe,B),j.rShiftTo(Pe,j));B.signum()>0;)(Ce=B.getLowestSetBit())>0&&B.rShiftTo(Ce,B),(Ce=j.getLowestSetBit())>0&&j.rShiftTo(Ce,j),B.compareTo(j)>=0?(B.subTo(j,B),B.rShiftTo(1,B)):(j.subTo(B,j),j.rShiftTo(1,j));return Pe>0&&j.lShiftTo(Pe,j),j}function Zo(R){if(R<=0)return 0;var B=this.DV%R,j=this.s<0?R-1:0;if(this.t>0)if(B==0)j=this[0]%R;else for(var le=this.t-1;le>=0;--le)j=(B*j+this[le])%R;return j}function dd(R){var B=R.isEven();if(this.isEven()&&B||R.signum()==0)return i.ZERO;for(var j=R.clone(),le=this.clone(),Ce=A(1),Pe=A(0),He=A(0),Ze=A(1);j.signum()!=0;){for(;j.isEven();)j.rShiftTo(1,j),B?((!Ce.isEven()||!Pe.isEven())&&(Ce.addTo(this,Ce),Pe.subTo(R,Pe)),Ce.rShiftTo(1,Ce)):Pe.isEven()||Pe.subTo(R,Pe),Pe.rShiftTo(1,Pe);for(;le.isEven();)le.rShiftTo(1,le),B?((!He.isEven()||!Ze.isEven())&&(He.addTo(this,He),Ze.subTo(R,Ze)),He.rShiftTo(1,He)):Ze.isEven()||Ze.subTo(R,Ze),Ze.rShiftTo(1,Ze);j.compareTo(le)>=0?(j.subTo(le,j),B&&Ce.subTo(He,Ce),Pe.subTo(Ze,Pe)):(le.subTo(j,le),B&&He.subTo(Ce,He),Ze.subTo(Pe,Ze))}if(le.compareTo(i.ONE)!=0)return i.ZERO;if(Ze.compareTo(R)>=0)return Ze.subtract(R);if(Ze.signum()<0)Ze.addTo(R,Ze);else return Ze;return Ze.signum()<0?Ze.add(R):Ze}var xi=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],q2=(1<<26)/xi[xi.length-1];function B2(R){var B,j=this.abs();if(j.t==1&&j[0]<=xi[xi.length-1]){for(B=0;B<xi.length;++B)if(j[0]==xi[B])return!0;return!1}if(j.isEven())return!1;for(B=1;B<xi.length;){for(var le=xi[B],Ce=B+1;Ce<xi.length&&le<q2;)le*=xi[Ce++];for(le=j.modInt(le);B<Ce;)if(le%xi[B++]==0)return!1}return j.millerRabin(R)}function ZFe(R){var B=this.subtract(i.ONE),j=B.getLowestSetBit();if(j<=0)return!1;var le=B.shiftRight(j);R=R+1>>1,R>xi.length&&(R=xi.length);for(var Ce=n(),Pe=0;Pe<R;++Pe){Ce.fromInt(xi[Math.floor(Math.random()*xi.length)]);var He=Ce.modPow(le,this);if(He.compareTo(i.ONE)!=0&&He.compareTo(B)!=0){for(var Ze=1;Ze++<j&&He.compareTo(B)!=0;)if(He=He.modPowInt(2,this),He.compareTo(i.ONE)==0)return!1;if(He.compareTo(B)!=0)return!1}}return!0}i.prototype.chunkSize=Me,i.prototype.toRadix=Je,i.prototype.fromRadix=$e,i.prototype.fromNumber=nt,i.prototype.bitwiseTo=it,i.prototype.changeBit=ps,i.prototype.addTo=at,i.prototype.dMultiply=ir,i.prototype.dAddOffset=cr,i.prototype.multiplyLowerTo=uo,i.prototype.multiplyUpperTo=fo,i.prototype.modInt=Zo,i.prototype.millerRabin=ZFe,i.prototype.clone=te,i.prototype.intValue=ae,i.prototype.byteValue=ce,i.prototype.shortValue=ye,i.prototype.signum=Be,i.prototype.toByteArray=Qe,i.prototype.equals=Ue,i.prototype.min=Ye,i.prototype.max=It,i.prototype.and=re,i.prototype.or=Y,i.prototype.xor=tt,i.prototype.andNot=Yn,i.prototype.not=Ut,i.prototype.shiftLeft=rt,i.prototype.shiftRight=Xn,i.prototype.getLowestSetBit=Kt,i.prototype.bitCount=Vt,i.prototype.testBit=kt,i.prototype.setBit=Xt,i.prototype.clearBit=Jt,i.prototype.flipBit=bs,i.prototype.add=Zt,i.prototype.subtract=ys,i.prototype.multiply=hr,i.prototype.divide=Jo,i.prototype.remainder=or,i.prototype.divideAndRemainder=ar,i.prototype.modPow=gt,i.prototype.modInverse=dd,i.prototype.pow=co,i.prototype.gcd=Ua,i.prototype.isProbablePrime=B2,i.prototype.square=sr,i.prototype.Barrett=dt;var Ux,js,Ri;function QFe(R){js[Ri++]^=R&255,js[Ri++]^=R>>8&255,js[Ri++]^=R>>16&255,js[Ri++]^=R>>24&255,Ri>=ZS&&(Ri-=ZS)}function AL(){QFe(new Date().getTime())}if(js==null){js=new Array,Ri=0;var Qo;if(typeof window!="undefined"&&window.crypto){if(window.crypto.getRandomValues){var IL=new Uint8Array(32);for(window.crypto.getRandomValues(IL),Qo=0;Qo<32;++Qo)js[Ri++]=IL[Qo]}else if(navigator.appName=="Netscape"&&navigator.appVersion<"5"){var TL=window.crypto.random(32);for(Qo=0;Qo<TL.length;++Qo)js[Ri++]=TL.charCodeAt(Qo)&255}}for(;Ri<ZS;)Qo=Math.floor(65536*Math.random()),js[Ri++]=Qo>>>8,js[Ri++]=Qo&255;Ri=0,AL()}function eUe(){if(Ux==null){for(AL(),Ux=nUe(),Ux.init(js),Ri=0;Ri<js.length;++Ri)js[Ri]=0;Ri=0}return Ux.next()}function tUe(R){var B;for(B=0;B<R.length;++B)R[B]=eUe()}function XS(){}XS.prototype.nextBytes=tUe;function JS(){this.i=0,this.j=0,this.S=new Array}function rUe(R){var B,j,le;for(B=0;B<256;++B)this.S[B]=B;for(j=0,B=0;B<256;++B)j=j+this.S[B]+R[B%R.length]&255,le=this.S[B],this.S[B]=this.S[j],this.S[j]=le;this.i=0,this.j=0}function iUe(){var R;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,R=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=R,this.S[R+this.S[this.i]&255]}JS.prototype.init=rUe,JS.prototype.next=iUe;function nUe(){return new JS}var ZS=256;typeof GE!="undefined"?GE=yIe.exports={default:i,BigInteger:i,SecureRandom:XS}:this.jsbn={BigInteger:i,SecureRandom:XS}}).call(GE)});var oP=h($E=>{"use strict";var gIe=$E.falseIfInvalid=function(r){return function(){return this.valid?r.apply(this,arguments):!1}};$E.isInSubnet=gIe(function(r){return this.subnetMask<r.subnetMask?!1:this.mask(r.subnetMask)===r.mask()});$E.isCorrect=function(r){return gIe(function(){return this.addressMinusSuffix!==this.correctForm()?!1:this.subnetMask===r&&!this.parsedSubnet?!0:this.parsedSubnet===String(this.subnetMask)})}});var Lb=h(WE=>{(function(){"use strict";var r={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function e(o){return i(s(o),arguments)}function t(o,a){return e.apply(null,[o].concat(a||[]))}function i(o,a){var c=1,u=o.length,f,l="",d,p,b,g,m,w,A,I;for(d=0;d<u;d++)if(typeof o[d]=="string")l+=o[d];else if(typeof o[d]=="object"){if(b=o[d],b.keys)for(f=a[c],p=0;p<b.keys.length;p++){if(f==null)throw new Error(e('[sprintf] Cannot access property "%s" of undefined value "%s"',b.keys[p],b.keys[p-1]));f=f[b.keys[p]]}else b.param_no?f=a[b.param_no]:f=a[c++];if(r.not_type.test(b.type)&&r.not_primitive.test(b.type)&&f instanceof Function&&(f=f()),r.numeric_arg.test(b.type)&&typeof f!="number"&&isNaN(f))throw new TypeError(e("[sprintf] expecting number but found %T",f));switch(r.number.test(b.type)&&(A=f>=0),b.type){case"b":f=parseInt(f,10).toString(2);break;case"c":f=String.fromCharCode(parseInt(f,10));break;case"d":case"i":f=parseInt(f,10);break;case"j":f=JSON.stringify(f,null,b.width?parseInt(b.width):0);break;case"e":f=b.precision?parseFloat(f).toExponential(b.precision):parseFloat(f).toExponential();break;case"f":f=b.precision?parseFloat(f).toFixed(b.precision):parseFloat(f);break;case"g":f=b.precision?String(Number(f.toPrecision(b.precision))):parseFloat(f);break;case"o":f=(parseInt(f,10)>>>0).toString(8);break;case"s":f=String(f),f=b.precision?f.substring(0,b.precision):f;break;case"t":f=String(!!f),f=b.precision?f.substring(0,b.precision):f;break;case"T":f=Object.prototype.toString.call(f).slice(8,-1).toLowerCase(),f=b.precision?f.substring(0,b.precision):f;break;case"u":f=parseInt(f,10)>>>0;break;case"v":f=f.valueOf(),f=b.precision?f.substring(0,b.precision):f;break;case"x":f=(parseInt(f,10)>>>0).toString(16);break;case"X":f=(parseInt(f,10)>>>0).toString(16).toUpperCase();break}r.json.test(b.type)?l+=f:(r.number.test(b.type)&&(!A||b.sign)?(I=A?"+":"-",f=f.toString().replace(r.sign,"")):I="",m=b.pad_char?b.pad_char==="0"?"0":b.pad_char.charAt(1):" ",w=b.width-(I+f).length,g=b.width&&w>0?m.repeat(w):"",l+=b.align?I+f+g:m==="0"?I+g+f:g+I+f)}return l}var n=Object.create(null);function s(o){if(n[o])return n[o];for(var a=o,c,u=[],f=0;a;){if((c=r.text.exec(a))!==null)u.push(c[0]);else if((c=r.modulo.exec(a))!==null)u.push("%");else if((c=r.placeholder.exec(a))!==null){if(c[2]){f|=1;var l=[],d=c[2],p=[];if((p=r.key.exec(d))!==null)for(l.push(p[1]);(d=d.substring(p[0].length))!=="";)if((p=r.key_access.exec(d))!==null)l.push(p[1]);else if((p=r.index_access.exec(d))!==null)l.push(p[1]);else throw new SyntaxError("[sprintf] failed to parse named argument key");else throw new SyntaxError("[sprintf] failed to parse named argument key");c[2]=l}else f|=2;if(f===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");u.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}else throw new SyntaxError("[sprintf] unexpected placeholder");a=a.substring(c[0].length)}return n[o]=u}typeof WE!="undefined"&&(WE.sprintf=e,WE.vsprintf=t),typeof window!="undefined"&&(window.sprintf=e,window.vsprintf=t,typeof define=="function"&&define.amd&&define(function(){return{sprintf:e,vsprintf:t}}))})()});var dP=h((Ygr,mIe)=>{var aP=1/0,XLt=9007199254740991,JLt=17976931348623157e292,xIe=0/0,ZLt="[object Symbol]",QLt=/^\s+|\s+$/g,eFt=/^[-+]0x[0-9a-f]+$/i,tFt=/^0b[01]+$/i,rFt=/^0o[0-7]+$/i,cP="\\ud800-\\udfff",wIe="\\u0300-\\u036f\\ufe20-\\ufe23",vIe="\\u20d0-\\u20f0",EIe="\\ufe0e\\ufe0f",iFt="["+cP+"]",uP="["+wIe+vIe+"]",fP="\\ud83c[\\udffb-\\udfff]",nFt="(?:"+uP+"|"+fP+")",_Ie="[^"+cP+"]",SIe="(?:\\ud83c[\\udde6-\\uddff]){2}",kIe="[\\ud800-\\udbff][\\udc00-\\udfff]",AIe="\\u200d",IIe=nFt+"?",TIe="["+EIe+"]?",sFt="(?:"+AIe+"(?:"+[_Ie,SIe,kIe].join("|")+")"+TIe+IIe+")*",oFt=TIe+IIe+sFt,aFt="(?:"+[_Ie+uP+"?",uP,SIe,kIe,iFt].join("|")+")",lP=RegExp(fP+"(?="+fP+")|"+aFt+oFt,"g"),cFt=RegExp("["+AIe+cP+wIe+vIe+EIe+"]"),uFt=parseInt,fFt=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,lFt=typeof self=="object"&&self&&self.Object===Object&&self,hFt=fFt||lFt||Function("return this")(),pFt=dFt("length");function bFt(r){return r.split("")}function dFt(r){return function(e){return e==null?void 0:e[r]}}function hP(r){return cFt.test(r)}function RIe(r){return hP(r)?yFt(r):pFt(r)}function mFt(r){return hP(r)?gFt(r):bFt(r)}function yFt(r){for(var e=lP.lastIndex=0;lP.test(r);)e++;return e}function gFt(r){return r.match(lP)||[]}var xFt=Object.prototype,wFt=xFt.toString,qIe=hFt.Symbol,vFt=Math.ceil,EFt=Math.floor,BIe=qIe?qIe.prototype:void 0,CIe=BIe?BIe.toString:void 0;function MIe(r,e){var t="";if(!r||e<1||e>XLt)return t;do e%2&&(t+=r),e=EFt(e/2),e&&(r+=r);while(e);return t}function _Ft(r,e,t){var i=-1,n=r.length;e<0&&(e=-e>n?0:n+e),t=t>n?n:t,t<0&&(t+=n),n=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(n);++i<n;)s[i]=r[i+e];return s}function PIe(r){if(typeof r=="string")return r;if(NIe(r))return CIe?CIe.call(r):"";var e=r+"";return e=="0"&&1/r==-aP?"-0":e}function SFt(r,e,t){var i=r.length;return t=t===void 0?i:t,!e&&t>=i?r:_Ft(r,e,t)}function kFt(r,e){e=e===void 0?" ":PIe(e);var t=e.length;if(t<2)return t?MIe(e,r):e;var i=MIe(e,vFt(r/RIe(e)));return hP(e)?SFt(mFt(i),0,r).join(""):i.slice(0,r)}function DIe(r){var e=typeof r;return!!r&&(e=="object"||e=="function")}function AFt(r){return!!r&&typeof r=="object"}function NIe(r){return typeof r=="symbol"||AFt(r)&&wFt.call(r)==ZLt}function TFt(r){if(!r)return r===0?r:0;if(r=IFt(r),r===aP||r===-aP){var e=r<0?-1:1;return e*JLt}return r===r?r:0}function RFt(r){var e=TFt(r),t=e%1;return e===e?t?e-t:e:0}function IFt(r){if(typeof r=="number")return r;if(NIe(r))return xIe;if(DIe(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=DIe(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=r.replace(QLt,"");var t=tFt.test(r);return t||rFt.test(r)?uFt(r.slice(2),t?2:8):eFt.test(r)?xIe:+r}function qFt(r){return r==null?"":PIe(r)}function BFt(r,e,t){r=qFt(r),e=RFt(e);var i=e?RIe(r):0;return e&&i<e?kFt(e-i,t)+r:r}mIe.exports=BFt});var yP=h((Xgr,OIe)=>{var pP=1/0,bP=9007199254740991,CFt=17976931348623157e292,LIe=0/0,MFt="[object Function]",NFt="[object GeneratorFunction]",PFt="[object Symbol]",DFt=/^\s+|\s+$/g,OFt=/^[-+]0x[0-9a-f]+$/i,LFt=/^0b[01]+$/i,FFt=/^0o[0-7]+$/i,UFt=/^(?:0|[1-9]\d*)$/,zFt=parseInt,KFt=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,VFt=typeof self=="object"&&self&&self.Object===Object&&self,jFt=KFt||VFt||Function("return this")(),HFt=Object.prototype,FIe=HFt.toString,UIe=jFt.Symbol,GFt=Math.floor,zIe=UIe?UIe.prototype:void 0,KIe=zIe?zIe.toString:void 0;function $Ft(r,e){var t="";if(!r||e<1||e>bP)return t;do e%2&&(t+=r),e=GFt(e/2),e&&(r+=r);while(e);return t}function WFt(r){if(typeof r=="string")return r;if(VIe(r))return KIe?KIe.call(r):"";var e=r+"";return e=="0"&&1/r==-pP?"-0":e}function YFt(r,e){return e=e??bP,!!e&&(typeof r=="number"||UFt.test(r))&&r>-1&&r%1==0&&r<e}function ZFt(r,e,t){if(!YE(t))return!1;var i=typeof e;return(i=="number"?JFt(t)&&YFt(e,t.length):i=="string"&&e in t)?XFt(t[e],r):!1}function XFt(r,e){return r===e||r!==r&&e!==e}function JFt(r){return r!=null&&eUt(r.length)&&!QFt(r)}function QFt(r){var e=YE(r)?FIe.call(r):"";return e==MFt||e==NFt}function eUt(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=bP}function YE(r){var e=typeof r;return!!r&&(e=="object"||e=="function")}function tUt(r){return!!r&&typeof r=="object"}function VIe(r){return typeof r=="symbol"||tUt(r)&&FIe.call(r)==PFt}function iUt(r){if(!r)return r===0?r:0;if(r=rUt(r),r===pP||r===-pP){var e=r<0?-1:1;return e*CFt}return r===r?r:0}function nUt(r){var e=iUt(r),t=e%1;return e===e?t?e-t:e:0}function rUt(r){if(typeof r=="number")return r;if(VIe(r))return LIe;if(YE(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=YE(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=r.replace(DFt,"");var t=LFt.test(r);return t||FFt.test(r)?zFt(r.slice(2),t?2:8):OFt.test(r)?LIe:+r}function sUt(r){return r==null?"":WFt(r)}function oUt(r,e,t){return(t?ZFt(r,e,t):e===void 0)?e=1:e=nUt(e),$Ft(sUt(r),e)}OIe.exports=oUt});var XE=h(z3=>{z3.BITS=32;z3.GROUPS=4;z3.RE_ADDRESS=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/g;z3.RE_SUBNET_STRING=/\/\d{1,2}$/});var gP=h((Zgr,jIe)=>{"use strict";var K3=sP().BigInteger,HIe=oP(),JE=Lb().sprintf,GIe=dP(),$Ie=yP(),zc=XE();function rr(r){this.valid=!1,this.address=r,this.groups=zc.GROUPS,this.v4=!0,this.subnet="/32",this.subnetMask=32;var e=zc.RE_SUBNET_STRING.exec(r);if(e){if(this.parsedSubnet=e[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,this.subnetMask<0||this.subnetMask>zc.BITS){this.valid=!1,this.error="Invalid subnet mask.";return}r=r.replace(zc.RE_SUBNET_STRING,"")}this.addressMinusSuffix=r,this.parsedAddress=this.parse(r)}rr.prototype.parse=function(r){var e=r.split(".");return r.match(zc.RE_ADDRESS)?this.valid=!0:this.error="Invalid IPv4 address.",e};rr.prototype.isValid=function(){return this.valid};rr.prototype.correctForm=function(){return this.parsedAddress.map(function(r){return parseInt(r,10)}).join(".")};rr.prototype.isCorrect=HIe.isCorrect(zc.BITS);rr.fromHex=function(r){var e=GIe(r.replace(/:/g,""),8,"0"),t=[],i;for(i=0;i<8;i+=2){var n=e.slice(i,i+2);t.push(parseInt(n,16))}return new rr(t.join("."))};rr.fromInteger=function(r){return rr.fromHex(r.toString(16))};rr.prototype.toHex=function(){return this.parsedAddress.map(function(r){return JE("%02x",parseInt(r,10))}).join(":")};rr.prototype.toArray=function(){return this.parsedAddress.map(function(r){return parseInt(r,10)})};rr.prototype.toGroup6=function(){var r=[],e;for(e=0;e<zc.GROUPS;e+=2){var t=JE("%02x%02x",parseInt(this.parsedAddress[e],10),parseInt(this.parsedAddress[e+1],10));r.push(JE("%x",parseInt(t,16)))}return r.join(":")};rr.prototype.bigInteger=function(){return this.valid?new K3(this.parsedAddress.map(function(r){return JE("%02x",parseInt(r,10))}).join(""),16):null};rr.prototype._startAddress=function(){return new K3(this.mask()+$Ie("0",zc.BITS-this.subnetMask),2)};rr.prototype.startAddress=function(){return rr.fromBigInteger(this._startAddress())};rr.prototype.startAddressExclusive=function(){var r=new K3("1");return rr.fromBigInteger(this._startAddress().add(r))};rr.prototype._endAddress=function(){return new K3(this.mask()+$Ie("1",zc.BITS-this.subnetMask),2)};rr.prototype.endAddress=function(){return rr.fromBigInteger(this._endAddress())};rr.prototype.endAddressExclusive=function(){var r=new K3("1");return rr.fromBigInteger(this._endAddress().subtract(r))};rr.fromBigInteger=function(r){return rr.fromInteger(parseInt(r.toString(),10))};rr.prototype.mask=function(r){return r===void 0&&(r=this.subnetMask),this.getBitsBase2(0,r)};rr.prototype.getBitsBase2=function(r,e){return this.binaryZeroPad().slice(r,e)};rr.prototype.isInSubnet=HIe.isInSubnet;rr.prototype.isMulticast=function(){return this.isInSubnet(new rr("224.0.0.0/4"))};rr.prototype.binaryZeroPad=function(){return GIe(this.bigInteger().toString(2),zc.BITS,"0")};jIe.exports=rr});var E9e=h((V3,Fb)=>{var aUt=200,WIe="__lodash_hash_undefined__",cUt=800,uUt=16,YIe=9007199254740991,XIe="[object Arguments]",fUt="[object Array]",lUt="[object AsyncFunction]",hUt="[object Boolean]",dUt="[object Date]",pUt="[object Error]",JIe="[object Function]",bUt="[object GeneratorFunction]",yUt="[object Map]",gUt="[object Number]",mUt="[object Null]",ZIe="[object Object]",xUt="[object Proxy]",wUt="[object RegExp]",vUt="[object Set]",EUt="[object String]",_Ut="[object Undefined]",SUt="[object WeakMap]",kUt="[object ArrayBuffer]",AUt="[object DataView]",IUt="[object Float32Array]",TUt="[object Float64Array]",RUt="[object Int8Array]",qUt="[object Int16Array]",BUt="[object Int32Array]",CUt="[object Uint8Array]",MUt="[object Uint8ClampedArray]",NUt="[object Uint16Array]",PUt="[object Uint32Array]",DUt=/[\\^$.*+?()[\]{}|]/g,OUt=/^\[object .+?Constructor\]$/,LUt=/^(?:0|[1-9]\d*)$/,Dr={};Dr[IUt]=Dr[TUt]=Dr[RUt]=Dr[qUt]=Dr[BUt]=Dr[CUt]=Dr[MUt]=Dr[NUt]=Dr[PUt]=!0;Dr[XIe]=Dr[fUt]=Dr[kUt]=Dr[hUt]=Dr[AUt]=Dr[dUt]=Dr[pUt]=Dr[JIe]=Dr[yUt]=Dr[gUt]=Dr[ZIe]=Dr[wUt]=Dr[vUt]=Dr[EUt]=Dr[SUt]=!1;var QIe=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,FUt=typeof self=="object"&&self&&self.Object===Object&&self,j3=QIe||FUt||Function("return this")(),e9e=typeof V3=="object"&&V3&&!V3.nodeType&&V3,H3=e9e&&typeof Fb=="object"&&Fb&&!Fb.nodeType&&Fb,t9e=H3&&H3.exports===e9e,mP=t9e&&QIe.process,r9e=function(){try{var r=H3&&H3.require&&H3.require("util").types;return r||mP&&mP.binding&&mP.binding("util")}catch(e){}}(),i9e=r9e&&r9e.isTypedArray;function UUt(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)}function zUt(r,e){for(var t=-1,i=Array(r);++t<r;)i[t]=e(t);return i}function KUt(r){return function(e){return r(e)}}function VUt(r,e){return r==null?void 0:r[e]}function jUt(r,e){return function(t){return r(e(t))}}var HUt=Array.prototype,GUt=Function.prototype,ZE=Object.prototype,xP=j3["__core-js_shared__"],QE=GUt.toString,ef=ZE.hasOwnProperty,n9e=function(){var r=/[^.]+$/.exec(xP&&xP.keys&&xP.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),s9e=ZE.toString,$Ut=QE.call(Object),WUt=RegExp("^"+QE.call(ef).replace(DUt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),e_=t9e?j3.Buffer:void 0,o9e=j3.Symbol,a9e=j3.Uint8Array,c9e=e_?e_.allocUnsafe:void 0,u9e=jUt(Object.getPrototypeOf,Object),f9e=Object.create,YUt=ZE.propertyIsEnumerable,XUt=HUt.splice,zh=o9e?o9e.toStringTag:void 0,t_=function(){try{var r=wP(Object,"defineProperty");return r({},"",{}),r}catch(e){}}(),JUt=e_?e_.isBuffer:void 0,l9e=Math.max,ZUt=Date.now,h9e=wP(j3,"Map"),G3=wP(Object,"create"),QUt=function(){function r(){}return function(e){if(!Kh(e))return{};if(f9e)return f9e(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}();function Vh(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function ezt(){this.__data__=G3?G3(null):{},this.size=0}function tzt(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}function rzt(r){var e=this.__data__;if(G3){var t=e[r];return t===WIe?void 0:t}return ef.call(e,r)?e[r]:void 0}function izt(r){var e=this.__data__;return G3?e[r]!==void 0:ef.call(e,r)}function nzt(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=G3&&e===void 0?WIe:e,this}Vh.prototype.clear=ezt;Vh.prototype.delete=tzt;Vh.prototype.get=rzt;Vh.prototype.has=izt;Vh.prototype.set=nzt;function tf(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function szt(){this.__data__=[],this.size=0}function ozt(r){var e=this.__data__,t=r_(e,r);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():XUt.call(e,t,1),--this.size,!0}function azt(r){var e=this.__data__,t=r_(e,r);return t<0?void 0:e[t][1]}function czt(r){return r_(this.__data__,r)>-1}function uzt(r,e){var t=this.__data__,i=r_(t,r);return i<0?(++this.size,t.push([r,e])):t[i][1]=e,this}tf.prototype.clear=szt;tf.prototype.delete=ozt;tf.prototype.get=azt;tf.prototype.has=czt;tf.prototype.set=uzt;function Ub(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function fzt(){this.size=0,this.__data__={hash:new Vh,map:new(h9e||tf),string:new Vh}}function lzt(r){var e=i_(this,r).delete(r);return this.size-=e?1:0,e}function hzt(r){return i_(this,r).get(r)}function dzt(r){return i_(this,r).has(r)}function pzt(r,e){var t=i_(this,r),i=t.size;return t.set(r,e),this.size+=t.size==i?0:1,this}Ub.prototype.clear=fzt;Ub.prototype.delete=lzt;Ub.prototype.get=hzt;Ub.prototype.has=dzt;Ub.prototype.set=pzt;function zb(r){var e=this.__data__=new tf(r);this.size=e.size}function bzt(){this.__data__=new tf,this.size=0}function yzt(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}function gzt(r){return this.__data__.get(r)}function mzt(r){return this.__data__.has(r)}function xzt(r,e){var t=this.__data__;if(t instanceof tf){var i=t.__data__;if(!h9e||i.length<aUt-1)return i.push([r,e]),this.size=++t.size,this;t=this.__data__=new Ub(i)}return t.set(r,e),this.size=t.size,this}zb.prototype.clear=bzt;zb.prototype.delete=yzt;zb.prototype.get=gzt;zb.prototype.has=mzt;zb.prototype.set=xzt;function wzt(r,e){var t=EP(r),i=!t&&vP(r),n=!t&&!i&&p9e(r),s=!t&&!i&&!n&&b9e(r),o=t||i||n||s,a=o?zUt(r.length,String):[],c=a.length;for(var u in r)(e||ef.call(r,u))&&!(o&&(u=="length"||n&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||d9e(u,c)))&&a.push(u);return a}function SP(r,e,t){(t!==void 0&&!n_(r[e],t)||t===void 0&&!(e in r))&&_P(r,e,t)}function vzt(r,e,t){var i=r[e];(!(ef.call(r,e)&&n_(i,t))||t===void 0&&!(e in r))&&_P(r,e,t)}function r_(r,e){for(var t=r.length;t--;)if(n_(r[t][0],e))return t;return-1}function _P(r,e,t){e=="__proto__"&&t_?t_(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t}var _zt=Ezt();function s_(r){return r==null?r===void 0?_Ut:mUt:zh&&zh in Object(r)?Szt(r):kzt(r)}function y9e(r){return $3(r)&&s_(r)==XIe}function Tzt(r){if(!Kh(r)||Azt(r))return!1;var e=kP(r)?WUt:OUt;return e.test(Izt(r))}function Rzt(r){return $3(r)&&g9e(r.length)&&!!Dr[s_(r)]}function Bzt(r){if(!Kh(r))return qzt(r);var e=m9e(r),t=[];for(var i in r)i=="constructor"&&(e||!ef.call(r,i))||t.push(i);return t}function x9e(r,e,t,i,n){r!==e&&_zt(e,function(s,o){if(n||(n=new zb),Kh(s))Czt(r,e,o,t,x9e,i,n);else{var a=i?i(AP(r,o),s,o+"",r,e,n):void 0;a===void 0&&(a=s),SP(r,o,a)}},w9e)}function Czt(r,e,t,i,n,s,o){var a=AP(r,t),c=AP(e,t),u=o.get(c);if(u){SP(r,t,u);return}var f=s?s(a,c,t+"",r,e,o):void 0,l=f===void 0;if(l){var d=EP(c),p=!d&&p9e(c),b=!d&&!p&&b9e(c);f=c,d||p||b?EP(a)?f=a:Ozt(a)?f=Pzt(a):p?(l=!1,f=Mzt(c,!0)):b?(l=!1,f=Nzt(c,!0)):f=[]:Lzt(c)||vP(c)?(f=a,vP(a)?f=Fzt(a):(!Kh(a)||kP(a))&&(f=Dzt(c))):l=!1}l&&(o.set(c,f),n(f,c,i,s,o),o.delete(c)),SP(r,t,f)}function Kzt(r,e){return zzt(Uzt(r,e,v9e),r+"")}var jzt=t_?function(r,e){return t_(r,"toString",{configurable:!0,enumerable:!1,value:Vzt(e),writable:!0})}:v9e;function Mzt(r,e){if(e)return r.slice();var t=r.length,i=c9e?c9e(t):new r.constructor(t);return r.copy(i),i}function Hzt(r){var e=new r.constructor(r.byteLength);return new a9e(e).set(new a9e(r)),e}function Nzt(r,e){var t=e?Hzt(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)}function Pzt(r,e){var t=-1,i=r.length;for(e||(e=Array(i));++t<i;)e[t]=r[t];return e}function Gzt(r,e,t,i){var n=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],c=i?i(t[a],r[a],a,t,r):void 0;c===void 0&&(c=r[a]),n?_P(t,a,c):vzt(t,a,c)}return t}function Wzt(r){return Kzt(function(e,t){var i=-1,n=t.length,s=n>1?t[n-1]:void 0,o=n>2?t[2]:void 0;for(s=r.length>3&&typeof s=="function"?(n--,s):void 0,o&&$zt(t[0],t[1],o)&&(s=n<3?void 0:s,n=1),e=Object(e);++i<n;){var a=t[i];a&&r(e,a,i,s)}return e})}function Ezt(r){return function(e,t,i){for(var n=-1,s=Object(e),o=i(e),a=o.length;a--;){var c=o[r?a:++n];if(t(s[c],c,s)===!1)break}return e}}function i_(r,e){var t=r.__data__;return Yzt(e)?t[typeof e=="string"?"string":"hash"]:t.map}function wP(r,e){var t=VUt(r,e);return Tzt(t)?t:void 0}function Szt(r){var e=ef.call(r,zh),t=r[zh];try{r[zh]=void 0;var i=!0}catch(s){}var n=s9e.call(r);return i&&(e?r[zh]=t:delete r[zh]),n}function Dzt(r){return typeof r.constructor=="function"&&!m9e(r)?QUt(u9e(r)):{}}function d9e(r,e){var t=typeof r;return e=e??YIe,!!e&&(t=="number"||t!="symbol"&&LUt.test(r))&&r>-1&&r%1==0&&r<e}function $zt(r,e,t){if(!Kh(t))return!1;var i=typeof e;return(i=="number"?IP(t)&&d9e(e,t.length):i=="string"&&e in t)?n_(t[e],r):!1}function Yzt(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}function Azt(r){return!!n9e&&n9e in r}function m9e(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||ZE;return r===t}function qzt(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e}function kzt(r){return s9e.call(r)}function Uzt(r,e,t){return e=l9e(e===void 0?r.length-1:e,0),function(){for(var i=arguments,n=-1,s=l9e(i.length-e,0),o=Array(s);++n<s;)o[n]=i[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=i[n];return a[e]=t(o),UUt(r,this,a)}}function AP(r,e){if(!(e==="constructor"&&typeof r[e]=="function")&&e!="__proto__")return r[e]}var zzt=Xzt(jzt);function Xzt(r){var e=0,t=0;return function(){var i=ZUt(),n=uUt-(i-t);if(t=i,n>0){if(++e>=cUt)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}function Izt(r){if(r!=null){try{return QE.call(r)}catch(e){}try{return r+""}catch(e){}}return""}function n_(r,e){return r===e||r!==r&&e!==e}var vP=y9e(function(){return arguments}())?y9e:function(r){return $3(r)&&ef.call(r,"callee")&&!YUt.call(r,"callee")},EP=Array.isArray;function IP(r){return r!=null&&g9e(r.length)&&!kP(r)}function Ozt(r){return $3(r)&&IP(r)}var p9e=JUt||Jzt;function kP(r){if(!Kh(r))return!1;var e=s_(r);return e==JIe||e==bUt||e==lUt||e==xUt}function g9e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=YIe}function Kh(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}function $3(r){return r!=null&&typeof r=="object"}function Lzt(r){if(!$3(r)||s_(r)!=ZIe)return!1;var e=u9e(r);if(e===null)return!0;var t=ef.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&QE.call(t)==$Ut}var b9e=i9e?KUt(i9e):Rzt;function Fzt(r){return Gzt(r,w9e(r))}function w9e(r){return IP(r)?wzt(r,!0):Bzt(r)}var Zzt=Wzt(function(r,e,t){x9e(r,e,t)});function Vzt(r){return function(){return r}}function v9e(r){return r}function Jzt(){return!1}Fb.exports=Zzt});var rTe=h((W3,Kb)=>{var Qzt=200,eKt="Expected a function",TP="__lodash_hash_undefined__",o_=1,Vb=2,a_=1/0,_9e=9007199254740991,tKt=17976931348623157e292,S9e=0/0,c_="[object Arguments]",RP="[object Array]",k9e="[object Boolean]",A9e="[object Date]",I9e="[object Error]",T9e="[object Function]",rKt="[object GeneratorFunction]",u_="[object Map]",R9e="[object Number]",jb="[object Object]",q9e="[object Promise]",B9e="[object RegExp]",f_="[object Set]",C9e="[object String]",M9e="[object Symbol]",qP="[object WeakMap]",N9e="[object ArrayBuffer]",l_="[object DataView]",iKt="[object Float32Array]",nKt="[object Float64Array]",sKt="[object Int8Array]",oKt="[object Int16Array]",aKt="[object Int32Array]",cKt="[object Uint8Array]",uKt="[object Uint8ClampedArray]",fKt="[object Uint16Array]",lKt="[object Uint32Array]",hKt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dKt=/^\w*$/,pKt=/^\./,bKt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yKt=/[\\^$.*+?()[\]{}|]/g,gKt=/^\s+|\s+$/g,mKt=/\\(\\)?/g,xKt=/^[-+]0x[0-9a-f]+$/i,wKt=/^0b[01]+$/i,vKt=/^\[object .+?Constructor\]$/,EKt=/^0o[0-7]+$/i,_Kt=/^(?:0|[1-9]\d*)$/,Or={};Or[iKt]=Or[nKt]=Or[sKt]=Or[oKt]=Or[aKt]=Or[cKt]=Or[uKt]=Or[fKt]=Or[lKt]=!0;Or[c_]=Or[RP]=Or[N9e]=Or[k9e]=Or[l_]=Or[A9e]=Or[I9e]=Or[T9e]=Or[u_]=Or[R9e]=Or[jb]=Or[B9e]=Or[f_]=Or[C9e]=Or[qP]=!1;var SKt=parseInt,P9e=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,kKt=typeof self=="object"&&self&&self.Object===Object&&self,D0=P9e||kKt||Function("return this")(),D9e=typeof W3=="object"&&W3&&!W3.nodeType&&W3,O9e=D9e&&typeof Kb=="object"&&Kb&&!Kb.nodeType&&Kb,AKt=O9e&&O9e.exports===D9e,L9e=AKt&&P9e.process,F9e=function(){try{return L9e&&L9e.binding("util")}catch(r){}}(),U9e=F9e&&F9e.isTypedArray;function IKt(r,e){for(var t=-1,i=r?r.length:0;++t<i;)if(e(r[t],t,r))return!0;return!1}function TKt(r,e,t,i){for(var n=r.length,s=t+(i?1:-1);i?s--:++s<n;)if(e(r[s],s,r))return s;return-1}function RKt(r){return function(e){return e==null?void 0:e[r]}}function qKt(r,e){for(var t=-1,i=Array(r);++t<r;)i[t]=e(t);return i}function BKt(r){return function(e){return r(e)}}function CKt(r,e){return r==null?void 0:r[e]}function BP(r){var e=!1;if(r!=null&&typeof r.toString!="function")try{e=!!(r+"")}catch(t){}return e}function MKt(r){var e=-1,t=Array(r.size);return r.forEach(function(i,n){t[++e]=[n,i]}),t}function NKt(r,e){return function(t){return r(e(t))}}function PKt(r){var e=-1,t=Array(r.size);return r.forEach(function(i){t[++e]=i}),t}var DKt=Array.prototype,OKt=Function.prototype,h_=Object.prototype,CP=D0["__core-js_shared__"],z9e=function(){var r=/[^.]+$/.exec(CP&&CP.keys&&CP.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),K9e=OKt.toString,rf=h_.hasOwnProperty,Hb=h_.toString,LKt=RegExp("^"+K9e.call(rf).replace(yKt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),V9e=D0.Symbol,j9e=D0.Uint8Array,FKt=h_.propertyIsEnumerable,UKt=DKt.splice,zKt=NKt(Object.keys,Object),KKt=Math.max,MP=Gb(D0,"DataView"),Y3=Gb(D0,"Map"),NP=Gb(D0,"Promise"),PP=Gb(D0,"Set"),DP=Gb(D0,"WeakMap"),X3=Gb(Object,"create"),VKt=jh(MP),jKt=jh(Y3),HKt=jh(NP),GKt=jh(PP),$Kt=jh(DP),d_=V9e?V9e.prototype:void 0,OP=d_?d_.valueOf:void 0,H9e=d_?d_.toString:void 0;function Hh(r){var e=-1,t=r?r.length:0;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function WKt(){this.__data__=X3?X3(null):{}}function YKt(r){return this.has(r)&&delete this.__data__[r]}function XKt(r){var e=this.__data__;if(X3){var t=e[r];return t===TP?void 0:t}return rf.call(e,r)?e[r]:void 0}function JKt(r){var e=this.__data__;return X3?e[r]!==void 0:rf.call(e,r)}function ZKt(r,e){var t=this.__data__;return t[r]=X3&&e===void 0?TP:e,this}Hh.prototype.clear=WKt;Hh.prototype.delete=YKt;Hh.prototype.get=XKt;Hh.prototype.has=JKt;Hh.prototype.set=ZKt;function nf(r){var e=-1,t=r?r.length:0;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function QKt(){this.__data__=[]}function eVt(r){var e=this.__data__,t=p_(e,r);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():UKt.call(e,t,1),!0}function tVt(r){var e=this.__data__,t=p_(e,r);return t<0?void 0:e[t][1]}function rVt(r){return p_(this.__data__,r)>-1}function iVt(r,e){var t=this.__data__,i=p_(t,r);return i<0?t.push([r,e]):t[i][1]=e,this}nf.prototype.clear=QKt;nf.prototype.delete=eVt;nf.prototype.get=tVt;nf.prototype.has=rVt;nf.prototype.set=iVt;function sf(r){var e=-1,t=r?r.length:0;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}function nVt(){this.__data__={hash:new Hh,map:new(Y3||nf),string:new Hh}}function sVt(r){return b_(this,r).delete(r)}function oVt(r){return b_(this,r).get(r)}function aVt(r){return b_(this,r).has(r)}function cVt(r,e){return b_(this,r).set(r,e),this}sf.prototype.clear=nVt;sf.prototype.delete=sVt;sf.prototype.get=oVt;sf.prototype.has=aVt;sf.prototype.set=cVt;function y_(r){var e=-1,t=r?r.length:0;for(this.__data__=new sf;++e<t;)this.add(r[e])}function uVt(r){return this.__data__.set(r,TP),this}function fVt(r){return this.__data__.has(r)}y_.prototype.add=y_.prototype.push=uVt;y_.prototype.has=fVt;function of(r){this.__data__=new nf(r)}function lVt(){this.__data__=new nf}function hVt(r){return this.__data__.delete(r)}function dVt(r){return this.__data__.get(r)}function pVt(r){return this.__data__.has(r)}function bVt(r,e){var t=this.__data__;if(t instanceof nf){var i=t.__data__;if(!Y3||i.length<Qzt-1)return i.push([r,e]),this;t=this.__data__=new sf(i)}return t.set(r,e),this}of.prototype.clear=lVt;of.prototype.delete=hVt;of.prototype.get=dVt;of.prototype.has=pVt;of.prototype.set=bVt;function yVt(r,e){var t=Gh(r)||$9e(r)?qKt(r.length,String):[],i=t.length,n=!!i;for(var s in r)(e||rf.call(r,s))&&!(n&&(s=="length"||G9e(s,i)))&&t.push(s);return t}function p_(r,e){for(var t=r.length;t--;)if(W9e(r[t][0],e))return t;return-1}function X9e(r,e){e=g_(e,r)?[e]:Y9e(e);for(var t=0,i=e.length;r!=null&&t<i;)r=r[m_(e[t++])];return t&&t==i?r:void 0}function gVt(r){return Hb.call(r)}function mVt(r,e){return r!=null&&e in Object(r)}function LP(r,e,t,i,n){return r===e?!0:r==null||e==null||!$b(r)&&!x_(e)?r!==r&&e!==e:xVt(r,e,LP,t,i,n)}function xVt(r,e,t,i,n,s){var o=Gh(r),a=Gh(e),c=RP,u=RP;o||(c=O0(r),c=c==c_?jb:c),a||(u=O0(e),u=u==c_?jb:u);var f=c==jb&&!BP(r),l=u==jb&&!BP(e),d=c==u;if(d&&!f)return s||(s=new of),o||EVt(r)?J9e(r,e,t,i,n,s):wVt(r,e,c,t,i,n,s);if(!(n&Vb)){var p=f&&rf.call(r,"__wrapped__"),b=l&&rf.call(e,"__wrapped__");if(p||b){var g=p?r.value():r,m=b?e.value():e;return s||(s=new of),t(g,m,i,n,s)}}return d?(s||(s=new of),vVt(r,e,t,i,n,s)):!1}function _Vt(r,e,t,i){var n=t.length,s=n,o=!i;if(r==null)return!s;for(r=Object(r);n--;){var a=t[n];if(o&&a[2]?a[1]!==r[a[0]]:!(a[0]in r))return!1}for(;++n<s;){a=t[n];var c=a[0],u=r[c],f=a[1];if(o&&a[2]){if(u===void 0&&!(c in r))return!1}else{var l=new of;if(i)var d=i(u,f,c,r,e,l);if(!(d===void 0?LP(f,u,i,o_|Vb,l):d))return!1}}return!0}function kVt(r){if(!$b(r)||SVt(r))return!1;var e=Z9e(r)||BP(r)?LKt:vKt;return e.test(jh(r))}function AVt(r){return x_(r)&&FP(r.length)&&!!Or[Hb.call(r)]}function Q9e(r){return typeof r=="function"?r:r==null?RVt:typeof r=="object"?Gh(r)?TVt(r[0],r[1]):IVt(r):qVt(r)}function CVt(r){if(!BVt(r))return zKt(r);var e=[];for(var t in Object(r))rf.call(r,t)&&t!="constructor"&&e.push(t);return e}function IVt(r){var e=MVt(r);return e.length==1&&e[0][2]?eTe(e[0][0],e[0][1]):function(t){return t===r||_Vt(t,r,e)}}function TVt(r,e){return g_(r)&&tTe(e)?eTe(m_(r),e):function(t){var i=NVt(t,r);return i===void 0&&i===e?PVt(t,r):LP(e,i,void 0,o_|Vb)}}function DVt(r){return function(e){return X9e(e,r)}}function OVt(r){if(typeof r=="string")return r;if(w_(r))return H9e?H9e.call(r):"";var e=r+"";return e=="0"&&1/r==-a_?"-0":e}function Y9e(r){return Gh(r)?r:LVt(r)}function FVt(r){return function(e,t,i){var n=Object(e);if(!UP(e)){var s=Q9e(t,3);e=v_(e),t=function(a){return s(n[a],a,n)}}var o=r(e,t,i);return o>-1?n[s?e[o]:o]:void 0}}function J9e(r,e,t,i,n,s){var o=n&Vb,a=r.length,c=e.length;if(a!=c&&!(o&&c>a))return!1;var u=s.get(r);if(u&&s.get(e))return u==e;var f=-1,l=!0,d=n&o_?new y_:void 0;for(s.set(r,e),s.set(e,r);++f<a;){var p=r[f],b=e[f];if(i)var g=o?i(b,p,f,e,r,s):i(p,b,f,r,e,s);if(g!==void 0){if(g)continue;l=!1;break}if(d){if(!IKt(e,function(m,w){if(!d.has(w)&&(p===m||t(p,m,i,n,s)))return d.add(w)})){l=!1;break}}else if(!(p===b||t(p,b,i,n,s))){l=!1;break}}return s.delete(r),s.delete(e),l}function wVt(r,e,t,i,n,s,o){switch(t){case l_:if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case N9e:return!(r.byteLength!=e.byteLength||!i(new j9e(r),new j9e(e)));case k9e:case A9e:case R9e:return W9e(+r,+e);case I9e:return r.name==e.name&&r.message==e.message;case B9e:case C9e:return r==e+"";case u_:var a=MKt;case f_:var c=s&Vb;if(a||(a=PKt),r.size!=e.size&&!c)return!1;var u=o.get(r);if(u)return u==e;s|=o_,o.set(r,e);var f=J9e(a(r),a(e),i,n,s,o);return o.delete(r),f;case M9e:if(OP)return OP.call(r)==OP.call(e)}return!1}function vVt(r,e,t,i,n,s){var o=n&Vb,a=v_(r),c=a.length,u=v_(e),f=u.length;if(c!=f&&!o)return!1;for(var l=c;l--;){var d=a[l];if(!(o?d in e:rf.call(e,d)))return!1}var p=s.get(r);if(p&&s.get(e))return p==e;var b=!0;s.set(r,e),s.set(e,r);for(var g=o;++l<c;){d=a[l];var m=r[d],w=e[d];if(i)var A=o?i(w,m,d,e,r,s):i(m,w,d,r,e,s);if(!(A===void 0?m===w||t(m,w,i,n,s):A)){b=!1;break}g||(g=d=="constructor")}if(b&&!g){var I=r.constructor,F=e.constructor;I!=F&&"constructor"in r&&"constructor"in e&&!(typeof I=="function"&&I instanceof I&&typeof F=="function"&&F instanceof F)&&(b=!1)}return s.delete(r),s.delete(e),b}function b_(r,e){var t=r.__data__;return UVt(e)?t[typeof e=="string"?"string":"hash"]:t.map}function MVt(r){for(var e=v_(r),t=e.length;t--;){var i=e[t],n=r[i];e[t]=[i,n,tTe(n)]}return e}function Gb(r,e){var t=CKt(r,e);return kVt(t)?t:void 0}var O0=gVt;(MP&&O0(new MP(new ArrayBuffer(1)))!=l_||Y3&&O0(new Y3)!=u_||NP&&O0(NP.resolve())!=q9e||PP&&O0(new PP)!=f_||DP&&O0(new DP)!=qP)&&(O0=function(r){var e=Hb.call(r),t=e==jb?r.constructor:void 0,i=t?jh(t):void 0;if(i)switch(i){case VKt:return l_;case jKt:return u_;case HKt:return q9e;case GKt:return f_;case $Kt:return qP}return e});function zVt(r,e,t){e=g_(e,r)?[e]:Y9e(e);for(var i,n=-1,s=e.length;++n<s;){var o=m_(e[n]);if(!(i=r!=null&&t(r,o)))break;r=r[o]}if(i)return i;var s=r?r.length:0;return!!s&&FP(s)&&G9e(o,s)&&(Gh(r)||$9e(r))}function G9e(r,e){return e=e??_9e,!!e&&(typeof r=="number"||_Kt.test(r))&&r>-1&&r%1==0&&r<e}function g_(r,e){if(Gh(r))return!1;var t=typeof r;return t=="number"||t=="symbol"||t=="boolean"||r==null||w_(r)?!0:dKt.test(r)||!hKt.test(r)||e!=null&&r in Object(e)}function UVt(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}function SVt(r){return!!z9e&&z9e in r}function BVt(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||h_;return r===t}function tTe(r){return r===r&&!$b(r)}function eTe(r,e){return function(t){return t==null?!1:t[r]===e&&(e!==void 0||r in Object(t))}}var LVt=zP(function(r){r=KVt(r);var e=[];return pKt.test(r)&&e.push(""),r.replace(bKt,function(t,i,n,s){e.push(n?s.replace(mKt,"$1"):i||t)}),e});function m_(r){if(typeof r=="string"||w_(r))return r;var e=r+"";return e=="0"&&1/r==-a_?"-0":e}function jh(r){if(r!=null){try{return K9e.call(r)}catch(e){}try{return r+""}catch(e){}}return""}function jVt(r,e,t){var i=r?r.length:0;if(!i)return-1;var n=t==null?0:VVt(t);return n<0&&(n=KKt(i+n,0)),TKt(r,Q9e(e,3),n)}var HVt=FVt(jVt);function zP(r,e){if(typeof r!="function"||e&&typeof e!="function")throw new TypeError(eKt);var t=function(){var i=arguments,n=e?e.apply(this,i):i[0],s=t.cache;if(s.has(n))return s.get(n);var o=r.apply(this,i);return t.cache=s.set(n,o),o};return t.cache=new(zP.Cache||sf),t}zP.Cache=sf;function W9e(r,e){return r===e||r!==r&&e!==e}function $9e(r){return GVt(r)&&rf.call(r,"callee")&&(!FKt.call(r,"callee")||Hb.call(r)==c_)}var Gh=Array.isArray;function UP(r){return r!=null&&FP(r.length)&&!Z9e(r)}function GVt(r){return x_(r)&&UP(r)}function Z9e(r){var e=$b(r)?Hb.call(r):"";return e==T9e||e==rKt}function FP(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=_9e}function $b(r){var e=typeof r;return!!r&&(e=="object"||e=="function")}function x_(r){return!!r&&typeof r=="object"}function w_(r){return typeof r=="symbol"||x_(r)&&Hb.call(r)==M9e}var EVt=U9e?BKt(U9e):AVt;function WVt(r){if(!r)return r===0?r:0;if(r=$Vt(r),r===a_||r===-a_){var e=r<0?-1:1;return e*tKt}return r===r?r:0}function VVt(r){var e=WVt(r),t=e%1;return e===e?t?e-t:e:0}function $Vt(r){if(typeof r=="number")return r;if(w_(r))return S9e;if($b(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=$b(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=r.replace(gKt,"");var t=wKt.test(r);return t||EKt.test(r)?SKt(r.slice(2),t?2:8):xKt.test(r)?S9e:+r}function KVt(r){return r==null?"":OVt(r)}function NVt(r,e,t){var i=r==null?void 0:X9e(r,e);return i===void 0?t:i}function PVt(r,e){return r!=null&&zVt(r,e,mVt)}function v_(r){return UP(r)?yVt(r):CVt(r)}function RVt(r){return r}function qVt(r){return g_(r)?RKt(m_(r)):DVt(r)}Kb.exports=HVt});var nTe=h((Qgr,iTe)=>{var YVt="[object Symbol]",XVt=Object.prototype,JVt=XVt.toString;function QVt(r,e,t){for(var i=-1,n=r.length;++i<n;){var s=r[i],o=e(s);if(o!=null&&(a===void 0?o===o&&!ZVt(o):t(o,a)))var a=o,c=s}return c}function ejt(r,e){return r>e}function tjt(r){return!!r&&typeof r=="object"}function ZVt(r){return typeof r=="symbol"||tjt(r)&&JVt.call(r)==YVt}function rjt(r){return r}function ijt(r){return r&&r.length?QVt(r,rjt,ejt):void 0}iTe.exports=ijt});var E_=h(Ma=>{Ma.BITS=128;Ma.GROUPS=8;Ma.SCOPES={0:"Reserved",1:"Interface local",2:"Link local",4:"Admin local",5:"Site local",8:"Organization local",14:"Global",15:"Reserved"};Ma.TYPES={"ff01::1/128":"Multicast (All nodes on this interface)","ff01::2/128":"Multicast (All routers on this interface)","ff02::1/128":"Multicast (All nodes on this link)","ff02::2/128":"Multicast (All routers on this link)","ff05::2/128":"Multicast (All routers in this site)","ff02::5/128":"Multicast (OSPFv3 AllSPF routers)","ff02::6/128":"Multicast (OSPFv3 AllDR routers)","ff02::9/128":"Multicast (RIP routers)","ff02::a/128":"Multicast (EIGRP routers)","ff02::d/128":"Multicast (PIM routers)","ff02::16/128":"Multicast (MLDv2 reports)","ff01::fb/128":"Multicast (mDNSv6)","ff02::fb/128":"Multicast (mDNSv6)","ff05::fb/128":"Multicast (mDNSv6)","ff02::1:2/128":"Multicast (All DHCP servers and relay agents on this link)","ff05::1:2/128":"Multicast (All DHCP servers and relay agents in this site)","ff02::1:3/128":"Multicast (All DHCP servers on this link)","ff05::1:3/128":"Multicast (All DHCP servers in this site)","::/128":"Unspecified","::1/128":"Loopback","ff00::/8":"Multicast","fe80::/10":"Link-local unicast"};Ma.RE_BAD_CHARACTERS=/([^0-9a-f:\/%])/ig;Ma.RE_BAD_ADDRESS=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/ig;Ma.RE_SUBNET_STRING=/\/\d{1,3}(?=%|$)/;Ma.RE_ZONE_STRING=/%.*$/;Ma.RE_URL=new RegExp(/^\[{0,1}([0-9a-f:]+)\]{0,1}/);Ma.RE_URL_WITH_PORT=new RegExp(/\[([0-9a-f:]+)\]:([0-9]{1,5})/)});var sTe=h(Na=>{"use strict";var af=oP(),njt=E_();Na.isValid=function(){return this.valid};Na.isInSubnet=af.isInSubnet;Na.isCorrect=af.isCorrect(njt.BITS);Na.isCanonical=af.falseIfInvalid(function(){return this.addressMinusSuffix===this.canonicalForm()});Na.isLinkLocal=af.falseIfInvalid(function(){return this.getBitsBase2(0,64)==="1111111010000000000000000000000000000000000000000000000000000000"});Na.isMulticast=af.falseIfInvalid(function(){return this.getType()==="Multicast"});Na.is4=af.falseIfInvalid(function(){return this.v4});Na.isTeredo=af.falseIfInvalid(function(){return this.isInSubnet(new this.constructor("2001::/32"))});Na.is6to4=af.falseIfInvalid(function(){return this.isInSubnet(new this.constructor("2002::/16"))});Na.isLoopback=af.falseIfInvalid(function(){return this.getType()==="Loopback"})});var KP=h(J3=>{"use strict";var oTe=Lb().sprintf,sjt=J3.spanAllZeroes=function(r){return r.replace(/(0+)/g,'<span class="zero">$1</span>')};J3.spanAll=function(r,e){e===void 0&&(e=0);var t=r.split("");return t.map(function(i,n){return oTe('<span class="digit value-%s position-%d">%s</span>',i,n+e,sjt(i))}).join("")};function aTe(r){return r.replace(/^(0+)/,'<span class="zero">$1</span>')}J3.spanLeadingZeroes=function(r){var e=r.split(":");return e.map(function(t){return aTe(t)}).join(":")};J3.simpleGroup=function(r,e){var t=r.split(":");return e||(e=0),t.map(function(i,n){return/group-v4/.test(i)?i:oTe('<span class="hover-group group-%d">%s</span>',n+e,aTe(i))}).join(":")}});var uTe=h(__=>{"use strict";var cTe=XE(),VP=KP(),$h=Lb().sprintf;__.href=function(r){return r===void 0?r="":r=$h(":%s",r),$h("http://[%s]%s/",this.correctForm(),r)};__.link=function(r){r||(r={}),r.className===void 0&&(r.className=""),r.prefix===void 0&&(r.prefix="/#address="),r.v4===void 0&&(r.v4=!1);var e=this.correctForm;return r.v4&&(e=this.to4in6),r.className?$h('<a href="%1$s%2$s" class="%3$s">%2$s</a>',r.prefix,e.call(this),r.className):$h('<a href="%1$s%2$s">%2$s</a>',r.prefix,e.call(this))};__.group=function(){var r=this.address.match(cTe.RE_ADDRESS),e;if(r){var t=r[0].split(".");this.address=this.address.replace(cTe.RE_ADDRESS,$h('<span class="hover-group group-v4 group-6">%s</span>.<span class="hover-group group-v4 group-7">%s</span>',t.slice(0,2).join("."),t.slice(2,4).join(".")))}if(this.elidedGroups===0)return VP.simpleGroup(this.address);var i=[],n=this.address.split("::");n[0].length?i.push(VP.simpleGroup(n[0])):i.push("");var s=["hover-group"];for(e=this.elisionBegin;e<this.elisionBegin+this.elidedGroups;e++)s.push($h("group-%d",e));return i.push($h('<span class="%s"></span>',s.join(" "))),n[1].length?i.push(VP.simpleGroup(n[1],this.elisionEnd)):i.push(""),i.join(":")}});var hTe=h(jP=>{"use strict";var Wb=Lb().sprintf,HP=E_();function GP(r){return Wb("(%s)",r.join("|"))}function $P(r){return r.length<4?Wb("0{0,%d}%s",4-r.length,r):r}var fTe="[^A-Fa-f0-9:]";function WP(r){var e=[];r.forEach(function(i,n){var s=parseInt(i,16);s===0&&e.push(n)});var t=e.map(function(i){return r.map(function(n,s){if(s===i){var o=s===0||s===HP.GROUPS-1?":":"";return GP([$P(n),o])}return $P(n)}).join(":")});return t.push(r.map($P).join(":")),GP(t)}function lTe(r,e,t){var i=e?"":":",n=t?"":":",s=[];!e&&!t&&s.push("::"),e&&t&&s.push(""),(t&&!e||!t&&e)&&s.push(":"),s.push(Wb("%s(:0{1,4}){1,%d}",i,r-1)),s.push(Wb("(0{1,4}:){1,%d}%s",r-1,n)),s.push(Wb("(0{1,4}:){%d}0{1,4}",r-1));for(var o=1;o<r-1;o++)for(var a=1;a<r-o;a++)s.push(Wb("(0{1,4}:){%d}:(0{1,4}:){%d}0{1,4}",a,r-a-o-1));return GP(s)}jP.regularExpressionString=function(r){r===void 0&&(r=!1);var e=[],t=new this.constructor(this.correctForm());if(t.elidedGroups===0)e.push(WP(t.parsedAddress));else if(t.elidedGroups===HP.GROUPS)e.push(lTe(HP.GROUPS));else{var i=t.address.split("::");i[0].length&&e.push(WP(i[0].split(":"))),e.push(lTe(t.elidedGroups,i[0].length!==0,i[1].length!==0)),i[1].length&&e.push(WP(i[1].split(":"))),e=[e.join(":")]}return r||(e=[].concat("(?=^|",fTe,"|[^\\w\\:])(",e,")(?=[^\\w\\:]|",fTe,"|$)")),e.join("")};jP.regularExpression=function(r){return new RegExp(this.regularExpressionString(r),"i")}});var gTe=h((smr,dTe)=>{"use strict";var cs=sP().BigInteger,cf=Lb().sprintf,YP=E9e(),XP=dP(),pTe=yP(),ojt=rTe(),ajt=nTe(),JP=XE(),ei=E_(),Yb=gP();function cjt(r){for(var e=/(\d+)(\d{3})/;e.test(r);)r=r.replace(e,"$1,$2");return r}function ujt(r){return r=r.replace(/^(0{1,})([1-9]+)$/,'<span class="parse-error">$1</span>$2'),r=r.replace(/^(0{1,})(0)$/,'<span class="parse-error">$1</span>$2'),r}function st(r,e){e===void 0?this.groups=ei.GROUPS:this.groups=e,this.v4=!1,this.subnet="/128",this.subnetMask=128,this.zone="",this.address=r;var t=ei.RE_SUBNET_STRING.exec(r);if(t){if(this.parsedSubnet=t[0].replace("/",""),this.subnetMask=parseInt(this.parsedSubnet,10),this.subnet="/"+this.subnetMask,isNaN(this.subnetMask)||this.subnetMask<0||this.subnetMask>ei.BITS){this.valid=!1,this.error="Invalid subnet mask.";return}r=r.replace(ei.RE_SUBNET_STRING,"")}else if(/\//.test(r)){this.valid=!1,this.error="Invalid subnet mask.";return}var i=ei.RE_ZONE_STRING.exec(r);i&&(this.zone=i[0],r=r.replace(ei.RE_ZONE_STRING,"")),this.addressMinusSuffix=r,this.parsedAddress=this.parse(this.addressMinusSuffix)}YP(st.prototype,sTe());YP(st.prototype,uTe());YP(st.prototype,hTe());st.fromBigInteger=function(r){var e=XP(r.toString(16),32,"0"),t=[],i;for(i=0;i<ei.GROUPS;i++)t.push(e.slice(i*4,(i+1)*4));return new st(t.join(":"))};st.fromURL=function(r){var e,t,i;if(r.indexOf("[")!==-1&&r.indexOf("]:")!==-1){if(i=ei.RE_URL_WITH_PORT.exec(r),i===null)return{error:"failed to parse address with port",address:null,port:null};e=i[1],t=i[2]}else if(r.indexOf("/")!==-1){if(r=r.replace(/^[a-z0-9]+:\/\//,""),i=ei.RE_URL.exec(r),i===null)return{error:"failed to parse address from URL",address:null,port:null};e=i[1]}else e=r;return t?(t=parseInt(t,10),(t<0||t>65536)&&(t=null)):t=null,{address:new st(e),port:t}};st.fromAddress4=function(r){var r=new Yb(r),e=ei.BITS-(JP.BITS-r.subnetMask);return new st("::ffff:"+r.correctForm()+"/"+e)};st.fromArpa=function(r){var e=r.replace(/(\.ip6\.arpa)?\.$/,""),t=7;if(e.length!==63)return e={error:"Not Valid 'ip6.arpa' form",address:null},e;e=e.split(".").reverse();for(var i=t;i>0;i--){var n=i*4;e.splice(n,0,":")}return e=e.join(""),new st(e)};function fjt(r,e){var t=[],i=[],n;for(n=0;n<r.length;n++)n<e[0]?t.push(r[n]):n>e[1]&&i.push(r[n]);return t.concat(["compact"]).concat(i)}st.prototype.microsoftTranscription=function(){return cf("%s.ipv6-literal.net",this.correctForm().replace(/:/g,"-"))};st.prototype.mask=function(r){return r===void 0&&(r=this.subnetMask),this.getBitsBase2(0,r)};st.prototype.possibleSubnets=function(r){r===void 0&&(r=128);var e=ei.BITS-this.subnetMask,t=Math.abs(r-ei.BITS),i=e-t;return i<0?"0":cjt(new cs("2",10).pow(i).toString(10))};st.prototype._startAddress=function(){return new cs(this.mask()+pTe("0",ei.BITS-this.subnetMask),2)};st.prototype.startAddress=function(){return st.fromBigInteger(this._startAddress())};st.prototype.startAddressExclusive=function(){var r=new cs("1");return st.fromBigInteger(this._startAddress().add(r))};st.prototype._endAddress=function(){return new cs(this.mask()+pTe("1",ei.BITS-this.subnetMask),2)};st.prototype.endAddress=function(){return st.fromBigInteger(this._endAddress())};st.prototype.endAddressExclusive=function(){var r=new cs("1");return st.fromBigInteger(this._endAddress().subtract(r))};st.prototype.getScope=function(){var r=ei.SCOPES[this.getBits(12,16)];return this.getType()==="Global unicast"&&r!=="Link local"&&(r="Global"),r};st.prototype.getType=function(){var r=this;function e(t,i){return r.isInSubnet(new st(i))}return ojt(ei.TYPES,e)||"Global unicast"};st.prototype.getBits=function(r,e){return new cs(this.getBitsBase2(r,e),2)};st.prototype.getBitsBase2=function(r,e){return this.binaryZeroPad().slice(r,e)};st.prototype.getBitsBase16=function(r,e){var t=e-r;return t%4!=0?null:XP(this.getBits(r,e).toString(16),t/4,"0")};st.prototype.getBitsPastSubnet=function(){return this.getBitsBase2(this.subnetMask,ei.BITS)};st.prototype.reverseForm=function(r){r||(r={});var e=Math.floor(this.subnetMask/4),t=this.canonicalForm().replace(/:/g,"").split("").slice(0,e).reverse().join(".");return e>0?r.omitSuffix?t:cf("%s.ip6.arpa.",t):r.omitSuffix?"":"ip6.arpa."};st.prototype.correctForm=function(){if(!this.parsedAddress)return null;var r,e=[],t=0,i=[];for(r=0;r<this.parsedAddress.length;r++){var n=parseInt(this.parsedAddress[r],16);n===0&&t++,n!==0&&t>0&&(t>1&&i.push([r-t,r-1]),t=0)}t>1&&i.push([this.parsedAddress.length-t,this.parsedAddress.length-1]);var s=i.map(function(c){return c[1]-c[0]+1});if(i.length>0){var o=s.indexOf(ajt(s));e=fjt(this.parsedAddress,i[o])}else e=this.parsedAddress;for(r=0;r<e.length;r++)e[r]!=="compact"&&(e[r]=parseInt(e[r],16).toString(16));var a=e.join(":");return a=a.replace(/^compact$/,"::"),a=a.replace(/^compact|compact$/,":"),a=a.replace(/compact/,""),a};st.prototype.binaryZeroPad=function(){return XP(this.bigInteger().toString(2),ei.BITS,"0")};st.prototype.parse4in6=function(r){var e=r.split(":"),t=e.slice(-1)[0],i=t.match(JP.RE_ADDRESS);if(i){for(var n=new Yb(i[0]),s=0;s<n.groups;s++)if(/^0[0-9]+/.test(n.parsedAddress[s]))return this.valid=!1,this.error="IPv4 addresses can not have leading zeroes.",this.parseError=r.replace(JP.RE_ADDRESS,n.parsedAddress.map(ujt).join(".")),null;this.v4=!0,e[e.length-1]=n.toGroup6(),r=e.join(":")}return r};st.prototype.parse=function(r){if(r=this.parse4in6(r),this.error)return null;var e=r.match(ei.RE_BAD_CHARACTERS);if(e)return this.valid=!1,this.error=cf("Bad character%s detected in address: %s",e.length>1?"s":"",e.join("")),this.parseError=r.replace(ei.RE_BAD_CHARACTERS,'<span class="parse-error">$1</span>'),null;var t=r.match(ei.RE_BAD_ADDRESS);if(t)return this.valid=!1,this.error=cf("Address failed regex: %s",t.join("")),this.parseError=r.replace(ei.RE_BAD_ADDRESS,'<span class="parse-error">$1</span>'),null;var i=[],n=r.split("::");if(n.length===2){var s=n[0].split(":"),o=n[1].split(":");s.length===1&&s[0]===""&&(s=[]),o.length===1&&o[0]===""&&(o=[]);var a=this.groups-(s.length+o.length);if(!a)return this.valid=!1,this.error="Error parsing groups",null;this.elidedGroups=a,this.elisionBegin=s.length,this.elisionEnd=s.length+this.elidedGroups,s.forEach(function(u){i.push(u)});for(var c=0;c<a;c++)i.push(0);o.forEach(function(u){i.push(u)})}else if(n.length===1)i=r.split(":"),this.elidedGroups=0;else return this.valid=!1,this.error="Too many :: groups found",null;return i=i.map(function(u){return cf("%x",parseInt(u,16))}),i.length!==this.groups?(this.valid=!1,this.error="Incorrect number of groups found",null):(this.valid=!0,i)};function bTe(r){return cf("%04x",parseInt(r,16))}st.prototype.canonicalForm=function(){return this.valid?this.parsedAddress.map(bTe).join(":"):null};st.prototype.decimal=function(){return this.valid?this.parsedAddress.map(function(r){return cf("%05d",parseInt(r,16))}).join(":"):null};st.prototype.bigInteger=function(){return this.valid?new cs(this.parsedAddress.map(bTe).join(""),16):null};st.prototype.to4=function(){var r=this.binaryZeroPad().split("");return Yb.fromHex(new cs(r.slice(96,128).join(""),2).toString(16))};st.prototype.to4in6=function(){var r=this.to4(),e=new st(this.parsedAddress.slice(0,6).join(":"),6),t=e.correctForm(),i="";return/:$/.test(t)||(i=":"),e.correctForm()+i+r.address};st.prototype.inspectTeredo=function(){var r=this.getBitsBase16(0,32),e=this.getBits(80,96).xor(new cs("ffff",16)).toString(),t=Yb.fromHex(this.getBitsBase16(32,64)),i=Yb.fromHex(this.getBits(96,128).xor(new cs("ffffffff",16)).toString(16)),n=this.getBits(64,80),s=this.getBitsBase2(64,80),o=n.testBit(15),a=n.testBit(14),c=n.testBit(8),u=n.testBit(9),f=new cs(s.slice(2,6)+s.slice(8,16),2).toString(10);return{prefix:cf("%s:%s",r.slice(0,4),r.slice(4,8)),server4:t.address,client4:i.address,flags:s,coneNat:o,microsoft:{reserved:a,universalLocal:u,groupIndividual:c,nonce:f},udpPort:e}};st.prototype.inspect6to4=function(){var r=this.getBitsBase16(0,16),e=Yb.fromHex(this.getBitsBase16(16,48));return{prefix:cf("%s",r.slice(0,4)),gateway:e.address}};st.prototype.to6to4=function(){if(!this.is4())return null;var r=["2002",this.getBitsBase16(96,112),this.getBitsBase16(112,128),"","/16"].join(":");return new st(r)};st.prototype.toByteArray=function(){var r=this.bigInteger().toByteArray();return r.length===17&&r[0]===0?r.slice(1):r};function yTe(r){return r&255}st.prototype.toUnsignedByteArray=function(){return this.toByteArray().map(yTe)};st.fromByteArray=function(r){return this.fromUnsignedByteArray(r.map(yTe))};st.fromUnsignedByteArray=function(r){for(var e=new cs("256",10),t=new cs("0",10),i=new cs("1",10),n=r.length-1;n>=0;n--)t=t.add(i.multiply(new cs(r[n].toString(10),10))),i=i.multiply(e);return st.fromBigInteger(t)};dTe.exports=st});var mTe=h(S_=>{"use strict";S_.Address4=gP();S_.Address6=gTe();S_.v6={helpers:KP()}});var tD=h((amr,ZP)=>{"use strict";var QP=tr(),eD=qe(),{Address4:ljt,Address6:hjt}=mTe(),k_={ERR_INVALID_IP_PARAMETER:"ERR_INVALID_IP_PARAMETER",ERR_INVALID_PORT_PARAMETER:"ERR_INVALID_PORT_PARAMETER",ERR_INVALID_IP:"ERR_INVALID_IP"};function djt(r,e){if(typeof r!="string")throw eD(new Error(`invalid ip provided: ${r}`),k_.ERR_INVALID_IP_PARAMETER);if(e=parseInt(e),isNaN(e))throw eD(new Error(`invalid port provided: ${e}`),k_.ERR_INVALID_PORT_PARAMETER);if(new ljt(r).isValid())return QP(`/ip4/${r}/tcp/${e}`);let t=new hjt(r);if(t.isValid())return t.is4()?QP(`/ip4/${t.to4().correctForm()}/tcp/${e}`):QP(`/ip6/${r}/tcp/${e}`);throw eD(new Error(`invalid ip:port for creating a multiaddr: ${r}:${e}`),k_.ERR_INVALID_IP)}ZP.exports=djt;ZP.exports.Errors=k_});var Xb=h((cmr,A_)=>{"use strict";var rD=class extends Error{constructor(e){super(e);this.name="TimeoutError"}},xTe=(r,e,t,i)=>{let n,s=new Promise((o,a)=>{if(typeof e!="number"||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===Infinity){o(r);return}i={customTimers:{setTimeout,clearTimeout},...i},n=i.customTimers.setTimeout.call(void 0,()=>{if(typeof t=="function"){try{o(t())}catch(f){a(f)}return}let c=typeof t=="string"?t:`Promise timed out after ${e} milliseconds`,u=t instanceof Error?t:new rD(c);typeof r.cancel=="function"&&r.cancel(),a(u)},e),(async()=>{try{o(await r)}catch(c){a(c)}finally{i.customTimers.clearTimeout.call(void 0,n)}})()});return s.clear=()=>{clearTimeout(n),n=void 0},s};A_.exports=xTe;A_.exports.default=xTe;A_.exports.TimeoutError=rD});var STe=h((umr,wTe)=>{"use strict";var vTe=zu(),{CLOSE_TIMEOUT:pjt}=nP(),ETe=tD(),bjt=Xb(),_Te=De(),iD=_Te("libp2p:websockets:socket");iD.error=_Te("libp2p:websockets:socket:error");wTe.exports=(r,e={})=>{let t={async sink(i){e.signal&&(i=vTe(i,e.signal));try{await r.sink(async function*(){for await(let n of i)yield n instanceof Uint8Array?n:n.slice()}())}catch(n){n.type!=="aborted"&&iD.error(n)}},source:e.signal?vTe(r.source,e.signal):r.source,conn:r,localAddr:e.localAddr||(r.localAddress&&r.localPort?ETe(r.localAddress,r.localPort):void 0),remoteAddr:e.remoteAddr||ETe(r.remoteAddress,r.remotePort),timeline:{open:Date.now()},async close(){let i=Date.now();try{await bjt(r.close(),pjt)}catch(n){let{host:s,port:o}=t.remoteAddr.toOptions();iD("timeout closing stream to %s:%s after %dms, destroying it manually",s,o,Date.now()-i),r.destroy()}finally{t.timeline.close=Date.now()}}};return r.socket.once&&r.socket.once("close",()=>{t.timeline.close||(t.timeline.close=Date.now())}),t}});var ITe=h((fmr,kTe)=>{"use strict";var L0=Sl(),{CODE_CIRCUIT:nD,CODE_P2P:sD,CODE_TCP:oD,CODE_WS:yjt,CODE_WSS:ATe}=nP();kTe.exports={all:r=>r.filter(e=>{if(e.protoCodes().includes(nD))return!1;let t=e.decapsulateCode(sD);return L0.WebSockets.matches(t)||L0.WebSocketsSecure.matches(t)}),dnsWss:r=>r.filter(e=>{if(e.protoCodes().includes(nD))return!1;let t=e.decapsulateCode(sD);return L0.WebSocketsSecure.matches(t)&&L0.DNS.matches(t.decapsulateCode(oD).decapsulateCode(ATe))}),dnsWsOrWss:r=>r.filter(e=>{if(e.protoCodes().includes(nD))return!1;let t=e.decapsulateCode(sD);return L0.WebSockets.matches(t)?L0.DNS.matches(t.decapsulateCode(oD).decapsulateCode(yjt)):L0.WebSocketsSecure.matches(t)&&L0.DNS.matches(t.decapsulateCode(oD).decapsulateCode(ATe))})}});var NTe=h((lmr,TTe)=>{"use strict";var gjt=dIe(),mjt=gu(),xjt=GR(),{AbortError:RTe}=zu(),wjt=_3(),qTe=De(),F0=qTe("libp2p:websockets");F0.error=qTe("libp2p:websockets:error");var BTe=N2(),vjt=bIe(),Ejt=STe(),CTe=ITe(),MTe=class{constructor({upgrader:e,filter:t}){if(!e)throw new Error("An upgrader must be provided. See https://github.com/libp2p/interface-transport#upgrader.");this._upgrader=e,this._filter=t}async dial(e,t={}){F0("dialing %s",e);let i=await this._connect(e,t),n=Ejt(i,{remoteAddr:e,signal:t.signal});F0("new outbound connection %s",n.remoteAddr);let s=await this._upgrader.upgradeOutbound(n);return F0("outbound connection %s upgraded",n.remoteAddr),s}async _connect(e,t={}){if(t.signal&&t.signal.aborted)throw new RTe;let i=e.toOptions();F0("dialing %s:%s",i.host,i.port);let n=wjt(),s=u=>{let f=`connection error: ${u.message}`;F0.error(f),n.reject(u)},o=gjt(xjt(e),Object.assign({binary:!0},t));if(o.socket.on?o.socket.on("error",s):o.socket.onerror=s,!t.signal)return await Promise.race([o.connected(),n.promise]),F0("connected %s",e),o;let a,c=new Promise((u,f)=>{if(a=()=>{f(new RTe),setTimeout(()=>{o.close()})},t.signal.aborted)return a();t.signal.addEventListener("abort",a)});try{await Promise.race([c,n.promise,o.connected()])}finally{t.signal.removeEventListener("abort",a)}return F0("connected %s",e),o}createListener(e={},t){return typeof e=="function"&&(t=e,e={}),vjt({handler:t,upgrader:this._upgrader},e)}filter(e){return e=Array.isArray(e)?e:[e],this._filter?this._filter(e):BTe.isBrowser||BTe.isWebWorker?CTe.dnsWss(e):CTe.all(e)}};TTe.exports=mjt(MTe,{className:"WebSockets",symbolName:"@libp2p/js-libp2p-websockets/websockets"})});var OTe=h((hmr,PTe)=>{"use strict";function DTe(r,e){for(let t in e)Object.defineProperty(r,t,{value:e[t],enumerable:!0,configurable:!0});return r}function _jt(r,e,t){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");t||(t={}),typeof e=="object"&&(t=e,e=""),e&&(t.code=e);try{return DTe(r,t)}catch(i){t.message=r.message,t.stack=r.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(r)),DTe(new n,t)}}PTe.exports=_jt});var FTe=h((dmr,LTe)=>{LTe.exports=function(){if(typeof globalThis=="undefined")return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}});var uD=h((pmr,aD)=>{"use strict";var cD=65536,Sjt=4294967295;function kjt(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Ajt=_9().Buffer,I_=globalThis.crypto||globalThis.msCrypto;I_&&I_.getRandomValues?aD.exports=Ijt:aD.exports=kjt;function Ijt(r,e){if(r>Sjt)throw new RangeError("requested too many random bytes");var t=Ajt.allocUnsafe(r);if(r>0)if(r>cD)for(var i=0;i<r;i+=cD)I_.getRandomValues(t.slice(i,i+cD));else I_.getRandomValues(t);return typeof e=="function"?process.nextTick(function(){e(null,t)}):t}});var KTe=h((bmr,UTe)=>{var zTe;UTe.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(globalThis):r=>(zTe||(zTe=Promise.resolve())).then(r).catch(e=>setTimeout(()=>{throw e},0))});var hD=h((ymr,VTe)=>{var Tjt=De()("simple-peer"),jTe=FTe(),HTe=uD(),Rjt=hB(),fD=KTe(),Br=qe(),lD=64*1024,qjt=5*1e3,Bjt=5*1e3;function GTe(r){return r.replace(/a=ice-options:trickle\s\n/g,"")}function Cjt(r){console.warn(r)}var U0=class extends Rjt.Duplex{constructor(e){if(e=Object.assign({allowHalfOpen:!1},e),super(e),this._id=HTe(4).toString("hex").slice(0,7),this._debug("new peer %o",e),this.channelName=e.initiator?e.channelName||HTe(20).toString("hex"):null,this.initiator=e.initiator||!1,this.channelConfig=e.channelConfig||U0.channelConfig,this.negotiated=this.channelConfig.negotiated,this.config=Object.assign({},U0.config,e.config),this.offerOptions=e.offerOptions||{},this.answerOptions=e.answerOptions||{},this.sdpTransform=e.sdpTransform||(t=>t),this.streams=e.streams||(e.stream?[e.stream]:[]),this.trickle=e.trickle!==void 0?e.trickle:!0,this.allowHalfTrickle=e.allowHalfTrickle!==void 0?e.allowHalfTrickle:!1,this.iceCompleteTimeout=e.iceCompleteTimeout||qjt,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=e.wrtc&&typeof e.wrtc=="object"?e.wrtc:jTe(),!this._wrtc)throw typeof window=="undefined"?Br(new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"),"ERR_WEBRTC_SUPPORT"):Br(new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=this.negotiated?!1:!this.initiator,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._firstStable=!0,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(t){fD(()=>this.destroy(Br(t,"ERR_PC_CONSTRUCTOR")));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=t=>{this._onIceCandidate(t)},this.initiator||this.negotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=t=>{this._setupData(t)},this.streams&&this.streams.forEach(t=>{this.addStream(t)}),this._pc.ontrack=t=>{this._onTrack(t)},this.initiator&&this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(e){if(this.destroyed)throw Br(new Error("cannot signal after peer is destroyed"),"ERR_SIGNALING");if(typeof e=="string")try{e=JSON.parse(e)}catch(t){e={}}this._debug("signal()"),e.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),e.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(e.transceiverRequest.kind,e.transceiverRequest.init)),e.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(e.candidate):this._pendingCandidates.push(e.candidate)),e.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(e)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(t=>{this._addIceCandidate(t)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(t=>{this.destroy(Br(t,"ERR_SET_REMOTE_DESCRIPTION"))}),!e.sdp&&!e.candidate&&!e.renegotiate&&!e.transceiverRequest&&this.destroy(Br(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}_addIceCandidate(e){var t=new this._wrtc.RTCIceCandidate(e);this._pc.addIceCandidate(t).catch(i=>{!t.address||t.address.endsWith(".local")?Cjt("Ignoring unsupported ICE candidate."):this.destroy(Br(i,"ERR_ADD_ICE_CANDIDATE"))})}send(e){this._channel.send(e)}addTransceiver(e,t){if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(e,t),this._needsNegotiation()}catch(i){this.destroy(Br(i,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{transceiverRequest:{kind:e,init:t}})}addStream(e){this._debug("addStream()"),e.getTracks().forEach(t=>{this.addTrack(t,e)})}addTrack(e,t){this._debug("addTrack()");var i=this._senderMap.get(e)||new Map,n=i.get(t);if(!n)n=this._pc.addTrack(e,t),i.set(t,n),this._senderMap.set(e,i),this._needsNegotiation();else throw n.removed?Br(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):Br(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(e,t,i){this._debug("replaceTrack()");var n=this._senderMap.get(e),s=n?n.get(i):null;if(!s)throw Br(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");t&&this._senderMap.set(t,n),s.replaceTrack!=null?s.replaceTrack(t):this.destroy(Br(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(e,t){this._debug("removeSender()");var i=this._senderMap.get(e),n=i?i.get(t):null;if(!n)throw Br(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{n.removed=!0,this._pc.removeTrack(n)}catch(s){s.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(n):this.destroy(Br(s,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(e){this._debug("removeSenders()"),e.getTracks().forEach(t=>{this.removeTrack(t,e)})}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,fD(()=>{this._batchedNegotiation=!1,this._debug("starting batched negotiation"),this.negotiate()}))}negotiate(){this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{renegotiate:!0})),this._isNegotiating=!0}_destroy(e,t){if(this._debug("destroy (error: %s)",e&&(e.message||e)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch(i){}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch(i){}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,t(e)}_setupData(e){if(!e.channel)return this.destroy(Br(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=e.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=lD),this.channelName=this._channel.label,this._channel.onmessage=i=>{this._onChannelMessage(i)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=i=>{this.destroy(Br(i,"ERR_DATA_CHANNEL"))};var t=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(t&&this._onChannelClose(),t=!0):t=!1},Bjt)}_read(){}_write(e,t,i){if(this.destroyed)return i(Br(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(e)}catch(n){return this.destroy(Br(n,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>lD?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=i):i(null)}else this._debug("write before connect"),this._chunk=e,this._cb=i}_onFinish(){if(this.destroyed)return;let e=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?e():this.once("connect",e)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(e=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(e.sdp=GTe(e.sdp)),e.sdp=this.sdpTransform(e.sdp);let t=()=>{if(!this.destroyed){var s=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:s.type,sdp:s.sdp})}},i=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))},n=s=>{this.destroy(Br(s,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(e).then(i).catch(n)}).catch(e=>{this.destroy(Br(e,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(e=>{!e.mid&&e.sender.track&&!e.requested&&(e.requested=!0,this.addTransceiver(e.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(e=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(e.sdp=GTe(e.sdp)),e.sdp=this.sdpTransform(e.sdp);let t=()=>{if(!this.destroyed){var s=this._pc.localDescription||e;this._debug("signal"),this.emit("signal",{type:s.type,sdp:s.sdp}),this.initiator||this._requestMissingTransceivers()}},i=()=>{this.destroyed||(this.trickle||this._iceComplete?t():this.once("_iceComplete",t))},n=s=>{this.destroy(Br(s,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(e).then(i).catch(n)}).catch(e=>{this.destroy(Br(e,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(Br(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(!this.destroyed){var e=this._pc.iceConnectionState,t=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",e,t),this.emit("iceStateChange",e,t),(e==="connected"||e==="completed")&&(this._pcReady=!0,this._maybeReady()),e==="failed"&&this.destroy(Br(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),e==="closed"&&this.destroy(Br(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}}getStats(e){let t=i=>(Object.prototype.toString.call(i.values)==="[object Array]"&&i.values.forEach(n=>{Object.assign(i,n)}),i);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(i=>{var n=[];i.forEach(s=>{n.push(t(s))}),e(null,n)},i=>e(i)):this._pc.getStats.length>0?this._pc.getStats(i=>{if(!this.destroyed){var n=[];i.result().forEach(s=>{var o={};s.names().forEach(a=>{o[a]=s.stat(a)}),o.id=s.id,o.type=s.type,o.timestamp=s.timestamp,n.push(t(o))}),e(null,n)}},i=>e(i)):e(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;let e=()=>{this.destroyed||this.getStats((t,i)=>{if(this.destroyed)return;t&&(i=[]);var n={},s={},o={},a=!1;i.forEach(f=>{(f.type==="remotecandidate"||f.type==="remote-candidate")&&(n[f.id]=f),(f.type==="localcandidate"||f.type==="local-candidate")&&(s[f.id]=f),(f.type==="candidatepair"||f.type==="candidate-pair")&&(o[f.id]=f)});let c=f=>{a=!0;var l=s[f.localCandidateId];l&&(l.ip||l.address)?(this.localAddress=l.ip||l.address,this.localPort=Number(l.port)):l&&l.ipAddress?(this.localAddress=l.ipAddress,this.localPort=Number(l.portNumber)):typeof f.googLocalAddress=="string"&&(l=f.googLocalAddress.split(":"),this.localAddress=l[0],this.localPort=Number(l[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");var d=n[f.remoteCandidateId];d&&(d.ip||d.address)?(this.remoteAddress=d.ip||d.address,this.remotePort=Number(d.port)):d&&d.ipAddress?(this.remoteAddress=d.ipAddress,this.remotePort=Number(d.portNumber)):typeof f.googRemoteAddress=="string"&&(d=f.googRemoteAddress.split(":"),this.remoteAddress=d[0],this.remotePort=Number(d[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(i.forEach(f=>{f.type==="transport"&&f.selectedCandidatePairId&&c(o[f.selectedCandidatePairId]),(f.type==="googCandidatePair"&&f.googActiveConnection==="true"||(f.type==="candidatepair"||f.type==="candidate-pair")&&f.selected)&&c(f)}),!a&&(!Object.keys(o).length||Object.keys(s).length)){setTimeout(e,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(f){return this.destroy(Br(f,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');var u=this._cb;this._cb=null,u(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};e()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>lD||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&!this._firstStable&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(e=>{this._pc.removeTrack(e),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation&&(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()),this._debug("negotiate"),this.emit("negotiate")),this._firstStable=!1,this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(e){this.destroyed||(e.candidate&&this.trickle?this.emit("signal",{candidate:{candidate:e.candidate.candidate,sdpMLineIndex:e.candidate.sdpMLineIndex,sdpMid:e.candidate.sdpMid}}):!e.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),e.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(e){if(!this.destroyed){var t=e.data;t instanceof ArrayBuffer&&(t=new Uint8Array(t)),this.push(t)}}_onChannelBufferedAmountLow(){if(!(this.destroyed||!this._cb)){this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);var e=this._cb;this._cb=null,e(null)}}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(e){this.destroyed||e.streams.forEach(t=>{this._debug("on track"),this.emit("track",e.track,t),this._remoteTracks.push({track:e.track,stream:t}),!this._remoteStreams.some(i=>i.id===t.id)&&(this._remoteStreams.push(t),fD(()=>{this.emit("stream",t)}))})}_debug(){var e=[].slice.call(arguments);e[0]="["+this._id+"] "+e[0],Tjt.apply(null,e)}};U0.WEBRTC_SUPPORT=!!jTe();U0.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"};U0.channelConfig={};VTe.exports=U0});var WTe=h((gmr,$Te)=>{"use strict";$Te.exports={supportsFileReader:typeof self!="undefined"&&"FileReader"in self,supportsWebRTC:"RTCPeerConnection"in globalThis&&typeof navigator!="undefined"&&typeof navigator.mediaDevices!="undefined"&&"getUserMedia"in navigator.mediaDevices,supportsWebRTCDataChannels:"RTCPeerConnection"in globalThis}});var R_=h(T_=>{"use strict";T_.CODE_P2P=421;T_.CODE_CIRCUIT=290;T_.CLOSE_TIMEOUT=2e3});var dD=h((xmr,YTe)=>{var Mjt=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Njt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];YTe.exports=function(e){var t=e,i=e.indexOf("["),n=e.indexOf("]");i!=-1&&n!=-1&&(e=e.substring(0,i)+e.substring(i,n).replace(/:/g,";")+e.substring(n,e.length));for(var s=Mjt.exec(e||""),o={},a=14;a--;)o[Njt[a]]=s[a]||"";return i!=-1&&n!=-1&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Pjt(o,o.path),o.queryKey=Djt(o,o.query),o};function Pjt(r,e){var t=/\/{2,9}/g,i=e.replace(t,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&i.splice(0,1),e.substr(e.length-1,1)=="/"&&i.splice(i.length-1,1),i}function Djt(r,e){var t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,n,s){n&&(t[n]=s)}),t}});var JTe=h(q_=>{"use strict";Object.defineProperty(q_,"__esModule",{value:!0});q_.url=void 0;var Ojt=dD(),XTe=De()("socket.io-client:url");function Ljt(r,e="",t){let i=r;t=t||typeof location!="undefined"&&location,r==null&&(r=t.protocol+"//"+t.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=t.protocol+r:r=t.host+r),/^(https?|wss?):\/\//.test(r)||(XTe("protocol-less url %s",r),typeof t!="undefined"?r=t.protocol+"//"+r:r="https://"+r),XTe("parse %s",r),i=Ojt(r)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";let s=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+e,i.href=i.protocol+"://"+s+(t&&t.port===i.port?"":":"+i.port),i}q_.url=Ljt});var ZTe=h((vmr,pD)=>{try{pD.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch(r){pD.exports=!1}});var Z3=h((Emr,QTe)=>{QTe.exports=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())()});var bD=h((_mr,eRe)=>{var Fjt=ZTe(),Ujt=Z3();eRe.exports=function(r){let e=r.xdomain,t=r.xscheme,i=r.enablesXDR;try{if(typeof XMLHttpRequest!="undefined"&&(!e||Fjt))return new XMLHttpRequest}catch(n){}try{if(typeof XDomainRequest!="undefined"&&!t&&i)return new XDomainRequest}catch(n){}if(!e)try{return new Ujt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch(n){}}});var yD=h((Smr,tRe)=>{var Kc=Object.create(null);Kc.open="0";Kc.close="1";Kc.ping="2";Kc.pong="3";Kc.message="4";Kc.upgrade="5";Kc.noop="6";var rRe=Object.create(null);Object.keys(Kc).forEach(r=>{rRe[Kc[r]]=r});var zjt={type:"error",data:"parser error"};tRe.exports={PACKET_TYPES:Kc,PACKET_TYPES_REVERSE:rRe,ERROR_PACKET:zjt}});var sRe=h((kmr,iRe)=>{var{PACKET_TYPES:Kjt}=yD(),Vjt=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",jjt=typeof ArrayBuffer=="function",Hjt=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,Gjt=({type:r,data:e},t,i)=>Vjt&&e instanceof Blob?t?i(e):nRe(e,i):jjt&&(e instanceof ArrayBuffer||Hjt(e))?t?i(e instanceof ArrayBuffer?e:e.buffer):nRe(new Blob([e]),i):i(Kjt[r]+(e||"")),nRe=(r,e)=>{let t=new FileReader;return t.onload=function(){let i=t.result.split(",")[1];e("b"+i)},t.readAsDataURL(r)};iRe.exports=Gjt});var oRe=h(gD=>{(function(r){"use strict";gD.encode=function(e){var t=new Uint8Array(e),i,n=t.length,s="";for(i=0;i<n;i+=3)s+=r[t[i]>>2],s+=r[(t[i]&3)<<4|t[i+1]>>4],s+=r[(t[i+1]&15)<<2|t[i+2]>>6],s+=r[t[i+2]&63];return n%3==2?s=s.substring(0,s.length-1)+"=":n%3==1&&(s=s.substring(0,s.length-2)+"=="),s},gD.decode=function(e){var t=e.length*.75,i=e.length,n,s=0,o,a,c,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var f=new ArrayBuffer(t),l=new Uint8Array(f);for(n=0;n<i;n+=4)o=r.indexOf(e[n]),a=r.indexOf(e[n+1]),c=r.indexOf(e[n+2]),u=r.indexOf(e[n+3]),l[s++]=o<<2|a>>4,l[s++]=(a&15)<<4|c>>2,l[s++]=(c&3)<<6|u&63;return f}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")});var uRe=h((Imr,aRe)=>{var{PACKET_TYPES_REVERSE:mD,ERROR_PACKET:$jt}=yD(),Wjt=typeof ArrayBuffer=="function",xD;Wjt&&(xD=oRe());var Xjt=(r,e)=>{if(typeof r!="string")return{type:"message",data:cRe(r,e)};let t=r.charAt(0);return t==="b"?{type:"message",data:Yjt(r.substring(1),e)}:mD[t]?r.length>1?{type:mD[t],data:r.substring(1)}:{type:mD[t]}:$jt},Yjt=(r,e)=>{if(xD){let t=xD.decode(r);return cRe(t,e)}else return{base64:!0,data:r}},cRe=(r,e)=>{switch(e){case"blob":return r instanceof ArrayBuffer?new Blob([r]):r;case"arraybuffer":default:return r}};aRe.exports=Xjt});var Jb=h((Tmr,fRe)=>{var lRe=sRe(),hRe=uRe(),dRe=String.fromCharCode(30),Jjt=(r,e)=>{let t=r.length,i=new Array(t),n=0;r.forEach((s,o)=>{lRe(s,!1,a=>{i[o]=a,++n===t&&e(i.join(dRe))})})},Zjt=(r,e)=>{let t=r.split(dRe),i=[];for(let n=0;n<t.length;n++){let s=hRe(t[n],e);if(i.push(s),s.type==="error")break}return i};fRe.exports={protocol:4,encodePacket:lRe,encodePayload:Jjt,decodePacket:hRe,decodePayload:Zjt}});var Wh=h((Rmr,wD)=>{typeof wD!="undefined"&&(wD.exports=no);function no(r){if(r)return Qjt(r)}function Qjt(r){for(var e in no.prototype)r[e]=no.prototype[e];return r}no.prototype.on=no.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this};no.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments)}return t.fn=e,this.on(r,t),this};no.prototype.off=no.prototype.removeListener=no.prototype.removeAllListeners=no.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var i,n=0;n<t.length;n++)if(i=t[n],i===e||i.fn===e){t.splice(n,1);break}return t.length===0&&delete this._callbacks["$"+r],this};no.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,n=t.length;i<n;++i)t[i].apply(this,e)}return this};no.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};no.prototype.hasListeners=function(r){return!!this.listeners(r).length}});var B_=h((qmr,pRe)=>{var eHt=Jb(),tHt=Wh(),bRe=class extends tHt{constructor(e){super();this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t){let i=new Error(e);return i.type="TransportError",i.description=t,this.emit("error",i),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){if(this.readyState==="open")this.write(e);else throw new Error("Transport not open")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(e){let t=eHt.decodePacket(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){this.emit("packet",e)}onClose(){this.readyState="closed",this.emit("close")}};pRe.exports=bRe});var C_=h(vD=>{vD.encode=function(r){var e="";for(var t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e};vD.decode=function(r){for(var e={},t=r.split("&"),i=0,n=t.length;i<n;i++){var s=t[i].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}});var SD=h((Cmr,yRe)=>{"use strict";var gRe="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),M_=64,mRe={},xRe=0,z0=0,wRe;function ED(r){var e="";do e=gRe[r%M_]+e,r=Math.floor(r/M_);while(r>0);return e}function rHt(r){var e=0;for(z0=0;z0<r.length;z0++)e=e*M_+mRe[r.charAt(z0)];return e}function _D(){var r=ED(+new Date);return r!==wRe?(xRe=0,wRe=r):r+"."+ED(xRe++)}for(;z0<M_;z0++)mRe[gRe[z0]]=z0;_D.encode=ED;_D.decode=rHt;yRe.exports=_D});var kD=h((Mmr,vRe)=>{var iHt=B_(),nHt=C_(),ERe=Jb(),sHt=SD(),Pa=De()("engine.io-client:polling"),_Re=class extends iHt{get name(){return"polling"}doOpen(){this.poll()}pause(e){let t=this;this.readyState="pausing";function i(){Pa("paused"),t.readyState="paused",e()}if(this.polling||!this.writable){let n=0;this.polling&&(Pa("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){Pa("pre-pause polling complete"),--n||i()})),this.writable||(Pa("we are currently writing - waiting to pause"),n++,this.once("drain",function(){Pa("pre-pause writing complete"),--n||i()}))}else i()}poll(){Pa("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){let t=this;Pa("polling got data %s",e);let i=function(n,s,o){if(t.readyState==="opening"&&n.type==="open"&&t.onOpen(),n.type==="close")return t.onClose(),!1;t.onPacket(n)};ERe.decodePayload(e,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():Pa('ignoring poll - transport state "%s"',this.readyState))}doClose(){let e=this;function t(){Pa("writing close packet"),e.write([{type:"close"}])}this.readyState==="open"?(Pa("transport open - closing"),t()):(Pa("transport not open - deferring close"),this.once("open",t))}write(e){this.writable=!1,ERe.encodePayload(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emit("drain")})})}uri(){let e=this.query||{},t=this.opts.secure?"https":"http",i="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=sHt()),!this.supportsBinary&&!e.sid&&(e.b64=1),e=nHt.encode(e),this.opts.port&&(t==="https"&&Number(this.opts.port)!==443||t==="http"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port),e.length&&(e="?"+e);let n=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(n?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+e}};vRe.exports=_Re});var AD=h((Nmr,SRe)=>{SRe.exports.pick=(r,...e)=>e.reduce((t,i)=>(r.hasOwnProperty(i)&&(t[i]=r[i]),t),{})});var RRe=h((Pmr,ID)=>{var kRe=bD(),oHt=kD(),aHt=Wh(),{pick:cHt}=AD(),uHt=Z3(),TD=De()("engine.io-client:polling-xhr");function ARe(){}var fHt=function(){return new kRe({xdomain:!1}).responseType!=null}(),IRe=class extends oHt{constructor(e){super(e);if(typeof location!="undefined"){let i=location.protocol==="https:",n=location.port;n||(n=i?443:80),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==i}let t=e&&e.forceBase64;this.supportsBinary=fHt&&!t}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Ho(this.uri(),e)}doWrite(e,t){let i=this.request({method:"POST",data:e}),n=this;i.on("success",t),i.on("error",function(s){n.onError("xhr post error",s)})}doPoll(){TD("xhr poll");let e=this.request(),t=this;e.on("data",function(i){t.onData(i)}),e.on("error",function(i){t.onError("xhr poll error",i)}),this.pollXhr=e}},Ho=class extends aHt{constructor(e,t){super();this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=t.async!==!1,this.data=t.data!==void 0?t.data:null,this.create()}create(){let e=cHt(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;let t=this.xhr=new kRe(e),i=this;try{TD("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let n in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(n)&&t.setRequestHeader(n,this.opts.extraHeaders[n])}}catch(n){}if(this.method==="POST")try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}try{t.setRequestHeader("Accept","*/*")}catch(n){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),this.hasXDR()?(t.onload=function(){i.onLoad()},t.onerror=function(){i.onError(t.responseText)}):t.onreadystatechange=function(){t.readyState===4&&(t.status===200||t.status===1223?i.onLoad():setTimeout(function(){i.onError(typeof t.status=="number"?t.status:0)},0))},TD("xhr data %s",this.data),t.send(this.data)}catch(n){setTimeout(function(){i.onError(n)},0);return}typeof document!="undefined"&&(this.index=Ho.requestsCount++,Ho.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=ARe:this.xhr.onreadystatechange=ARe,e)try{this.xhr.abort()}catch(t){}typeof document!="undefined"&&delete Ho.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;e!==null&&this.onData(e)}hasXDR(){return typeof XDomainRequest!="undefined"&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}};Ho.requestsCount=0;Ho.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",TRe);else if(typeof addEventListener=="function"){let r="onpagehide"in uHt?"pagehide":"unload";addEventListener(r,TRe,!1)}}function TRe(){for(let r in Ho.requests)Ho.requests.hasOwnProperty(r)&&Ho.requests[r].abort()}ID.exports=IRe;ID.exports.Request=Ho});var MRe=h((Dmr,qRe)=>{var lHt=kD(),BRe=Z3(),hHt=/\n/g,dHt=/\\n/g,N_,CRe=class extends lHt{constructor(e){super(e);this.query=this.query||{},N_||(N_=BRe.___eio=BRe.___eio||[]),this.index=N_.length;let t=this;N_.push(function(i){t.onData(i)}),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){let e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(s){e.onError("jsonp poll error",s)};let i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(t,i):(document.head||document.body).appendChild(t),this.script=t,typeof navigator!="undefined"&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){let s=document.createElement("iframe");document.body.appendChild(s),document.body.removeChild(s)},100)}doWrite(e,t){let i=this,n;if(!this.form){let a=document.createElement("form"),c=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=u,a.method="POST",a.setAttribute("accept-charset","utf-8"),c.name="d",a.appendChild(c),document.body.appendChild(a),this.form=a,this.area=c}this.form.action=this.uri();function s(){o(),t()}function o(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(a){i.onError("jsonp polling iframe removal error",a)}try{let a='<iframe src="javascript:0" name="'+i.iframeId+'">';n=document.createElement(a)}catch(a){n=document.createElement("iframe"),n.name=i.iframeId,n.src="javascript:0"}n.id=i.iframeId,i.form.appendChild(n),i.iframe=n}o(),e=e.replace(dHt,`\\
`),this.area.value=e.replace(hHt,"\\n");try{this.form.submit()}catch(a){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){i.iframe.readyState==="complete"&&s()}:this.iframe.onload=s}};qRe.exports=CRe});var DRe=h((Omr,NRe)=>{var PRe=Z3();NRe.exports={WebSocket:PRe.WebSocket||PRe.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"}});var URe=h((Lmr,ORe)=>{var LRe=B_(),pHt=Jb(),bHt=C_(),yHt=SD(),{pick:gHt}=AD(),{WebSocket:Q3,usingBrowserWebSocket:RD,defaultBinaryType:mHt}=DRe(),xHt=De()("engine.io-client:websocket"),FRe=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",P_=class extends LRe{constructor(e){super(e);this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),t=this.opts.protocols,i=FRe?{}:gHt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=RD&&!FRe?t?new Q3(e,t):new Q3(e):new Q3(e,t,i)}catch(n){return this.emit("error",n)}this.ws.binaryType=this.socket.binaryType||mHt,this.addEventListeners()}addEventListeners(){let e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}}write(e){let t=this;this.writable=!1;let i=e.length,n=0,s=i;for(;n<s;n++)(function(a){pHt.encodePacket(a,t.supportsBinary,function(c){let u={};RD||(a.options&&(u.compress=a.options.compress),t.opts.perMessageDeflate&&(typeof c=="string"?Buffer.byteLength(c):c.length)<t.opts.perMessageDeflate.threshold&&(u.compress=!1));try{RD?t.ws.send(c):t.ws.send(c,u)}catch(f){xHt("websocket closed before onclose event")}--i||o()})})(e[n]);function o(){t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0)}}onClose(){LRe.prototype.onClose.call(this)}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{},t=this.opts.secure?"wss":"ws",i="";this.opts.port&&(t==="wss"&&Number(this.opts.port)!==443||t==="ws"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=yHt()),this.supportsBinary||(e.b64=1),e=bHt.encode(e),e.length&&(e="?"+e);let n=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(n?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+e}check(){return!!Q3&&!("__initialize"in Q3&&this.name===P_.prototype.name)}};ORe.exports=P_});var BD=h(qD=>{var wHt=bD(),vHt=RRe(),EHt=MRe(),_Ht=URe();qD.polling=SHt;qD.websocket=_Ht;function SHt(r){let e,t=!1,i=!1,n=r.jsonp!==!1;if(typeof location!="undefined"){let s=location.protocol==="https:",o=location.port;o||(o=s?443:80),t=r.hostname!==location.hostname||o!==r.port,i=r.secure!==s}if(r.xdomain=t,r.xscheme=i,e=new wHt(r),"open"in e&&!r.forceJSONP)return new vHt(r);if(!n)throw new Error("JSONP disabled");return new EHt(r)}});var jRe=h((Umr,zRe)=>{var kHt=BD(),AHt=Wh(),ai=De()("engine.io-client:socket"),KRe=Jb(),VRe=dD(),IHt=C_(),Vc=class extends AHt{constructor(e,t={}){super();e&&typeof e=="object"&&(t=e,e=null),e?(e=VRe(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=VRe(t.host).host),this.secure=t.secure!=null?t.secure:typeof location!="undefined"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=t.port||(typeof location!="undefined"&&location.port?location.port:this.secure?443:80),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=IHt.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.open()}createTransport(e){ai('creating transport "%s"',e);let t=THt(this.opts.query);t.EIO=KRe.protocol,t.transport=e,this.id&&(t.sid=this.id);let i=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return ai("options: %j",i),new kHt[e](i)}open(){let e;if(this.opts.rememberUpgrade&&Vc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){let t=this;setTimeout(function(){t.emit("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch(t){ai("error while creating transport: %s",t),this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){ai("setting transport %s",e.name);let t=this;this.transport&&(ai("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(i){t.onPacket(i)}).on("error",function(i){t.onError(i)}).on("close",function(){t.onClose("transport close")})}probe(e){ai('probing transport "%s"',e);let t=this.createTransport(e,{probe:1}),i=!1,n=this;Vc.priorWebsocketSuccess=!1;function s(){if(n.onlyBinaryUpgrades){let d=!this.supportsBinary&&n.transport.supportsBinary;i=i||d}i||(ai('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(d){if(!i)if(d.type==="pong"&&d.data==="probe"){if(ai('probe transport "%s" pong',e),n.upgrading=!0,n.emit("upgrading",t),!t)return;Vc.priorWebsocketSuccess=t.name==="websocket",ai('pausing current transport "%s"',n.transport.name),n.transport.pause(function(){i||n.readyState!=="closed"&&(ai("changing transport and sending upgrade packet"),l(),n.setTransport(t),t.send([{type:"upgrade"}]),n.emit("upgrade",t),t=null,n.upgrading=!1,n.flush())})}else{ai('probe transport "%s" failed',e);let p=new Error("probe error");p.transport=t.name,n.emit("upgradeError",p)}}))}function o(){i||(i=!0,l(),t.close(),t=null)}function a(d){let p=new Error("probe error: "+d);p.transport=t.name,o(),ai('probe transport "%s" failed because of error: %s',e,d),n.emit("upgradeError",p)}function c(){a("transport closed")}function u(){a("socket closed")}function f(d){t&&d.name!==t.name&&(ai('"%s" works - aborting "%s"',d.name,t.name),o())}function l(){t.removeListener("open",s),t.removeListener("error",a),t.removeListener("close",c),n.removeListener("close",u),n.removeListener("upgrading",f)}t.once("open",s),t.once("error",a),t.once("close",c),this.once("close",u),this.once("upgrading",f),t.open()}onOpen(){if(ai("socket open"),this.readyState="open",Vc.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){ai("starting upgrade probes");let e=0,t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(ai('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":let t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data);break}else ai('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout)}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(ai("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(e,t,i){return this.sendPacket("message",e,t,i),this}send(e,t,i){return this.sendPacket("message",e,t,i),this}sendPacket(e,t,i,n){if(typeof t=="function"&&(n=t,t=void 0),typeof i=="function"&&(n=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:e,data:t,options:i};this.emit("packetCreate",s),this.writeBuffer.push(s),n&&this.once("flush",n),this.flush()}close(){let e=this;(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t());function t(){e.onClose("forced close"),ai("socket closing - telling transport to close"),e.transport.close()}function i(){e.removeListener("upgrade",i),e.removeListener("upgradeError",i),t()}function n(){e.once("upgrade",i),e.once("upgradeError",i)}return this}onError(e){ai("socket error %j",e),Vc.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){ai('socket close with reason: "%s"',e);let i=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),i.writeBuffer=[],i.prevBufferLen=0}}filterUpgrades(e){let t=[],i=0,n=e.length;for(;i<n;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}};Vc.priorWebsocketSuccess=!1;Vc.protocol=KRe.protocol;function THt(r){let e={};for(let t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}zRe.exports=Vc});var HRe=h((zmr,Yh)=>{var CD=jRe();Yh.exports=(r,e)=>new CD(r,e);Yh.exports.Socket=CD;Yh.exports.protocol=CD.protocol;Yh.exports.Transport=B_();Yh.exports.transports=BD();Yh.exports.parser=Jb()});var MD=h(Zb=>{"use strict";Object.defineProperty(Zb,"__esModule",{value:!0});Zb.hasBinary=Zb.isBinary=void 0;var RHt=typeof ArrayBuffer=="function",qHt=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,GRe=Object.prototype.toString,BHt=typeof Blob=="function"||typeof Blob!="undefined"&&GRe.call(Blob)==="[object BlobConstructor]",CHt=typeof File=="function"||typeof File!="undefined"&&GRe.call(File)==="[object FileConstructor]";function $Re(r){return RHt&&(r instanceof ArrayBuffer||qHt(r))||BHt&&r instanceof Blob||CHt&&r instanceof File}Zb.isBinary=$Re;function D_(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let t=0,i=r.length;t<i;t++)if(D_(r[t]))return!0;return!1}if($Re(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return D_(r.toJSON(),!0);for(let t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&D_(r[t]))return!0;return!1}Zb.hasBinary=D_});var WRe=h(Qb=>{"use strict";Object.defineProperty(Qb,"__esModule",{value:!0});Qb.reconstructPacket=Qb.deconstructPacket=void 0;var MHt=MD();function NHt(r){let e=[],t=r.data,i=r;return i.data=ND(t,e),i.attachments=e.length,{packet:i,buffers:e}}Qb.deconstructPacket=NHt;function ND(r,e){if(!r)return r;if(MHt.isBinary(r)){let t={_placeholder:!0,num:e.length};return e.push(r),t}else if(Array.isArray(r)){let t=new Array(r.length);for(let i=0;i<r.length;i++)t[i]=ND(r[i],e);return t}else if(typeof r=="object"&&!(r instanceof Date)){let t={};for(let i in r)r.hasOwnProperty(i)&&(t[i]=ND(r[i],e));return t}return r}function PHt(r,e){return r.data=PD(r.data,e),r.attachments=void 0,r}Qb.reconstructPacket=PHt;function PD(r,e){if(!r)return r;if(r&&r._placeholder)return e[r.num];if(Array.isArray(r))for(let t=0;t<r.length;t++)r[t]=PD(r[t],e);else if(typeof r=="object")for(let t in r)r.hasOwnProperty(t)&&(r[t]=PD(r[t],e));return r}});var L_=h(Da=>{"use strict";Object.defineProperty(Da,"__esModule",{value:!0});Da.Decoder=Da.Encoder=Da.PacketType=Da.protocol=void 0;var DHt=Wh(),YRe=WRe(),XRe=MD(),DD=De()("socket.io-parser");Da.protocol=5;var gi;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(gi=Da.PacketType||(Da.PacketType={}));var JRe=class{encode(e){return DD("encoding packet %j",e),(e.type===gi.EVENT||e.type===gi.ACK)&&XRe.hasBinary(e)?(e.type=e.type===gi.EVENT?gi.BINARY_EVENT:gi.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===gi.BINARY_EVENT||e.type===gi.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data)),DD("encoded %j as %s",e,t),t}encodeAsBinary(e){let t=YRe.deconstructPacket(e),i=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(i),n}};Da.Encoder=JRe;var O_=class extends DHt{constructor(){super()}add(e){let t;if(typeof e=="string")t=this.decodeString(e),t.type===gi.BINARY_EVENT||t.type===gi.BINARY_ACK?(this.reconstructor=new ZRe(t),t.attachments===0&&super.emit("decoded",t)):super.emit("decoded",t);else if(XRe.isBinary(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emit("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0,i={type:Number(e.charAt(0))};if(gi[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===gi.BINARY_EVENT||i.type===gi.BINARY_ACK){let s=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);let o=e.substring(s,t);if(o!=Number(o)||e.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(o)}if(e.charAt(t+1)==="/"){let s=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););i.nsp=e.substring(s,t)}else i.nsp="/";let n=e.charAt(t+1);if(n!==""&&Number(n)==n){let s=t+1;for(;++t;){let o=e.charAt(t);if(o==null||Number(o)!=o){--t;break}if(t===e.length)break}i.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){let s=OHt(e.substr(t));if(O_.isPayloadValid(i.type,s))i.data=s;else throw new Error("invalid payload")}return DD("decoded %s as %j",e,i),i}static isPayloadValid(e,t){switch(e){case gi.CONNECT:return typeof t=="object";case gi.DISCONNECT:return t===void 0;case gi.CONNECT_ERROR:return typeof t=="string"||typeof t=="object";case gi.EVENT:case gi.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case gi.ACK:case gi.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}};Da.Decoder=O_;function OHt(r){try{return JSON.parse(r)}catch(e){return!1}}var ZRe=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let t=YRe.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}});var OD=h(F_=>{"use strict";Object.defineProperty(F_,"__esModule",{value:!0});F_.on=void 0;function LHt(r,e,t){return r.on(e,t),function(){r.off(e,t)}}F_.on=LHt});var LD=h(U_=>{"use strict";Object.defineProperty(U_,"__esModule",{value:!0});U_.Socket=void 0;var Go=L_(),FHt=Wh(),z_=OD(),$o=De()("socket.io-client:socket"),UHt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),QRe=class extends FHt{constructor(e,t,i){super();this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},i&&i.auth&&(this.auth=i.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;let e=this.io;this.subs=[z_.on(e,"open",this.onopen.bind(this)),z_.on(e,"packet",this.onpacket.bind(this)),z_.on(e,"error",this.onerror.bind(this)),z_.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(UHt.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);let i={type:Go.PacketType.EVENT,data:t};i.options={},i.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"&&($o("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++);let n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)?$o("discard packet as the transport is not currently writable"):this.connected?this.packet(i):this.sendBuffer.push(i),this.flags={},this}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){$o("transport is open - connecting"),typeof this.auth=="function"?this.auth(e=>{this.packet({type:Go.PacketType.CONNECT,data:e})}):this.packet({type:Go.PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||super.emit("connect_error",e)}onclose(e){$o("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,super.emit("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Go.PacketType.CONNECT:if(e.data&&e.data.sid){let n=e.data.sid;this.onconnect(n)}else super.emit("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Go.PacketType.EVENT:this.onevent(e);break;case Go.PacketType.BINARY_EVENT:this.onevent(e);break;case Go.PacketType.ACK:this.onack(e);break;case Go.PacketType.BINARY_ACK:this.onack(e);break;case Go.PacketType.DISCONNECT:this.ondisconnect();break;case Go.PacketType.CONNECT_ERROR:let i=new Error(e.data.message);i.data=e.data.data,super.emit("connect_error",i);break}}onevent(e){let t=e.data||[];$o("emitting event %j",t),e.id!=null&&($o("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let i of t)i.apply(this,e)}super.emit.apply(this,e)}ack(e){let t=this,i=!1;return function(...n){i||(i=!0,$o("sending ack %j",n),t.packet({type:Go.PacketType.ACK,id:e,data:n}))}}onack(e){let t=this.acks[e.id];typeof t=="function"?($o("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):$o("bad ack %s",e.id)}onconnect(e){$o("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,super.emit("connect"),this.emitBuffered()}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>this.packet(e)),this.sendBuffer=[]}ondisconnect(){$o("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&($o("performing disconnect (%s)",this.nsp),this.packet({type:Go.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}};U_.Socket=QRe});var tqe=h(($mr,eqe)=>{eqe.exports=e2;function e2(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}e2.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=(Math.floor(e*10)&1)==0?r-t:r+t}return Math.min(r,this.max)|0};e2.prototype.reset=function(){this.attempts=0};e2.prototype.setMin=function(r){this.ms=r};e2.prototype.setMax=function(r){this.max=r};e2.prototype.setJitter=function(r){this.jitter=r}});var FD=h(K_=>{"use strict";Object.defineProperty(K_,"__esModule",{value:!0});K_.Manager=void 0;var zHt=HRe(),KHt=LD(),VHt=Wh(),jHt=L_(),Xh=OD(),HHt=tqe(),qn=De()("socket.io-client:manager"),rqe=class extends VHt{constructor(e,t){super();this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||Infinity),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new HHt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;let i=t.parser||jHt;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(qn("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;qn("opening %s",this.uri),this.engine=zHt(this.uri,this.opts);let t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;let n=Xh.on(t,"open",function(){i.onopen(),e&&e()}),s=Xh.on(t,"error",o=>{qn("error"),i.cleanup(),i._readyState="closed",super.emit("error",o),e?e(o):i.maybeReconnectOnOpen()});if(this._timeout!==!1){let o=this._timeout;qn("connect attempt will timeout after %d",o),o===0&&n();let a=setTimeout(()=>{qn("connect attempt timed out after %d",o),n(),t.close(),t.emit("error",new Error("timeout"))},o);this.subs.push(function(){clearTimeout(a)})}return this.subs.push(n),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){qn("open"),this.cleanup(),this._readyState="open",super.emit("open");let e=this.engine;this.subs.push(Xh.on(e,"ping",this.onping.bind(this)),Xh.on(e,"data",this.ondata.bind(this)),Xh.on(e,"error",this.onerror.bind(this)),Xh.on(e,"close",this.onclose.bind(this)),Xh.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){super.emit("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){super.emit("packet",e)}onerror(e){qn("error",e),super.emit("error",e)}socket(e,t){let i=this.nsps[e];return i||(i=new KHt.Socket(this,e,t),this.nsps[e]=i),i}_destroy(e){let t=Object.keys(this.nsps);for(let i of t)if(this.nsps[i].active){qn("socket %s is still active, skipping close",i);return}this._close()}_packet(e){qn("writing packet %j",e);let t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){qn("cleanup"),this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){qn("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this._readyState==="opening"&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){qn("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",super.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)qn("reconnect failed"),this.backoff.reset(),super.emit("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();qn("will wait %dms before reconnect attempt",t),this._reconnecting=!0;let i=setTimeout(()=>{e.skipReconnect||(qn("attempting reconnect"),super.emit("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(n=>{n?(qn("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),super.emit("reconnect_error",n)):(qn("reconnect success"),e.onreconnect())}))},t);this.subs.push(function(){clearTimeout(i)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),super.emit("reconnect",e)}};K_.Manager=rqe});var oqe=h((so,iqe)=>{"use strict";Object.defineProperty(so,"__esModule",{value:!0});so.Socket=so.io=so.Manager=so.protocol=void 0;var GHt=JTe(),nqe=FD(),$Ht=LD();Object.defineProperty(so,"Socket",{enumerable:!0,get:function(){return $Ht.Socket}});var sqe=De()("socket.io-client");iqe.exports=so=UD;var ex=so.managers={};function UD(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};let t=GHt.url(r,e.path),i=t.source,n=t.id,s=t.path,o=ex[n]&&s in ex[n].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o,c;return a?(sqe("ignoring socket cache for %s",i),c=new nqe.Manager(i,e)):(ex[n]||(sqe("new io instance for %s",i),ex[n]=new nqe.Manager(i,e)),c=ex[n]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}so.io=UD;var WHt=L_();Object.defineProperty(so,"protocol",{enumerable:!0,get:function(){return WHt.protocol}});so.connect=UD;var YHt=FD();Object.defineProperty(so,"Manager",{enumerable:!0,get:function(){return YHt.Manager}})});var V_=h((Ymr,aqe)=>{aqe.exports=r=>{if(r[Symbol.asyncIterator])return r;if(r.getReader)return async function*(){let e=r.getReader();try{for(;;){let{done:t,value:i}=await e.read();if(t)return;yield i}}finally{e.releaseLock()}}();throw new Error("unknown stream")}});var zD=h((Xmr,cqe)=>{var XHt=V5();cqe.exports=r=>async e=>{e=XHt(e);let t=w=>{typeof w.return=="function"&&w.return()},i=null,n=null,s=w=>{i=w,n&&n(w),t(e)},o=null,a=!1,c=()=>{a=!0,o&&o()},u=null,f=!1,l=()=>{f=!0,u&&u()},d=null,p=()=>{d&&d()},b=()=>new Promise((w,A)=>{o=d=w,n=A,r.once("drain",p)}),g=()=>(t(e),new Promise((w,A)=>{if(a||f||i)return w();u=o=w,n=A})),m=()=>{r.removeListener("error",s),r.removeListener("close",c),r.removeListener("finish",l),r.removeListener("drain",p)};r.once("error",s),r.once("close",c),r.once("finish",l);try{for await(let w of e){if(!r.writable||r.destroyed||i)break;r.write(w)===!1&&await b()}}catch(w){i||r.destroy(),i=w}try{if(r.writable&&r.end(),await g(),i)throw i}finally{m()}}});var KD=h((Jmr,uqe)=>{var JHt=zD(),ZHt=V_();uqe.exports=r=>({sink:JHt(r),source:ZHt(r)})});var lqe=h((Zmr,fqe)=>{var QHt=KD();fqe.exports=r=>async function*(e){let t=QHt(r);t.sink(e).catch(i=>{}),yield*t.source}});var hqe=h((Qmr,t2)=>{t2.exports=V_();t2.exports.source=V_();t2.exports.sink=zD();t2.exports.transform=lqe();t2.exports.duplex=KD()});var VD=h((e3r,dqe)=>{"use strict";var pqe=zu(),eGt=hqe(),{CLOSE_TIMEOUT:tGt}=R_(),bqe=tD(),yqe=De(),j_=yqe("libp2p:webrtc-star:socket");j_.error=yqe("libp2p:webrtc-star:socket:error");var gqe=(r,e)=>{if(!(!r||!e))try{return bqe(r,e)}catch(t){return j_.error(t),bqe("0.0.0.0",e)}};dqe.exports=(r,e={})=>{let{sink:t,source:i}=eGt.duplex(r),n=e.remoteAddr||gqe(r.remoteAddress,r.remotePort),s=gqe(r.localAddress,r.localPort),o={async sink(a){e.signal&&(a=pqe(a,e.signal));try{await t(async function*(){for await(let c of a)yield c instanceof Uint8Array?c:c.slice()}())}catch(c){c.type!=="aborted"&&j_.error(c)}},source:e.signal?pqe(i,e.signal):i,conn:r,localAddr:s,remoteAddr:n,timeline:{open:Date.now()},close(){if(!r.destroyed)return new Promise((a,c)=>{let u=Date.now(),f=setTimeout(()=>{if(o.remoteAddr){let{host:l,port:d}=o.remoteAddr.toOptions();j_("timeout closing socket to %s:%s after %dms, destroying it manually",l,d,Date.now()-u)}r.destroyed||r.destroy()},tGt);r.once("close",()=>{a()}),r.end(l=>{if(clearTimeout(f),o.timeline.close=Date.now(),l)return c(l)})})}};return r.once("close",()=>{o.timeline.close||(o.timeline.close=Date.now())}),o}});var jD=h((t3r,mqe)=>{"use strict";var xqe=tr();function rGt(r){let e=r.toString().split("/"),t=r.protos()[1].name,i=r.protos()[2].name,n=r.stringTuples()[1][1];if(t!=="tcp"||i!=="ws"&&i!=="wss")throw new Error("invalid multiaddr: "+r.toString());if(!xqe.isName(r))return"http://"+e[2]+":"+e[4];if(i==="ws")return"http://"+e[2]+(n===80?"":":"+n);if(i==="wss")return"https://"+e[2]+(n===443?"":":"+n)}function iGt(r){let e="/libp2p-webrtc-star";if(r.indexOf(e)!==-1){r=r.substring(e.length,r.length);let t=xqe(r),i=t.stringTuples().filter(n=>n[0]===421)[0];t=t.decapsulate("p2p"),t=t.encapsulate("/p2p-webrtc-star"),t=t.encapsulate(`/p2p/${i[1]}`),r=t.toString()}return r}mqe.exports={cleanUrlSIO:rGt,cleanMultiaddr:iGt}});var _qe=h((r3r,wqe)=>{"use strict";var nGt=Pr(),vqe=De(),Jh=vqe("libp2p:webrtc-star:listener");Jh.error=vqe("libp2p:webrtc-star:listener:error");var sGt=tr(),oGt=oqe(),aGt=hD(),cGt=_3(),uGt=VD(),{cleanUrlSIO:fGt}=jD(),{CODE_P2P:Eqe}=R_(),lGt={transports:["websocket"],"force new connection":!0,path:"/socket.io-next/"};wqe.exports=({handler:r,upgrader:e},t,i={})=>{let n=new nGt,s;return n.__connections=[],n.__spChannels=new Map,n.__pendingIntents=new Map,n.listen=o=>{let a=cGt();s=o,!o.protoCodes().includes(Eqe)&&e.localPeer?t._signallingAddr=o.encapsulate(`/p2p/${e.localPeer.toB58String()}`):t._signallingAddr=o,n.on("error",()=>a.reject());let c=fGt(o);Jh("Dialing to Signalling Server on: "+c),n.io=oGt.connect(c,lGt);let u=f=>{if(f.answer||f.err||!f.intentId)return;let l=f.intentId,d=n.__pendingIntents.get(l);d||(d=[],n.__pendingIntents.set(l,d));let p=n.__spChannels.get(l);if(p){p.signal(f.signal);return}else if(f.signal.type!=="offer"){d.push(f);return}let b={trickle:!1,...i};t.wrtc&&(b.wrtc=t.wrtc),p=new aGt(b);let g=m=>{Jh.error("incoming connectioned errored",m)};p.on("error",g),p.once("close",(...m)=>{p.removeListener("error",g)}),p.on("signal",m=>{f.signal=m,f.answer=!0,n.io.emit("ss-handshake",f)}),p.signal(f.signal);for(let m of d)p.signal(m.signal);n.__pendingIntents.set(l,[]),p.once("connect",async()=>{let m=uGt(p);Jh("new inbound connection %s",m.remoteAddr);let w;try{w=await e.upgradeInbound(m)}catch(A){return Jh.error("inbound connection failed to upgrade",A),m.close()}if(!w.remoteAddr)try{w.remoteAddr=o.decapsulateCode(Eqe).encapsulate(`/p2p/${w.remotePeer.toB58String()}`)}catch(A){Jh.error("could not determine remote address",A)}Jh("inbound connection %s upgraded",m.remoteAddr),hGt(n,m,l),n.emit("connection",w),r(w)}),n.__spChannels.set(l,p)};return n.io.once("connect_error",f=>a.reject(f)),n.io.once("error",f=>{n.emit("error",f),n.emit("close")}),n.io.on("ws-handshake",u),n.io.on("ws-peer",t._peerDiscovered),n.io.on("connect",()=>{n.io.emit("ss-join",t._signallingAddr.toString())}),n.io.once("connect",()=>{n.emit("listening"),a.resolve()}),a.promise},n.close=async()=>{n.io&&n.io.emit("ss-leave"),await Promise.all(n.__connections.map(o=>o.close())),n.emit("close")},n.getAddrs=()=>[s],t.listenersRefs[sGt.toString()]=n,n};function hGt(r,e,t){r.__connections.push(e);let i=()=>{r.__connections=r.__connections.filter(n=>n!==e),r.__spChannels.delete(t),r.__pendingIntents.delete(t)};e.conn.once("close",i)}});var Tqe=h((i3r,Sqe)=>{"use strict";var kqe=De(),uf=kqe("libp2p:webrtc-star");uf.error=kqe("libp2p:webrtc-star:error");var{EventEmitter:dGt}=Pr(),HD=OTe(),pGt=gu(),{AbortError:Aqe}=zu(),bGt=hD(),{supportsWebRTCDataChannels:yGt}=WTe(),gGt=tr(),mGt=Sl(),xGt=yt(),{CODE_CIRCUIT:wGt}=R_(),vGt=_qe(),EGt=VD(),{cleanMultiaddr:_Gt}=jD();function SGt(){}var Iqe=class{constructor(e={}){if(!e.upgrader)throw new Error("An upgrader must be provided. See https://github.com/libp2p/interface-transport#upgrader.");this._upgrader=e.upgrader,this._signallingAddr=void 0,this.sioOptions={transports:["websocket"],"force new connection":!0},e.wrtc&&(this.wrtc=e.wrtc),this.listenersRefs={},this.discovery=new dGt,this.discovery.tag="webRTCStar",this.discovery._isStarted=!1,this.discovery.start=()=>{this.discovery._isStarted=!0},this.discovery.stop=()=>{this.discovery._isStarted=!1},this._peerDiscovered=this._peerDiscovered.bind(this)}async dial(e,t={}){let i=await this._connect(e,t),n=EGt(i,{remoteAddr:e,signal:t.signal});uf("new outbound connection %s",n.remoteAddr);let s=await this._upgrader.upgradeOutbound(n);return uf("outbound connection %s upgraded",n.remoteAddr),s}_connect(e,t={}){if(t.signal&&t.signal.aborted)throw new Aqe;let i={initiator:!0,trickle:!1,...t.spOptions||{}};this.wrtc&&(i.wrtc=this.wrtc);let n=e.toOptions(),s=(~~(Math.random()*1e9)).toString(36)+Date.now(),o=this.listenersRefs[Object.keys(this.listenersRefs)[0]].io;return new Promise((a,c)=>{let u=Date.now(),f;uf("dialing %s:%s",n.host,n.port);let l=new bGt(i),d=w=>{if(!f){let A=`connection error ${n.host}:${n.port}: ${w.message}`;uf.error(A),m(w)}},p=()=>{uf("connnection timeout %s:%s",n.host,n.port);let w=HD(new Error(`connection timeout after ${Date.now()-u}ms`),"ERR_CONNECT_TIMEOUT");l.emit("error",w)},b=()=>{f=!0,uf("connection opened %s:%s",n.host,n.port),m(null)},g=()=>{uf.error("connection aborted %s:%s",n.host,n.port),l.destroy(),m(new Aqe)},m=w=>{l.removeListener("timeout",p),l.removeListener("connect",b),t.signal&&t.signal.removeEventListener("abort",g),w?c(w):a(l)};l.on("error",d),l.once("timeout",p),l.once("connect",b),l.on("close",()=>{l.removeListener("error",d)}),t.signal&&t.signal.addEventListener("abort",g),l.on("signal",w=>{o.emit("ss-handshake",{intentId:s,srcMultiaddr:this._signallingAddr.toString(),dstMultiaddr:e.toString(),signal:w})}),o.on("ws-handshake",w=>{w.intentId===s&&w.err&&c(HD(w.err instanceof Error?w.err:new Error(w.err),"ERR_SIGNALLING_FAILED")),!(w.intentId!==s||!w.answer||l.destroyed)&&l.signal(w.signal)})})}createListener(e={},t){if(!yGt&&!this.wrtc)throw HD(new Error("no WebRTC support"),"ERR_NO_WEBRTC_SUPPORT");return typeof e=="function"&&(t=e,e={}),t=t||SGt,vGt({handler:t,upgrader:this._upgrader},this,e)}filter(e){return e=Array.isArray(e)?e:[e],e.filter(t=>t.protoCodes().includes(wGt)?!1:mGt.WebRTCStar.matches(t))}_peerDiscovered(e){if(!this.discovery._isStarted)return;uf("Peer Discovered:",e),e=_Gt(e);let t=gGt(e),i=xGt.createFromB58String(t.getPeerId());this.discovery.emit("peer",{id:i,multiaddrs:[t]})}};Sqe.exports=pGt(Iqe,{className:"WebRTCStar",symbolName:"@libp2p/js-libp2p-webrtc-star/webrtcstar"})});var Mqe=h((n3r,Rqe)=>{"use strict";var H_=ii(),qqe=Lo(),GD=10*1024,Bqe=class{constructor(){this._pool=new Uint8Array(GD),this._poolOffset=0}write(e){let t=this._pool,i=this._poolOffset;H_.encode(e.id<<3|e.type,t,i),i+=H_.encode.bytes,H_.encode(e.data?e.data.length:0,t,i),i+=H_.encode.bytes;let n=t.subarray(this._poolOffset,i);return GD-i<100?(this._pool=new Uint8Array(GD),this._poolOffset=0):this._poolOffset=i,e.data?[n,e.data]:n}},Cqe=new Bqe;Rqe.exports=r=>async function*(){for await(let t of r)Array.isArray(t)?yield new qqe(t.map(i=>Cqe.write(i))):yield new qqe(Cqe.write(t))}()});var Dqe=h((s3r,Nqe)=>{"use strict";var G_=ii(),kGt=Lo();Nqe.exports=r=>async function*(){let t=new Pqe;for await(let i of r){let n=t.write(i);n.length&&(yield n)}}();var Pqe=class{constructor(){this._buffer=new kGt,this._bufferProxy=new Proxy({},{get:(e,t)=>t[0]==="l"?this._buffer[t]:this._buffer.get(parseInt(t))}),this._headerInfo=null}write(e){if(!e||!e.length)return[];this._buffer.append(e);let t=[];for(;;){if(!this._headerInfo)try{this._headerInfo=this._decodeHeader(this._bufferProxy)}catch(c){break}let{id:i,type:n,length:s,offset:o}=this._headerInfo;if(this._buffer.length-o<s)break;t.push({id:i,type:n,data:this._buffer.shallowSlice(o,o+s)}),this._buffer.consume(o+s),this._headerInfo=null}return t}_decodeHeader(e){let t=G_.decode(e),i=G_.decode.bytes,n=G_.decode(e,i);return i+=G_.decode.bytes,{id:t>>3,type:t&7,offset:i,length:n}}}});var Oqe=h($D=>{"use strict";$D.encode=Mqe();$D.decode=Dqe()});var YD=h((a3r,WD)=>{"use strict";var Lqe=1<<20;WD.exports=r=>{r=r||Lqe;let e=t=>{if(t.data&&t.data.length>r)throw Object.assign(new Error("message size too large!"),{code:"ERR_MSG_TOO_BIG"})};return t=>async function*(){for await(let n of t)Array.isArray(n)?n.forEach(e):e(n),yield n}()};WD.exports.MAX_MSG_SIZE=Lqe});var XD=h(tx=>{"use strict";var ff=Object.freeze({NEW_STREAM:0,MESSAGE_RECEIVER:1,MESSAGE_INITIATOR:2,CLOSE_RECEIVER:3,CLOSE_INITIATOR:4,RESET_RECEIVER:5,RESET_INITIATOR:6});tx.MessageTypes=ff;tx.InitiatorMessageTypes=Object.freeze({NEW_STREAM:ff.NEW_STREAM,MESSAGE:ff.MESSAGE_INITIATOR,CLOSE:ff.CLOSE_INITIATOR,RESET:ff.RESET_INITIATOR});tx.ReceiverMessageTypes=Object.freeze({MESSAGE:ff.MESSAGE_RECEIVER,CLOSE:ff.CLOSE_RECEIVER,RESET:ff.RESET_RECEIVER});tx.MessageTypeNames=Object.freeze(Object.entries(ff).reduce((r,e)=>(r[e[1]]=e[0],r),{}))});var Kqe=h((u3r,Fqe)=>{"use strict";var AGt=zu(),Uqe=Sf(),rx=De()("libp2p:mplex:stream"),IGt=ch(),zqe=Lo(),TGt=qe(),{MAX_MSG_SIZE:RGt}=YD(),{InitiatorMessageTypes:qGt,ReceiverMessageTypes:BGt}=XD(),JD="ERR_MPLEX_STREAM_RESET",CGt="ERR_MPLEX_STREAM_ABORT";Fqe.exports=({id:r,name:e,send:t,onEnd:i=()=>{},type:n="initiator",maxMsgSize:s=RGt})=>{let o=new Uqe,a=new Uqe,c=n==="initiator"?qGt:BGt,u=n==="initiator"?`i${r}`:`r${r}`;e=String(e??r);let f=!1,l=!1,d,p=m=>{f||(f=!0,rx("%s stream %s source end",n,e,m),m&&!d&&(d=m),l&&(g.timeline.close=Date.now(),i(d)))},b=m=>{l||(l=!0,rx("%s stream %s sink end",n,e,m),m&&!d&&(d=m),f&&(g.timeline.close=Date.now(),i(d)))},g={close:()=>g.source.end(),abort:m=>{rx("%s stream %s abort",n,e,m),g.source.end(m),o.abort(),b(m)},reset:()=>{let m=TGt(new Error("stream reset"),JD);a.abort(),g.source.end(m),b(m)},sink:async m=>{m=AGt(m,[{signal:o.signal,options:{abortMessage:"stream aborted",abortCode:CGt}},{signal:a.signal,options:{abortMessage:"stream reset",abortCode:JD}}]),n==="initiator"&&t({id:r,type:c.NEW_STREAM,data:e});try{for await(let w of m)for(;w.length;){if(w.length<=s){t({id:r,type:c.MESSAGE,data:w});break}w=zqe.isBufferList(w)?w:new zqe(w),t({id:r,type:c.MESSAGE,data:w.shallowSlice(0,s)}),w.consume(s)}}catch(w){return w.code===JD?rx("%s stream %s reset",n,e):(rx("%s stream %s error",n,e,w),t({id:r,type:c.RESET})),g.source.end(w),b(w)}t({id:r,type:c.CLOSE}),b()},source:IGt(p),timeline:{open:Date.now(),close:null},id:u};return g}});var Gqe=h((f3r,Vqe)=>{"use strict";var MGt=yi(),NGt=ch(),lf=De()("libp2p:mplex"),PGt=zu(),jqe=Oqe(),DGt=YD(),{MessageTypes:Zh,MessageTypeNames:Hqe}=XD(),OGt=Kqe(),ZD=class{constructor(e){e=e||{},e=typeof e=="function"?{onStream:e}:e,this._streamId=0,this._streams={initiators:new Map,receivers:new Map},this._options=e,this.sink=this._createSink(),this.source=this._createSource(),this.onStream=e.onStream,this.onStreamEnd=e.onStreamEnd}get streams(){let e=[];return this._streams.initiators.forEach(t=>{e.push(t)}),this._streams.receivers.forEach(t=>{e.push(t)}),e}newStream(e){let t=this._streamId++;e=e==null?t.toString():String(e);let i=this._streams.initiators;return this._newStream({id:t,name:e,type:"initiator",registry:i})}_newReceiverStream({id:e,name:t}){let i=this._streams.receivers;return this._newStream({id:e,name:t,type:"receiver",registry:i})}_newStream({id:e,name:t,type:i,registry:n}){if(n.has(e))throw new Error(`${i} stream ${e} already exists!`);lf("new %s stream %s %s",i,e,t);let a=OGt({id:e,name:t,send:c=>(lf.enabled&&lf("%s stream %s %s send",i,e,t,{...c,type:Hqe[c.type],data:c.data&&c.data.slice()}),this.source.push(c)),type:i,onEnd:()=>{lf("%s stream %s %s ended",i,e,t),n.delete(e),this.onStreamEnd&&this.onStreamEnd(a)},maxMsgSize:this._options.maxMsgSize});return n.set(e,a),a}_createSink(){return async e=>{this._options.signal&&(e=PGt(e,this._options.signal));try{await MGt(e,jqe.decode,DGt(this._options.maxMsgSize),async t=>{for await(let i of t)for(let n of i)this._handleIncoming(n)})}catch(t){return lf("error in sink",t),this.source.end(t)}this.source.end()}}_createSource(){let t=NGt({onEnd:i=>{let{initiators:n,receivers:s}=this._streams;for(let o of n.values())o.abort(i);for(let o of s.values())o.abort(i)},writev:!0});return Object.assign(jqe.encode(t),{push:t.push,end:t.end,return:t.return})}_handleIncoming({id:e,type:t,data:i}){if(lf.enabled&&lf("incoming message",{id:e,type:Hqe[t],data:i.slice()}),t===Zh.NEW_STREAM&&this.onStream){let o=this._newReceiverStream({id:e,name:i.toString()});return this.onStream(o)}let s=(t&1?this._streams.initiators:this._streams.receivers).get(e);if(!s)return lf("missing stream %s",e);switch(t){case Zh.MESSAGE_INITIATOR:case Zh.MESSAGE_RECEIVER:s.source.push(i);break;case Zh.CLOSE_INITIATOR:case Zh.CLOSE_RECEIVER:s.close();break;case Zh.RESET_INITIATOR:case Zh.RESET_RECEIVER:s.reset();break;default:lf("unknown message type %s",t)}}};ZD.multicodec="/mplex/6.7.0";Vqe.exports=ZD});var Wqe=h((l3r,$qe)=>{"use strict";$qe.exports=Gqe()});var hf=h((h3r,Yqe)=>{"use strict";function Xqe(r,e){if(!r){let t=new Error(e||"Assertion failed");throw Error.captureStackTrace&&Error.captureStackTrace(t,Xqe),t}}Yqe.exports=Xqe});var QD=h(Jqe=>{"use strict";Jqe.custom="inspect"});var wBe=h((p3r,Zqe)=>{"use strict";var{custom:Qqe}=QD(),eBe=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],LGt=[0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],FGt=[0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176],eO={p192:null,p224:null,p521:null,k256:null,p251:null,p25519:null,p448:null},$r={NONE:0,QUO:1,REM:2,BOTH:3,EUCLID:4,ALL:7},ix=4,r2=1<<ix-1,Qh=typeof BigInt=="function",he=class{constructor(e,t,i){this.words=[0],this.length=1,this.negative=0,this.red=null,this.from(e,t,i)}_iadd(e,t){let i=0,n=0;for(e.length<t.length&&([e,t]=[t,e]),e!==this&&this._alloc(e.length);n<t.length;n++){let s=(e.words[n]|0)+(t.words[n]|0)+i;this.words[n]=s&67108863,i=s>>>26}for(;i!==0&&n<e.length;n++){let s=(e.words[n]|0)+i;this.words[n]=s&67108863,i=s>>>26}if(this.length=e.length,i!==0)this._alloc(this.length+1),this.words[this.length++]=i;else if(e!==this)for(;n<e.length;n++)this.words[n]=e.words[n];return this}_iaddn(e){if(this.words[0]+=e,this.words[0]<67108864)return this;let t=0;for(this._alloc(this.length+1),this.words[this.length]=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,this.words[t+1]+=1;return this.length=Math.max(this.length,t+1),this}iadd(e){if(ge(he.isBN(e),"num","bignum"),this.negative===e.negative)this._iadd(this,e);else{let t=this.ucmp(e);if(t===0)return this.words[0]=0,this.length=1,this.negative=0,this;t<0?(this._isub(e,this),this.negative^=1):this._isub(this,e)}return this}iaddn(e){ge(gr(e),"num","smi");let t=e<0|0;return t&&(e=-e),this.negative===t?this._iaddn(e):this.length===1&&this.words[0]<e?(this.words[0]=e-this.words[0],this.negative^=1):this._isubn(e),this}add(e){return ge(he.isBN(e),"num","bignum"),e.length>this.length?e.clone().iadd(this):this.clone().iadd(e)}addn(e){return this.clone().iaddn(e)}_isub(e,t){let i=0,n=0;for(Wr(e.length>=t.length),e!==this&&this._alloc(e.length);n<t.length;n++){let s=(e.words[n]|0)-(t.words[n]|0)+i;i=s>>26,this.words[n]=s&67108863}for(;i!==0&&n<e.length;n++){let s=(e.words[n]|0)+i;i=s>>26,this.words[n]=s&67108863}if(Wr(i===0),e!==this)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=Math.max(this.length,n),this._strip()}_isubn(e){if(this.words[0]-=e,this.words[0]>=0)return this._normalize();Wr(this.length!==1),this._alloc(this.length+1);for(let t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.words[this.length]=0,this._strip()}isub(e){if(ge(he.isBN(e),"num","bignum"),this.negative!==e.negative)this._iadd(this,e);else{let t=this.ucmp(e);if(t===0)return this.words[0]=0,this.length=1,this.negative=0,this;t<0?(this._isub(e,this),this.negative^=1):this._isub(this,e)}return this}isubn(e){ge(gr(e),"num","smi");let t=e<0|0;return t&&(e=-e),this.negative!==t?this._iaddn(e):this.length===1&&this.words[0]<e?(this.words[0]=e-this.words[0],this.negative^=1):this._isubn(e),this}sub(e){return this.clone().isub(e)}subn(e){return this.clone().isubn(e)}_mul(e,t){if(ge(he.isBN(e),"num","bignum"),ge(he.isBN(t),"out","bignum"),this.length===10&&e.length===10)return gBe(this,e,t);let i=this.length+e.length;return i<63?bBe(this,e,t):i<1024?yBe(this,e,t):zGt(this,e,t)}imul(e){return this.mul(e)._move(this)}imuln(e){ge(gr(e),"num","smi");let t=e<0|0;t&&(e=-e);let i=0;for(let n=0;n<this.length;n++){let s=this.words[n]*e,o=(s&67108863)+(i&67108863);i>>=26,i+=s/67108864|0,i+=o>>>26,this.words[n]=o&67108863}return this.negative^=t,i!==0?(this._alloc(this.length+1),this.words[this.length++]=i):this._strip(),this}mul(e){ge(he.isBN(e),"num","bignum");let t=this.length+e.length,i=new he;i.words=new Array(t);for(let n=0;n<t;n++)i.words[n]=0;return this._mul(e,i)}muln(e){return this.clone().imuln(e)}mulShift(e,t){ge(he.isBN(e),"num","bignum"),ge(t>>>0===t,"bits","uint32");let i=this.mul(e),n=i.utestn(t-1);return i.iushrn(t),this.negative^e.negative?i.isubn(n):i.iaddn(n)}_div(e,t){ge(he.isBN(e),"num","bignum"),Wr((t&$r.ALL)===t),Wr(t!==$r.NONE);let i=this,n=e;if($_(!n.isZero()),i.isZero())return[new he(0),new he(0)];let s=i.negative,o=n.negative;i.negative=0,n.negative=0;let a=null,c=null;return i.ucmp(n)<0?(t&$r.QUO&&(a=new he(0)),t&$r.REM&&(c=i.clone())):n.length===1?(t&$r.QUO&&(a=i.quon(n.words[0])),t&$r.REM&&(c=i.remn(n.words[0]))):[a,c]=i._wordDiv(n,t),i.negative=s,n.negative=o,t&$r.QUO&&(a.negative=i.negative^n.negative,a._normalize()),t&$r.REM&&(c.negative=i.negative,c._normalize()),t&$r.EUCLID&&(t&$r.QUO&&(Wr((t&$r.REM)!=0),c.negative!==0&&(n.negative!==0?a.iaddn(1):a.isubn(1))),t&$r.REM&&c.negative!==0&&(n.negative!==0?c.isub(n):c.iadd(n))),[a,c]}_wordDiv(e,t){let i=this.clone(),n=e,s=null,o,a=n.words[n.length-1]|0,c=26-i2(a);c!==0?(n=n.clone(),i.iushln(c),n.iushln(c),o=n.words[n.length-1]|0):o=a;let u=i.length-n.length;if(Wr(u>=0),t&$r.QUO){s=new he(0),s.length=u+1,s.words=new Array(s.length);for(let l=0;l<s.length;l++)s.words[l]=0}let f=i.clone();f._ishlnsubmul(n,1,u),f.negative===0&&(s&&(s.words[u]=1),i=f);for(let l=u-1;l>=0;l--){let d=i.words[n.length+l],p=i.words[n.length+l-1],b=(d*67108864+p)/o|0,g=Math.min(b,67108863);for(i._ishlnsubmul(n,g,l);i.negative!==0;)g-=1,i.negative=0,i._ishlnsubmul(n,1,l),i.ineg();s&&(s.words[l]=g)}return s&&s._strip(),t&$r.REM&&c!==0&&i.iushrn(c),[s,i]}_ishlnsubmul(e,t,i){let n=0,s=0;for(this._expand(e.length+i);s<e.length;s++){let o=(this.words[s+i]|0)+n,a=e.words[s]*t,c=o-(a&67108863);n=(c>>26)-(a/67108864|0),this.words[s+i]=c&67108863}for(;s<this.length-i;s++){let o=(this.words[s+i]|0)+n;n=o>>26,this.words[s+i]=o&67108863}if(n===0)return this._strip();Wr(n===-1),n=0;for(let o=0;o<this.length;o++){let a=-(this.words[o]|0)+n;n=a>>26,this.words[o]=a&67108863}return this.negative=1,this._strip()}quorem(e){return this._div(e,$r.BOTH)}iquo(e){return this.quo(e)._move(this)}iquon(e){ge(gr(e),"num","smi"),$_(e!==0);let t=e<0|0;t&&(e=-e);let i=0;for(let n=this.length-1;n>=0;n--){let s=(this.words[n]|0)+i*67108864;this.words[n]=s/e|0,i=s%e}return this.negative^=t,this._strip()}quo(e){return this._div(e,$r.QUO)[0]}quon(e){return this.clone().iquon(e)}irem(e){return this.rem(e)._move(this)}iremn(e){let t=this.remrn(e);return t<0&&(t=-t),this.words[0]=t,this.length=1,this._normalize()}rem(e){return this._div(e,$r.REM)[1]}remn(e){return this.clone().iremn(e)}remrn(e){ge(gr(e),"num","smi"),$_(e!==0),e<0&&(e=-e);let t=(1<<26)%e,i=0;for(let n=this.length-1;n>=0;n--)i=(t*i+(this.words[n]|0))%e;return this.negative!==0?-i|0:i}divmod(e){return this._div(e,$r.BOTH|$r.EUCLID)}idiv(e){return this.div(e)._move(this)}idivn(e){if(this.negative===0)return this.iquon(e);let t=this.remrn(e);return this.iquon(e),t<0&&(e<0?this.iaddn(1):this.isubn(1)),this}div(e){return this._div(e,$r.BOTH|$r.EUCLID)[0]}divn(e){return this.clone().idivn(e)}imod(e){return this.ucmp(e)<0?(this.negative!==0&&(this._isub(e,this),this.negative=0),this):this.mod(e)._move(this)}imodn(e){return this.words[0]=this.modrn(e),this.length=1,this.negative=0,this}mod(e){return this._div(e,$r.REM|$r.EUCLID)[1]}modn(e){return this.clone().imodn(e)}modrn(e){ge(gr(e),"num","smi");let t=this.remrn(e);return t<0&&(e<0?t-=e:t+=e),t}divRound(e){let[t,i]=this.quorem(e);if(i.isZero())return t;let n=e.words[0]&1;e.iushrn(1);let s=i.ucmp(e);return e.iushln(1),e.words[0]|=n,s<0||e.isOdd()&&s===0?t:this.negative^e.negative?t.isubn(1):t.iaddn(1)}ipow(e){return this.pow(e)._move(this)}ipown(e){return this.pown(e)._move(this)}pow(e){ge(he.isBN(e),"num","bignum");let t=i2(e.words[e.length-1]),i=new he(1);for(let n=e.length-1;n>=0;n--){let s=e.words[n];for(let o=t-1;o>=0;o--)i=i.sqr(),s>>o&1&&(i=i.mul(this));t=26}return i}pown(e){if(ge(gr(e),"num","smi"),e<0&&(e=-e),e===0)return new he(1);if(e===1)return this.clone();let t=i2(e),i=this;for(let n=t-2;n>=0;n--)i=i.sqr(),e>>n&1&&(i=i.mul(this));return i}isqr(){return this.imul(this)}sqr(){return this.mul(this)}_rootrem(e,t){if(ge(e>>>0===e,"num","uint32"),e===0)throw new RangeError("Zeroth root.");if(~e&this.negative)throw new RangeError("Negative with even root.");if(this.ucmpn(1)<=0)return[this.clone(),new he(0)];let i=new he(0),n=he.shift(1,this.bitLength()/e+1|0),s,o;if(this.negative!==0&&n.ineg(),e===2)do i=n,n=this.quo(i),n.iadd(i),n.iushrn(1);while(n.ucmp(i)<0);else do i=n,n=i.pown(e-1),n=this.quo(n),s=i.muln(e-1),n.iadd(s),n=n.quon(e);while(n.ucmp(i)<0);return t&&(n=i.pown(e),o=this.sub(n)),[i,o]}rootrem(e){return this._rootrem(e,1)}iroot(e){return this.root(e)._move(this)}root(e){return this._rootrem(e,0)[0]}isPower(e){if(ge(e>>>0===e,"num","uint32"),e===0||~e&this.negative)return!1;let[,t]=this.rootrem(e);return t.sign()===0}sqrtrem(){return this.rootrem(2)}isqrt(){return this.sqrt()._move(this)}sqrt(){return this.root(2)}isSquare(){return this.isPower(2)}iand(e){ge(he.isBN(e),"num","bignum");let t=this,i=e;if(t===i)return t;if((t.negative|i.negative)==0)return t.iuand(i);if((t.negative&i.negative)==1)return t.iaddn(1),i.iaddn(1),t.iuor(i),t.isubn(1),i.isubn(1),t;t.negative!==0&&([t,i]=[i.clone(),t]);let n=t.bitLength();return i.iaddn(1),i.inotn(n),t.iuand(i),i.inotn(n),i.isubn(1),t._move(this)}iandn(e){return ge(gr(e),"num","smi"),(this.negative|e<0)!=0?this.iand(new he(e)):(this.words[0]&=e,this.length=1,this)}and(e){return this.clone().iand(e)}andn(e){return this.clone().iandn(e)}andrn(e){if(ge(gr(e),"num","smi"),(this.negative|e<0)!=0){let t=this.iand(new he(e));if(t.length>1)throw new RangeError("Number exceeds 26 bits.");return t.negative!==0?-t.words[0]:t.words[0]}return this.words[0]&e}iuand(e){ge(he.isBN(e),"num","bignum"),this.length=Math.min(this.length,e.length);for(let t=0;t<this.length;t++)this.words[t]&=e.words[t];return this._strip()}iuandn(e){return ge(gr(e),"num","smi"),this.words[0]&=Math.abs(e),this.length=1,this._normalize()}uand(e){return this.clone().iuand(e)}uandn(e){return this.clone().iuandn(e)}uandrn(e){ge(gr(e),"num","smi");let t=this.words[0]&Math.abs(e);return this.negative!==0?-t|0:t}ior(e){ge(he.isBN(e),"num","bignum");let t=this,i=e;return t===i?t:(t.negative|i.negative)==0?t.iuor(i):(t.negative&i.negative)==1?(t.iaddn(1),i.iaddn(1),t.iuand(i),t.isubn(1),i.isubn(1),t):(i=i.clone(),t.negative!==0&&([t,i]=[i,t]),i.iaddn(1),t.inotn(i.bitLength()),i.iuand(t),i.isubn(1),i._move(this))}iorn(e){return ge(gr(e),"num","smi"),(this.negative|e<0)!=0?this.ior(new he(e)):(this.words[0]|=e,this)}or(e){return this.clone().ior(e)}orn(e){return this.clone().iorn(e)}iuor(e){ge(he.isBN(e),"num","bignum"),this._expand(e.length);for(let t=0;t<e.length;t++)this.words[t]|=e.words[t];return this}iuorn(e){return ge(gr(e),"num","smi"),this.words[0]|=Math.abs(e),this}uor(e){return this.clone().iuor(e)}uorn(e){return this.clone().iuorn(e)}ixor(e){ge(he.isBN(e),"num","bignum");let t=this,i=e;return t===i?(t.words[0]=0,t.length=1,t.negative=0,t):(t.negative|i.negative)==0?t.iuxor(i):(t.negative&i.negative)==1?(t.iaddn(1),i.iaddn(1),t.iuxor(i),t.ineg(),i.isubn(1),t):(t.negative!==0&&([t,i]=[i.clone(),t]),i.iaddn(1),t.iuxor(i),t.iaddn(1),t.ineg(),i.isubn(1),t._move(this))}ixorn(e){return ge(gr(e),"num","smi"),(this.negative|e<0)!=0?this.ixor(new he(e)):(this.words[0]^=e,this)}xor(e){return this.clone().ixor(e)}xorn(e){return this.clone().ixorn(e)}iuxor(e){ge(he.isBN(e),"num","bignum");let t=this,i=e;t.length<i.length&&([t,i]=[i,t]);let n=0;for(;n<i.length;n++)this.words[n]=t.words[n]^i.words[n];if(t!==this)for(this._alloc(t.length);n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()}iuxorn(e){return ge(gr(e),"num","smi"),this.words[0]^=Math.abs(e),this._normalize()}uxor(e){return this.clone().iuxor(e)}uxorn(e){return this.clone().iuxorn(e)}inot(){return this.negative!==0?this.ineg().isubn(1):this.iaddn(1).ineg(),this}not(){return this.clone().inot()}inotn(e){ge(e>>>0===e,"width","uint32");let t=e%26,i=Math.ceil(e/26),n=0;for(this._expand(i),t>0&&(i-=1);n<i;n++)this.words[n]^=67108863;return t>0&&(this.words[n]^=(1<<t)-1),this._strip()}notn(e){return this.clone().inotn(e)}ishl(e){return ge(he.isBN(e),"bits","bignum"),ge(e.bitLength()<=32,"bits","uint32"),this.ishln(e.toNumber())}ishln(e){return this.iushln(e)}shl(e){return this.clone().ishl(e)}shln(e){return this.clone().ishln(e)}iushl(e){return ge(he.isBN(e),"bits","bignum"),ge(e.bitLength()<=32,"bits","uint32"),this.iushln(e.toNumber())}iushln(e){ge(e>>>0===e,"bits","uint32");let t=e%26,i=(e-t)/26,n=(1<<t)-1<<26-t;if(t!==0){let s=0;for(let o=0;o<this.length;o++){let a=this.words[o]&n,c=(this.words[o]|0)-a<<t;this.words[o]=c|s,s=a>>>26-t}s!==0&&(this._alloc(this.length+1),this.words[this.length++]=s)}if(i!==0){this._alloc(this.length+i);for(let s=this.length-1;s>=0;s--)this.words[s+i]=this.words[s];for(let s=0;s<i;s++)this.words[s]=0;this.length+=i}return this._strip()}ushl(e){return this.clone().iushl(e)}ushln(e){return this.clone().iushln(e)}_split(e,t){let i=e%26,n=Math.min((e-i)/26,this.length),s=(1<<i)-1;if(t){t._alloc(n);for(let a=0;a<n;a++)t.words[a]=this.words[a];t.length=n}if(n!==0)if(this.length>n){this.length-=n;for(let a=0;a<this.length;a++)this.words[a]=this.words[a+n]}else this.words[0]=0,this.length=1;let o=0;if(i!==0)for(let a=this.length-1;a>=0;a--){let c=this.words[a]|0;this.words[a]=o<<26-i|c>>>i,o=c&s}return t&&(o!==0?(t._alloc(t.length+1),t.words[t.length++]=o):(t.length===0&&(t.words[t.length++]=0),t._strip())),this._strip()}ishr(e){return ge(he.isBN(e),"bits","bignum"),ge(e.bitLength()<=32,"bits","uint32"),this.ishrn(e.toNumber())}ishrn(e){return ge(e>>>0===e,"bits","uint32"),this.negative!==0?(this.iaddn(1),this.iushrn(e),this.isubn(1),this):this.iushrn(e)}shr(e){return this.clone().ishr(e)}shrn(e){return this.clone().ishrn(e)}iushr(e){return ge(he.isBN(e),"bits","bignum"),ge(e.bitLength()<=32,"bits","uint32"),this.iushrn(e.toNumber())}iushrn(e){return ge(e>>>0===e,"bits","uint32"),this._split(e,null)}ushr(e){return this.clone().iushr(e)}ushrn(e){return this.clone().iushrn(e)}setn(e,t){return ge(e>>>0===e,"bit","uint32"),this.negative!==0?(this.iaddn(1),this.usetn(e,!t),this.isubn(1),this):this.usetn(e,t)}usetn(e,t){ge(e>>>0===e,"bit","uint32");let i=e%26,n=(e-i)/26;return this._expand(n+1),t?this.words[n]|=1<<i:this.words[n]&=~(1<<i),this._strip()}testn(e){ge(e>>>0===e,"bit","uint32");let t=e%26,i=(e-t)/26;if(this.length<=i)return this.negative;let n=this.words[i],s=n>>t&1;if(this.negative!==0){if(t>0&&n&(1<<t)-1)return s^1;let o=i;for(;o--;)if(this.words[o]>0)return s^1}return s}utestn(e){ge(e>>>0===e,"bit","uint32");let t=e%26,i=(e-t)/26;return this.length<=i?0:this.words[i]>>t&1}imaskn(e){return ge(e>>>0===e,"bits","uint32"),this.negative!==0&&(this.iaddn(1),this.inotn(e+1),this.ineg()),this.iumaskn(e)}maskn(e){return this.clone().imaskn(e)}iumaskn(e){ge(e>>>0===e,"bits","uint32");let t=e%26,i=(e-t)/26;return this.length<=i?this:(t!==0&&(i+=1),this.length=Math.min(i,this.length),t!==0&&(this.words[this.length-1]&=(1<<t)-1),this.length===0&&(this.words[this.length++]=0),this._strip())}umaskn(e){return this.clone().iumaskn(e)}andln(e){return this.words[0]&e}bit(e){return this.utestn(e)}bits(e,t){ge(e>>>0===e,"pos","uint32"),ge(t>>>0===t,"width","uint32"),ge(t<=26,"width","width");let i=e%26,n=(e-i)/26;if(n>=this.length)return 0;let s=this.words[n]>>i&(1<<t)-1;if(i+t>26&&n+1<this.length){let o=i+t-26;s|=(this.words[n+1]&(1<<o)-1)<<26-i}return s}ineg(){return this.isZero()||(this.negative^=1),this}neg(){return this.clone().ineg()}iabs(){return this.negative=0,this}abs(){return this.clone().iabs()}cmp(e){if(ge(he.isBN(e),"num","bignum"),this.negative!==e.negative)return e.negative-this.negative;let t=this.ucmp(e);return this.negative!==0?-t|0:t}cmpn(e){ge(gr(e),"num","smi");let t=e<0|0;if(this.negative!==t)return t-this.negative;let i=this.ucmpn(e);return this.negative!==0?-i|0:i}eq(e){return this.cmp(e)===0}eqn(e){return this.cmpn(e)===0}gt(e){return this.cmp(e)>0}gtn(e){return this.cmpn(e)>0}gte(e){return this.cmp(e)>=0}gten(e){return this.cmpn(e)>=0}lt(e){return this.cmp(e)<0}ltn(e){return this.cmpn(e)<0}lte(e){return this.cmp(e)<=0}lten(e){return this.cmpn(e)<=0}sign(){return this.negative!==0?-1:this.length===1&&this.words[0]===0?0:1}isZero(){return this.length===1&&this.words[0]===0}isNeg(){return this.negative!==0}isPos(){return this.negative===0}isOdd(){return(this.words[0]&1)==1}isEven(){return(this.words[0]&1)==0}ucmp(e){if(ge(he.isBN(e),"num","bignum"),this.length<e.length)return-1;if(this.length>e.length)return 1;for(let t=this.length-1;t>=0;t--){let i=this.words[t]|0,n=e.words[t]|0;if(i!==n)return(i>n)-(i<n)}return 0}ucmpn(e){if(ge(gr(e),"num","smi"),this.length>1)return 1;let t=this.words[0]|0;return e<0&&(e=-e),(t>e)-(t<e)}legendre(e){let t=Qh?he.red(e):he.mont(e);return this.toRed(t).redLegendre()}jacobi(e){if(ge(he.isBN(e),"num","bignum"),e.isZero()||e.isEven())throw new Error("jacobi: `num` must be odd.");let t=this._cloneNormal(),i=e.clone(),n=1;for(i.isNeg()&&(t.isNeg()&&(n=-1),i.ineg()),(t.isNeg()||t.ucmp(i)>=0)&&t.imod(i);!t.isZero();){if(t._makeOdd()&1){let a=i.andln(7);(a===3||a===5)&&(n=-n)}t.ucmp(i)<0&&([t,i]=[i,t],t.andln(3)===3&&i.andln(3)===3&&(n=-n)),t._isub(t,i).iushrn(1);let o=i.andln(7);(o===3||o===5)&&(n=-n)}return i.cmpn(1)!==0?0:n}kronecker(e){ge(he.isBN(e),"num","bignum");let t=[0,1,0,-1,0,-1,0,1],i=this._cloneNormal(),n=e.clone(),s=1;if(n.isZero())return i.ucmpn(1)===0?s:0;if(!i.isOdd()&&!n.isOdd())return 0;for(n._makeOdd()&1&&(s=t[i.andln(7)]),n.isNeg()&&(i.isNeg()&&(s=-s),n.ineg());!i.isZero();)i._makeOdd()&1&&(s*=t[n.andln(7)]),(i.words[0]^i.negative*67108863)&n.words[0]&2&&(s=-s),n.imod(i),[i,n]=[n,i],n.negative=0;return n.cmpn(1)!==0?0:s}igcd(e){return this.gcd(e)._move(this)}gcd(e){if(ge(he.isBN(e),"num","bignum"),this.isZero())return e.abs();if(e.isZero())return this.abs();let t=this.clone(),i=e.clone();t.negative=0,i.negative=0;let n=t._factor2(i);for(n!==0&&(t.iushrn(n),i.iushrn(n));;){t._makeOdd(),i._makeOdd();let s=t.ucmp(i);if(s<0)[t,i]=[i,t];else if(s===0||i.ucmpn(1)===0)break;t._isub(t,i)}return i.iushln(n)}ilcm(e){return this.lcm(e)._move(this)}lcm(e){return ge(he.isBN(e),"num","bignum"),this.isZero()||e.isZero()?new he(0):this.quo(this.gcd(e)).mul(e).iabs()}egcd(e){if(ge(he.isBN(e),"num","bignum"),this.isZero())return[new he(0),new he(e.sign()),e.abs()];if(e.isZero())return[new he(this.sign()),new he(0),this.abs()];let t=this.clone(),i=e.clone();t.negative=0,i.negative=0;let n=new he(1),s=new he(0),o=new he(0),a=new he(1),c=t._factor2(i);c>0&&(t.iushrn(c),i.iushrn(c));let u=t.clone(),f=i.clone();for(;!t.isZero();){let l=t._makeOdd(),d=i._makeOdd();for(;l--;)(n.isOdd()||s.isOdd())&&(n.iadd(f),s.isub(u)),n.iushrn(1),s.iushrn(1);for(;d--;)(o.isOdd()||a.isOdd())&&(o.iadd(f),a.isub(u)),o.iushrn(1),a.iushrn(1);t.cmp(i)>=0?(t.isub(i),n.isub(o),s.isub(a)):(i.isub(t),o.isub(n),a.isub(s))}return this.negative!==0&&o.ineg(),e.negative!==0&&a.ineg(),[o,a,i.iushln(c)]}iinvert(e){return this.invert(e)._move(this)}invert(e){if(ge(he.isBN(e),"num","bignum"),jc(e.sign()>0,"invert"),e.isOdd())return this._invertp(e);if(e.cmpn(1)===0)throw new RangeError("Not invertible.");let[t,,i]=this.egcd(e);if(i.cmpn(1)!==0)throw new RangeError("Not invertible.");return t.imod(e)}ifermat(e){return this.fermat(e)._move(this)}fermat(e){let t=Qh?he.red(e):he.mont(e);return this.toRed(t).redFermat().fromRed()}ipowm(e,t,i){return this.powm(e,t,i)._move(this)}powm(e,t,i){let n=!Qh&&i?he.mont(t):he.red(t);return this.toRed(n).redPow(e).fromRed()}ipowmn(e,t,i){return this.powmn(e,t,i)._move(this)}powmn(e,t,i){let n=i?he.mont(t):he.red(t);return this.toRed(n).redPown(e).fromRed()}isqrtm(e){return this.sqrtm(e)._move(this)}sqrtm(e){ge(he.isBN(e),"p","bignum");let t;return e.andln(3)===3||e.andln(7)===5?t=he.red(e):t=he.mont(e),this.toRed(t).redSqrt().fromRed()}isqrtpq(e,t){return this.sqrtpq(e,t)._move(this)}sqrtpq(e,t){let i=this.sqrtm(e),n=this.sqrtm(t),[s,o]=e.egcd(t),a=n.mul(s).mul(e),c=i.mul(o).mul(t),u=e.mul(t);return a.iadd(c).imod(u)}isPrime(e,t,i){return ge(t>>>0===t,"reps","uint32"),!(!this.isPrimeMR(e,t+1,!0)||!this.isPrimeLucas(i))}isPrimeMR(e,t,i=!1){ge(t>>>0===t,"reps","uint32"),ge(t>0,"reps","integer"),ge(typeof i=="boolean","force2","boolean");let n=this;if(n.cmpn(7)<0)return n.cmpn(2)===0||n.cmpn(3)===0||n.cmpn(5)===0;if(n.isEven())return!1;let s=n.subn(1),o=s.subn(2),a=s.zeroBits(),c=s.ushrn(a),u=he.red(n),f=s.toRed(u),l=new he(1).toRed(u);e:for(let d=0;d<t;d++){let p;d===t-1&&i?p=new he(2):(p=he.random(e,0,o),p.iaddn(2));let b=p.toRed(u).redPow(c);if(!(b.cmp(l)===0||b.cmp(f)===0)){for(let g=1;g<a;g++){if(b=b.redSqr(),b.cmp(f)===0)continue e;if(b.cmp(l)===0)return!1}return!1}}return!0}isPrimeLucas(e=0){ge(e>>>0===e,"limit","uint32");let t=this;if(t.cmpn(1)<=0)return!1;if(t.isEven())return t.cmpn(2)===0;let i=3;for(;;){if(i>1e4)throw new Error(`Cannot find (D/n) = -1 for ${t.toString(10)}.`);if(e!==0&&i>e)return!1;let u=new he(i*i-4).jacobi(t);if(u===-1)break;if(u===0)return t.cmpn(i+2)===0;if(i===40&&t.isSquare())return!1;i+=1}let n=t.addn(1),s=n._makeOdd(),o=new he(2),a=new he(i);for(let c=n.bitLength();c>=0;c--)n.utestn(c)?(o=o.mul(a).isubn(i).imod(t),a=a.sqr().isubn(2).imod(t)):(a=a.mul(o).isubn(i).imod(t),o=o.sqr().isubn(2).imod(t));if(o.cmpn(2)===0||o.cmp(t.subn(2))===0){let c=o.muln(i).imod(t),u=a.ushln(1).imod(t);if(c.cmp(u)===0)return!0}for(let c=0;c<s-1;c++){if(o.isZero())return!0;if(o.cmpn(2)===0)return!1;o=o.sqr().isubn(2).imod(t)}return!1}toTwos(e){return this.negative!==0?this.abs().inotn(e).iaddn(1):this.clone()}fromTwos(e){return ge(e>>>0===e,"width","uint32"),jc(e>0,"width"),this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()}toRed(e){if(ge(e instanceof ed,"ctx","reduction context"),this.red)throw new Error("Already in reduction context.");return e.convertTo(this)}fromRed(){return lt(this.red,"fromRed"),this.red.convertFrom(this)}forceRed(e){if(ge(e instanceof ed,"ctx","reduction context"),this.red){if(!e.m.eq(this.red.m)||e.mont!==this.red.mont)throw new Error("Already in reduction context.")}else jc(this.negative===0,"red"),jc(this.ucmp(e.m)<0,"red");return this.clone()._forceRed(e)}redIAdd(e){return ge(he.isBN(e),"num","bignum"),lt(this.red,"redIAdd"),this.red.iadd(this,e)}redAdd(e){return ge(he.isBN(e),"num","bignum"),lt(this.red,"redAdd"),this.red.add(this,e)}redIAddn(e){return ge(gr(e),"num","smi"),lt(this.red,"redIAddn"),this.red.iaddn(this,e)}redAddn(e){return ge(gr(e),"num","smi"),lt(this.red,"redAddn"),this.red.addn(this,e)}redISub(e){return ge(he.isBN(e),"num","bignum"),lt(this.red,"redISub"),this.red.isub(this,e)}redSub(e){return ge(he.isBN(e),"num","bignum"),lt(this.red,"redSub"),this.red.sub(this,e)}redISubn(e){return ge(gr(e),"num","smi"),lt(this.red,"redISubn"),this.red.isubn(this,e)}redSubn(e){return ge(gr(e),"num","smi"),lt(this.red,"redSubn"),this.red.subn(this,e)}redIMul(e){return ge(he.isBN(e),"num","bignum"),lt(this.red,"redIMul"),this.red.imul(this,e)}redMul(e){return ge(he.isBN(e),"num","bignum"),lt(this.red,"redMul"),this.red.mul(this,e)}redIMuln(e){return ge(gr(e),"num","smi"),lt(this.red,"redIMuln"),this.red.imuln(this,e)}redMuln(e){return ge(gr(e),"num","smi"),lt(this.red,"redMuln"),this.red.muln(this,e)}redIDiv(e){return ge(he.isBN(e),"num","bignum"),lt(this.red,"redIDiv"),this.red.idiv(this,e)}redDiv(e){return ge(he.isBN(e),"num","bignum"),lt(this.red,"redDiv"),this.red.div(this,e)}redIDivn(e){return ge(gr(e),"num","smi"),lt(this.red,"redIDivn"),this.red.idivn(this,e)}redDivn(e){return ge(gr(e),"num","smi"),lt(this.red,"redDivn"),this.red.divn(this,e)}redIPow(e){return ge(he.isBN(e),"num","bignum"),lt(this.red,"redIPow"),td(!e.red,"redIPow"),this.red.ipow(this,e)}redPow(e){return ge(he.isBN(e),"num","bignum"),lt(this.red,"redPow"),td(!e.red,"redPow"),this.red.pow(this,e)}redIPown(e){return ge(gr(e),"num","smi"),lt(this.red,"redIPown"),this.red.ipown(this,e)}redPown(e){return ge(gr(e),"num","smi"),lt(this.red,"redPown"),this.red.pown(this,e)}redISqr(){return lt(this.red,"redISqr"),this.red.isqr(this)}redSqr(){return lt(this.red,"redSqr"),this.red.sqr(this)}redISqrt(){return lt(this.red,"redISqrt"),this.red.isqrt(this)}redSqrt(){return lt(this.red,"redSqrt"),this.red.sqrt(this)}redIDivSqrt(e){return lt(this.red,"redIDivSqrt"),this.red.idivsqrt(this,e)}redDivSqrt(e){return lt(this.red,"redDivSqrt"),this.red.divsqrt(this,e)}redIsSquare(){return lt(this.red,"redIsSquare"),this.red.isSquare(this)}redIShl(e){return ge(he.isBN(e),"num","bignum"),lt(this.red,"redIShl"),td(!e.red,"redIShl"),this.red.ishl(this,e)}redShl(e){return ge(he.isBN(e),"num","bignum"),lt(this.red,"redShl"),td(!e.red,"redShl"),this.red.shl(this,e)}redIShln(e){return ge(e>>>0===e,"num","uint32"),lt(this.red,"redIShln"),this.red.ishln(this,e)}redShln(e){return ge(e>>>0===e,"num","uint32"),lt(this.red,"redShln"),this.red.shln(this,e)}redINeg(){return lt(this.red,"redINeg"),this.red.ineg(this)}redNeg(){return lt(this.red,"redNeg"),this.red.neg(this)}redEq(e){return ge(he.isBN(e),"num","bignum"),lt(this.red,"redEq"),this.red.eq(this,e)}redEqn(e){return ge(gr(e),"num","smi"),lt(this.red,"redEqn"),this.red.eqn(this,e)}redIsHigh(){return lt(this.red,"redIsHigh"),this.red.isHigh(this)}redIsLow(){return lt(this.red,"redIsLow"),this.red.isLow(this)}redIsOdd(){return lt(this.red,"redIsOdd"),this.red.isOdd(this)}redIsEven(){return lt(this.red,"redIsEven"),this.red.isEven(this)}redLegendre(){return lt(this.red,"redLegendre"),this.red.legendre(this)}redJacobi(){return lt(this.red,"redJacobi"),this.red.jacobi(this)}redKronecker(){return lt(this.red,"redKronecker"),this.red.kronecker(this)}redIInvert(){return lt(this.red,"redIInvert"),this.red.iinvert(this)}redInvert(){return lt(this.red,"redInvert"),this.red.invert(this)}redIFermat(){return lt(this.red,"redIFermat"),this.red.ifermat(this)}redFermat(){return lt(this.red,"redFermat"),this.red.fermat(this)}_move(e){return e.words=this.words,e.length=this.length,e.negative=this.negative,e.red=this.red,e}_alloc(e){for(;this.words.length<e;)this.words.push(0);return this}_expand(e){for(this._alloc(e);this.length<e;)this.words[this.length++]=0;return this}_strip(){for(;this.length>1&&this.words[this.length-1]===0;)this.length-=1;return this._normalize()}_normalize(){return Wr(this.length>0),this.length===1&&this.words[0]===0&&(this.negative=0),this}_check(){return Wr(this.length>0),Wr(this.length<=this.words.length),this.length===1?(this.words[0]===0&&Wr(this.negative===0),this):(Wr(this.words[this.length-1]!==0),this)}_invertp(e){if(ge(he.isBN(e),"p","bignum"),jc(e.sign()>0,"invert"),Wr(e.isOdd()),e.cmpn(1)===0)throw new RangeError("Not invertible.");let t=this.clone(),i=e.clone(),n=new he(1),s=new he(0);for((t.isNeg()||t.ucmp(i)>=0)&&t.imod(i);!t.isZero();){let o=t._makeOdd(),a=i._makeOdd();for(;o--;)n.isOdd()&&n._iadd(n,e),n.iushrn(1);for(;a--;)s.isOdd()&&s._iadd(s,e),s.iushrn(1);t.ucmp(i)>=0?(t._isub(t,i),n.ucmp(s)<0?(n._isub(s,n),n._isub(e,n)):n._isub(n,s)):(i._isub(i,t),s.ucmp(n)<0?(s._isub(n,s),s._isub(e,s)):s._isub(s,n))}if(i.cmpn(1)!==0)throw new RangeError("Not invertible.");return Wr(s.negative===0),Wr(s.ucmp(e)<0),s}_makeOdd(){let e=this.zeroBits();return e>0&&this.iushrn(e),e}_factor2(e){if((this.words[0]|e.words[0])&1)return 0;let t=Math.min(this.length,e.length),i=0;for(let n=0;n<t;n++){let s=hBe(this.words[n]|e.words[n]);if(i+=s,s!==26)break}return i}_cloneNormal(){return this.red?this.fromRed():this.clone()}_forceRed(e){return this.red=e,this}clone(){let e=new he;e.words=new Array(this.length);for(let t=0;t<this.length;t++)e.words[t]=this.words[t];return e.length=this.length,e.negative=this.negative,e.red=this.red,e}inject(e){ge(he.isBN(e),"num","bignum"),this._alloc(e.length);for(let t=0;t<e.length;t++)this.words[t]=e.words[t];return this.length=e.length,this.negative=e.negative,this.red=e.red,this}set(e,t){return this.fromNumber(e,t)}swap(e){ge(he.isBN(e),"num","bignum");let t=this,i=e;return[t.words,i.words]=[i.words,t.words],[t.length,i.length]=[i.length,t.length],[t.negative,i.negative]=[i.negative,t.negative],[t.red,i.red]=[i.red,t.red],t}reverse(){let e=this.negative;return this.fromBuffer(this.toBuffer("be"),"le"),this.negative=e,this}byteLength(){return Math.ceil(this.bitLength()/8)}bitLength(){let e=this.words[this.length-1],t=i2(e);return(this.length-1)*26+t}zeroBits(){if(this.isZero()||this.isOdd())return 0;let e=0;for(let t=0;t<this.length;t++){let i=hBe(this.words[t]);if(e+=i,i!==26)break}return e}isSafe(){return this.length<=2||this.length===3&&this.words[2]===1}word(e){return ge(e>>>0===e,"pos","uint32"),e>=this.length?0:this.words[e]}[Qqe](){let e="BN";return this.red&&(e="BN-R"),`<${e}: ${this.toString(10)}>`}toNumber(){let e=this.words[0];if(this.length===2)e+=this.words[1]*67108864;else if(this.length===3&&this.words[2]===1)e+=4503599627370496+this.words[1]*67108864;else if(this.length>2)throw new RangeError("Number can only safely store up to 53 bits.");return this.negative!==0?-e:e}toDouble(){let e=0;for(let t=this.length-1;t>=0;t--)e=e*67108864+this.words[t];return this.negative!==0?-e:e}valueOf(){return this.toDouble()}toBigInt(){if(!Qh)throw new Error("BigInt is not supported!");let e=BigInt(52),t=BigInt(26),i=this.length-1,n=BigInt(0);for(;i>=1;i-=2){let s=this.words[i]*67108864,o=this.words[i-1];n=n<<e|BigInt(s+o)}return i>=0&&(n=n<<t|BigInt(this.words[0])),this.negative!==0?-n:n}toBool(){return!this.isZero()}toString(e,t){if(e=lBe(e),t==null&&(t=0),t===0&&(t=1),ge(e>>>0===e,"base","uint32"),ge(t>>>0===t,"padding","uint32"),e<2||e>36)throw new RangeError("Base ranges between 2 and 36.");if(this._check(),e===16){let a="",c=0,u=0;for(let f=0;f<this.length;f++){let l=this.words[f],d=((l<<c|u)&16777215).toString(16);u=l>>>24-c&16777215,u!==0||f!==this.length-1?a=eBe[6-d.length]+d+a:a=d+a,c+=2,c>=26&&(c-=26,f-=1)}for(u!==0&&(a=u.toString(16)+a);a.length%t!=0;)a="0"+a;return this.negative!==0&&(a="-"+a),a}let i=LGt[e-1],n=FGt[e-1],s=this.clone(),o="";for(s.negative=0;!s.isZero();){let a=s.remrn(n).toString(e);s.iquon(n),s.isZero()?o=a+o:o=eBe[i-a.length]+a+o}for(this.isZero()&&(o="0");o.length%t!=0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}toJSON(){return this.toString(16,2)}toArray(e,t){return this.toArrayLike(Array,e,t)}toBuffer(e,t){return this.toArrayLike(Buffer,e,t)}toArrayLike(e,t,i){t==null&&(t="be"),i==null&&(i=0),ge(typeof e=="function","ArrayType","function"),ge(t==="be"||t==="le","endian","endianness"),ge(i>>>0===i,"length","uint32"),this._check();let n=this.byteLength(),s=i||Math.max(1,n);if(n>s)throw new RangeError("Byte array longer than desired length.");let o=UGt(e,s);if(t==="be"){let a=o.length-1,c=0;for(let u=0;u<this.length;u++){let f=(u&3)<<1,l=this.words[u]<<f|c;o[a--]=l&255,a>=0&&(o[a--]=l>>>8&255),a>=0&&(o[a--]=l>>>16&255),f===6?(a>=0&&(o[a--]=l>>>24&255),c=0):c=l>>>24}if(a>=0){for(o[a--]=c;a>=0;)o[a--]=0;c=0}Wr(c===0)}else{let a=0,c=0;for(let u=0;u<this.length;u++){let f=(u&3)<<1,l=this.words[u]<<f|c;o[a++]=l&255,a<o.length&&(o[a++]=l>>>8&255),a<o.length&&(o[a++]=l>>>16&255),f===6?(a<o.length&&(o[a++]=l>>>24&255),c=0):c=l>>>24}if(a<o.length){for(o[a++]=c;a<o.length;)o[a++]=0;c=0}Wr(c===0)}return o}encode(e,t){return this.toBuffer(e,t)}of(e,t){return this.fromNumber(e,t)}fromNumber(e,t){t==null&&(t="be"),ge(fBe(e),"num","integer"),ge(t==="be"||t==="le","endian","endianness");let i=e<0|0;return i&&(e=-e),e<67108864?(this.words[0]=e&67108863,this.length=1):e<4503599627370496?(this.words=[e&67108863,e/67108864&67108863],this.length=2):(this.words=[e&67108863,e/67108864&67108863,1],this.length=3),this.negative=i,t==="le"&&this.reverse(),this}fromDouble(e,t){t==null&&(t="be"),ge(typeof e=="number","num","double"),ge(t==="be"||t==="le","endian","endianness"),isFinite(e)||(e=0);let i=e<=-1|0;for(e<0&&(e=-e),e=Math.floor(e),this.words=[];e>0;){let n=e%67108864,s=(e-n)/67108864;this.words.push(n),e=s}return this.words.length===0&&this.words.push(0),this.length=this.words.length,this.negative=i,t==="le"&&this.reverse(),this}fromBigInt(e,t){if(t==null&&(t="be"),ge(typeof e=="bigint","num","bigint"),ge(t==="be"||t==="le","endian","endianness"),!Qh)throw new Error("BigInt is not supported!");let i=e<BigInt(0)|0;return this._fromHex(e.toString(16),i),this.negative=i,t==="le"&&this.reverse(),this}fromBool(e){return ge(typeof e=="boolean","value","boolean"),this.words[0]=e|0,this.length=1,this.negative=0,this}fromString(e,t,i){if((t==="le"||t==="be")&&([t,i]=[i,t]),t=lBe(t),i==null&&(i="be"),ge(typeof e=="string","string","string"),ge(t>>>0===t,"base","uint32"),ge(i==="be"||i==="le","endian","endianness"),t<2||t>36)throw new Error("Base ranges between 2 and 36.");e=e.replace(/\s+/g,"");let n=0;return e.length>0&&e.charCodeAt(0)===45&&(n=1),t===16?this._fromHex(e,n):this._fromBase(e,t,n),this.negative=n,this._normalize(),i==="le"&&this.reverse(),this}_fromHex(e,t){this.length=Math.max(2,Math.ceil((e.length-t)/6)),this.words=new Array(this.length);for(let o=0;o<this.length;o++)this.words[o]=0;let i=0,n=e.length-6,s=0;for(;n>=t;n-=6){let o=dBe(e,n,n+6);this.words[s]|=o<<i&67108863,this.words[s+1]|=o>>>26-i&4194303,i+=24,i>=26&&(i-=26,s+=1)}if(n+6!==t){let o=dBe(e,t,n+6);this.words[s]|=o<<i&67108863,this.words[s+1]|=o>>>26-i&4194303}return this._strip()}_fromBase(e,t,i){this.words[0]=0,this.length=1,this.negative=0;let n=0,s=1;for(;s<=67108863;s*=t)n+=1;n-=1,s=s/t|0;let o=e.length-i,a=o%n,c=Math.min(o,o-a)+i,u=i;for(;u<c;u+=n){let f=pBe(e,u,u+n,t);this.imuln(s),this._iaddn(f)}if(a!==0){let f=Math.pow(t,a),l=pBe(e,u,e.length,t);this.imuln(f),this._iaddn(l)}return this}fromJSON(e){if(he.isBN(e))return e.red?e.fromRed():e.clone();if(Array.isArray(e)){for(let t of e)ge(typeof t=="string","chunk","string");e=e.join("")}return this.fromString(e,16)}fromBN(e){return this.inject(e)}fromArray(e,t){return ge(Array.isArray(e),"data","array"),this.fromArrayLike(e,t)}fromBuffer(e,t){return ge(Buffer.isBuffer(e),"data","buffer"),this.fromArrayLike(e,t)}fromArrayLike(e,t){if(t==null&&(t="be"),ge(e&&e.length>>>0===e.length,"data","array-like"),ge(t==="be"||t==="le","endian","endianness"),e.length===0)return this.words[0]=0,this.length=1,this.negative=0,this;this.length=Math.max(2,Math.ceil(e.length/3)),this.words=new Array(this.length),this.negative=0;for(let a=0;a<this.length;a++)this.words[a]=0;let i=e.length%3,n=0,s=0,o=0;if(t==="be"){for(let a=e.length-1;a>=2;a-=3){let c=e[a]|e[a-1]<<8|e[a-2]<<16;this.words[s]|=c<<n&67108863,this.words[s+1]=c>>>26-n&67108863,n+=24,n>=26&&(n-=26,s+=1)}switch(i){case 2:o=e[1]|e[0]<<8;break;case 1:o=e[0];break}}else{let a=e.length-i;for(let c=0;c<a;c+=3){let u=e[c]|e[c+1]<<8|e[c+2]<<16;this.words[s]|=u<<n&67108863,this.words[s+1]=u>>>26-n&67108863,n+=24,n>=26&&(n-=26,s+=1)}switch(i){case 2:o=e[a]|e[a+1]<<8;break;case 1:o=e[a];break}}return i>0&&(this.words[s]|=o<<n&67108863,this.words[s+1]=o>>>26-n&67108863),this._strip()}decode(e,t){return this.fromBuffer(e,t)}from(e,t,i){if(e==null)return this;if((t==="le"||t==="be")&&([t,i]=[i,t]),typeof e=="number")return this.fromNumber(e,i);if(typeof e=="bigint")return this.fromBigInt(e,i);if(typeof e=="string")return this.fromString(e,t,i);if(typeof e=="object"){if(he.isBN(e))return this.fromBN(e,i);if(e.length>>>0===e.length)return this.fromArrayLike(e,i)}if(typeof e=="boolean")return this.fromBool(e);throw new TypeError("Non-numeric object passed to BN.")}static min(...e){let t=null;for(let i of e)ge(he.isBN(i),"num","bignum"),(!t||i.cmp(t)<0)&&(t=i);return t||new he(0)}static max(...e){let t=null;for(let i of e)ge(he.isBN(i),"num","bignum"),(!t||i.cmp(t)>0)&&(t=i);return t||new he(0)}static cmp(e,t){return ge(he.isBN(e),"a","bignum"),e.cmp(t)}static ucmp(e,t){return ge(he.isBN(e),"a","bignum"),e.ucmp(t)}static red(e){return new ed(e)}static barrett(e){return new cBe(e)}static mont(e){return new uBe(e)}static _prime(e){if(eO[e])return eO[e];let t;if(e==="p192")t=new tBe;else if(e==="p224")t=new rBe;else if(e==="p521")t=new iBe;else if(e==="k256")t=new nBe;else if(e==="p251")t=new sBe;else if(e==="p25519")t=new oBe;else if(e==="p448")t=new aBe;else throw new Error(`Unknown prime: "${e}".`);return eO[e]=t,t}static prime(e){return he._prime(e).p.clone()}static pow(e,t){return e===2?he.shift(1,t):new he().fromNumber(e).pown(t)}static shift(e,t){return e===1?new he(0).usetn(t,1):new he().fromNumber(e).ishln(t)}static mask(e){return he.shift(1,e).isubn(1)}static randomBits(e,t){if(ge(e!=null,"rng","rng"),ge(t>>>0===t,"bits","uint32"),typeof e=="object"){ge(typeof e.randomBytes=="function","rng","rng");let n=t+7>>>3,s=n*8,o=e.randomBytes(n);if(ge(Buffer.isBuffer(o),"bytes","buffer"),o.length!==n)throw new RangeError("Invalid number of bytes returned from RNG.");let a=he.fromBuffer(o);return s>t&&a.iushrn(s-t),a}ge(typeof e=="function","rng","rng");let i=e(t);if(ge(he.isBN(i),"num","bignum"),jc(i.negative===0,"RNG"),td(!i.red,"RNG"),i.bitLength()>t)throw new RangeError("Invalid number of bits returned from RNG.");return i}static random(e,t,i){if(t=he.cast(t,16),i=he.cast(i,16),t.cmp(i)>0)throw new RangeError("Minimum cannot be greater than maximum.");let n=i.sub(t).iabs(),s=n.bitLength();if(s===0)return t.clone();for(;;){let o=he.randomBits(e,s);if(!(o.cmp(n)>=0))return o.iadd(t),o}}static of(e,t){return new he().of(e,t)}static fromNumber(e,t){return new he().fromNumber(e,t)}static fromDouble(e,t){return new he().fromDouble(e,t)}static fromBigInt(e,t){return new he().fromBigInt(e,t)}static fromBool(e){return new he().fromBool(e)}static fromString(e,t,i){return new he().fromString(e,t,i)}static fromJSON(e){return new he().fromJSON(e)}static fromBN(e){return new he().fromBN(e)}static fromArray(e,t){return new he().fromArray(e,t)}static fromBuffer(e,t){return new he().fromBuffer(e,t)}static fromArrayLike(e,t){return new he().fromArrayLike(e,t)}static decode(e,t){return new he().decode(e,t)}static from(e,t,i){return new he().from(e,t,i)}static cast(e,t,i){return he.isBN(e)?e:new he(e,t,i)}static isBN(e){return e instanceof he}};he.BN=he;he.wordSize=26;he.native=0;var W_=class{constructor(e,t){this.name=e,this.p=new he(t,16),this.n=this.p.bitLength(),this.k=he.shift(1,this.n).isub(this.p),this.lo=this.p.clone(),this.one=this.p.clone()}ireduce(e){let t=e.negative!==0,i=e.bitLength();for(Wr(i<=this.n*2),e.negative=0;i>this.n;)this.split(e,this.lo),this.imulK(e),e._iadd(e,this.lo),i=e.bitLength();let n=i<this.n?-1:e.ucmp(this.p);return n===0?(e.words[0]=0,e.length=1):n>0&&e._isub(e,this.p),t&&!e.isZero()&&e._isub(this.p,e),e}split(e,t){e._split(this.n,t)}imulK(e){return e.imul(this.k)}pm2(e){throw new Error("Not implemented.")}fermat(e){return this.pm2(e)}},n2=class extends W_{constructor(e,t){super(e,t)}pm3d4(e){throw new Error("Not implemented.")}pp1d4(e){throw new Error("Not implemented.")}sqrt(e){let{red:t}=e,i=this.pp1d4(e);if(!t.sqr(i).eq(e))throw new Ii(i);return i}divsqrt(e,t){let{red:i}=e,n=i.sqr(e),s=i.mul(n,e),o=i.mul(s,n),a=i.mul(i.sqr(t),t),c=this.pm3d4(i.mul(o,a)),u=i.mul(i.mul(s,t),c);if(i.mul(t,i.sqr(u)).eq(e))return u;throw new Ii(u)}},mBe=class extends W_{constructor(e,t,i){super(e,t);this.sm1=new he(i,16)}pm5d8(e){throw new Error("Not implemented.")}pp3d8(e){throw new Error("Not implemented.")}sqrt(e){let{red:t}=e,i=this.sm1._forceRed(t),n=this.pp3d8(e);if(t.sqr(n).eq(e))return n;let s=t.mul(n,i);if(t.sqr(s).eq(e))return s;throw new Ii(n)}divsqrt(e,t){let{red:i}=e,n=this.sm1._forceRed(i),s=i.mul(i.sqr(t),t),o=i.mul(i.sqr(s),t),a=this.pm5d8(i.mul(e,o)),c=i.mul(i.mul(e,s),a),u=i.mul(t,i.sqr(c));if(u.eq(e))return c;let f=i.ineg(u);if(f.eq(e))return i.mul(c,n);throw f.eq(i.mul(e,n))?new Ii(i.mul(c,n)):new Ii(c)}},xBe=class extends W_{constructor(e,t,i){super(e,t);this.g=new he(i,16),this.z=this.p.subn(1).zeroBits()}powS(e){throw new Error("Not implemented.")}powE(e){throw new Error("Not implemented.")}sqrt(e){let{red:t}=e;switch(t.jacobi(e)){case-1:throw new Ii(e);case 0:return e.clone();case 1:break}let i=this.g._forceRed(t),n=this.powE(e),s=this.powS(e),o=this.z;for(;;){let a=s,c=0;for(;a.cmpn(1)!==0&&c<o;)a=t.sqr(a),c+=1;if(c===0)break;Wr(c<o),a=t.sqrn(i,o-c-1),i=t.sqr(a),n=t.mul(n,a),s=t.mul(s,i),o=c}return n}divsqrt(e,t){let{red:i}=e;if(t.isZero())throw new Ii(t);return this.sqrt(i.div(e,t))}},tBe=class extends n2{constructor(){super("p192","ffffffff ffffffff ffffffff fffffffeffffffff ffffffff")}imulK(e){let t=this.one.inject(e);return e.iushln(64)._iadd(e,t)}core(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=t.sqrnmul(i,1,e),s=t.sqrnmul(n,3,n),o=t.sqrnmul(s,6,s),a=t.sqrnmul(o,12,o),c=t.sqrnmul(a,6,s),u=t.sqrnmul(c,1,e),f=t.sqrnmul(u,31,u),l=t.sqrnmul(f,62,f),d=t.sqrnmul(l,3,n),p=t.sqrn(d,1);return t.sqrnmul(p,62,f)}pm3d4(e){return this.core(e)}pm2(e){let{red:t}=e,i=this.core(e),n=t.sqrn(i,1);return t.sqrnmul(n,1,e)}pp1d4(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=t.sqrnmul(i,2,i),s=t.sqrnmul(n,4,n),o=t.sqrnmul(s,8,s),a=t.sqrnmul(o,16,o),c=t.sqrnmul(a,32,a),u=t.sqrnmul(c,64,c);return t.sqrn(u,62)}},rBe=class extends xBe{constructor(){super("p224","ffffffff ffffffff ffffffff ffffffff00000000 00000000 00000001","6a0fec67 8598a792 0c55b2d4 0b2d6ffbbea3d8ce f3fb3632 dc691b74")}imulK(e){let t=this.one.inject(e);return e.iushln(96)._isub(e,t)}powS(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=t.sqrnmul(i,2,i),s=t.sqrnmul(n,4,n),o=t.sqrnmul(s,8,s),a=t.sqrnmul(o,16,o),c=t.sqrnmul(a,32,a);return t.sqrnmul(c,64,c)}powE(e){let{red:t}=e;return t.sqrn(e,127)}pm2(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=t.sqrnmul(i,1,e),s=t.sqrnmul(n,3,n),o=t.sqrnmul(s,6,s),a=t.sqrnmul(o,12,o),c=t.sqrnmul(a,24,a),u=t.sqrnmul(c,48,c),f=t.sqrnmul(u,24,a),l=t.sqrnmul(f,6,s),d=t.sqrnmul(l,1,e),p=t.sqrn(d,1);return t.sqrnmul(p,96,u)}},iBe=class extends n2{constructor(){super("p521","000001ff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffffffffffff")}imulK(e){return e}core(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=t.sqrnmul(i,1,e),s=t.sqrnmul(n,3,n),o=t.sqrnmul(s,1,e),a=t.sqrnmul(o,1,e),c=t.sqrnmul(a,8,a),u=t.sqrnmul(c,16,c),f=t.sqrnmul(u,32,u),l=t.sqrnmul(f,64,f),d=t.sqrnmul(l,128,l),p=t.sqrnmul(d,256,d);return t.sqrnmul(p,7,o)}pm3d4(e){return this.core(e)}pm2(e){let{red:t}=e,i=this.core(e),n=t.sqrn(i,1);return t.sqrnmul(n,1,e)}pp1d4(e){let{red:t}=e;return t.sqrn(e,519)}},nBe=class extends n2{constructor(){super("k256","ffffffff ffffffff ffffffff ffffffffffffffff ffffffff fffffffe fffffc2f")}split(e,t){let i=4194303,n=Math.min(e.length,9);t._alloc(n+1);for(let a=0;a<n;a++)t.words[a]=e.words[a];if(t.length=n,e.length<=9){t._strip(),e.words[0]=0,e.length=1;return}let s=e.words[9],o=10;for(t.words[t.length++]=s&i,t._strip();o<e.length;o++){let a=e.words[o]|0;e.words[o-10]=(a&i)<<4|s>>>22,s=a}s>>>=22,e.words[o-10]=s,s===0&&e.length>10?e.length-=10:e.length-=9,e._strip()}imulK(e){e._expand(e.length+2);let t=0;for(let i=0;i<e.length;i++){let n=e.words[i];t+=n*977,e.words[i]=t&67108863,t=n*64+Math.floor(t/67108864)}return e.words[e.length-1]===0&&(e.length-=1,e.words[e.length-1]===0&&(e.length-=1)),e}core(e,t){let{red:i}=e,n=i.sqrnmul(t,1,e),s=i.sqrnmul(n,3,n),o=i.sqrnmul(s,3,n),a=i.sqrnmul(o,2,t),c=i.sqrnmul(a,11,a),u=i.sqrnmul(c,22,c),f=i.sqrnmul(u,44,u),l=i.sqrnmul(f,88,f),d=i.sqrnmul(l,44,u),p=i.sqrnmul(d,3,n),b=i.sqrn(p,1),g=i.sqrnmul(b,22,c);return i.sqrn(g,4)}pm3d4(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=this.core(e,i),s=t.sqrnmul(n,1,e),o=t.sqrn(s,1);return t.sqrnmul(o,2,i)}pm2(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=this.core(e,i),s=t.sqrnmul(n,1,e),o=t.sqrn(s,1),a=t.sqrnmul(o,2,i),c=t.sqrn(a,1);return t.sqrnmul(c,1,e)}pp1d4(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=this.core(e,i),s=t.sqrnmul(n,2,i);return t.sqrn(s,2)}},sBe=class extends n2{constructor(){super("p251","07ffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff fffffff7")}imulK(e){if(e.isZero())return e;let t=0;for(let i=0;i<e.length;i++){let n=e.words[i]*9+t;t=n>>>26,e.words[i]=n&67108863}return t!==0&&(e._alloc(e.length+1),e.words[e.length++]=t),e}core(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=t.sqrnmul(i,1,e),s=t.sqrnmul(n,3,n),o=t.sqrnmul(s,6,s),a=t.sqrnmul(o,12,o),c=t.sqrnmul(a,24,a),u=t.sqrnmul(c,48,c),f=t.sqrnmul(u,96,u),l=t.sqrnmul(f,48,c),d=t.sqrnmul(l,6,s);return t.sqrnmul(d,1,e)}pm3d4(e){let{red:t}=e,i=this.core(e),n=t.sqrn(i,1);return t.sqrnmul(n,1,e)}pm2(e){let{red:t}=e,i=this.core(e),n=t.sqrn(i,1),s=t.sqrnmul(n,1,e),o=t.sqrn(s,1);return t.sqrnmul(o,1,e)}pp1d4(e){let{red:t}=e,i=this.core(e),n=t.sqrnmul(i,1,e);return t.sqrn(n,1)}},oBe=class extends mBe{constructor(){super("p25519","7fffffff ffffffff ffffffff ffffffffffffffff ffffffff ffffffff ffffffed","2b832480 4fc1df0b 2b4d0099 3dfbd7a72f431806 ad2fe478 c4ee1b27 4a0ea0b0")}imulK(e){let t=0;for(let i=0;i<e.length;i++){let n=e.words[i]*19+t;t=n>>>26,e.words[i]=n&67108863}return t!==0&&(e._alloc(e.length+1),e.words[e.length++]=t),e}core(e,t){let{red:i}=e,n=i.sqrnmul(t,2,t),s=i.sqrnmul(n,1,e),o=i.sqrnmul(s,5,s),a=i.sqrnmul(o,10,o),c=i.sqrnmul(a,20,a),u=i.sqrnmul(c,10,o),f=i.sqrnmul(u,50,u),l=i.sqrnmul(f,100,f);return i.sqrnmul(l,50,u)}pm5d8(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=this.core(e,i),s=t.sqrn(n,1);return t.sqrnmul(s,1,e)}pm2(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=this.core(e,i),s=t.sqrn(n,1),o=t.sqrnmul(s,1,e),a=t.sqrn(o,1);return t.sqrnmul(a,2,i)}pp3d8(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=this.core(e,i),s=t.sqrnmul(n,1,e);return t.sqrn(s,1)}},aBe=class extends n2{constructor(){super("p448","ffffffff ffffffff ffffffff ffffffffffffffff ffffffff fffffffe ffffffffffffffff ffffffff ffffffff ffffffffffffffff ffffffff")}imulK(e){let t=this.one.inject(e);return e.iushln(224)._iadd(e,t)}core(e,t){let{red:i}=e,n=i.sqrnmul(t,1,e),s=i.sqrnmul(n,3,n),o=i.sqrnmul(s,3,n),a=i.sqrnmul(o,2,t),c=i.sqrnmul(a,11,a),u=i.sqrnmul(c,22,c),f=i.sqrnmul(u,44,u),l=i.sqrnmul(f,88,f),d=i.sqrnmul(l,44,u);return i.sqrnmul(d,2,t)}pm3d4(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=this.core(e,i),s=t.sqrnmul(n,1,e),o=t.sqrn(s,1);return t.sqrnmul(o,222,n)}pm2(e){let{red:t}=e,i=this.pm3d4(e),n=t.sqrn(i,1);return t.sqrnmul(n,1,e)}pp1d4(e){let{red:t}=e,i=t.sqrnmul(e,1,e),n=this.core(e,i),s=t.sqrnmul(n,2,i);return t.sqrn(s,222)}},ed=class{constructor(e){let t=null;typeof e=="string"&&(t=he._prime(e),e=t.p),ge(he.isBN(e),"m","bignum"),td(!e.red,"reduction"),jc(e.sign()>0,"reduction"),this.m=e,this.prime=t,this.mb=null,this.sm1=null}_verify1(e){jc(e.negative===0,"red"),lt(e.red!=null,"red")}_verify2(e,t){jc((e.negative|t.negative)==0,"red"),lt(e.red!=null&&e.red===t.red,"red")}get mont(){return!1}precompute(){if(this.sm1===null&&this.m.andln(7)===5)if(this.prime)this.sm1=this.prime.sm1.clone()._forceRed(this);else{let e=new he(2).toRed(this),t=this.m.subn(1).iushrn(2);this.sm1=this.pow(e,t)}return this}convertTo(e){let t=e.mod(this.m);return t.red=this,t}convertFrom(e){let t=e.clone();return t.red=null,t}intTo(e){return e}intFrom(e){return e}imod(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.imod(this.m)._forceRed(this)}iadd(e,t){return this._verify2(e,t),e._iadd(e,t),e.ucmp(this.m)>=0&&e._isub(e,this.m),e}add(e,t){return e.length<t.length?this.iadd(t.clone(),e):this.iadd(e.clone(),t)}iaddn(e,t){return this._verify1(e),t<0?this.isubn(e,-t):(this.m.length===1&&(t%=this.m.words[0]),e._iaddn(t),e.ucmp(this.m)>=0&&e._isub(e,this.m),e)}addn(e,t){return this.iaddn(e.clone(),t)}isub(e,t){this._verify2(e,t);let i=e.ucmp(t);return i===0?(e.words[0]=0,e.length=1,e):(i<0?(e._isub(t,e),e._isub(this.m,e)):e._isub(e,t),e)}sub(e,t){return this.isub(e.clone(),t)}isubn(e,t){return this._verify1(e),t<0?this.iaddn(e,-t):(this.m.length===1&&(t%=this.m.words[0]),e.length===1&&e.words[0]<t?(e.words[0]=t-e.words[0],e._isub(this.m,e)):e._isubn(t),e)}subn(e,t){return this.isubn(e.clone(),t)}imul(e,t){return this._verify2(e,t),this.imod(e.imul(t))}mul(e,t){return this._verify2(e,t),this.imod(e.mul(t))}imuln(e,t){if(this._verify1(e),e.isZero())return e;if(t===0)return e.words[0]=0,e.length=1,e;let i=t<0;if(i&&(t=-t),this.m.length===1&&(t%=this.m.words[0]),e.imuln(t),t<=16)for(;e.ucmp(this.m)>=0;)e._isub(e,this.m);else this.imod(e);return i&&this.ineg(e),e}muln(e,t){return this.imuln(e.clone(),t)}idiv(e,t){return this.div(e,t)._move(e)}div(e,t){return this.mul(e,this.invert(t))}idivn(e,t){return this.divn(e,t)._move(e)}divn(e,t){return this.div(e,this.convertTo(new he(t)))}ipow(e,t){return this.pow(e,t)._move(e)}pow(e,t){return this._verify1(e),t.isNeg()&&(e=this.invert(e)),t.length===1?this.pown(e,t.words[0]):Qh&&!this.prime?this.powInt(e,t):this.powNum(e,t)}powNum(e,t){let i=new he(1).toRed(this),n=new Array(r2),s=this.sqr(e);n[0]=e;for(let c=1;c<r2;c++)n[c]=this.mul(n[c-1],s);let o=t.bitLength(),a=i;for(;o>=ix;){let c=ix,u=t.bits(o-c,c);if(u<r2){a=this.sqr(a),o-=1;continue}for(;(u&1)==0;)c-=1,u>>=1;a===i?a=n[u>>1].clone():(a=this.sqrn(a,c),a=this.mul(a,n[u>>1])),o-=c}if(o>0){let c=t.bits(0,o);for(;o--;)a=this.sqr(a),c>>o&1&&(a=this.mul(a,e))}return a}powInt(e,t){this.mb===null&&(this.mb=this.m.toBigInt());let i=this.intFrom(e.toBigInt()),n=KGt(i,t,this.mb),s=this.intTo(n);return he.fromBigInt(s)._forceRed(this)}sqrn(e,t){for(;t--;)e=this.sqr(e);return e}sqrnmul(e,t,i){return this.mul(this.sqrn(e,t),i)}ipown(e,t){return this.pown(e,t)._move(e)}pown(e,t){if(this._verify1(e),t<0&&(e=this.invert(e),t=-t),t===0)return new he(1).toRed(this);if(t===1)return e.clone();let i=i2(t),n=e;for(let s=i-2;s>=0;s--)n=this.sqr(n),t>>s&1&&(n=this.mul(n,e));return n}isqr(e){return this.imul(e,e)}sqr(e){return this.mul(e,e)}isqrt(e){return this.sqrt(e)._move(e)}sqrt(e){return this._verify1(e),this.prime?this.prime.sqrt(e):this.m.andln(3)===3?this.sqrt3mod4(e):this.m.andln(7)===5?this.sm1!=null?this.sqrt5mod8sm1(e):this.sqrt5mod8(e):this.sqrt0(e)}sqrt3mod4(e){let t=this.m.addn(1).iushrn(2),i=this.pow(e,t);if(!this.sqr(i).eq(e))throw new Ii(i);return i}sqrt5mod8(e){let t=new he(1).toRed(this),i=this.m.ushrn(3),n=this.add(e,e),s=this.pow(n,i),o=this.mul(n,this.sqr(s)),a=this.mul(this.mul(s,e),this.isub(o,t));if(!this.sqr(a).eq(e))throw new Ii(a);return a}sqrt5mod8sm1(e){let t=this.m.addn(3).iushrn(3),i=this.pow(e,t);if(this.sqr(i).eq(e))return i;let n=this.mul(i,this.sm1);if(this.sqr(n).eq(e))return n;throw new Ii(i)}sqrt0(e){if(this.m.cmpn(1)===0||!this.m.isOdd())throw new Error("Invalid prime.");switch(this.jacobi(e)){case-1:throw new Ii(e);case 0:return e.clone();case 1:break}let t=new he(1).toRed(this),i=this.m.subn(1),n=i._makeOdd(),s=new he(2).toRed(this);for(;this.jacobi(s)!==-1;)this.iadd(s,t);let o=this.pow(s,i),a=this.pow(e,i),c=this.pow(e,i.iaddn(1).iushrn(1)),u=n;for(;;){let f=a,l=0;for(;!f.eq(t)&&l<u;)f=this.sqr(f),l+=1;if(l===0)break;Wr(l<u),f=this.sqrn(o,u-l-1),o=this.sqr(f),c=this.mul(c,f),a=this.mul(a,o),u=l}return c}idivsqrt(e,t){return this.divsqrt(e,t)._move(e)}divsqrt(e,t){if(this._verify2(e,t),e.isZero()&&t.isZero())throw new Ii(t);if(this.prime)return this.prime.divsqrt(e,t);if(this.m.andln(3)===3)return this.divsqrt3mod4(e,t);if(this.sm1!=null&&this.m.andln(7)===5)return this.divsqrt5mod8(e,t);if(t.isZero())throw new Ii(t);return this.sqrt(this.div(e,t))}divsqrt3mod4(e,t){let i=this.m.subn(3).iushrn(2),n=this.sqr(e),s=this.mul(n,e),o=this.mul(s,n),a=this.mul(this.sqr(t),t),c=this.pow(this.mul(o,a),i),u=this.mul(this.mul(s,t),c);if(this.mul(t,this.sqr(u)).eq(e))return u;throw new Ii(u)}divsqrt5mod8(e,t){let i=this.m.subn(5).iushrn(3),n=this.mul(this.sqr(t),t),s=this.mul(this.sqr(n),t),o=this.pow(this.mul(e,s),i),a=this.mul(this.mul(e,n),o),c=this.mul(t,this.sqr(a));if(c.eq(e))return a;let u=this.ineg(c);if(u.eq(e))return this.mul(a,this.sm1);throw u.eq(this.mul(e,this.sm1))?new Ii(this.mul(a,this.sm1)):new Ii(a)}isSquare(e){return this.m.isOdd()?this.jacobi(e)>=0:this.kronecker(e)>=0}ishl(e,t){return this._verify1(e),this.imod(e.iushl(t))}shl(e,t){return this.ishl(e.clone(),t)}ishln(e,t){if(this._verify1(e),e.iushln(t),t<=4)for(;e.ucmp(this.m)>=0;)e._isub(e,this.m);else this.imod(e);return e}shln(e,t){return this.ishln(e.clone(),t)}ineg(e){return this._verify1(e),e.isZero()||e._isub(this.m,e),e}neg(e){return this.ineg(e.clone())}eq(e,t){return this._verify2(e,t),e.ucmp(t)===0}eqn(e,t){if(this._verify1(e),this.m.length===1)return t%=this.m.words[0],t<0&&(t+=this.m.words[0]),e.ucmpn(t)===0;if(t<0){this.m._isubn(-t);let i=e.ucmp(this.m);return this.m._iaddn(-t),i===0}return e.ucmpn(t)===0}isHigh(e){return!this.isLow(e)}isLow(e){return this._verify1(e),e.ucmp(this.m.ushrn(1))<=0}isOdd(e){return this._verify1(e),e.isOdd()}isEven(e){return this._verify1(e),e.isEven()}legendre(e){if(this._verify1(e),this.m.isEven())throw new Error("legendre: `num` must be odd.");let t=this.m.subn(1).iushrn(1),i=this.pow(e,t);if(i.isZero())return 0;let n=new he(1).toRed(this);if(i.eq(n))return 1;if(i.eq(this.ineg(n)))return-1;throw new Error("Invalid prime.")}jacobi(e){return this._verify1(e),e.jacobi(this.m)}kronecker(e){return this._verify1(e),e.kronecker(this.m)}iinvert(e){return this.invert(e)._move(e)}invert(e){return this._verify1(e),e.invert(this.m)._forceRed(this)}ifermat(e){return this.fermat(e)._move(e)}fermat(e){if(this._verify1(e),e.isZero()||this.m.cmpn(1)===0)throw new RangeError("Not invertible.");return this.prime?this.prime.fermat(e):this.pow(e,this.m.subn(2))}invertAll(e){ge(Array.isArray(e),"elems","array");for(let s of e)ge(he.isBN(s),"elem","bignum"),this._verify1(s);if(this.m.cmpn(1)===0||this.m.isEven())throw new RangeError("Not invertible.");let t=e.length,i=new Array(t);if(t===0)return i;let n=new he(1).toRed(this);for(let s=0;s<t;s++){if(e[s].isZero()){i[s]=e[s].clone();continue}i[s]=n,n=this.mul(n,e[s])}n=this.invert(n);for(let s=t-1;s>=0;s--)e[s].isZero()||(i[s]=this.mul(n,i[s]),n=this.mul(n,e[s]));return i}[Qqe](){return this.prime?`<Red: ${this.prime.name}>`:`<Red: ${this.m.toString(10)}>`}},cBe=class extends ed{constructor(e){super(e);this.prime=null,this.n=this.m.bitLength(),this.n%26!=0&&(this.n+=26-this.n%26),this.k=this.n*2,this.w=this.k/26,this.b=he.shift(1,this.k).div(this.m)}convertTo(e){return e.length>this.w?super.convertTo(e):this.imod(e.clone())}_shift(e){let t=0,i=this.w;for(;i<e.length;)e.words[t++]=e.words[i++];t===0&&(e.words[t++]=0),e.length=t}imod(e){let t=e.negative;Wr(e.length<=this.w),e.negative=0;let i=e.mul(this.b);return this._shift(i),e._isub(e,i.mul(this.m)),e.ucmp(this.m)>=0&&e._isub(e,this.m),t&&!e.isZero()&&e._isub(this.m,e),e.red=this,e}},uBe=class extends ed{constructor(e){super(e);this.prime=null,this.n=this.m.length*26,this.r=he.shift(1,this.n),this.r2=he.shift(1,this.n*2).imod(this.m),this.ri=this.r.invert(this.m),this.mi=this.r.mul(this.ri).isubn(1).div(this.m),this.rib=null}get mont(){return!0}convertTo(e){return e.isNeg()||e.ucmp(this.m)>=0?this.imod(e.ushln(this.n)):this.mul(e,this.r2)}convertFrom(e){let t=this.mul(e,new he(1));return t.red=null,t}intTo(e){return(e<<BigInt(this.n))%this.mb}intFrom(e){return this.rib===null&&(this.rib=this.ri.toBigInt()),e*this.rib%this.mb}iaddn(e,t){return this.iadd(e,this.convertTo(new he(t)))}isubn(e,t){return this.isub(e,this.convertTo(new he(t)))}imul(e,t){return this.mul(e,t)._move(e)}mul(e,t){if(e.isZero()||t.isZero())return new he(0)._forceRed(this);let i=e.mul(t),n=i.umaskn(this.n).mul(this.mi).iumaskn(this.n),s=i.iadd(n.mul(this.m)).iushrn(this.n);return s.ucmp(this.m)>=0&&s._isub(s,this.m),s._forceRed(this)}imuln(e,t){if(this._verify1(e),e.isZero())return e;if(t===0)return e.words[0]=0,e.length=1,e;let i=t<0;i&&(t=-t),this.m.length===1&&(t%=this.m.words[0]);let n=i2(t);if(n>5)this.imul(e,this.convertTo(new he(t)));else if((t&t-1)==0)for(let s=0;s<n-1;s++)this.iadd(e,e);else{let s=e.clone();for(let o=n-2;o>=0;o--)this.iadd(e,e),t>>o&1&&this.iadd(e,s)}return i&&this.ineg(e),e}eqn(e,t){return this._verify1(e),t===0?e.isZero():e.ucmp(this.convertTo(new he(t)))===0}isLow(e){return this._verify1(e),this.convertFrom(e).ucmp(this.m.ushrn(1))<=0}isOdd(e){return this._verify1(e),this.convertFrom(e).isOdd()}isEven(e){return this._verify1(e),this.convertFrom(e).isEven()}invert(e){return this._verify1(e),this.imod(e.invert(this.m).mul(this.r2))}};function s2(r,e,t){let i=new r(e);return r.captureStackTrace&&r.captureStackTrace(i,t),i}function Wr(r,e){if(!r)throw s2(Error,e||"Assertion failed.",Wr)}function ge(r,e,t){if(!r){let i=`"${e}" must be a(n) ${t}.`;throw s2(TypeError,i,ge)}}function jc(r,e){if(!r){let t=`"${e}" only works with positive numbers.`;throw s2(RangeError,t,jc)}}function lt(r,e){if(!r){let t=`"${e}" only works with red numbers.`;throw s2(TypeError,t,lt)}}function td(r,e){if(!r){let t=`"${e}" only works with normal numbers.`;throw s2(TypeError,t,td)}}function $_(r){if(!r)throw s2(RangeError,"Cannot divide by zero.",$_)}var Ii=class extends Error{constructor(e){super();this.name="SquareRootError",this.message="X is not a square mod P.",this.result=e.fromRed(),Error.captureStackTrace&&Error.captureStackTrace(this,Ii)}};function fBe(r){return Number.isSafeInteger(r)}function gr(r){return fBe(r)&&r>=-67108863&&r<=67108863}function UGt(r,e){return r.allocUnsafeSlow?r.allocUnsafeSlow(e):new r(e)}function lBe(r){if(r==null)return 10;if(typeof r=="number")return r;switch(r){case"bin":return 2;case"oct":return 8;case"dec":return 10;case"hex":return 16}return 0}function i2(r){if(Math.clz32)return 32-Math.clz32(r);let e=r,t=0;return e>=4096&&(t+=13,e>>>=13),e>=64&&(t+=7,e>>>=7),e>=8&&(t+=4,e>>>=4),e>=2&&(t+=2,e>>>=2),t+e}function hBe(r){if(r===0)return 26;let e=r,t=0;return(e&8191)==0&&(t+=13,e>>>=13),(e&127)==0&&(t+=7,e>>>=7),(e&15)==0&&(t+=4,e>>>=4),(e&3)==0&&(t+=2,e>>>=2),(e&1)==0&&(t+=1),t}function dBe(r,e,t){let i=Math.min(r.length,t),n=0,s=0;for(let o=e;o<i;o++){let a=r.charCodeAt(o)-48;n<<=4;let c;a>=49&&a<=54?c=a-49+10:a>=17&&a<=22?c=a-17+10:c=a,n|=c,s|=c}if(s&~15)throw new Error("Invalid string.");return n}function pBe(r,e,t,i){let n=Math.min(r.length,t),s=0;for(let o=e;o<n;o++){let a=r.charCodeAt(o)-48;s*=i;let c;if(a>=49?c=a-49+10:a>=17?c=a-17+10:c=a,a<0||a>207||c>=i)throw new Error("Invalid string.");s+=c}return s}function KGt(r,e,t){let i=BigInt(1),n=new Array(r2),s=r*r%t;n[0]=r;for(let c=1;c<r2;c++)n[c]=n[c-1]*s%t;let o=e.bitLength(),a=i;for(;o>=ix;){let c=ix,u=e.bits(o-c,c);if(u<r2){a=a*a%t,o-=1;continue}for(;(u&1)==0;)c-=1,u>>=1;a===i?a=n[u>>1]:(a=VGt(a,c,t),a=a*n[u>>1]%t),o-=c}if(o>0){let c=e.bits(0,o);for(;o--;)a=a*a%t,c>>o&1&&(a=a*r%t)}return a}function VGt(r,e,t){for(let i=0;i<e;i++)r=r*r%t;return r}function bBe(r,e,t){let i=r.length+e.length;t.negative=r.negative^e.negative,t._alloc(i),t.length=i;let n=r.words[0],s=e.words[0],o=n*s,a=o&67108863,c=o/67108864|0,u=1;for(t.words[0]=a;u<t.length-1;u++){let f=c>>>26,l=c&67108863,d=Math.max(0,u-r.length+1),p=Math.min(u,e.length-1);for(let b=d;b<=p;b++){let g=u-b,m=r.words[g],w=e.words[b],A=m*w+l;f+=A/67108864|0,l=A&67108863}t.words[u]=l|0,c=f|0}return c!==0?t.words[u]=c|0:t.length-=1,t._strip()}function yBe(r,e,t){let i=r.length+e.length;t.negative=r.negative^e.negative,t._alloc(i),t.length=i;let n=0,s=0,o=0;for(;o<t.length-1;o++){let a=s;s=0;let c=n&67108863,u=Math.max(0,o-r.length+1),f=Math.min(o,e.length-1);for(let l=u;l<=f;l++){let d=o-l,p=r.words[d],b=e.words[l],g=p*b,m=g&67108863;a=a+(g/67108864|0)|0,m=m+c|0,c=m&67108863,a=a+(m>>>26)|0,s+=a>>>26,a&=67108863}t.words[o]=c,n=a,a=s}return n!==0?t.words[o]=n:t.length-=1,t._strip()}function zGt(r,e,t){if(!Qh||r.length+e.length>82595519)return yBe(r,e,t);let i=BigInt(0),n=BigInt(67108863),s=BigInt(26),o=r.toBigInt()*e.toBigInt(),a=o<i|0;a&&(o=-o);let c=0;for(;o>i;)t.words[c++]=Number(o&n),o>>=s;return c===0&&(t.words[c++]=0),t.length=c,t.negative=a,t}function gBe(r,e,t){let i=r.words,n=e.words,s=t.words,o=i[0]|0,a=o&8191,c=o>>>13,u=i[1]|0,f=u&8191,l=u>>>13,d=i[2]|0,p=d&8191,b=d>>>13,g=i[3]|0,m=g&8191,w=g>>>13,A=i[4]|0,I=A&8191,F=A>>>13,V=i[5]|0,P=V&8191,W=V>>>13,ne=i[6]|0,Q=ne&8191,M=ne>>>13,y=i[7]|0,v=y&8191,k=y>>>13,N=i[8]|0,L=N&8191,$=N>>>13,X=i[9]|0,q=X&8191,x=X>>>13,z=n[0]|0,pe=z&8191,G=z>>>13,be=n[1]|0,U=be&8191,_=be>>>13,ue=n[2]|0,fe=ue&8191,E=ue>>>13,T=n[3]|0,D=T&8191,K=T>>>13,H=n[4]|0,ee=H&8191,Z=H>>>13,J=n[5]|0,te=J&8191,ae=J>>>13,ce=n[6]|0,ye=ce&8191,Me=ce>>>13,Be=n[7]|0,Je=Be&8191,$e=Be>>>13,nt=n[8]|0,Qe=nt&8191,Ue=nt>>>13,Ye=n[9]|0,It=Ye&8191,it=Ye>>>13,je=0,re,S,Y;t.negative=r.negative^e.negative,t._alloc(20),t.length=19,re=Math.imul(a,pe),S=Math.imul(a,G),S=S+Math.imul(c,pe)|0,Y=Math.imul(c,G);let Yt=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,re=Math.imul(f,pe),S=Math.imul(f,G),S=S+Math.imul(l,pe)|0,Y=Math.imul(l,G),re=re+Math.imul(a,U)|0,S=S+Math.imul(a,_)|0,S=S+Math.imul(c,U)|0,Y=Y+Math.imul(c,_)|0;let tt=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(tt>>>26)|0,tt&=67108863,re=Math.imul(p,pe),S=Math.imul(p,G),S=S+Math.imul(b,pe)|0,Y=Math.imul(b,G),re=re+Math.imul(f,U)|0,S=S+Math.imul(f,_)|0,S=S+Math.imul(l,U)|0,Y=Y+Math.imul(l,_)|0,re=re+Math.imul(a,fe)|0,S=S+Math.imul(a,E)|0,S=S+Math.imul(c,fe)|0,Y=Y+Math.imul(c,E)|0;let Pt=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,re=Math.imul(m,pe),S=Math.imul(m,G),S=S+Math.imul(w,pe)|0,Y=Math.imul(w,G),re=re+Math.imul(p,U)|0,S=S+Math.imul(p,_)|0,S=S+Math.imul(b,U)|0,Y=Y+Math.imul(b,_)|0,re=re+Math.imul(f,fe)|0,S=S+Math.imul(f,E)|0,S=S+Math.imul(l,fe)|0,Y=Y+Math.imul(l,E)|0,re=re+Math.imul(a,D)|0,S=S+Math.imul(a,K)|0,S=S+Math.imul(c,D)|0,Y=Y+Math.imul(c,K)|0;let Yn=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(Yn>>>26)|0,Yn&=67108863,re=Math.imul(I,pe),S=Math.imul(I,G),S=S+Math.imul(F,pe)|0,Y=Math.imul(F,G),re=re+Math.imul(m,U)|0,S=S+Math.imul(m,_)|0,S=S+Math.imul(w,U)|0,Y=Y+Math.imul(w,_)|0,re=re+Math.imul(p,fe)|0,S=S+Math.imul(p,E)|0,S=S+Math.imul(b,fe)|0,Y=Y+Math.imul(b,E)|0,re=re+Math.imul(f,D)|0,S=S+Math.imul(f,K)|0,S=S+Math.imul(l,D)|0,Y=Y+Math.imul(l,K)|0,re=re+Math.imul(a,ee)|0,S=S+Math.imul(a,Z)|0,S=S+Math.imul(c,ee)|0,Y=Y+Math.imul(c,Z)|0;let Ut=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,re=Math.imul(P,pe),S=Math.imul(P,G),S=S+Math.imul(W,pe)|0,Y=Math.imul(W,G),re=re+Math.imul(I,U)|0,S=S+Math.imul(I,_)|0,S=S+Math.imul(F,U)|0,Y=Y+Math.imul(F,_)|0,re=re+Math.imul(m,fe)|0,S=S+Math.imul(m,E)|0,S=S+Math.imul(w,fe)|0,Y=Y+Math.imul(w,E)|0,re=re+Math.imul(p,D)|0,S=S+Math.imul(p,K)|0,S=S+Math.imul(b,D)|0,Y=Y+Math.imul(b,K)|0,re=re+Math.imul(f,ee)|0,S=S+Math.imul(f,Z)|0,S=S+Math.imul(l,ee)|0,Y=Y+Math.imul(l,Z)|0,re=re+Math.imul(a,te)|0,S=S+Math.imul(a,ae)|0,S=S+Math.imul(c,te)|0,Y=Y+Math.imul(c,ae)|0;let rt=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(rt>>>26)|0,rt&=67108863,re=Math.imul(Q,pe),S=Math.imul(Q,G),S=S+Math.imul(M,pe)|0,Y=Math.imul(M,G),re=re+Math.imul(P,U)|0,S=S+Math.imul(P,_)|0,S=S+Math.imul(W,U)|0,Y=Y+Math.imul(W,_)|0,re=re+Math.imul(I,fe)|0,S=S+Math.imul(I,E)|0,S=S+Math.imul(F,fe)|0,Y=Y+Math.imul(F,E)|0,re=re+Math.imul(m,D)|0,S=S+Math.imul(m,K)|0,S=S+Math.imul(w,D)|0,Y=Y+Math.imul(w,K)|0,re=re+Math.imul(p,ee)|0,S=S+Math.imul(p,Z)|0,S=S+Math.imul(b,ee)|0,Y=Y+Math.imul(b,Z)|0,re=re+Math.imul(f,te)|0,S=S+Math.imul(f,ae)|0,S=S+Math.imul(l,te)|0,Y=Y+Math.imul(l,ae)|0,re=re+Math.imul(a,ye)|0,S=S+Math.imul(a,Me)|0,S=S+Math.imul(c,ye)|0,Y=Y+Math.imul(c,Me)|0;let Xn=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(Xn>>>26)|0,Xn&=67108863,re=Math.imul(v,pe),S=Math.imul(v,G),S=S+Math.imul(k,pe)|0,Y=Math.imul(k,G),re=re+Math.imul(Q,U)|0,S=S+Math.imul(Q,_)|0,S=S+Math.imul(M,U)|0,Y=Y+Math.imul(M,_)|0,re=re+Math.imul(P,fe)|0,S=S+Math.imul(P,E)|0,S=S+Math.imul(W,fe)|0,Y=Y+Math.imul(W,E)|0,re=re+Math.imul(I,D)|0,S=S+Math.imul(I,K)|0,S=S+Math.imul(F,D)|0,Y=Y+Math.imul(F,K)|0,re=re+Math.imul(m,ee)|0,S=S+Math.imul(m,Z)|0,S=S+Math.imul(w,ee)|0,Y=Y+Math.imul(w,Z)|0,re=re+Math.imul(p,te)|0,S=S+Math.imul(p,ae)|0,S=S+Math.imul(b,te)|0,Y=Y+Math.imul(b,ae)|0,re=re+Math.imul(f,ye)|0,S=S+Math.imul(f,Me)|0,S=S+Math.imul(l,ye)|0,Y=Y+Math.imul(l,Me)|0,re=re+Math.imul(a,Je)|0,S=S+Math.imul(a,$e)|0,S=S+Math.imul(c,Je)|0,Y=Y+Math.imul(c,$e)|0;let zt=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(zt>>>26)|0,zt&=67108863,re=Math.imul(L,pe),S=Math.imul(L,G),S=S+Math.imul($,pe)|0,Y=Math.imul($,G),re=re+Math.imul(v,U)|0,S=S+Math.imul(v,_)|0,S=S+Math.imul(k,U)|0,Y=Y+Math.imul(k,_)|0,re=re+Math.imul(Q,fe)|0,S=S+Math.imul(Q,E)|0,S=S+Math.imul(M,fe)|0,Y=Y+Math.imul(M,E)|0,re=re+Math.imul(P,D)|0,S=S+Math.imul(P,K)|0,S=S+Math.imul(W,D)|0,Y=Y+Math.imul(W,K)|0,re=re+Math.imul(I,ee)|0,S=S+Math.imul(I,Z)|0,S=S+Math.imul(F,ee)|0,Y=Y+Math.imul(F,Z)|0,re=re+Math.imul(m,te)|0,S=S+Math.imul(m,ae)|0,S=S+Math.imul(w,te)|0,Y=Y+Math.imul(w,ae)|0,re=re+Math.imul(p,ye)|0,S=S+Math.imul(p,Me)|0,S=S+Math.imul(b,ye)|0,Y=Y+Math.imul(b,Me)|0,re=re+Math.imul(f,Je)|0,S=S+Math.imul(f,$e)|0,S=S+Math.imul(l,Je)|0,Y=Y+Math.imul(l,$e)|0,re=re+Math.imul(a,Qe)|0,S=S+Math.imul(a,Ue)|0,S=S+Math.imul(c,Qe)|0,Y=Y+Math.imul(c,Ue)|0;let Kt=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,re=Math.imul(q,pe),S=Math.imul(q,G),S=S+Math.imul(x,pe)|0,Y=Math.imul(x,G),re=re+Math.imul(L,U)|0,S=S+Math.imul(L,_)|0,S=S+Math.imul($,U)|0,Y=Y+Math.imul($,_)|0,re=re+Math.imul(v,fe)|0,S=S+Math.imul(v,E)|0,S=S+Math.imul(k,fe)|0,Y=Y+Math.imul(k,E)|0,re=re+Math.imul(Q,D)|0,S=S+Math.imul(Q,K)|0,S=S+Math.imul(M,D)|0,Y=Y+Math.imul(M,K)|0,re=re+Math.imul(P,ee)|0,S=S+Math.imul(P,Z)|0,S=S+Math.imul(W,ee)|0,Y=Y+Math.imul(W,Z)|0,re=re+Math.imul(I,te)|0,S=S+Math.imul(I,ae)|0,S=S+Math.imul(F,te)|0,Y=Y+Math.imul(F,ae)|0,re=re+Math.imul(m,ye)|0,S=S+Math.imul(m,Me)|0,S=S+Math.imul(w,ye)|0,Y=Y+Math.imul(w,Me)|0,re=re+Math.imul(p,Je)|0,S=S+Math.imul(p,$e)|0,S=S+Math.imul(b,Je)|0,Y=Y+Math.imul(b,$e)|0,re=re+Math.imul(f,Qe)|0,S=S+Math.imul(f,Ue)|0,S=S+Math.imul(l,Qe)|0,Y=Y+Math.imul(l,Ue)|0,re=re+Math.imul(a,It)|0,S=S+Math.imul(a,it)|0,S=S+Math.imul(c,It)|0,Y=Y+Math.imul(c,it)|0;let Jn=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(Jn>>>26)|0,Jn&=67108863,re=Math.imul(q,U),S=Math.imul(q,_),S=S+Math.imul(x,U)|0,Y=Math.imul(x,_),re=re+Math.imul(L,fe)|0,S=S+Math.imul(L,E)|0,S=S+Math.imul($,fe)|0,Y=Y+Math.imul($,E)|0,re=re+Math.imul(v,D)|0,S=S+Math.imul(v,K)|0,S=S+Math.imul(k,D)|0,Y=Y+Math.imul(k,K)|0,re=re+Math.imul(Q,ee)|0,S=S+Math.imul(Q,Z)|0,S=S+Math.imul(M,ee)|0,Y=Y+Math.imul(M,Z)|0,re=re+Math.imul(P,te)|0,S=S+Math.imul(P,ae)|0,S=S+Math.imul(W,te)|0,Y=Y+Math.imul(W,ae)|0,re=re+Math.imul(I,ye)|0,S=S+Math.imul(I,Me)|0,S=S+Math.imul(F,ye)|0,Y=Y+Math.imul(F,Me)|0,re=re+Math.imul(m,Je)|0,S=S+Math.imul(m,$e)|0,S=S+Math.imul(w,Je)|0,Y=Y+Math.imul(w,$e)|0,re=re+Math.imul(p,Qe)|0,S=S+Math.imul(p,Ue)|0,S=S+Math.imul(b,Qe)|0,Y=Y+Math.imul(b,Ue)|0,re=re+Math.imul(f,It)|0,S=S+Math.imul(f,it)|0,S=S+Math.imul(l,It)|0,Y=Y+Math.imul(l,it)|0;let Vt=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(Vt>>>26)|0,Vt&=67108863,re=Math.imul(q,fe),S=Math.imul(q,E),S=S+Math.imul(x,fe)|0,Y=Math.imul(x,E),re=re+Math.imul(L,D)|0,S=S+Math.imul(L,K)|0,S=S+Math.imul($,D)|0,Y=Y+Math.imul($,K)|0,re=re+Math.imul(v,ee)|0,S=S+Math.imul(v,Z)|0,S=S+Math.imul(k,ee)|0,Y=Y+Math.imul(k,Z)|0,re=re+Math.imul(Q,te)|0,S=S+Math.imul(Q,ae)|0,S=S+Math.imul(M,te)|0,Y=Y+Math.imul(M,ae)|0,re=re+Math.imul(P,ye)|0,S=S+Math.imul(P,Me)|0,S=S+Math.imul(W,ye)|0,Y=Y+Math.imul(W,Me)|0,re=re+Math.imul(I,Je)|0,S=S+Math.imul(I,$e)|0,S=S+Math.imul(F,Je)|0,Y=Y+Math.imul(F,$e)|0,re=re+Math.imul(m,Qe)|0,S=S+Math.imul(m,Ue)|0,S=S+Math.imul(w,Qe)|0,Y=Y+Math.imul(w,Ue)|0,re=re+Math.imul(p,It)|0,S=S+Math.imul(p,it)|0,S=S+Math.imul(b,It)|0,Y=Y+Math.imul(b,it)|0;let kt=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(kt>>>26)|0,kt&=67108863,re=Math.imul(q,D),S=Math.imul(q,K),S=S+Math.imul(x,D)|0,Y=Math.imul(x,K),re=re+Math.imul(L,ee)|0,S=S+Math.imul(L,Z)|0,S=S+Math.imul($,ee)|0,Y=Y+Math.imul($,Z)|0,re=re+Math.imul(v,te)|0,S=S+Math.imul(v,ae)|0,S=S+Math.imul(k,te)|0,Y=Y+Math.imul(k,ae)|0,re=re+Math.imul(Q,ye)|0,S=S+Math.imul(Q,Me)|0,S=S+Math.imul(M,ye)|0,Y=Y+Math.imul(M,Me)|0,re=re+Math.imul(P,Je)|0,S=S+Math.imul(P,$e)|0,S=S+Math.imul(W,Je)|0,Y=Y+Math.imul(W,$e)|0,re=re+Math.imul(I,Qe)|0,S=S+Math.imul(I,Ue)|0,S=S+Math.imul(F,Qe)|0,Y=Y+Math.imul(F,Ue)|0,re=re+Math.imul(m,It)|0,S=S+Math.imul(m,it)|0,S=S+Math.imul(w,It)|0,Y=Y+Math.imul(w,it)|0;let ps=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(ps>>>26)|0,ps&=67108863,re=Math.imul(q,ee),S=Math.imul(q,Z),S=S+Math.imul(x,ee)|0,Y=Math.imul(x,Z),re=re+Math.imul(L,te)|0,S=S+Math.imul(L,ae)|0,S=S+Math.imul($,te)|0,Y=Y+Math.imul($,ae)|0,re=re+Math.imul(v,ye)|0,S=S+Math.imul(v,Me)|0,S=S+Math.imul(k,ye)|0,Y=Y+Math.imul(k,Me)|0,re=re+Math.imul(Q,Je)|0,S=S+Math.imul(Q,$e)|0,S=S+Math.imul(M,Je)|0,Y=Y+Math.imul(M,$e)|0,re=re+Math.imul(P,Qe)|0,S=S+Math.imul(P,Ue)|0,S=S+Math.imul(W,Qe)|0,Y=Y+Math.imul(W,Ue)|0,re=re+Math.imul(I,It)|0,S=S+Math.imul(I,it)|0,S=S+Math.imul(F,It)|0,Y=Y+Math.imul(F,it)|0;let Xt=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,re=Math.imul(q,te),S=Math.imul(q,ae),S=S+Math.imul(x,te)|0,Y=Math.imul(x,ae),re=re+Math.imul(L,ye)|0,S=S+Math.imul(L,Me)|0,S=S+Math.imul($,ye)|0,Y=Y+Math.imul($,Me)|0,re=re+Math.imul(v,Je)|0,S=S+Math.imul(v,$e)|0,S=S+Math.imul(k,Je)|0,Y=Y+Math.imul(k,$e)|0,re=re+Math.imul(Q,Qe)|0,S=S+Math.imul(Q,Ue)|0,S=S+Math.imul(M,Qe)|0,Y=Y+Math.imul(M,Ue)|0,re=re+Math.imul(P,It)|0,S=S+Math.imul(P,it)|0,S=S+Math.imul(W,It)|0,Y=Y+Math.imul(W,it)|0;let Jt=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,re=Math.imul(q,ye),S=Math.imul(q,Me),S=S+Math.imul(x,ye)|0,Y=Math.imul(x,Me),re=re+Math.imul(L,Je)|0,S=S+Math.imul(L,$e)|0,S=S+Math.imul($,Je)|0,Y=Y+Math.imul($,$e)|0,re=re+Math.imul(v,Qe)|0,S=S+Math.imul(v,Ue)|0,S=S+Math.imul(k,Qe)|0,Y=Y+Math.imul(k,Ue)|0,re=re+Math.imul(Q,It)|0,S=S+Math.imul(Q,it)|0,S=S+Math.imul(M,It)|0,Y=Y+Math.imul(M,it)|0;let bs=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(bs>>>26)|0,bs&=67108863,re=Math.imul(q,Je),S=Math.imul(q,$e),S=S+Math.imul(x,Je)|0,Y=Math.imul(x,$e),re=re+Math.imul(L,Qe)|0,S=S+Math.imul(L,Ue)|0,S=S+Math.imul($,Qe)|0,Y=Y+Math.imul($,Ue)|0,re=re+Math.imul(v,It)|0,S=S+Math.imul(v,it)|0,S=S+Math.imul(k,It)|0,Y=Y+Math.imul(k,it)|0;let at=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(at>>>26)|0,at&=67108863,re=Math.imul(q,Qe),S=Math.imul(q,Ue),S=S+Math.imul(x,Qe)|0,Y=Math.imul(x,Ue),re=re+Math.imul(L,It)|0,S=S+Math.imul(L,it)|0,S=S+Math.imul($,It)|0,Y=Y+Math.imul($,it)|0;let Zt=(je+re|0)+((S&8191)<<13)|0;je=(Y+(S>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,re=Math.imul(q,It),S=Math.imul(q,it),S=S+Math.imul(x,It)|0,Y=Math.imul(x,it);let ys=(je+re|0)+((S&8191)<<13)|0;return je=(Y+(S>>>13)|0)+(ys>>>26)|0,ys&=67108863,s[0]=Yt,s[1]=tt,s[2]=Pt,s[3]=Yn,s[4]=Ut,s[5]=rt,s[6]=Xn,s[7]=zt,s[8]=Kt,s[9]=Jn,s[10]=Vt,s[11]=kt,s[12]=ps,s[13]=Xt,s[14]=Jt,s[15]=bs,s[16]=at,s[17]=Zt,s[18]=ys,je!==0&&(s[19]=je,t.length+=1),t}Math.imul||(gBe=bBe);he.Red=ed;Zqe.exports=he});var tO=h((b3r,vBe)=>{"use strict";vBe.exports=wBe()});var KBe=h(zs=>{"use strict";var{custom:o2}=QD(),me=tO(),Hc={AFFINE:0,JACOBIAN:1,PROJECTIVE:2,EXTENDED:3},jGt=[-3,-1,-5,-7,0,7,5,1,3],EBe=!1,HGt=0,us=class{constructor(e,t,i){this.Point=null,this.id=null,this.uid=HGt++,this.ossl=null,this.type="base",this.endian="be",this.hash=null,this.prefix=null,this.context=!1,this.prime=null,this.p=null,this.red=null,this.fieldSize=0,this.fieldBits=0,this.adjustedSize=0,this.signBit=0,this.mask=0,this.n=null,this.h=null,this.q=null,this.z=null,this.g=null,this.nh=null,this.scalarSize=0,this.scalarBits=0,this.zero=null,this.one=null,this.two=null,this.three=null,this.four=null,this.i2=null,this.i3=null,this.i4=null,this.i6=null,this.torsion=null,this.endo=null,this.hi=null,this._init(e,t,i)}_init(e,t,i){O(typeof e=="function"),O(typeof t=="string"),O(i&&typeof i=="object"),O(i.red==null||i.red instanceof me.Red),O(i.p!=null,"Must pass a prime."),O(i.id==null||typeof i.id=="string"),O(i.ossl==null||typeof i.ossl=="string"),O(i.endian==null||typeof i.endian=="string"),O(i.hash==null||typeof i.hash=="string"),O(i.prefix==null||typeof i.prefix=="string"),O(i.context==null||typeof i.context=="boolean"),O(i.prime==null||typeof i.prime=="string"),O(i.torsion==null||Array.isArray(i.torsion)),this.Point=e,this.id=i.id||null,this.ossl=i.ossl||null,this.type=t,this.endian=i.endian||(t==="short"?"be":"le"),this.hash=i.hash||null,this.prefix=i.prefix?Buffer.from(i.prefix,"binary"):null,this.context=i.context||!1,this.prime=i.prime||null,this.p=me.fromJSON(i.p),i.red?this.red=i.red:(this.red=i.prime?me.red(i.prime):me.mont(this.p),this.red.precompute()),this.fieldSize=this.p.byteLength(),this.fieldBits=this.p.bitLength(),this.adjustedSize=this.fieldSize+((this.fieldBits&7)==0),this.signBit=this.adjustedSize*8-1,this.mask=255,(this.fieldBits&7)!=0&&(this.mask=(1<<(this.fieldBits&7))-1),this.n=me.fromJSON(i.n||"0"),this.h=me.fromJSON(i.h||"1"),this.q=this.n.mul(this.h),this.z=me.fromJSON(i.z||"0").toRed(this.red),this.g=null,this.nh=this.n.ushrn(1),this.scalarSize=this.n.byteLength(),this.scalarBits=this.n.bitLength(),this.zero=new me(0).toRed(this.red),this.one=new me(1).toRed(this.red),this.two=new me(2).toRed(this.red),this.three=new me(3).toRed(this.red),this.four=new me(4).toRed(this.red),this.i2=this.two.redInvert(),this.i3=this.three.redInvert(),this.i4=this.i2.redSqr(),this.i6=this.i2.redMul(this.i3),this.torsion=new Array(this.h.word(0));for(let n=0;n<this.torsion.length;n++)this.torsion[n]=this.point();return this.endo=null,this.hi=null,this._scale=rO(this._scale,this),this.isIsomorphic=rO(this.isIsomorphic,this),this.isIsogenous=rO(this.isIsogenous,this),O(this.p.sign()>0&&this.p.isOdd()),O(this.n.sign()>=0),O(this.h.sign()>0&&this.h.cmpn(255)<=0),O(this.endian==="be"||this.endian==="le"),this}_finalize(e){if(O(e&&typeof e=="object"),this.g=e.g?this.pointFromJSON(e.g):this.point(),e.torsion){O(e.torsion.length===this.torsion.length);for(let t=0;t<this.torsion.length;t++)this.torsion[t]=this.pointFromJSON(e.torsion[t])}return this}_findTorsion(){O(!this.n.isZero());let e=this.h.word(0),t=this.one.redNeg(),i=[this.point()],n=new Set,s=e;for(;i.length<s;){let o;t.redIAdd(this.one);try{o=this.pointFromX(t.clone())}catch(a){continue}try{o=o.mul(this.n)}catch(a){s=2;continue}if(!o.isInfinity()){o.normalize();for(let a of[o,o.neg()]){let c=a.key();n.has(c)||(i.push(a),n.add(c))}}}for(i.sort((o,a)=>o.cmp(a));i.length<e;)i.push(this.point());return i}_fixedMul(e,t){O(e instanceof Lr),O(t instanceof me),O(e.pre&&e.pre.windows);let{width:i,points:n}=e._getWindows(0,0),s=1<<i,a=(t.bitLength()+i-1)/i>>>0,c=this.jpoint();for(let u=0;u<a;u++){let f=t.bits(u*i,i);c=c.add(n[u*s+f])}return t.isNeg()&&(c=c.neg()),c}_fixedNafMul(e,t){O(e instanceof Lr),O(t instanceof me),O(e.pre&&e.pre.doubles);let{step:i,points:n}=e._getDoubles(0,0),s=GGt(t,2,t.bitLength()+1,i),o=((1<<i+1)-(i%2==0?2:1))/3,a=this.jpoint(),c=this.jpoint();for(let u=o;u>0;u--){for(let f=0;f<s.length;f++){let l=s[f];l===u?c=c.add(n[f]):l===-u&&(c=c.sub(n[f]))}a=a.add(c)}return a}_wnafMul(e,t,i){O(t instanceof Lr),O(i instanceof me);let{width:n,points:s}=t._safeNAF(e),o=Y_(i,n,i.bitLength()+1),a=this.jpoint();for(let c=o.length-1;c>=0;c--){let u=o[c];c!==o.length-1&&(a=a.dbl()),u>0?a=a.add(s[u-1>>1]):u<0&&(a=a.sub(s[-u-1>>1]))}return a}_wnafMulAdd(e,t,i){O(e>>>0===e),O(Array.isArray(t)),O(Array.isArray(i)),O(t.length===i.length);let n=t.length,s=new Array(n),o=new Array(n),a=0;for(let d=0;d<n;d++){let p=t[d],b=i[d];if(O(p instanceof Lr),O(b instanceof me),d>0&&p.type!==t[d-1].type)throw new Error("Cannot mix points.");s[d]=null,o[d]=null,a=Math.max(a,b.bitLength()+1)}let c=null,u=null,f=0;for(let d=0;d<n;d++){let p=t[d],b=i[d],g=p._getNAF(0);if(g){s[f]=g.points,o[f]=Y_(b,g.width,a),f+=1;continue}if(!c){c=p,u=b;continue}s[f]=c._getJNAF(p),o[f]=$Gt(u,b,a),c=null,u=null,f+=1}if(c){let d=c._safeNAF(e);s[f]=d.points,o[f]=Y_(u,d.width,a),f+=1}let l=this.jpoint();for(let d=a-1;d>=0;d--){d!==a-1&&(l=l.dbl());for(let p=0;p<f;p++){let b=o[p][d];b>0?l=l.add(s[p][b-1>>1]):b<0&&(l=l.sub(s[p][-b-1>>1]))}}return l}_endoWnafMulAdd(e,t){throw new Error("Not implemented.")}_scale(e,t){switch(O(e instanceof us),O(e.p.eq(this.p)),e.type){case"short":return this._scaleShort(e,t);case"mont":return this._scaleMont(e,t);case"edwards":return this._scaleEdwards(e,t);default:throw new Error("Not implemented.")}}_scaleShort(e,t){throw new Error("Not implemented.")}_scaleMont(e,t){throw new Error("Not implemented.")}_scaleEdwards(e,t){throw new Error("Not implemented.")}isElliptic(){throw new Error("Not implemented.")}jinv(){throw new Error("Not implemented.")}isComplete(){return!1}precompute(e){return O(!this.g.isInfinity(),"Must have base point."),O(!this.n.isZero(),"Must have order."),this.g.precompute(this.n.bitLength(),e),this}scalar(e,t,i){let n=new me(e,t,i);return O(!n.red),this.n.isZero()?n:n.imod(this.n)}field(e,t,i){let n=me.cast(e,t,i);return n.red?n.forceRed(this.red):n.toRed(this.red)}point(e,t){throw new Error("Not implemented.")}jpoint(e,t,i){throw new Error("Not implemented.")}xpoint(e,t){throw new Error("Not implemented.")}cpoint(e,t,i,n){if(O(e instanceof me),O(t instanceof me),O(i instanceof me),O(n instanceof me),t.isZero()||n.isZero())return this.point();let s=t.redMul(n).redInvert(),o=e.redMul(n).redMul(s),a=i.redMul(t).redMul(s);return this.point(o,a)}solveX2(e){throw new Error("Not implemented.")}solveX(e){return this.solveX2(e).redSqrt()}solveY2(e){throw new Error("Not implemented.")}solveY(e){return this.solveY2(e).redSqrt()}validate(e){throw new Error("Not implemented.")}pointFromX(e,t){throw new Error("Not implemented.")}pointFromY(e,t){throw new Error("Not implemented.")}isIsomorphic(e){throw new Error("Not implemented.")}isIsogenous(e){throw new Error("Not implemented.")}pointFromShort(e){throw new Error("Not implemented.")}pointFromMont(e,t){throw new Error("Not implemented.")}pointFromEdwards(e){throw new Error("Not implemented.")}pointFromUniform(e){throw new Error("Not implemented.")}pointToUniform(e){throw new Error("Not implemented.")}pointFromHash(e,t=!1){if(O(Buffer.isBuffer(e)),O(typeof t=="boolean"),e.length!==this.fieldSize*2)throw new Error("Invalid hash size.");let i=e.slice(0,this.fieldSize),n=e.slice(this.fieldSize),s=this.decodeUniform(i),o=this.decodeUniform(n),a=this.pointFromUniform(s),c=this.pointFromUniform(o),u=a.add(c);return t?u.mulH():u}pointToHash(e,t,i){O(e instanceof this.Point),O(t>>>0===t);let n=t%this.torsion.length,s=e.add(this.torsion[n]);for(;;){let o=this.randomField(i),a=this.pointFromUniform(o);if(a.neg().eq(a))continue;let c=s.sub(a),u=_Be(i),f;try{f=this.pointToUniform(c,u&15)}catch(p){if(p.message==="Invalid point.")continue;throw p}let l=this.encodeUniform(o,u>>>8),d=this.encodeUniform(f,u>>>16);return Buffer.concat([l,d])}}randomScalar(e){let t=this.n.isZero()?this.p:this.n;return me.random(e,1,t)}randomField(e){return me.random(e,1,this.p).toRed(this.red)}randomPoint(e){let t;for(;;){let i=this.randomField(e),n=(_Be(e)&1)!=0;try{t=this.pointFromX(i,n)}catch(s){continue}return O(t.validate()),t.mulH()}}mulAll(e,t){return this.jmulAll(e,t)}jmulAll(e,t){return O(Array.isArray(e)),O(e.length===0||e[0]instanceof Lr),this.endo&&e.length>0&&e[0].type===Hc.AFFINE?this._endoWnafMulAdd(e,t):this._wnafMulAdd(5,e,t)}mulH(e){return O(e instanceof me),this.imulH(e.clone())}imulH(e){O(e instanceof me),O(!e.red);let t=this.h.word(0);if((t&t-1)==0){let i=this.h.bitLength();return e.iushln(i-1).imod(this.n)}return e.imuln(t).imod(this.n)}normalizeAll(e){O(Array.isArray(e));let t=e.length,i=new Array(t);for(let o=0;o<t;o++){let a=e[o];if(O(a instanceof Lr),O(a.curve===this),a.type===Hc.AFFINE){i[o]=this.one;continue}i[o]=a.z}let n=this.red.invertAll(i),s=new Array(t);for(let o=0;o<t;o++)s[o]=e[o].scale(n[o]);return s}affinizeAll(e){return this.normalizeAll(e)}clamp(e){O(Buffer.isBuffer(e)),O(e.length===this.scalarSize),O(this.scalarSize<=this.fieldSize);let t=this.fieldBits&7||8,i=0,n=this.scalarSize-1;return this.endian==="be"&&([i,n]=[n,i]),this.scalarSize<this.fieldSize&&(t=8),e[i]&=-this.h.word(0)&255,e[n]&=(1<<t)-1,e[n]|=1<<t-1,e}splitHash(e){O(Buffer.isBuffer(e)),O(e.length===this.adjustedSize*2),O(this.scalarSize<=this.adjustedSize);let t=0;this.endian==="be"&&(t=this.adjustedSize-this.scalarSize);let i=e.slice(t,t+this.scalarSize),n=e.slice(this.adjustedSize);return this.clamp(i),[i,n]}encodeField(e){return O(e instanceof me),O(!e.red),e.encode(this.endian,this.fieldSize)}decodeField(e){if(O(Buffer.isBuffer(e)),e.length!==this.fieldSize)throw new Error("Invalid field element size.");return me.decode(e,this.endian)}encodeAdjusted(e){return O(e instanceof me),O(!e.red),e.encode(this.endian,this.adjustedSize)}decodeAdjusted(e){if(O(Buffer.isBuffer(e)),e.length!==this.adjustedSize)throw new Error("Invalid field element size.");return me.decode(e,this.endian)}encodeScalar(e){return O(e instanceof me),O(!e.red),e.encode(this.endian,this.scalarSize)}decodeScalar(e){if(O(Buffer.isBuffer(e)),e.length!==this.scalarSize)throw new Error("Invalid scalar size.");return me.decode(e,this.endian)}encodeClamped(e){return this.clamp(this.encodeScalar(e))}decodeClamped(e){if(O(Buffer.isBuffer(e)),e.length!==this.scalarSize)throw new Error("Invalid scalar size.");let t=this.clamp(Buffer.from(e));return me.decode(t,this.endian)}encodeUniform(e,t){O(e instanceof me),O(t>>>0===t);let i=this.endian==="le"?this.fieldSize-1:0,n=e.fromRed().encode(this.endian,this.fieldSize);return n[i]|=t&~this.mask&255,n}decodeUniform(e){if(O(Buffer.isBuffer(e)),e.length!==this.fieldSize)throw new Error("Invalid field size.");let t=me.decode(e,this.endian);return t.iumaskn(this.fieldBits),t.toRed(this.red)}encodePoint(e,t){return O(e instanceof Lr),e.encode(t)}decodePoint(e){throw new Error("Not implemented.")}encodeX(e){throw new Error("Not implemented.")}decodeX(e){throw new Error("Not implemented.")}decodeEven(e){throw new Error("Not implemented.")}decodeSquare(e){throw new Error("Not implemented.")}toShort(){throw new Error("Not implemented.")}toMont(e){throw new Error("Not implemented.")}toEdwards(e){throw new Error("Not implemented.")}pointToJSON(e,t){return O(e instanceof Lr),e.toJSON(t)}pointFromJSON(e){throw new Error("Not implemented.")}toJSON(e){let t,i,n,s,o;return this.type==="edwards"&&(t=this.prefix?this.prefix.toString():null,i=this.context),this.n.isZero()||(n=this.n.toJSON()),this.z.isZero()||(s=this.z.fromRed(),this.z.redIsHigh()&&s.isub(this.p),s=s.toString(16)),this.endo&&(o=this.endo.toJSON()),{id:this.id,ossl:this.ossl,type:this.type,endian:this.endian,hash:this.hash,prefix:t,context:i,prime:this.prime,p:this.p.toJSON(),a:void 0,b:void 0,d:void 0,n,h:this.h.toString(16),s:void 0,z:s,c:void 0,g:this.g.toJSON(e),endo:o}}static fromJSON(e){return new this(e)}},Lr=class{constructor(e,t){O(e instanceof us),O(t>>>0===t),this.curve=e,this.type=t,this.pre=null}_init(){throw new Error("Not implemented.")}_safeNAF(e){if(O(e>>>0===e),this.pre&&this.pre.naf)return this.pre.naf;if(e===0)return null;let t=1<<e-2,i=new Array(t),n=this.toJ(),s=t===1?null:n.dbl();i[0]=n;for(let o=1;o<t;o++)i[o]=i[o-1].add(s);return new J_(e,i)}_getNAF(e){if(O(e>>>0===e),this.pre&&this.pre.naf)return this.pre.naf;if(e===0)return null;let t=this._safeNAF(e).points,i=this.curve.affinizeAll(t);return new J_(e,i)}_getWindows(e,t){if(O(e>>>0===e),O(t>>>0===t),this.pre&&this.pre.windows)return this.pre.windows;if(e===0)return null;let i=1<<e,n=(t+e-1)/e>>>0,s=new Array(n*i),o=this.toJ();for(let c=0;c<n;c++){s[c*i]=this.curve.jpoint();for(let u=1;u<i;u++)s[c*i+u]=s[c*i+u-1].add(o);o=o.dblp(e)}let a=this.curve.affinizeAll(s);return new iO(e,t,a)}_getDoubles(e,t){if(O(e>>>0===e),O(t>>>0===t),this.pre&&this.pre.doubles)return this.pre.doubles;if(e===0)return null;let i=Math.ceil(t/e)+1,n=new Array(i),s=this.toJ(),o=0;n[o++]=s;for(let c=0;c<t;c+=e){for(let u=0;u<e;u++)s=s.dbl();n[o++]=s}O(o===i);let a=this.curve.affinizeAll(n);return new nO(e,a)}_getBeta(){return null}_getBlinding(e){if(this.pre&&this.pre.blinding)return this.pre.blinding;if(!e||this.curve.n.isZero())return null;let t=this.curve.randomScalar(e),i=this.mul(t);return new sO(t,i)}_hasWindows(e){if(O(e instanceof me),!this.pre||!this.pre.windows)return!1;let{width:t,bits:i}=this.pre.windows,n=(i+t-1)/t>>>0;return e.bitLength()<=n*t}_hasDoubles(e){if(O(e instanceof me),!this.pre||!this.pre.doubles)return!1;let{step:t,points:i}=this.pre.doubles,n=e.bitLength()+1;return i.length>=Math.ceil(n/t)+1}_getJNAF(e){return O(e instanceof Lr),O(e.type===this.type),[this,this.add(e),this.sub(e),e]}_blind(e,t){if(O(e instanceof me),O(!e.red),this.pre&&this.pre.blinding){let{blind:n,unblind:s}=this.pre.blinding,o=e.sub(n);return[this,o,s]}if(!t)return[this,e,null];if(this.pre){if(this.curve.n.isZero())return[this,e,null];let o=this.curve.randomScalar(t).mul(this.curve.n).iadd(e);return[this,o,null]}return[this.randomize(t),e,null]}clone(){throw new Error("Not implemented.")}precompute(e,t){return O(e>>>0===e),this.pre||(this.pre=new X_),this.pre.naf||(this.pre.naf=this._getNAF(9)),EBe&&!this.pre.windows&&(this.pre.windows=this._getWindows(4,e)),this.pre.doubles||(this.pre.doubles=this._getDoubles(4,e+1)),this.pre.beta||(this.pre.beta=this._getBeta()),this.pre.blinding||(this.pre.blinding=this._getBlinding(t)),this}validate(){return this.curve.validate(this)}normalize(){return this}scale(e){throw new Error("Not implemented.")}randomize(e){let t=this.curve.randomField(e);return this.scale(t)}neg(){throw new Error("Not implemented.")}add(e){throw new Error("Not implemented.")}sub(e){return O(e instanceof Lr),this.add(e.neg())}dbl(){throw new Error("Not implemented.")}dblp(e){O(e>>>0===e);let t=this;for(let i=0;i<e;i++)t=t.dbl();return t}diffAddDbl(e,t){throw new Error("Not implemented.")}getX(){throw new Error("Not implemented.")}getY(){throw new Error("Not implemented.")}eq(e){throw new Error("Not implemented.")}cmp(e){throw new Error("Not implemented.")}isInfinity(){throw new Error("Not implemented.")}isOrder2(){throw new Error("Not implemented.")}isOdd(){throw new Error("Not implemented.")}isEven(){throw new Error("Not implemented.")}isSquare(){throw new Error("Not implemented.")}eqX(e){throw new Error("Not implemented.")}eqR(e){throw new Error("Not implemented.")}isSmall(){return this.isInfinity()?!1:this.jmulH().isInfinity()}hasTorsion(){return this.isInfinity()?!1:!this.jmul(this.curve.n).isInfinity()}order(){let{h:e,n:t}=this.curve,i=this.toJ(),n=new me(1);for(;!i.isInfinity();){if(n.iaddn(1),n.cmp(e)>0){n=t.clone();break}i=i.add(this)}return n}mul(e){return this.jmul(e)}muln(e){return this.jmuln(e)}mulBlind(e,t){return this.jmulBlind(e,t)}mulAdd(e,t,i){return this.jmulAdd(e,t,i)}mulH(){return this.jmulH()}div(e){return this.jdiv(e)}divn(e){return this.jdivn(e)}divH(){return this.jdivH()}jmul(e){return EBe&&this._hasWindows(e)?this.curve._fixedMul(this,e):this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo&&this.type===Hc.AFFINE?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(5,this,e)}jmuln(e){return O((e|0)===e),this.jmul(new me(e))}jmulBlind(e,t=null){let[i,n,s]=this._blind(e,t),o=i.jmul(n);return s?o.add(s):o}jmulAdd(e,t,i){return this.curve.endo&&this.type===Hc.AFFINE?this.curve._endoWnafMulAdd([this,t],[e,i]):this.curve._wnafMulAdd(5,[this,t],[e,i])}jmulH(){let e=this.curve.h.word(0);if((e&e-1)==0){let t=this.curve.h.bitLength();return this.toJ().dblp(t-1)}return this.jmul(this.curve.h)}jdiv(e){return O(e instanceof me),O(!e.red),this.jmul(e.invert(this.curve.n))}jdivn(e){return O(!this.curve.n.isZero()),this.curve.h.cmpn(e)===0?this.jdivH():this.jdiv(new me(e))}jdivH(){return this.curve.n.isZero()?this.toJ():this.curve.h.cmpn(1)===0?this.toJ():(this.curve.hi===null&&(this.curve.hi=this.curve.h.invert(this.curve.n)),this.jmul(this.curve.hi))}toP(){return this.normalize()}toJ(){return this}toX(){return this}key(){if(this.isInfinity())return`${this.curve.uid}:oo`;this.normalize();let e=this.getX().toString(16),t=this.getY().toString(16);return`${this.curve.uid}:${e},${t}`}encode(e){throw new Error("Not implemented.")}static decode(e,t){throw new Error("Not implemented.")}encodeX(){throw new Error("Not implemented.")}static decodeX(e,t){throw new Error("Not implemented.")}static decodeEven(e,t){throw new Error("Not implemented.")}static decodeSquare(e,t){throw new Error("Not implemented.")}toJSON(e){throw new Error("Not implemented.")}static fromJSON(e,t){throw new Error("Not implemented.")}[o2](){return"<Point>"}},Ir=class extends us{constructor(e){super(Vr,"short",e);this.a=me.fromJSON(e.a).toRed(this.red),this.b=me.fromJSON(e.b).toRed(this.red),this.c=me.fromJSON(e.c||"0").toRed(this.red),this.ai=this.a.isZero()?this.zero:this.a.redInvert(),this.zi=this.z.isZero()?this.zero:this.z.redInvert(),this.zeroA=this.a.isZero(),this.threeA=this.a.eq(this.three.redNeg()),this.redN=this.n.toRed(this.red),this.pmodn=this.p.clone(),this.highOrder=this.n.cmp(this.p)>=0,this.smallGap=!1,this._finalize(e)}_finalize(e){return super._finalize(e),e.endo!=null?this.endo=oO.fromJSON(this,e.endo):this.endo=this._getEndomorphism(),this.n.isZero()||(this.pmodn=this.p.mod(this.n),this.smallGap=this.p.div(this.n).cmpn(1)<=0),this}static _isomorphism(e,t,i,n){if(O(e instanceof me),O(t instanceof me),O(i instanceof me),O(n==null||typeof n=="boolean"),O(!e.isZero()||!t.isZero()),i.isZero())throw new Error("Invalid coefficient.");if(e.isZero()){let l=i,d=l.redDiv(t),p=ABe(d);return O(p.redJacobi()===1),[e.clone(),l.clone()]}if(t.isZero()){let l=i,p=l.redDiv(e).redSqrt();if(p.redJacobi()!==1&&p.redINeg(),p.redJacobi()!==1)throw new Error("Invalid `a` coefficient.");return[l.clone(),t.clone()]}let s=i,o=s.redDiv(e),a=o.redSqrt();if(n!=null?a.redIsOdd()!==n&&a.redINeg():a.redJacobi()!==1&&a.redINeg(),a.redJacobi()!==1)throw new Error("Invalid `a` coefficient.");let c=o.redMul(a),u=e.redMul(o),f=t.redMul(c);return O(u.eq(s)),[u,f]}_short(e,t){return Ir._isomorphism(this.a,this.b,e,t)}_mont(e,t){let[i,n]=this._findRS(t),s=n.redInvert(),o=i.redMuln(3).redMul(s);return e!=null?jr._isomorphism(o,s,e):[o,s]}_edwards(e,t){let[i,n]=this._findRS(t),s=i.redMuln(3),o=n.redMuln(2),a=s.redAdd(o),c=s.redSub(o);return e!=null?Qi._isomorphism(a,c,e):[a,c]}_findRS(e){O(e==null||typeof e=="boolean"),O(this.h.word(0)>=4),O(!this.n.isZero());let t=this.one.redNeg(),i;for(;;){t.redIAdd(this.one);try{i=this.pointFromX(t.clone())}catch(a){continue}if(i=i.mul(this.n),!i.isInfinity()&&!!i.y.isZero())break}let n=i.x,o=n.redSqr().redMuln(3).redIAdd(this.a).redSqrt();return e!=null&&o.redIsOdd()!==e&&o.redINeg(),[n,o]}_scale0(e,t){if(O(this.a.isZero()===e.isZero()),O(this.b.isZero()===t.isZero()),this.a.isZero()){let c=this.b.redDiv(this.field(t)),u=ABe(c),f=u.redSqrt(),l=u.redMul(f);return O(l.redSqr().eq(c)),O(!f.isZero()),[u,l]}if(this.b.isZero()){let c=this.a.redDiv(this.field(e)),u=c.redSqrt();u.redJacobi()!==1&&u.redINeg();let f=u.redSqrt(),l=u.redMul(f);return O(l.redMul(f).eq(c)),O(!f.isZero()),[u,l]}let i=this.a.redDiv(this.field(e)),n=this.b.redDiv(this.field(t)),s=i.redSqrt();i.redMul(s).eq(n)||s.redINeg(),O(i.redMul(s).eq(n));let o=s.redSqrt(),a=s.redMul(o);return O(!o.isZero()),[s,a]}_scale1(e,t){let i=this.g.x.redDiv(this.field(e)),n=this.g.y.redDiv(this.field(t)),s=i.redSqrt();return i.redMul(s).eq(n)||s.redINeg(),O(i.redMul(s).eq(n)),O(!s.isZero()),[i,n]}_scaleShort(e){return O(e instanceof Ir),this.g.isInfinity()||e.g.isInfinity()?this._scale0(e.a,e.b):this._scale1(e.g.x,e.g.y)}_scaleMont(e){if(O(e instanceof jr),this.g.isInfinity()||e.g.isInfinity()){let[o,a]=e._short();return this._scale0(o,a)}let{x:t,y:i}=e.g,n=t.redAdd(e.a3).redMul(e.bi),s=i.redMul(e.bi);return this._scale1(n,s)}_scaleEdwards(e){if(O(e instanceof Qi),this.g.isInfinity()||e.g.isInfinity()){let[I,F]=e._short();return this._scale0(I,F)}let{x:t,y:i,z:n}=e.g,s=e.a.redMuln(5),o=e.d.redMuln(5),a=e.d.redSub(e.a),c=o.redSub(e.a),u=e.d.redSub(s),f=i.redAdd(n),l=i.redSub(n),d=c.redMul(i).redIAdd(u.redMul(n)),p=l.redMuln(12),b=a.redMul(f).redMul(n),g=l.redMul(t).redIMuln(4),m=p.redMul(g).redInvert(),w=d.redMul(g).redMul(m),A=b.redMul(p).redMul(m);return this._scale1(w,A)}_getEndomorphism(e=0){if(this.n.isZero()||this.g.isInfinity()||!this.zeroA||this.p.modrn(3)!==1||this.n.modrn(3)!==1)return null;let[t,i]=this._getEndoRoots(this.p),n=[t,i][e&1].toRed(this.red),[s,o]=this._getEndoRoots(this.n),a=this.point(this.g.x.redMul(n),this.g.y),c;this.g.mul(s).eq(a)?c=s:(O(this.g.mul(o).eq(a)),c=o);let u=this._getEndoBasis(c),f=this._getEndoPrecomp(u);return new oO(n,c,u,f)}_getEndoRoots(e){let t=e===this.p?this.red:me.mont(e),i=new me(2).toRed(t),n=new me(3).toRed(t),s=i.redInvert(),o=n.redNeg().redSqrt().redMul(s),a=o.redNeg(),c=o.redSub(s).fromRed(),u=a.redSub(s).fromRed();return[c,u].sort(me.cmp)}_getEndoBasis(e){let[t,i,n,s,o,a]=this._egcdSqrt(e),c=n,u=s.neg(),f=t.sqr().iadd(i.sqr()),l=o.sqr().iadd(a.sqr()),d,p;return f.cmp(l)<=0?(d=t,p=i.neg()):(d=o,p=a.neg()),[new id(c,u),new id(d,p)]}_egcdSqrt(e){O(e instanceof me),O(!e.red),O(e.sign()>0),O(this.n.sign()>0);let t=this.n.ushrn(this.n.bitLength()>>>1),i=e,n=this.n.clone(),s=new me(1),o=new me(0),a=new me(0),c=new me(1),u,f,l,d,p=0,b=0,g;for(;!i.isZero()&&p<2;){let A=n.quo(i),I=n.sub(A.mul(i)),F=a.sub(A.mul(s)),V=c.sub(A.mul(o));b===0&&I.cmp(t)<0&&(u=g,f=s,l=I,d=F,b=1),g=I,n=i,i=I,a=s,s=F,c=o,o=V,p+=b}return O(b!==0,"Could not find r < sqrt(n)."),[u,f,l,d,a,s]}_getEndoPrecomp(e){O(Array.isArray(e)),O(e.length===2),O(e[0]instanceof id),O(e[1]instanceof id);let[t,i]=e,n=t.a.mul(i.b).isub(t.b.mul(i.a)),s=n.bitLength(),o=s>=160;O(n.eq(this.n));let a=s+Math.ceil(s/2)+1,c,u;for(o&&(a-=a&63);a>s&&(c=i.b.ushln(a).divRound(n),u=t.b.ushln(a).divRound(n),!(c.ucmp(n)<0&&u.ucmp(n)<0));)o?a-=64:a-=1;if(a<=s)throw new Error("Could not calculate g1 and g2.");return[a,c,u]}_endoSplit(e){O(e instanceof me),O(!e.red),O(!this.n.isZero());let[t,i]=this.endo.basis,n=i.b.mul(e).divRound(this.n),s=t.b.neg().mul(e).divRound(this.n),o=n.mul(t.a),a=s.mul(i.a),c=n.ineg().mul(t.b),u=s.mul(i.b),f=e.sub(o).isub(a),l=c.isub(u);return[f,l]}_endoBeta(e){return O(e instanceof Vr),[e,e._getBeta()]}_endoWnafMulAdd(e,t){O(Array.isArray(e)),O(Array.isArray(t)),O(e.length===t.length),O(this.endo!=null);let i=e.length,n=new Array(i*2),s=new Array(i*2);for(let o=0;o<i;o++){let[a,c]=this._endoBeta(e[o]),[u,f]=this._endoSplit(t[o]);n[o*2+0]=a,s[o*2+0]=u,n[o*2+1]=c,s[o*2+1]=f}return this._wnafMulAdd(5,n,s)}_sswu(e){let{b:t,z:i,ai:n,zi:s,one:o}=this,a=i.redSqr(),c=t.redNeg().redMul(n),u=t.redMul(s).redMul(n),f=e.redSqr(),l=f.redSqr(),d=a.redMul(l).redIAdd(i.redMul(f)),p=d.isZero()?d:d.redInvert(),b=p.isZero()?u:c.redMul(o.redAdd(p)),g=i.redMul(f).redMul(b),m=this.solveY2(b),w=this.solveY2(g),A=m.redIsSquare()|0,I=[b,g][A^1],F=[m,w][A^1].redSqrt();return F.redIsOdd()!==e.redIsOdd()&&F.redINeg(),this.point(I,F)}_sswui(e,t){let{a:i,b:n,z:s}=this,{x:o,y:a}=e,c=t&3,u=i.redSqr().redMul(o.redSqr()),f=i.redMul(n).redMul(o).redIMuln(2),l=n.redSqr().redMuln(3),d=i.redMul(o).redIAdd(n),p=u.redISub(f).redISub(l).redSqrt(),b=d.redSub(p).redINeg(),g=d.redAdd(p).redINeg(),m=d.redMul(s).redIMuln(2),w=n.redMul(s).redIMuln(2),A=[b,g][c&1],I=[m,w][c>>>1],F=A.redDivSqrt(I);return F.redIsOdd()!==a.redIsOdd()&&F.redINeg(),F}_svdwf(e){let{c:t,z:i,zi:n,i2:s,i3:o}=this,a=this.solveY2(i),c=o.redMul(n.redSqr()),u=e.redSqr(),f=u.redSqr(),l=u.redAdd(a),d=u.redMul(l),p=d.isZero()?d:d.redInvert(),b=f.redMul(p).redMul(t),g=l.redSqr().redMul(l),m=t.redSub(i).redMul(s).redISub(b),w=b.redSub(t.redAdd(i).redMul(s)),A=i.redSub(g.redMul(p).redMul(c)),I=this.solveY2(m),F=this.solveY2(w),V=this.solveY2(A),P=I.redJacobi()|1,W=F.redJacobi()|1,ne=WGt((P-1)*W,3),Q=[m,w,A][ne],M=[I,F,V][ne];return[Q,M]}_svdw(e){let[t,i]=this._svdwf(e),n=i.redSqrt();return n.redIsOdd()!==e.redIsOdd()&&n.redINeg(),this.point(t,n)}_svdwi(e,t){let{b:i,c:n,z:s,zero:o,two:a}=this,{x:c,y:u}=e,f=t&3,l=s.redSqr(),d=l.redMul(s),p=l.redSqr(),b=d.redAdd(i),g=b.redMuln(2),m=c.redSqr(),w=c.redMuln(2).redIAdd(s),A=c.redMul(l),I=n.redSub(w),F=n.redAdd(w),V=m.redMul(l).redIAdd(p).redIMuln(9),P=c.redMul(d).redIMuln(18),W=b.redMul(c.redSub(s)).redIMuln(12),Q=(f>=2?V.redISub(P).redIAdd(W).redSqrt():o).redMul(s),M=d.redISub(A).redIMuln(3).redISub(g),y=b.redMul(I),v=b.redMul(F),k=M.redAdd(Q),N=M.redSub(Q),L=a,$=[y,v,k,N][f],X=[F,I,L,L][f],q=$.redDivSqrt(X),[x]=this._svdwf(q);if(!x.eq(c))throw new Error("Invalid point.");return q.redIsOdd()!==u.redIsOdd()&&q.redINeg(),q}isElliptic(){let{a:e,b:t}=this,n=e.redSqr().redMul(e);return!t.redSqr().redMuln(27).redIAdd(n.redMuln(4)).isZero()}jinv(){let{a:e,b:t}=this,n=e.redSqr().redMul(e),s=t.redSqr(),o=n.redMuln(4),a=o.redMuln(1728),c=s.redMuln(27).redIAdd(o);if(c.isZero())throw new Error("Curve is not elliptic.");return a.redDiv(c).fromRed()}point(e,t){return new Vr(this,e,t)}jpoint(e,t,i){return new rd(this,e,t,i)}solveX(e){if(O(e instanceof me),!this.a.isZero())throw new Error("Not implemented.");let i=e.redSqr().redSub(this.b);return kBe(i)}solveY2(e){O(e instanceof me);let i=e.redSqr().redMul(e).redIAdd(this.b);return this.zeroA||(this.threeA?i.redIAdd(e.redMuln(-3)):i.redIAdd(this.a.redMul(e))),i}validate(e){if(O(e instanceof Vr),e.inf)return!0;let{x:t,y:i}=e,n=this.solveY2(t);return i.redSqr().eq(n)}pointFromX(e,t=null){O(e instanceof me),O(t==null||typeof t=="boolean"),e.red||(e=e.toRed(this.red));let i=this.solveY(e);if(t!=null){if(this.h.cmpn(1)>0&&i.isZero()&&t)throw new Error("Invalid point.");i.redIsOdd()!==t&&i.redINeg()}return this.point(e,i)}pointFromY(e,t=0){O(e instanceof me),O(t>>>0===t),e.red||(e=e.toRed(this.red));let i=this.solveX(e);if(t>=i.length)throw new Error("Invalid X coordinate index.");let n=i[t];return this.point(n,e)}isIsomorphic(e){if(O(e instanceof us),!e.p.eq(this.p))return!1;let t,i;try{[t,i]=this._scale(e)}catch(n){return!1}if(e.type==="short"){let n=this.field(e.a).redMul(t.redSqr()),s=this.field(e.b).redMul(i.redSqr());return this.a.eq(n)&&this.b.eq(s)}if(e.type==="mont"){let{a3:n,bi:s}=e,o=this.field(n.redMul(s)).redMul(t);return this.solveY2(o).isZero()}if(e.type==="edwards"){let n=this.field(e.ad6).redMul(t);return this.solveY2(n).isZero()}return!1}isIsogenous(e){return O(e instanceof us),!1}pointFromShort(e){if(O(e instanceof Vr),this.isIsomorphic(e.curve)){if(e.isInfinity())return this.point();let[t,i]=this._scale(e.curve),n=this.field(e.x),s=this.field(e.y),o=n.redMul(t),a=s.redMul(i);return this.point(o,a)}throw new Error("Not implemented.")}pointFromMont(e){if(O(e instanceof Hn),this.isIsomorphic(e.curve)){if(e.isInfinity())return this.point();let{a3:t,bi:i}=e.curve,[n,s]=this._scale(e.curve),o=e.x.redAdd(t).redMul(i),a=e.y.redMul(i);return this.point(this.field(o).redMul(n),this.field(a).redMul(s))}throw new Error("Not implemented.")}pointFromEdwards(e){if(O(e instanceof Gn),this.isIsomorphic(e.curve)){let{a:t,d:i,ad6:n}=e.curve,[s,o]=this._scale(e.curve);if(e.isInfinity())return this.point();if(e.x.isZero()){let V=this.field(n).redMul(s);return this.point(V,this.zero)}let{x:a,y:c,z:u}=e,f=t.redMuln(5),l=i.redMuln(5),d=i.redSub(t),p=l.redSub(t),b=i.redSub(f),g=c.redAdd(u),m=c.redSub(u),w=p.redMul(c).redIAdd(b.redMul(u)),A=m.redMuln(12),I=d.redMul(g).redMul(u),F=m.redMul(a).redIMuln(4);return this.cpoint(this.field(w).redMul(s),this.field(A),this.field(I).redMul(o),this.field(F))}throw new Error("Not implemented.")}pointFromUniform(e){if(O(e instanceof me),this.z.isZero()||this.b.isZero())throw new Error("Not implemented.");if(!this.a.isZero())return this._sswu(e);if(!this.c.isZero())return this._svdw(e);throw new Error("Not implemented.")}pointToUniform(e,t){if(O(e instanceof Vr),O(t>>>0===t),this.z.isZero()||this.b.isZero())throw new Error("Not implemented.");if(e.isInfinity())throw new Error("Invalid point.");let i=(t>>>4&15)%this.torsion.length,n=e.add(this.torsion[i]);return SBe(()=>{if(!this.a.isZero())return this._sswui(n,t);if(!this.c.isZero())return this._svdwi(n,t);throw new Error("Not implemented.")})}mulAll(e,t){return super.mulAll(e,t).toP()}affinizeAll(e){let t=this.normalizeAll(e);for(let i=0;i<t.length;i++)t[i]=t[i].toP();return t}decodePoint(e){return Vr.decode(this,e)}encodeX(e){return O(e instanceof Lr),e.encodeX()}decodeEven(e){return Vr.decodeEven(this,e)}decodeSquare(e){return Vr.decodeSquare(this,e)}toShort(e,t,i=null){let[n,s]=this._short(e,t),o=new Ir({red:this.red,prime:this.prime,p:this.p,a:n,b:s,n:this.n,h:this.h});if(i!=null){let[,a]=o._scale(this);a.redIsOdd()!==i&&a.redINeg()}this.g.isInfinity()||(o.g=o.pointFromShort(this.g));for(let a=0;a<this.h.word(0);a++)o.torsion[a]=o.pointFromShort(this.torsion[a]);return o}toMont(e,t,i=null){let[n,s]=this._mont(e,t),o=new jr({red:this.red,prime:this.prime,p:this.p,a:n,b:s,n:this.n,h:this.h});if(i!=null){let[,a]=this._scale(o);a.redIsOdd()!==i&&a.redINeg()}this.g.isInfinity()||(o.g=o.pointFromShort(this.g));for(let a=0;a<this.h.word(0);a++)o.torsion[a]=o.pointFromShort(this.torsion[a]);return o}toEdwards(e,t,i=null){let[n,s]=this._edwards(e,t),o=new Qi({red:this.red,prime:this.prime,p:this.p,a:n,d:s,n:this.n,h:this.h});if(i!=null){let[,a]=this._scale(o);a.redIsOdd()!==i&&a.redINeg()}if(this.g.isInfinity()||(o.g=o.pointFromShort(this.g),o.g.normalize()),o.isComplete())for(let a=0;a<this.h.word(0);a++)o.torsion[a]=o.pointFromShort(this.torsion[a]),o.torsion[a].normalize();return o}pointFromJSON(e){return Vr.fromJSON(this,e)}toJSON(e){let t=super.toJSON(e);return t.a=this.a.fromRed().toJSON(),t.b=this.b.fromRed().toJSON(),this.c.isZero()||(t.c=this.c.fromRed().toJSON()),t}},Vr=class extends Lr{constructor(e,t,i){O(e instanceof Ir),super(e,Hc.AFFINE),this.x=this.curve.zero,this.y=this.curve.zero,this.inf=!0,t!=null&&this._init(t,i)}_init(e,t){O(e instanceof me),O(t instanceof me),this.x=e,this.y=t,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1}_getBeta(){if(!this.curve.endo)return null;if(this.pre&&this.pre.beta)return this.pre.beta;let e=this.x.redMul(this.curve.endo.beta),t=this.curve.point(e,this.y);return this.pre&&(t.pre=this.pre.map(i=>{let n=i.x.redMul(this.curve.endo.beta);return this.curve.point(n,i.y)}),this.pre.beta=t),t}_getJNAF(e){if(O(e instanceof Vr),this.inf||e.inf)return super._getJNAF(e);let t=[this,null,null,e];return this.y.eq(e.y)?(t[1]=this.add(e),t[2]=this.toJ().sub(e)):this.y.eq(e.y.redNeg())?(t[1]=this.toJ().add(e),t[2]=this.sub(e)):(t[1]=this.toJ().add(e),t[2]=this.toJ().sub(e)),t}clone(){return this.inf?this.curve.point():this.curve.point(this.x,this.y)}scale(e){return this.toJ().scale(e)}neg(){return this.inf?this:this.curve.point(this.x,this.y.redNeg())}add(e){if(O(e instanceof Vr),this.inf)return e;if(e.inf)return this;if(this.x.eq(e.x))return this.y.eq(e.y)?this.dbl():this.curve.point();if(this.y.eq(e.y)){let a=this.x.redNeg().redISub(e.x),c=this.y.redNeg();return this.curve.point(a,c)}let t=this.x.redSub(e.x),n=this.y.redSub(e.y).redDiv(t),s=n.redSqr().redISub(this.x).redISub(e.x),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)}dbl(){if(this.inf)return this;if(this.y.isZero())return this.curve.point();let t=this.x.redSqr().redIMuln(3).redIAdd(this.curve.a),i=this.y.redMuln(2),n=t.redDiv(i),s=n.redSqr().redISub(this.x).redISub(this.x),o=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)}dblp(e){return this.toJ().dblp(e).toP()}getX(){if(this.inf)throw new Error("Invalid point.");return this.x.fromRed()}getY(){if(this.inf)throw new Error("Invalid point.");return this.y.fromRed()}eq(e){return O(e instanceof Vr),this===e?!0:this.inf?e.inf:e.inf?!1:this.x.eq(e.x)&&this.y.eq(e.y)}cmp(e){return O(e instanceof Vr),this.inf&&!e.inf?-1:!this.inf&&e.inf?1:this.inf&&e.inf?0:this.order().cmp(e.order())||this.getX().cmp(e.getX())||this.getY().cmp(e.getY())}isInfinity(){return this.inf}isOrder2(){return this.inf?!1:this.y.isZero()}isOdd(){return this.inf?!1:this.y.redIsOdd()}isEven(){return this.inf?!1:this.y.redIsEven()}isSquare(){return this.inf?!1:this.y.redJacobi()!==-1}eqX(e){return O(e instanceof me),O(!e.red),this.inf?!1:this.getX().eq(e)}eqR(e){return O(e instanceof me),O(!e.red),O(!this.curve.n.isZero()),this.inf?!1:this.getX().imod(this.curve.n).eq(e)}mul(e){return super.mul(e).toP()}muln(e){return super.muln(e).toP()}mulBlind(e,t){return super.mulBlind(e,t).toP()}mulAdd(e,t,i){return super.mulAdd(e,t,i).toP()}mulH(){return super.mulH().toP()}div(e){return super.div(e).toP()}divn(e){return super.divn(e).toP()}divH(){return super.divH().toP()}toP(){return this}toJ(){return this.inf?this.curve.jpoint():this.curve.jpoint(this.x,this.y,this.curve.one)}encode(e){e==null&&(e=!0),O(typeof e=="boolean");let{fieldSize:t}=this.curve;if(this.inf)throw new Error("Invalid point.");if(e){let o=Buffer.alloc(1+t),a=this.curve.encodeField(this.getX());return o[0]=2|this.y.redIsOdd(),a.copy(o,1),o}let i=Buffer.alloc(1+t*2),n=this.curve.encodeField(this.getX()),s=this.curve.encodeField(this.getY());return i[0]=4,n.copy(i,1),s.copy(i,1+t),i}static decode(e,t){O(e instanceof Ir),O(Buffer.isBuffer(t));let i=e.fieldSize;if(t.length<1+i)throw new Error("Not a point.");let n=t[0];switch(n){case 2:case 3:{if(t.length!==1+i)throw new Error("Invalid point size for compressed.");let s=e.decodeField(t.slice(1,1+i));if(s.cmp(e.p)>=0)throw new Error("Invalid point.");let o=e.pointFromX(s,n===3);return O(!o.isInfinity()),o}case 4:case 6:case 7:{if(t.length!==1+i*2)throw new Error("Invalid point size for uncompressed.");let s=e.decodeField(t.slice(1,1+i)),o=e.decodeField(t.slice(1+i,1+2*i));if(s.cmp(e.p)>=0||o.cmp(e.p)>=0)throw new Error("Invalid point.");if(n!==4&&n!==(6|o.isOdd()))throw new Error("Invalid hybrid encoding.");let a=e.point(s,o);if(!a.validate())throw new Error("Invalid point.");return O(!a.isInfinity()),a}default:throw new Error("Unknown point format.")}}encodeX(){return this.curve.encodeField(this.getX())}static decodeEven(e,t){O(e instanceof Ir);let i=e.decodeField(t);if(i.cmp(e.p)>=0)throw new Error("Invalid point.");return e.pointFromX(i,!1)}static decodeSquare(e,t){O(e instanceof Ir);let i=e.decodeField(t);if(i.cmp(e.p)>=0)throw new Error("Invalid point.");return e.pointFromX(i)}toJSON(e){if(this.inf)return[];let t=this.getX().toJSON(),i=this.getY().toJSON();return e===!0&&this.pre?[t,i,this.pre.toJSON()]:[t,i]}toPretty(){if(this.inf)return[];let e=this.curve.fieldSize*2,t=a2(this.getX(),e),i=a2(this.getY(),e);return[t,i]}static fromJSON(e,t){if(O(e instanceof Ir),O(Array.isArray(t)),O(t.length===0||t.length===2||t.length===3),t.length===0)return e.point();let i=me.fromJSON(t[0]),n=me.fromJSON(t[1]),s=e.point(i,n);return t.length>2&&t[2]!=null&&(s.pre=X_.fromJSON(s,t[2])),s}[o2](){return this.inf?"<ShortPoint: Infinity>":"<ShortPoint: x="+this.x.fromRed().toString(16,2)+" y="+this.y.fromRed().toString(16,2)+">"}},rd=class extends Lr{constructor(e,t,i,n){O(e instanceof Ir),super(e,Hc.JACOBIAN),this.x=this.curve.one,this.y=this.curve.one,this.z=this.curve.zero,this.zOne=!1,t!=null&&this._init(t,i,n)}_init(e,t,i){O(e instanceof me),O(t instanceof me),O(i==null||i instanceof me),this.x=e,this.y=t,this.z=i||this.curve.one,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z.eq(this.curve.one)}clone(){return this.curve.jpoint(this.x,this.y,this.z)}validate(){let{a:e,b:t}=this.curve;if(this.isInfinity())return!0;if(this.zOne)return this.curve.validate(this.toP());let i=this.y.redSqr(),n=this.x.redSqr().redMul(this.x),s=this.z.redSqr(),o=s.redSqr(),a=o.redMul(s),c=n.redIAdd(t.redMul(a));return this.curve.zeroA||(this.curve.threeA?c.redIAdd(o.redIMuln(-3).redMul(this.x)):c.redIAdd(e.redMul(o).redMul(this.x))),i.eq(c)}normalize(){if(this.zOne)return this;if(this.isInfinity())return this;let e=this.z.redInvert(),t=e.redSqr();return this.x=this.x.redMul(t),this.y=this.y.redMul(t).redMul(e),this.z=this.curve.one,this.zOne=!0,this}scale(e){if(O(e instanceof me),this.isInfinity())return this.curve.jpoint();let t=e.redSqr(),i=this.x.redMul(t),n=this.y.redMul(t).redMul(e),s=this.z.redMul(e);return this.curve.jpoint(i,n,s)}neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)}add(e){return O(e instanceof Lr),e.type===Hc.AFFINE?this._mixedAdd(e):this._add(e)}_add(e){return O(e instanceof rd),this.isInfinity()?e:e.isInfinity()?this:this.zOne?e._addJA(this):e.zOne?this._addJA(e):this._addJJ(e)}_mixedAdd(e){return O(e instanceof Vr),this.isInfinity()?e.toJ():e.isInfinity()?this:this._addJA(e)}_addJJ(e){let t=this.z.redSqr(),i=e.z.redSqr(),n=this.x.redMul(i),s=e.x.redMul(t),o=this.y.redMul(e.z).redMul(i),a=e.y.redMul(this.z).redMul(t),c=s.redISub(n),u=a.redISub(o);if(c.isZero())return u.isZero()?this.dbl():this.curve.jpoint();let f=c.redSqr(),l=c.redMul(f),d=n.redMul(f),p=u.redSqr().redISub(l).redISub(d).redISub(d),b=u.redMul(d.redISub(p)).redISub(o.redMul(l)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(p,b,g)}_addJA(e){let t=this.z.redSqr(),i=e.x.redMul(t),n=e.y.redMul(this.z).redMul(t),s=i.redISub(this.x),o=n.redISub(this.y).redIMuln(2);if(s.isZero())return o.isZero()?this.dbl():this.curve.jpoint();let a=s.redMuln(2).redSqr(),c=s.redMul(a),u=this.x.redMul(a),f=o.redSqr().redISub(c).redISub(u).redISub(u),l=o.redMul(u.redISub(f)).redISub(this.y.redMul(c).redIMuln(2)),d=this.z.redMul(s).redIMuln(2);return this.curve.jpoint(f,l,d)}dbl(){return this.isInfinity()?this:this.y.isZero()?this.curve.jpoint():this.curve.zeroA?this._dbl0():this.curve.threeA?this._dbl3():this._dblJ()}_dblJ(){let e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),n=this.x.redMul(t).redIMuln(4),s=e.redIMuln(3).redIAdd(this.curve.a.redMul(i.redSqr())),o=s.redSqr().redISub(n).redISub(n),a=o,c=s.redMul(n.redISub(o)).redISub(t.redSqr().redIMuln(8)),u=this.y.redMul(this.z).redIMuln(2);return this.curve.jpoint(a,c,u)}_dbl0(){let e=this.x.redSqr(),t=this.y.redSqr(),i=t.redSqr(),s=t.redIAdd(this.x).redSqr().redISub(e).redISub(i).redIMuln(2),o=e.redIMuln(3),c=o.redSqr().redISub(s).redISub(s),u=o.redMul(s.redISub(c)).redISub(i.redIMuln(8)),f=this.y.redMul(this.z).redIMuln(2);return this.curve.jpoint(c,u,f)}_dbl3(){let e=this.z.redSqr(),t=this.y.redSqr(),i=this.x.redMul(t),n=this.x.redSub(e),s=this.x.redAdd(e),o=n.redMul(s).redIMuln(3),a=i.redIMuln(4),c=a.redMuln(2),u=t.redSqr().redIMuln(8),f=o.redSqr().redISub(c),l=this.y.redAdd(this.z).redSqr().redISub(t).redISub(e),d=o.redMul(a.redISub(f)).redISub(u);return this.curve.jpoint(f,d,l)}getX(){if(this.isInfinity())throw new Error("Invalid point.");return this.normalize(),this.x.fromRed()}getY(){if(this.isInfinity())throw new Error("Invalid point.");return this.normalize(),this.y.fromRed()}eq(e){if(O(e instanceof rd),this===e)return!0;if(this.isInfinity())return e.isInfinity();if(e.isInfinity())return!1;if(this.z.eq(e.z))return this.x.eq(e.x)&&this.y.eq(e.y);let t=this.z.redSqr(),i=e.z.redSqr(),n=this.x.redMul(i),s=e.x.redMul(t);if(!n.eq(s))return!1;let o=t.redMul(this.z),a=i.redMul(e.z),c=this.y.redMul(a),u=e.y.redMul(o);return c.eq(u)}cmp(e){O(e instanceof rd);let t=this.isInfinity(),i=e.isInfinity();return t&&!i?-1:!t&&i?1:t&&i?0:this.order().cmp(e.order())||this.getX().cmp(e.getX())||this.getY().cmp(e.getY())}isInfinity(){return this.z.isZero()}isOrder2(){return this.isInfinity()?!1:this.y.isZero()}isOdd(){return this.isInfinity()?!1:(this.normalize(),this.y.redIsOdd())}isEven(){return this.isInfinity()?!1:(this.normalize(),this.y.redIsEven())}isSquare(){return this.isInfinity()?!1:this.y.redMul(this.z).redJacobi()!==-1}eqX(e){if(O(e instanceof me),O(!e.red),this.isInfinity())return!1;let t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);return this.x.eq(i)}eqR(e){if(O(e instanceof me),O(!e.red),!this.curve.smallGap)return this.toP().eqR(e);if(this.isInfinity()||e.cmp(this.curve.p)>=0)return!1;let t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(this.x.eq(i))return!0;if(this.curve.highOrder||e.cmp(this.curve.pmodn)>=0)return!1;let n=this.curve.redN.redMul(t);return i.redIAdd(n),this.x.eq(i)}toP(){return this.isInfinity()?this.curve.point():(this.normalize(),this.curve.point(this.x,this.y))}toJ(){return this}encode(e){return this.toP().encode(e)}static decode(e,t){return Vr.decode(e,t).toJ()}encodeX(){return this.toP().encodeX()}static decodeEven(e,t){return Vr.decodeEven(e,t).toJ()}static decodeSquare(e,t){return Vr.decodeSquare(e,t).toJ()}toJSON(e){return this.toP().toJSON(e)}toPretty(){return this.toP().toPretty()}static fromJSON(e,t){return Vr.fromJSON(e,t).toJ()}[o2](){return this.isInfinity()?"<JPoint: Infinity>":"<JPoint: x="+this.x.fromRed().toString(16,2)+" y="+this.y.fromRed().toString(16,2)+" z="+this.z.fromRed().toString(16,2)+">"}},jr=class extends us{constructor(e){super(Hn,"mont",e);this.a=me.fromJSON(e.a).toRed(this.red),this.b=me.fromJSON(e.b).toRed(this.red),this.bi=this.b.redInvert(),this.a2=this.a.redAdd(this.two),this.a24=this.a2.redMul(this.i4),this.a3=this.a.redMul(this.i3),this.a0=this.a.redMul(this.bi),this.b0=this.bi.redSqr(),this._finalize(e)}static _isomorphism(e,t,i){O(e instanceof me),O(t instanceof me),O(i instanceof me);let n=e.clone(),s=i.clone();if(t.redDiv(i).redJacobi()!==1)throw new Error("Invalid `b` coefficient.");return[n,s]}_short(e,t){let{a:i,b:n,three:s}=this,o=i.redSqr(),a=o.redMul(i),c=n.redSqr(),u=c.redMul(n),f=s.redSub(o),l=c.redMuln(3),d=a.redMuln(2).redISub(i.redMuln(9)),p=u.redMuln(27),b=f.redDiv(l),g=d.redDiv(p);return e!=null?Ir._isomorphism(b,g,e,t):[b,g]}_mont(e){return jr._isomorphism(this.a,this.b,e)}_edwards(e,t=!1){O(typeof t=="boolean");let{two:i,bi:n}=this,s=this.a.redAdd(i).redMul(n),o=this.a.redSub(i).redMul(n);return t&&s.swap(o),e!=null?Qi._isomorphism(s,o,e):[s,o]}_scaleShort(e){O(e instanceof Ir);let[t,i]=e._scale(this);return[this.field(t.redInvert()),this.field(i.redInvert())]}_scaleMont(e){return O(e instanceof jr),this.g.isInfinity()||e.g.isInfinity()?this.field(e.b).redDivSqrt(this.b):this.g.y.redDiv(this.field(e.g.y))}_scaleEdwards(e,t){O(e instanceof Qi);let i=e._scale(this,t);return this.field(i)}_solveY0(e){O(e instanceof me);let t=this.a0,i=this.b0,n=e.redSqr();return n.redMul(e).redIAdd(t.redMul(n)).redIAdd(i.redMul(e))}_elligator2(e){let t=this.a0.redNeg(),i=this.one.redAdd(this.z.redMul(e.redSqr()));i.isZero()&&i.inject(this.one);let n=t.redMul(i.redInvert()),s=n.redNeg().redISub(this.a0),o=this._solveY0(n),a=this._solveY0(s),c=o.redIsSquare()|0,u=[n,s][c^1],f=[o,a][c^1].redSqrt();f.redIsOdd()!==e.redIsOdd()&&f.redINeg();let l=this.b.redMul(u),d=this.b.redMul(f);return this.point(l,d)}_invert2(e,t){let{x:i,y:n}=e,s=t&1,o=i.redMul(this.bi),a=n.redMul(this.bi),c=o.redAdd(this.a0),u=o,f=[c,u][s].redINeg(),l=[u,c][s].redMul(this.z),d=f.redDivSqrt(l);return d.redIsOdd()!==a.redIsOdd()&&d.redINeg(),d}isElliptic(){let e=this.a.redSqr();return!this.b.redMul(e.redSub(this.four)).isZero()}jinv(){let{a:e,three:t,four:i}=this,n=e.redSqr(),o=n.redSub(t).redPown(3).redIMuln(256),a=n.redSub(i);if(a.isZero())throw new Error("Curve is not elliptic.");return o.redDiv(a).fromRed()}point(e,t){return new Hn(this,e,t)}jpoint(e,t,i){return O(e==null&&t==null&&i==null),this.point()}xpoint(e,t){return new Gc(this,e,t)}solveY2(e){O(e instanceof me);let t=e.redSqr();return t.redMul(e).redIAdd(this.a.redMul(t)).redIAdd(e).redMul(this.bi)}validate(e){if(O(e instanceof Hn),e.isInfinity())return!0;let{x:t,y:i}=e,n=this.solveY2(t);return i.redSqr().eq(n)}pointFromX(e,t=null){O(e instanceof me),O(t==null||typeof t=="boolean"),e.red||(e=e.toRed(this.red));let i=this.solveY(e);if(t!=null){if(i.isZero()&&t)throw new Error("Invalid point.");i.redIsOdd()!==t&&i.redINeg()}return this.point(e,i)}isIsomorphic(e,t){if(O(e instanceof us),!e.p.eq(this.p))return!1;if(e.type==="mont"){let i=this.field(e.a),n=this.field(e.b);return!this.a.eq(i)||this.b.isZero()?!1:n.redDiv(this.b).redJacobi()===1}return e.isIsomorphic(this,t)}isIsogenous(e){return O(e instanceof us),e.type==="mont"?!1:e.isIsogenous(this)}pointFromShort(e){if(O(e instanceof Vr),this.isIsomorphic(e.curve)){if(e.isInfinity())return this.point();let{a3:t,b:i}=this,[n,s]=this._scale(e.curve),o=this.field(e.x).redMul(n),a=this.field(e.y).redMul(s),c=i.redMul(o).redISub(t),u=i.redMul(a);return this.point(c,u)}throw new Error("Not implemented.")}pointFromMont(e){if(O(e instanceof Hn),this.isIsomorphic(e.curve)){if(e.isInfinity())return this.point();let t=this._scale(e.curve),i=this.field(e.x),n=this.field(e.y),s=i,o=t.redMul(n);return this.point(s,o)}throw new Error("Not implemented.")}pointFromEdwards(e){O(e instanceof Gn),O(e.curve.p.eq(this.p));let t=this.field(e.x),i=this.field(e.y),n=this.field(e.z);if(this.isIsogenous(e.curve)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point(this.zero,this.zero);let s=n.redSqr().redIMuln(2),o=i.redSqr(),a=t.redSqr(),c=s.redISub(a).redISub(o).redMul(i),u=a.redMul(t);return this.cpoint(o,a,c,u)}if(this.isIsomorphic(e.curve,!0)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point(this.zero,this.zero);let s=this._scale(e.curve,!0),o=i.redAdd(n),a=i.redSub(n),c=s.redMul(n).redMul(o),u=t.redMul(a);return this.cpoint(o,a,c,u)}if(this.isIsomorphic(e.curve,!1)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point(this.zero,this.zero);let s=this._scale(e.curve,!1),o=n.redAdd(i),a=n.redSub(i),c=s.redMul(n).redMul(o),u=t.redMul(a);return this.cpoint(o,a,c,u)}throw new Error("Not implemented.")}pointFromUniform(e){if(O(e instanceof me),this.z.isZero()||this.a.isZero())throw new Error("Not implemented.");return this._elligator2(e)}pointToUniform(e,t){if(O(e instanceof Hn),O(t>>>0===t),this.z.isZero()||this.a.isZero())throw new Error("Not implemented.");if(e.isInfinity())throw new Error("Invalid point.");let i=(t>>>4&15)%this.torsion.length,n=e.add(this.torsion[i]);return SBe(()=>this._invert2(n,t))}decodePoint(e,t){return Hn.decode(this,e,t)}encodeX(e){return O(e instanceof Gc),e.encode()}decodeX(e){return Gc.decode(this,e)}toShort(e,t,i=null){let[n,s]=this._short(e,t),o=new Ir({red:this.red,prime:this.prime,p:this.p,a:n,b:s,n:this.n,h:this.h});if(i!=null){let[,a]=o._scale(this);a.redIsOdd()!==i&&a.redINeg()}this.g.isInfinity()||(o.g=o.pointFromMont(this.g));for(let a=0;a<this.h.word(0);a++)o.torsion[a]=o.pointFromMont(this.torsion[a]);return o}toMont(e,t=null){let[i,n]=this._mont(e),s=new jr({red:this.red,prime:this.prime,p:this.p,a:i,b:n,n:this.n,h:this.h,z:this.z});if(t!=null){let o=s._scale(this);o.redIsOdd()!==t&&o.redINeg()}this.g.isInfinity()||(s.g=s.pointFromMont(this.g));for(let o=0;o<this.h.word(0);o++)s.torsion[o]=s.pointFromMont(this.torsion[o]);return s}toEdwards(e,t,i=null){let[n,s]=this._edwards(e,t),o=new Qi({red:this.red,prime:this.prime,p:this.p,a:n,d:s,n:this.n,h:this.h,z:this.z});if(i!=null){let a=o._scale(this,t);a.redIsOdd()!==i&&a.redINeg()}if(this.g.isInfinity()||(o.g=o.pointFromMont(this.g),o.g.normalize()),o.isComplete())for(let a=0;a<this.h.word(0);a++)o.torsion[a]=o.pointFromMont(this.torsion[a]),o.torsion[a].normalize();return o}pointFromJSON(e){return Hn.fromJSON(this,e)}toJSON(e){let t=super.toJSON(e);return t.a=this.a.fromRed().toJSON(),t.b=this.b.fromRed().toJSON(),t}},Hn=class extends Lr{constructor(e,t,i){O(e instanceof jr),super(e,Hc.AFFINE),this.x=this.curve.zero,this.y=this.curve.zero,this.inf=!0,t!=null&&this._init(t,i)}_init(e,t){O(e instanceof me),O(t instanceof me),this.x=e,this.y=t,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1}clone(){return this.inf?this.curve.point():this.curve.point(this.x,this.y)}scale(e){return this.clone()}randomize(e){return this.clone()}neg(){return this.inf?this:this.curve.point(this.x,this.y.redNeg())}add(e){if(O(e instanceof Hn),this.inf)return e;if(e.inf)return this;if(this.x.eq(e.x))return this.y.eq(e.y)?this.dbl():this.curve.point();let t=e.x.redSub(this.x),n=e.y.redSub(this.y).redDiv(t),o=this.curve.b.redMul(n.redSqr()).redISub(this.curve.a).redISub(this.x).redISub(e.x),a=n.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)}dbl(){if(this.inf)return this;if(this.y.isZero())return this.curve.point();let e=this.x.redSqr().redIMuln(3),t=this.curve.a.redMul(this.x).redIMuln(2),i=e.redIAdd(t).redIAdd(this.curve.one),n=this.curve.b.redMul(this.y).redIMuln(2),s=i.redDiv(n),a=this.curve.b.redMul(s.redSqr()).redISub(this.curve.a).redISub(this.x).redISub(this.x),c=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,c)}getX(){if(this.inf)throw new Error("Invalid point.");return this.x.fromRed()}getY(){if(this.inf)throw new Error("Invalid point.");return this.y.fromRed()}eq(e){return O(e instanceof Hn),this===e?!0:this.inf?e.inf:e.inf?!1:this.x.eq(e.x)&&this.y.eq(e.y)}cmp(e){return O(e instanceof Hn),this.inf&&!e.inf?-1:!this.inf&&e.inf?1:this.inf&&e.inf?0:this.order().cmp(e.order())||this.getX().cmp(e.getX())||this.getY().cmp(e.getY())}isInfinity(){return this.inf}isOrder2(){return this.inf?!1:this.y.isZero()}isOdd(){return this.inf?!1:this.y.redIsOdd()}isEven(){return this.inf?!1:this.y.redIsEven()}toP(){return this}toJ(){return this}toX(){return this.inf?this.curve.xpoint():this.curve.xpoint(this.x,this.curve.one)}encode(){return this.toX().encode()}static decode(e,t,i){return O(e instanceof jr),e.decodeX(t).toP(i)}toJSON(e){if(this.inf)return[];let t=this.getX().toJSON(),i=this.getY().toJSON();return[t,i]}toPretty(){if(this.inf)return[];let e=this.curve.fieldSize*2,t=a2(this.getX(),e),i=a2(this.getY(),e);return[t,i]}static fromJSON(e,t){if(O(e instanceof jr),O(Array.isArray(t)),O(t.length===0||t.length===2||t.length===3),t.length===0)return e.point();let i=me.fromJSON(t[0]),n=me.fromJSON(t[1]);return e.point(i,n)}[o2](){return this.inf?"<MontPoint: Infinity>":"<MontPoint: x="+this.x.fromRed().toString(16,2)+" y="+this.y.fromRed().toString(16,2)+">"}},Gc=class extends Lr{constructor(e,t,i){O(e instanceof jr),super(e,Hc.PROJECTIVE),this.x=this.curve.one,this.z=this.curve.zero,t!=null&&this._init(t,i)}_init(e,t){O(e instanceof me),O(t==null||t instanceof me),this.x=e,this.z=t||this.curve.one,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red))}clone(){return this.curve.xpoint(this.x,this.z)}precompute(e,t){return this}validate(){if(this.isInfinity())return!0;let{x:e,z:t}=this,i=e.redSqr(),n=i.redMul(e),s=t.redSqr(),o=this.curve.a.redMul(i).redMul(t);return n.redIAdd(o).redIAdd(e.redMul(s)).redMul(this.curve.bi).redMul(t).redJacobi()!==-1}normalize(){return this.isInfinity()?this:this.z.eq(this.curve.one)?this:(this.x=this.x.redDiv(this.z),this.z=this.curve.one,this)}scale(e){if(O(e instanceof me),this.isInfinity())return this.curve.xpoint();let t=this.x.redMul(e),i=this.z.redMul(e);return this.curve.xpoint(t,i)}neg(){return this}dbl(){let t=this.x.redAdd(this.z).redSqr(),n=this.x.redSub(this.z).redSqr(),s=t.redSub(n),o=t.redMul(n),a=s.redMul(n.redIAdd(this.curve.a24.redMul(s)));return this.curve.xpoint(o,a)}diffAddDbl(e,t){O(e instanceof Gc),O(t instanceof Gc);let i=e.x.redAdd(e.z),n=i.redSqr(),s=e.x.redSub(e.z),o=s.redSqr(),a=n.redSub(o),c=t.x.redAdd(t.z),f=t.x.redSub(t.z).redMul(i),l=c.redMul(s),d=this.z.redMul(f.redAdd(l).redSqr()),p=this.x.redMul(f.redISub(l).redSqr()),b=n.redMul(o),g=a.redMul(o.redIAdd(this.curve.a24.redMul(a)));return[this.curve.xpoint(b,g),this.curve.xpoint(d,p)]}getX(){if(this.isInfinity())throw new Error("Invalid point.");return this.normalize(),this.x.fromRed()}getY(e){return this.toP(e).getY()}eq(e){if(O(e instanceof Gc),this===e)return!0;if(this.isInfinity())return e.isInfinity();if(e.isInfinity())return!1;if(this.z.eq(e.z))return this.x.eq(e.x);let t=this.x.redMul(e.z),i=e.x.redMul(this.z);return t.eq(i)}cmp(e){O(e instanceof Gc);let t=this.isInfinity(),i=e.isInfinity();return t&&!i?-1:!t&&i?1:t&&i?0:this.order().cmp(e.order())||this.getX().cmp(e.getX())}isInfinity(){return this.z.isZero()}isOrder2(){return this.isInfinity()?!1:this.x.isZero()}isOdd(){return!1}isEven(){return!1}hasTorsion(){return this.isInfinity()?!1:this.x.isZero()?!0:super.hasTorsion()}order(){try{return this.toP().order()}catch(e){return new me(1)}}jmul(e){O(e instanceof me),O(!e.red);let t=e.bitLength(),i=this.curve.xpoint(),n=this;for(let s=t-1;s>=0;s--)e.bit(s)===0?[i,n]=this.diffAddDbl(i,n):[n,i]=this.diffAddDbl(n,i);return i}jmulBlind(e,t){return t?this.randomize(t).jmul(e):this.jmul(e)}jmulAdd(e,t,i){throw new Error("Not implemented.")}toP(e=null){return O(e==null||typeof e=="boolean"),this.isInfinity()?this.curve.point():(this.normalize(),this.curve.pointFromX(this.x,e))}toJ(){return this}toX(){return this}key(){if(this.isInfinity())return`${this.curve.uid}:oo`;this.normalize();let e=this.getX().toString(16);return`${this.curve.uid}:${e}`}encode(){return this.curve.encodeField(this.getX())}static decode(e,t){O(e instanceof jr);let i=e.decodeField(t);i.iumaskn(e.fieldBits);let n=e.xpoint(i,e.one);return O(!n.isInfinity()),n}toJSON(e){return this.toP().toJSON(e)}toPretty(){return this.toP().toPretty()}static fromJSON(e,t){return Hn.fromJSON(e,t).toX()}[o2](){return this.isInfinity()?"<XPoint: Infinity>":"<XPoint: x="+this.x.fromRed().toString(16,2)+" z="+this.z.fromRed().toString(16,2)+">"}},Qi=class extends us{constructor(e){super(Gn,"edwards",e);this.a=me.fromJSON(e.a).toRed(this.red),this.d=me.fromJSON(e.d).toRed(this.red),this.s=me.fromJSON(e.s||"0").toRed(this.red),this.si=this.s.isZero()?this.zero:this.s.redInvert(),this.k=this.d.redMuln(2),this.smi=-this.d.redNeg().word(0),this.ad6=this.a.redAdd(this.d).redMul(this.i6),this.twisted=!this.a.eq(this.one),this.oneA=this.a.eq(this.one),this.mOneA=this.a.eq(this.one.redNeg()),this.smallD=this.prime!=null&&this.d.redNeg().length===1,this.alt=null,this._finalize(e)}static _isomorphism(e,t,i){O(e instanceof me),O(t instanceof me),O(i instanceof me);let n=i.clone(),s=i.redMul(t).redDiv(e);if(e.redDiv(i).redJacobi()!==1)throw new Error("Invalid `a` coefficient.");return[n,s]}_short(e,t){let{a:i,d:n}=this,s=i.redSqr(),o=s.redMul(i),a=n.redSqr(),c=a.redMul(n),u=i.redMul(n).redIMuln(14),f=s.redMul(n),l=i.redMul(a),d=f.redIAdd(l).redIMuln(33),p=s.redAdd(u).redIAdd(a).redDivn(-48),b=d.redISub(o).redISub(c).redDivn(864);return e!=null?Ir._isomorphism(p,b,e,t):[p,b]}_mont(e,t=!1){O(typeof t=="boolean");let i,n;t?(i=this.d.redAdd(this.a),n=this.d.redSub(this.a)):(i=this.a.redAdd(this.d),n=this.a.redSub(this.d));let s=n.redInvert(),o=i.redMuln(2).redMul(s),a=s.redMuln(4);return e!=null?jr._isomorphism(o,a,e):[o,a]}_edwards(e){return Qi._isomorphism(this.a,this.d,e)}_scaleShort(e){O(e instanceof Ir);let[t,i]=e._scale(this);return[this.field(t.redInvert()),this.field(i.redInvert())]}_scaleMont(e,t=!1){if(O(e instanceof jr),O(typeof t=="boolean"),this.g.isInfinity()||e.g.isInfinity()){let[n]=e._edwards(null,t);return this.field(n).redDivSqrt(this.a)}let i=e.g.x.redDiv(e.g.y);return this.g.x.redDiv(this.field(i))}_scaleEdwards(e){return O(e instanceof Qi),this.g.isInfinity()||e.g.isInfinity()?this.field(e.a).redDivSqrt(this.a):this.g.x.redDiv(this.field(e.g.x))}_mulA(e){return O(e instanceof me),this.oneA?e.clone():this.mOneA?e.redNeg():this.a.redMul(e)}_mulD(e){return O(e instanceof me),this.smallD?e.redMuln(this.smi):this.d.redMul(e)}_elligator1(e){let{s:t,si:i,i2:n,one:s,two:o}=this,a=i.redSqr().redIMuln(2),c=t.redSqr().redMul(n),u=c.redSqr(),f=a.redAdd(c),l=f.redSqr().redISub(o),d=a.redSub(s),p=s.redSub(e),b=s.redAdd(e),g=b.isZero()?b:p.redDiv(b),m=g.redSqr(),w=m.redMul(g),I=w.redMul(m).redAdd(l.redMul(w)).redIAdd(g),F=this.field(I.redJacobi()),V=this.field(m.redAdd(u).redJacobi()),P=F.redMul(V),W=F.redMul(g),ne=F.redMul(I).redSqrt().redMul(P),Q=s.redAdd(W),M=f.redMul(W),y=Q.redSqr(),v=d.redMul(t).redMul(W).redMul(Q),k=g.isZero()?this.one:ne,N=M.redSub(y),L=M.redAdd(y);return this.cpoint(v,k,N,L)}_invert1(e,t){let{s:i,si:n,i2:s,one:o}=this,{x:a,y:c,z:u}=e,f=t&1,l=n.redSqr().redIMuln(2),d=i.redSqr().redMul(s),p=d.redSqr(),b=l.redAdd(d),g=l.redSub(o),m=c.redSub(u),w=c.redAdd(u).redIMuln(2),A=w.isZero()?w:m.redDiv(w),I=o.redAdd(A.redMul(b)),P=I.redSqr().redISub(o).redSqrt().redSub(I),W=o.redAdd(P),Q=g.redMul(i).redMul(P).redMul(W).redMul(a.redMul(u)),M=P.redSqr().redIAdd(p),v=this.field(Q.redMul(M).redJacobi()).redMul(P),k=o.redSub(v),N=o.redAdd(v),L=N.isZero()?N:k.redDiv(N);return L.redIsOdd()!==Boolean(f)&&L.redINeg(),L}_alt(){return this.alt||(this.alt=this.toMont()),this.alt}isElliptic(){let e=this.a.redMul(this.d),t=this.a.redSub(this.d);return!e.redMul(t).isZero()}jinv(){let{a:e,d:t}=this,i=e.redMul(t),n=e.redSub(t).redPown(4),s=e.redSqr(),o=t.redSqr(),c=s.redAdd(i.redMuln(14)).redIAdd(o).redPown(3).redIMuln(16),u=i.redMul(n);if(u.isZero())throw new Error("Curve is not elliptic.");return c.redDiv(u).fromRed()}isComplete(){return this.a.redJacobi()===1&&this.d.redJacobi()===-1}point(e,t,i,n){return new Gn(this,e,t,i,n)}jpoint(e,t,i){return O(e==null&&t==null&&i==null),this.point()}cpoint(e,t,i,n){O(e instanceof me),O(t instanceof me),O(i instanceof me),O(n instanceof me);let s=e.redMul(n),o=i.redMul(t),a=t.redMul(n),c=e.redMul(i);return this.point(s,o,a,c)}solveX2(e){O(e instanceof me);let t=e.redSqr(),i=this._mulD(t).redISub(this.a);return t.redISub(this.one).redDiv(i)}solveX(e){let t=e.redSqr(),i=this._mulD(t).redISub(this.a);return t.redISub(this.one).redDivSqrt(i)}solveY2(e){O(e instanceof me);let t=e.redSqr(),i=this._mulA(t).redISub(this.one),n=this._mulD(t).redISub(this.one);return i.redDiv(n)}solveY(e){let t=e.redSqr(),i=this._mulA(t).redISub(this.one),n=this._mulD(t).redISub(this.one);return i.redDivSqrt(n)}validate(e){if(O(e instanceof Gn),e.zOne){let l=e.x.redSqr(),d=e.y.redSqr(),p=this._mulD(l).redMul(d),b=this._mulA(l).redIAdd(d),g=this.one.redAdd(p),m=e.t,w=e.x.redMul(e.y);return b.eq(g)&&m.eq(w)}let t=e.x.redSqr(),i=e.y.redSqr(),n=e.z.redSqr(),s=n.redSqr(),o=this._mulD(t).redMul(i),a=this._mulA(t).redIAdd(i).redMul(n),c=s.redIAdd(o),u=e.t.redMul(e.z),f=e.x.redMul(e.y);return a.eq(c)&&u.eq(f)}pointFromX(e,t=null){O(e instanceof me),O(t==null||typeof t=="boolean"),e.red||(e=e.toRed(this.red));let i=this.solveY(e);if(t!=null){if(i.isZero()&&t)throw new Error("Invalid point.");i.redIsOdd()!==t&&i.redINeg()}return this.point(e,i)}pointFromY(e,t=null){O(e instanceof me),O(t==null||typeof t=="boolean"),e.red||(e=e.toRed(this.red));let i=this.solveX(e);if(t!=null){if(i.isZero()&&t)throw new Error("Invalid point.");i.redIsOdd()!==t&&i.redINeg()}return this.point(i,e)}isIsomorphic(e,t=!1){if(O(e instanceof us),O(typeof t=="boolean"),!e.p.eq(this.p))return!1;if(e.type==="short")return e.isIsomorphic(this);if(e.type==="mont"){let i=this.field(e.a),n,s;return t?(n=this.d.redAdd(this.a),s=this.d.redSub(this.a)):(n=this.a.redAdd(this.d),s=this.a.redSub(this.d)),i.redMul(s).eq(n.redIMuln(2))}if(e.type==="edwards"){let i=this.field(e.a),n=this.field(e.d);return this.a.redMul(n).eq(i.redMul(this.d))}return!1}isIsogenous(e){if(O(e instanceof us),!e.p.eq(this.p))return!1;if(e.type==="mont"){if(!this.a.eq(this.one))return!1;let t=this.field(e.a),i=this.field(e.b),n=this.two.redSub(this.d.redMuln(4));return t.eq(n)&&i.eq(this.one)}if(e.type==="edwards"){let t=this.field(e.a),i=this.field(e.d);return t.eq(this.a.redNeg())&&i.eq(this.d.redSub(this.a))}return!1}pointFromShort(e){if(O(e instanceof Vr),this.isIsomorphic(e.curve)){if(e.isInfinity())return this.point();if(e.y.isZero())return this.point(this.zero,this.one.redNeg());let{a:t,d:i}=this,[n,s]=this._scale(e.curve),o=t.redMuln(5),a=i.redMuln(5),c=this.field(e.x).redMul(n),u=this.field(e.y).redMul(s),f=c.redMuln(6),l=c.redMuln(12),d=f.redSub(t).redISub(i),p=u.redMuln(6),b=l.redSub(o).redIAdd(i),g=l.redAdd(t).redISub(a);return this.cpoint(d,p,b,g)}throw new Error("Not implemented.")}pointFromMont(e){O(e instanceof Hn),O(e.curve.p.eq(this.p));let t=this.field(e.x),i=this.field(e.y);if(this.isIsogenous(e.curve)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point();let n=t.redSqr(),s=n.redMul(t),o=s.redMul(t),a=o.redMul(t),c=i.redSqr(),u=i.redMuln(4),f=n.redSub(this.one),l=n.redMuln(2),d=c.redMuln(4),p=s.redIMuln(2),b=t.redMul(c).redIMuln(4),g=n.redMul(c).redIMuln(2),m=c.redIMuln(2),w=u.redMul(f),A=o.redISub(l).redIAdd(d).redIAdd(this.one),I=a.redSub(p).redISub(b).redIAdd(t).redINeg(),F=a.redISub(g).redISub(p).redISub(m).redIAdd(t);return this.cpoint(w,A,I,F).divn(4)}if(this.isIsomorphic(e.curve,!0)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point(this.zero,this.one.redNeg());let s=this._scale(e.curve,!0).redMul(t),o=i,a=t.redAdd(this.one),c=t.redSub(this.one);return this.cpoint(s,o,a,c)}if(this.isIsomorphic(e.curve,!1)){if(e.isInfinity())return this.point();if(e.x.isZero())return this.point(this.zero,this.one.redNeg());let s=this._scale(e.curve,!1).redMul(t),o=i,a=t.redSub(this.one),c=t.redAdd(this.one);return this.cpoint(s,o,a,c)}throw new Error("Not implemented.")}pointFromEdwards(e){O(e instanceof Gn),O(e.curve.p.eq(this.p));let t=this.field(e.curve.a),i=this.field(e.x),n=this.field(e.y),s=this.field(e.z),o=this.field(e.t);if(this.isIsogenous(e.curve)){let a=i.redMul(n),c=i.redSqr(),u=n.redSqr(),f=s.redSqr(),l=t.redMul(c),d=a.redIMuln(2),p=u.redSub(l),b=u.redAdd(l),g=f.redIMuln(2).redISub(b),m=this.cpoint(d,p,b,g);return this.twisted?m:m.divn(4)}if(this.isIsomorphic(e.curve)){let a=this._scale(e.curve),c=a.redMul(i),u=n,f=s,l=a.redMul(o);return this.point(c,u,f,l)}throw new Error("Not implemented.")}pointFromUniform(e,t=null){O(e instanceof me),O(e.red===this.red),O(t==null||t instanceof jr),t||(t=this._alt());let i=t.field(e),n=t.pointFromUniform(i);return this.pointFromMont(n)}pointToUniform(e,t,i=null){O(e instanceof Gn),O(t>>>0===t),O(i==null||i instanceof jr),i||(i=this._alt());let n=(t>>4&15)%this.torsion.length,s=e.add(this.torsion[n]),o=i.pointFromEdwards(s),a=i.pointToUniform(o,t&15);return this.field(a)}pointFromHash(e,t,i=null){O(i==null||i instanceof jr),i||(i=this._alt());let n=i.pointFromHash(e,t);return this.pointFromMont(n)}pointToHash(e,t,i,n=null){O(e instanceof Gn),O(t>>>0===t),O(n==null||n instanceof jr),n||(n=this._alt());let s=t%this.torsion.length,o=e.add(this.torsion[s]),a=n.pointFromEdwards(o);return n.pointToHash(a,0,i)}decodePoint(e){return Gn.decode(this,e)}toShort(e,t,i=null){let[n,s]=this._short(e,t),o=new Ir({red:this.red,prime:this.prime,p:this.p,a:n,b:s,n:this.n,h:this.h});if(i!=null){let[,a]=o._scale(this);a.redIsOdd()!==i&&a.redINeg()}this.g.isInfinity()||(o.g=o.pointFromEdwards(this.g));for(let a=0;a<this.h.word(0);a++)o.torsion[a]=o.pointFromEdwards(this.torsion[a]);return o}toMont(e,t,i=null){let[n,s]=this._mont(e,t),o=new jr({red:this.red,prime:this.prime,p:this.p,a:n,b:s,n:this.n,h:this.h,z:this.z});if(i!=null){let a=this._scale(o,t);a.redIsOdd()!==i&&a.redINeg()}this.g.isInfinity()||(o.g=o.pointFromEdwards(this.g));for(let a=0;a<this.h.word(0);a++)o.torsion[a]=o.pointFromEdwards(this.torsion[a]);return o}toEdwards(e,t=null){let[i,n]=this._edwards(e),s=new Qi({red:this.red,prime:this.prime,p:this.p,a:i,d:n,n:this.n,h:this.h,z:this.z});if(t!=null){let o=s._scale(this);o.redIsOdd()!==t&&o.redINeg()}if(this.g.isInfinity()||(s.g=s.pointFromEdwards(this.g),s.g.normalize()),s.isComplete())for(let o=0;o<this.h.word(0);o++)s.torsion[o]=s.pointFromEdwards(this.torsion[o]),s.torsion[o].normalize();return s}pointFromJSON(e){return Gn.fromJSON(this,e)}toJSON(e){let t=super.toJSON(e);return t.a=this.a.fromRed().toJSON(),t.d=this.d.fromRed().toJSON(),this.s.isZero()||(t.s=this.s.fromRed().toJSON()),t}},Gn=class extends Lr{constructor(e,t,i,n,s){O(e instanceof Qi),super(e,Hc.EXTENDED),this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0,t!=null&&this._init(t,i,n,s)}_init(e,t,i,n){O(e instanceof me),O(t instanceof me),O(i==null||i instanceof me),O(n==null||n instanceof me),this.x=e,this.y=t,this.z=i||this.curve.one,this.t=n||null,this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z.eq(this.curve.one),this._check(),this.t||(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redDiv(this.z)))}_check(){if(this.z.isZero())throw new Error("Invalid point.")}clone(){return this.curve.point(this.x,this.y,this.z,this.t)}normalize(){if(this.zOne)return this;let e=this.z.redInvert();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t=this.t.redMul(e),this.z=this.curve.one,this.zOne=!0,this}scale(e){O(e instanceof me);let t=this.x.redMul(e),i=this.y.redMul(e),n=this.z.redMul(e),s=this.t.redMul(e);return this.curve.point(t,i,n,s)}neg(){let e=this.x.redNeg(),t=this.y,i=this.z,n=this.t.redNeg();return this.curve.point(e,t,i,n)}add(e){return O(e instanceof Gn),this.isInfinity()?e:e.isInfinity()?this:this.zOne?e._add(this):this._add(e)}_add(e){return this.curve.mOneA?this._addM1(e):this._addA(e)}_addM1(e){let t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),i=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.k).redMul(e.t),s=e.zOne?this.z.redAdd(this.z):this.z.redMul(e.z).redIMuln(2),o=i.redSub(t),a=s.redSub(n),c=s.redIAdd(n),u=i.redIAdd(t),f=o.redMul(a),l=c.redMul(u),d=o.redMul(u),p=a.redMul(c);return this.curve.point(f,l,p,d)}_addA(e){let t=this.x.redMul(e.x),i=this.y.redMul(e.y),n=this.curve._mulD(this.t).redMul(e.t),s=e.zOne?this.z.clone():this.z.redMul(e.z),a=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(t).redISub(i),c=s.redSub(n),u=s.redIAdd(n),f=i.redISub(this.curve._mulA(t)),l=a.redMul(c),d=u.redMul(f),p=a.redMul(f),b=c.redMul(u);return this.curve.point(l,d,b,p)}dbl(){return this.isInfinity()?this:this._dbl()}_dbl(){let e=this.x.redSqr(),t=this.y.redSqr(),i=this.zOne?this.curve.two:this.z.redSqr().redIMuln(2),n=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(i),c=n.redISub(t),u=s.redMul(a),f=o.redMul(c),l=s.redMul(c),d=a.redMul(o);return this.curve.point(u,f,d,l)}getX(){return this.normalize(),this.x.fromRed()}getY(){return this.normalize(),this.y.fromRed()}eq(e){if(O(e instanceof Gn),O(!this.z.isZero()),O(!e.z.isZero()),this===e)return!0;if(this.z.eq(e.z))return this.x.eq(e.x)&&this.y.eq(e.y);let t=this.x.redMul(e.z),i=e.x.redMul(this.z);if(!t.eq(i))return!1;let n=this.y.redMul(e.z),s=e.y.redMul(this.z);return n.eq(s)}cmp(e){return O(e instanceof Gn),this.order().cmp(e.order())||this.getY().cmp(e.getY())||this.getX().cmp(e.getX())}isInfinity(){return O(!this.z.isZero()),this.x.isZero()?this.y.eq(this.z):!1}isOrder2(){return this.isInfinity()?!1:this.x.isZero()}isOdd(){return this.normalize(),this.x.redIsOdd()}isEven(){return this.normalize(),this.x.redIsEven()}toP(){return this.normalize()}toJ(){return this}encode(){let e=this.getY();return e.setn(this.curve.signBit,this.x.redIsOdd()),this.curve.encodeAdjusted(e)}static decode(e,t){O(e instanceof Qi);let i=e.decodeAdjusted(t),n=i.testn(e.signBit)!==0;if(i.setn(e.signBit,0),i.cmp(e.p)>=0)throw new Error("Invalid point.");return e.pointFromY(i,n)}toJSON(e){if(this.isInfinity())return[];let t=this.getX().toJSON(),i=this.getY().toJSON();return e===!0&&this.pre?[t,i,this.pre.toJSON()]:[t,i]}toPretty(){let e=this.curve.fieldSize*2,t=a2(this.getX(),e),i=a2(this.getY(),e);return[t,i]}static fromJSON(e,t){if(O(e instanceof Qi),O(Array.isArray(t)),O(t.length===0||t.length===2||t.length===3),t.length===0)return e.point();let i=me.fromJSON(t[0]),n=me.fromJSON(t[1]),s=e.point(i,n);return t.length>2&&t[2]!=null&&(s.pre=X_.fromJSON(s,t[2])),s}[o2](){return this.isInfinity()?"<EdwardsPoint: Infinity>":"<EdwardsPoint: x="+this.x.fromRed().toString(16,2)+" y="+this.y.fromRed().toString(16,2)+" z="+this.z.fromRed().toString(16,2)+">"}},X_=class{constructor(){this.naf=null,this.windows=null,this.doubles=null,this.blinding=null,this.beta=null}map(e){O(typeof e=="function");let t=new this.constructor;return this.naf&&(t.naf=this.naf.map(e)),this.doubles&&(t.doubles=this.doubles.map(e)),t}toJSON(){return{naf:this.naf?this.naf.toJSON():null,windows:this.windows?this.windows.toJSON():null,doubles:this.doubles?this.doubles.toJSON():null,blinding:this.blinding?this.blinding.toJSON():void 0}}fromJSON(e,t){return O(e instanceof Lr),O(t&&typeof t=="object"),t.naf!=null&&(this.naf=J_.fromJSON(e,t.naf)),t.windows!=null&&(this.windows=iO.fromJSON(e,t.windows)),t.doubles!=null&&(this.doubles=nO.fromJSON(e,t.doubles)),t.blinding!=null&&(this.blinding=sO.fromJSON(e,t.blinding)),this}static fromJSON(e,t){return new this().fromJSON(e,t)}},J_=class{constructor(e,t){this.width=e,this.points=t}map(e){O(typeof e=="function");let{width:t}=this,i=[];for(let n of this.points)i.push(e(n));return new this.constructor(t,i)}toJSON(){return{width:this.width,points:this.points.slice(1).map(e=>e.toJSON())}}static fromJSON(e,t){O(e instanceof Lr),O(t&&typeof t=="object"),O(t.width>>>0===t.width),O(Array.isArray(t.points));let{curve:i}=e,{width:n}=t,s=[e];for(let o of t.points)s.push(i.pointFromJSON(o));return new this(n,s)}},iO=class{constructor(e,t,i){this.width=e,this.bits=t,this.points=i}toJSON(){return{width:this.width,bits:this.bits,points:this.points.slice(1).map(e=>e.toJSON())}}static fromJSON(e,t){O(e instanceof Lr),O(t&&typeof t=="object"),O(t.width>>>0===t.width),O(t.bits>>>0===t.bits),O(Array.isArray(t.points));let{curve:i}=e,{width:n,bits:s}=t,o=[e];for(let a of t.points)o.push(i.pointFromJSON(a));return new this(n,s,o)}},nO=class{constructor(e,t){this.step=e,this.points=t}map(e){O(typeof e=="function");let{step:t}=this,i=[];for(let n of this.points)i.push(e(n));return new this.constructor(t,i)}toJSON(){return{step:this.step,points:this.points.slice(1).map(e=>e.toJSON())}}static fromJSON(e,t){O(e instanceof Lr),O(t&&typeof t=="object"),O(t.step>>>0===t.step),O(Array.isArray(t.points));let{curve:i}=e,{step:n}=t,s=[e];for(let o of t.points)s.push(i.pointFromJSON(o));return new this(n,s)}},sO=class{constructor(e,t){this.blind=e,this.unblind=t}toJSON(){return{blind:this.blind.toJSON(),unblind:this.unblind.toJSON()}}static fromJSON(e,t){O(e instanceof Lr),O(t&&typeof t=="object");let{curve:i}=e,n=me.fromJSON(t.blind),s=i.pointFromJSON(t.unblind);return new this(n,s)}},oO=class{constructor(e,t,i,n){this.beta=e,this.lambda=t,this.basis=i,this.pre=n}toJSON(){return{beta:this.beta.fromRed().toJSON(),lambda:this.lambda.toJSON(),basis:[this.basis[0].toJSON(),this.basis[1].toJSON()],pre:[this.pre[0],this.pre[1].toJSON(),this.pre[2].toJSON()]}}static fromJSON(e,t){O(e instanceof us),O(t&&typeof t=="object"),O(Array.isArray(t.basis)),O(Array.isArray(t.pre)),O(t.basis.length===2),O(t.pre.length===3),O(t.pre[0]>>>0===t.pre[0]);let i=me.fromJSON(t.beta).toRed(e.red),n=me.fromJSON(t.lambda),s=[id.fromJSON(t.basis[0]),id.fromJSON(t.basis[1])],o=[t.pre[0],me.fromJSON(t.pre[1]),me.fromJSON(t.pre[2])];return new this(i,n,s,o)}},id=class{constructor(e,t){this.a=e,this.b=t}toJSON(){return{a:this.a.toJSON(),b:this.b.toJSON()}}static fromJSON(e){O(e&&typeof e=="object");let t=me.fromJSON(e.a),i=me.fromJSON(e.b);return new this(t,i)}},IBe=class extends Ir{constructor(e){super({id:"P192",ossl:"prime192v1",type:"short",endian:"be",hash:"SHA256",prime:"p192",p:["ffffffff ffffffff ffffffff fffffffe","ffffffff ffffffff"],a:["ffffffff ffffffff ffffffff fffffffe","ffffffff fffffffc"],b:["64210519 e59c80e7 0fa7e9ab 72243049","feb8deec c146b9b1"],n:["ffffffff ffffffff ffffffff 99def836","146bc9b1 b4d22831"],h:"1",z:"-5",g:[["188da80e b03090f6 7cbf20eb 43a18800","f4ff0afd 82ff1012"],["07192b95 ffc8da78 631011ed 6b24cdd5","73f977a1 1e794811"],e]})}},TBe=class extends Ir{constructor(e){super({id:"P224",ossl:"secp224r1",type:"short",endian:"be",hash:"SHA256",prime:"p224",p:["ffffffff ffffffff ffffffff ffffffff","00000000 00000000 00000001"],a:["ffffffff ffffffff ffffffff fffffffe","ffffffff ffffffff fffffffe"],b:["b4050a85 0c04b3ab f5413256 5044b0b7","d7bfd8ba 270b3943 2355ffb4"],n:["ffffffff ffffffff ffffffff ffff16a2","e0b8f03e 13dd2945 5c5c2a3d"],h:"1",z:"1f",g:[["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3","56c21122 343280d6 115c1d21"],["bd376388 b5f723fb 4c22dfe6 cd4375a0","5a074764 44d58199 85007e34"],e]})}},RBe=class extends Ir{constructor(e){super({id:"P256",ossl:"prime256v1",type:"short",endian:"be",hash:"SHA256",prime:null,p:["ffffffff 00000001 00000000 00000000","00000000 ffffffff ffffffff ffffffff"],a:["ffffffff 00000001 00000000 00000000","00000000 ffffffff ffffffff fffffffc"],b:["5ac635d8 aa3a93e7 b3ebbd55 769886bc","651d06b0 cc53b0f6 3bce3c3e 27d2604b"],n:["ffffffff 00000000 ffffffff ffffffff","bce6faad a7179e84 f3b9cac2 fc632551"],h:"1",z:"-a",g:[["6b17d1f2 e12c4247 f8bce6e5 63a440f2","77037d81 2deb33a0 f4a13945 d898c296"],["4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16","2bce3357 6b315ece cbb64068 37bf51f5"],e]})}},qBe=class extends Ir{constructor(e){super({id:"P384",ossl:"secp384r1",type:"short",endian:"be",hash:"SHA384",prime:null,p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff fffffffe","ffffffff 00000000 00000000 ffffffff"],a:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff fffffffe","ffffffff 00000000 00000000 fffffffc"],b:["b3312fa7 e23ee7e4 988e056b e3f82d19","181d9c6e fe814112 0314088f 5013875a","c656398d 8a2ed19d 2a85c8ed d3ec2aef"],n:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff c7634d81 f4372ddf","581a0db2 48b0a77a ecec196a ccc52973"],h:"1",z:"-c",g:[["aa87ca22 be8b0537 8eb1c71e f320ad74","6e1d3b62 8ba79b98 59f741e0 82542a38","5502f25d bf55296c 3a545e38 72760ab7"],["3617de4a 96262c6f 5d9e98bf 9292dc29","f8f41dbd 289a147c e9da3113 b5f0b8c0","0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"],e]})}},BBe=class extends Ir{constructor(e){super({id:"P521",ossl:"secp521r1",type:"short",endian:"be",hash:"SHA512",prime:"p521",p:["000001ff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff"],a:["000001ff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","fffffffc"],b:["00000051 953eb961 8e1c9a1f 929a21a0","b68540ee a2da725b 99b315f3 b8b48991","8ef109e1 56193951 ec7e937b 1652c0bd","3bb1bf07 3573df88 3d2c34f1 ef451fd4","6b503f00"],n:["000001ff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffff","fffffffa 51868783 bf2f966b 7fcc0148","f709a5d0 3bb5c9b8 899c47ae bb6fb71e","91386409"],h:"1",z:"-4",g:[["000000c6 858e06b7 0404e9cd 9e3ecb66","2395b442 9c648139 053fb521 f828af60","6b4d3dba a14b5e77 efe75928 fe1dc127","a2ffa8de 3348b3c1 856a429b f97e7e31","c2e5bd66"],["00000118 39296a78 9a3bc004 5c8a5fb4","2c7d1bd9 98f54449 579b4468 17afbd17","273e662c 97ee7299 5ef42640 c550b901","3fad0761 353c7086 a272c240 88be9476","9fd16650"],e]})}},CBe=class extends Ir{constructor(e){super({id:"SECP256K1",ossl:"secp256k1",type:"short",endian:"be",hash:"SHA256",prime:"k256",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe fffffc2f"],a:"0",b:"7",n:["ffffffff ffffffff ffffffff fffffffe","baaedce6 af48a03b bfd25e8c d0364141"],h:"1",z:"1",c:["0a2d2ba9 3507f1df 233770c2 a797962c","c61f6d15 da14ecd4 7d8d27ae 1cd5f852"],g:[["79be667e f9dcbbac 55a06295 ce870b07","029bfcdb 2dce28d9 59f2815b 16f81798"],["483ada77 26a3c465 5da4fbfc 0e1108a8","fd17b448 a6855419 9c47d08f fb10d4b8"],e],endo:{beta:["7ae96a2b 657c0710 6e64479e ac3434e9","9cf04975 12f58995 c1396c28 719501ee"],lambda:["5363ad4c c05c30e0 a5261c02 8812645a","122e22ea 20816678 df02967c 1b23bd72"],basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],pre:[384,["3086d221 a7d46bcd e86c90e4 9284eb15","3daa8a14 71e8ca7f e893209a 45dbb031"],["-","e4437ed6 010e8828 6f547fa9 0abfe4c4","221208ac 9df506c6 1571b4ae 8ac47f71"]]}})}},MBe=class extends Ir{constructor(e){super({id:"BRAINPOOLP256",ossl:"brainpoolP256r1",type:"short",endian:"be",hash:"SHA256",prime:null,p:["a9fb57db a1eea9bc 3e660a90 9d838d72","6e3bf623 d5262028 2013481d 1f6e5377"],a:["7d5a0975 fc2c3057 eef67530 417affe7","fb8055c1 26dc5c6c e94a4b44 f330b5d9"],b:["26dc5c6c e94a4b44 f330b5d9 bbd77cbf","95841629 5cf7e1ce 6bccdc18 ff8c07b6"],n:["a9fb57db a1eea9bc 3e660a90 9d838d71","8c397aa3 b561a6f7 901e0e82 974856a7"],h:"1",z:"-2",g:[["8bd2aeb9 cb7e57cb 2c4b482f fc81b7af","b9de27e1 e3bd23c2 3a4453bd 9ace3262"],["547ef835 c3dac4fd 97f8461a 14611dc9","c2774513 2ded8e54 5c1d54c7 2f046997"],e]})}},NBe=class extends Ir{constructor(e){super({id:"BRAINPOOLP384",ossl:"brainpoolP384r1",type:"short",endian:"be",hash:"SHA384",prime:null,p:["8cb91e82 a3386d28 0f5d6f7e 50e641df","152f7109 ed5456b4 12b1da19 7fb71123","acd3a729 901d1a71 87470013 3107ec53"],a:["7bc382c6 3d8c150c 3c72080a ce05afa0","c2bea28e 4fb22787 139165ef ba91f90f","8aa5814a 503ad4eb 04a8c7dd 22ce2826"],b:["04a8c7dd 22ce2826 8b39b554 16f0447c","2fb77de1 07dcd2a6 2e880ea5 3eeb62d5","7cb43902 95dbc994 3ab78696 fa504c11"],n:["8cb91e82 a3386d28 0f5d6f7e 50e641df","152f7109 ed5456b3 1f166e6c ac0425a7","cf3ab6af 6b7fc310 3b883202 e9046565"],h:"1",z:"-5",g:[["1d1c64f0 68cf45ff a2a63a81 b7c13f6b","8847a3e7 7ef14fe3 db7fcafe 0cbd10e8","e826e034 36d646aa ef87b2e2 47d4af1e"],["8abe1d75 20f9c2a4 5cb1eb8e 95cfd552","62b70b29 feec5864 e19c054f f9912928","0e464621 77918111 42820341 263c5315"],e]})}},PBe=class extends Ir{constructor(e){super({id:"BRAINPOOLP512",ossl:"brainpoolP512r1",type:"short",endian:"be",hash:"SHA512",prime:null,p:["aadd9db8 dbe9c48b 3fd4e6ae 33c9fc07","cb308db3 b3c9d20e d6639cca 70330871","7d4d9b00 9bc66842 aecda12a e6a380e6","2881ff2f 2d82c685 28aa6056 583a48f3"],a:["7830a331 8b603b89 e2327145 ac234cc5","94cbdd8d 3df91610 a83441ca ea9863bc","2ded5d5a a8253aa1 0a2ef1c9 8b9ac8b5","7f1117a7 2bf2c7b9 e7c1ac4d 77fc94ca"],b:["3df91610 a83441ca ea9863bc 2ded5d5a","a8253aa1 0a2ef1c9 8b9ac8b5 7f1117a7","2bf2c7b9 e7c1ac4d 77fc94ca dc083e67","984050b7 5ebae5dd 2809bd63 8016f723"],n:["aadd9db8 dbe9c48b 3fd4e6ae 33c9fc07","cb308db3 b3c9d20e d6639cca 70330870","553e5c41 4ca92619 41866119 7fac1047","1db1d381 085ddadd b5879682 9ca90069"],h:"1",z:"7",g:[["81aee4bd d82ed964 5a21322e 9c4c6a93","85ed9f70 b5d916c1 b43b62ee f4d0098e","ff3b1f78 e2d0d48d 50d1687b 93b97d5f","7c6d5047 406a5e68 8b352209 bcb9f822"],["7dde385d 566332ec c0eabfa9 cf7822fd","f209f700 24a57b1a a000c55b 881f8111","b2dcde49 4a5f485e 5bca4bd8 8a2763ae","d1ca2b2f a8f05406 78cd1e0f 3ad80892"],e]})}},DBe=class extends jr{constructor(){super({id:"X25519",ossl:"X25519",type:"mont",endian:"le",hash:"SHA512",prime:"p25519",p:["7fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffed"],a:"76d06",b:"1",n:["10000000 00000000 00000000 00000000","14def9de a2f79cd6 5812631a 5cf5d3ed"],h:"8",z:"2",g:[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000009"],["5f51e65e 475f794b 1fe122d3 88b72eb3","6dc2b281 92839e4d d6163a5d 81312c14"]],torsion:[[],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000001"],["6be4f497 f9a9c2af c21fa77a d7f4a6ef","635a11c7 284a9363 e9a248ef 9c884415"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000001"],["141b0b68 06563d50 3de05885 280b5910","9ca5ee38 d7b56c9c 165db710 6377bbd8"]],[["57119fd0 dd4e22d8 868e1c58 c45c4404","5bef839c 55b1d0b1 248c50a3 bc959c5f"],["68c59389 3d458e64 31c6ca00 45fb5015","20a44346 8eaa68dd 0f103842 048065b7"]],[["57119fd0 dd4e22d8 868e1c58 c45c4404","5bef839c 55b1d0b1 248c50a3 bc959c5f"],["173a6c76 c2ba719b ce3935ff ba04afea","df5bbcb9 71559722 f0efc7bd fb7f9a36"]],[["00b8495f 16056286 fdb1329c eb8d09da","6ac49ff1 fae35616 aeb8413b 7c7aebe0"],["3931c129 569e83a5 29482c14 e628b457","933bfc29 ed801b4d 68871483 92507b1a"]],[["00b8495f 16056286 fdb1329c eb8d09da","6ac49ff1 fae35616 aeb8413b 7c7aebe0"],["46ce3ed6 a9617c5a d6b7d3eb 19d74ba8","6cc403d6 127fe4b2 9778eb7c 6daf84d3"]]]})}},OBe=class extends jr{constructor(){super({id:"X448",ossl:"X448",type:"mont",endian:"le",hash:"SHAKE256",prime:"p448",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff"],a:"262a6",b:"1",n:["3fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 7cca23e9","c44edb49 aed63690 216cc272 8dc58f55","2378c292 ab5844f3"],h:"4",z:"-1",g:[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000005"],["7d235d12 95f5b1f6 6c98ab6e 58326fce","cbae5d34 f55545d0 60f75dc2 8df3f6ed","b8027e23 46430d21 1312c4b1 50677af7","6fd7223d 457b5b1a"]],torsion:[[],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["ba4d3a08 29b6112f 8812e51b a0bb2abe","bc1cb08e b48e5569 36ba50fd d2e7d68a","f8cb3216 0522425b 3f990812 abbe635a","d37a21e1 7551b193"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["45b2c5f7 d649eed0 77ed1ae4 5f44d541","43e34f71 4b71aa96 c945af01 2d182975","0734cde9 faddbda4 c066f7ed 54419ca5","2c85de1e 8aae4e6c"]]]})}},LBe=class extends jr{constructor(){super({id:"MONT448",ossl:null,type:"mont",endian:"le",hash:"SHAKE256",prime:"p448",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff"],a:["b2cf97d2 d43459a9 31ed36b1 fc4e3cb5","5d93f8d2 22746997 60ccffc6 49961ed6","c5b05fca c24864ed 6fb59697 931b78da","84ddecd8 ca2b5cfb"],b:"1",n:["3fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 7cca23e9","c44edb49 aed63690 216cc272 8dc58f55","2378c292 ab5844f3"],h:"4",z:"-1",g:[["ac0d24cc c6c75cb0 eb71f81e 7a6edf51","48e88aee 009a2a24 e795687e c28e125a","3e6730a6 0d46367b aa7fe99d 152128dc","41321bc7 7817f059"],["5a4437f6 80c0d0db 9b061276 d5d0ffcc","e786ff33 b6a53d30 98746425 82e66f09","4433dae7 7244a6e2 6b11e905 7228f483","556c41a5 913f55fe"]],torsion:[[],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["bec92fd0 6da2acf2 b4e261e8 7cef0d34","22e75c18 3c589857 b71924e5 73c2f9ce","e18da5f2 466e2f39 3c2eedf0 f105a60a","b40c717d 4f1e1fd7"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["4136d02f 925d530d 4b1d9e17 8310f2cb","dd18a3e7 c3a767a8 48e6db19 8c3d0631","1e725a0d b991d0c6 c3d1120f 0efa59f5","4bf38e82 b0e1e028"]]]})}},FBe=class extends Qi{constructor(e){super({id:"ED25519",ossl:"ED25519",type:"edwards",endian:"le",hash:"SHA512",prefix:"SigEd25519 no Ed25519 collisions",context:!1,prime:"p25519",p:["7fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffed"],a:"-1",d:["52036cee 2b6ffe73 8cc74079 7779e898","00700a4d 4141d8ab 75eb4dca 135978a3"],n:["10000000 00000000 00000000 00000000","14def9de a2f79cd6 5812631a 5cf5d3ed"],h:"8",z:"2",g:[["216936d3 cd6e53fe c0a4e231 fdd6dc5c","692cc760 9525a7b2 c9562d60 8f25d51a"],["66666666 66666666 66666666 66666666","66666666 66666666 66666666 66666658"],e],torsion:[[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000001"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"],["7fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff ffffffec"]],[["2b832480 4fc1df0b 2b4d0099 3dfbd7a7","2f431806 ad2fe478 c4ee1b27 4a0ea0b0"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"]],[["547cdb7f b03e20f4 d4b2ff66 c2042858","d0bce7f9 52d01b87 3b11e4d8 b5f15f3d"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000"]],[["1fd5b9a0 06394a28 e9339932 38de4abb","5c193c70 13e5e238 dea14646 c545d14a"],["05fc536d 880238b1 3933c6d3 05acdfd5","f098eff2 89f4c345 b027b2c2 8f95e826"]],[["602a465f f9c6b5d7 16cc66cd c721b544","a3e6c38f ec1a1dc7 215eb9b9 3aba2ea3"],["05fc536d 880238b1 3933c6d3 05acdfd5","f098eff2 89f4c345 b027b2c2 8f95e826"]],[["1fd5b9a0 06394a28 e9339932 38de4abb","5c193c70 13e5e238 dea14646 c545d14a"],["7a03ac92 77fdc74e c6cc392c fa53202a","0f67100d 760b3cba 4fd84d3d 706a17c7"]],[["602a465f f9c6b5d7 16cc66cd c721b544","a3e6c38f ec1a1dc7 215eb9b9 3aba2ea3"],["7a03ac92 77fdc74e c6cc392c fa53202a","0f67100d 760b3cba 4fd84d3d 706a17c7"]]]})}},UBe=class extends Qi{constructor(e){super({id:"ISO448",ossl:null,type:"edwards",endian:"le",hash:"SHAKE256",prefix:"SigEd448",context:!0,prime:"p448",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff"],a:"1",d:["d78b4bdc 7f0daf19 f24f38c2 9373a2cc","ad461572 42a50f37 809b1da3 412a12e7","9ccc9c81 264cfe9a d0809970 58fb61c4","243cc32d baa156b9"],n:["3fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 7cca23e9","c44edb49 aed63690 216cc272 8dc58f55","2378c292 ab5844f3"],h:"4",z:"-1",g:[["79a70b2b 70400553 ae7c9df4 16c792c6","1128751a c9296924 0c25a07d 728bdc93","e21f7787 ed697224 9de732f3 8496cd11","69871309 3e9c04fc"],["7fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 80000000","00000000 00000000 00000000 00000000","00000000 00000001"],e],torsion:[[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000001"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000001"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]]]})}},zBe=class extends Qi{constructor(e){super({id:"ED448",ossl:"ED448",type:"edwards",endian:"le",hash:"SHAKE256",prefix:"SigEd448",context:!0,prime:"p448",p:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff"],a:"1",d:["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff ffff6756"],n:["3fffffff ffffffff ffffffff ffffffff","ffffffff ffffffff ffffffff 7cca23e9","c44edb49 aed63690 216cc272 8dc58f55","2378c292 ab5844f3"],h:"4",z:"-1",g:[["4f1970c6 6bed0ded 221d15a6 22bf36da","9e146570 470f1767 ea6de324 a3d3a464","12ae1af7 2ab66511 433b80e1 8b00938e","2626a82b c70cc05e"],["693f4671 6eb6bc24 88762037 56c9c762","4bea7373 6ca39840 87789c1e 05a0c2d7","3ad3ff1c e67c39c4 fdbd132c 4ed7c8ad","9808795b f230fa14"],e],torsion:[[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000001"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"],["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"]],[["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000001"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]],[["ffffffff ffffffff ffffffff ffffffff","ffffffff ffffffff fffffffe ffffffff","ffffffff ffffffff ffffffff ffffffff","ffffffff fffffffe"],["00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000 00000000 00000000","00000000 00000000"]]]})}},Z_={__proto__:null,P192:IBe,P224:TBe,P256:RBe,P384:qBe,P521:BBe,SECP256K1:CBe,BRAINPOOLP256:MBe,BRAINPOOLP384:NBe,BRAINPOOLP512:PBe,X25519:DBe,X448:OBe,MONT448:LBe,ED25519:FBe,ISO448:UBe,ED448:zBe},aO={__proto__:null,P192:null,P224:null,P256:null,P384:null,P521:null,SECP256K1:null,BRAINPOOLP256:null,BRAINPOOLP384:null,BRAINPOOLP512:null,X25519:null,X448:null,MONT448:null,ED25519:null,ISO448:null,ED448:null};function YGt(r,...e){O(typeof r=="string");let t=r.toUpperCase(),i=aO[t];if(!i){let n=Z_[t];if(!n)throw new Error(`Curve not found: "${r}".`);i=new n(...e),aO[t]=i}return i}function XGt(r,e){O(typeof r=="string"),O(typeof e=="function");let t=r.toUpperCase();if(Z_[t])throw new Error(`Curve already registered: "${r}".`);Z_[t]=e,aO[t]=null}function Y_(r,e,t){O(r instanceof me),O(!r.red),O(e>>>0===e),O(t>>>0===t);let i=new Array(t),n=r.bitLength()+1,s=r.sign()|1;O(n<=t);for(let u=0;u<t;u++)i[u]=0;let o=0,a=0,c;for(;o<n;){if(r.bit(o)===a){o+=1;continue}c=r.bits(o,e)+a,a=c>>e-1&1,c-=a<<e,i[o]=s*c,o+=e}return O(a===0),i}function GGt(r,e,t,i){O(i>>>0===i);let n=Y_(r,e,t),s=Math.ceil(n.length/i),o=new Array(s),a=0;for(let c=0;c<n.length;c+=i){let u=0;for(let f=c+i-1;f>=c;f--)u=(u<<1)+n[f];o[a++]=u}return O(a===s),o}function JGt(r,e,t){O(r instanceof me),O(e instanceof me),O(!r.red),O(!e.red),O(t>>>0===t);let i=[new Array(t),new Array(t)],n=Math.max(r.bitLength(),e.bitLength())+1,s=r.sign()|1,o=e.sign()|1;O(n<=t);let a=0,c=0;for(let u=0;u<n;u++){let f=r.bits(u,3),l=e.bits(u,3),d=(f&3)+a&3,p=(l&3)+c&3,b=0,g=0;if(d===3&&(d=-1),p===3&&(p=-1),d&1){let m=(f&7)+a&7;(m===3||m===5)&&p===2?b=-d:b=d}if(p&1){let m=(l&7)+c&7;(m===3||m===5)&&d===2?g=-p:g=p}i[0][u]=b*s,i[1][u]=g*o,2*a===1+b&&(a=1-a),2*c===1+g&&(c=1-c)}for(let u=n;u<t;u++)i[0][u]=0,i[1][u]=0;return i}function $Gt(r,e,t){let i=JGt(r,e,t),n=new Array(t);for(let s=0;s<t;s++){let o=i[0][s],a=i[1][s];n[s]=jGt[(o+1)*3+(a+1)]}return n}function O(r,e){if(!r){let t=new Error(e||"Assertion failed");throw Error.captureStackTrace&&Error.captureStackTrace(t,O),t}}function SBe(r){O(typeof r=="function");try{return r()}catch(e){throw e.message==="X is not a square mod P."||e.message==="Not invertible."?new Error("Invalid point."):e}}function WGt(r,e){let t=r%e;return t<0&&(e<0?t-=e:t+=e),t}function ZGt(r){O(r instanceof me),O(r.red);let e=r.red.m;if(e.cmpn(3)<=0)return r.clone();if(e.modrn(3)===2){let i=e.ushln(1).isubn(1).idivn(3);return r.redPow(i)}let t=e.modrn(9);if(t===4){let i=e.ushln(1).iaddn(1).idivn(9),n=r.redPow(i);if(!n.redSqr().redMul(n).eq(r))throw new Error("X is not a cube mod P.");return n}if(t===7){let i=e.addn(2).idivn(9),n=r.redPow(i);if(!n.redSqr().redMul(n).eq(r))throw new Error("X is not a cube mod P.");return n}throw new Error("Not implemented.")}function kBe(r){let e=ZGt(r);if(r.red.m.modrn(3)===1){let t=new me(2).toRed(r.red),i=new me(3).toRed(r.red),n=t.redInvert(),s=i.redNeg().redSqrt().redMul(n),o=s.redNeg(),a=s.redSub(n),c=o.redSub(n),u=e.redMul(a),f=e.redMul(c);return[e,u,f]}return[e]}function ABe(r){for(let e of kBe(r))if(e.redJacobi()>=0)return e;throw new Error("X^(1/3) is not a square mod P.")}function _Be(r){return me.randomBits(r,32).toNumber()}function rO(r,e){let t=new WeakMap;return function(n,s){let o=s&1,a=t.get(n);if(a&&a[o]!==null)return a[o];let c=r.call(e,n,s);return t.has(n)||t.set(n,[null,null]),t.get(n)[o]=c,c}}function a2(r,e){O(r instanceof me),O(e>>>0===e),e&7&&(e+=8-(e&7));let t=r.toString(16,e),i=[],n=[];O((t.length&7)==0);for(let s=0;s<t.length;s+=8)i.push(t.slice(s,s+8));for(let s=0;s<i.length;s+=4)n.push(i.slice(s,s+4).join(" "));return n}zs.Curve=us;zs.Point=Lr;zs.ShortCurve=Ir;zs.ShortPoint=Vr;zs.JPoint=rd;zs.MontCurve=jr;zs.MontPoint=Hn;zs.XPoint=Gc;zs.EdwardsCurve=Qi;zs.EdwardsPoint=Gn;zs.curves=Z_;zs.curve=YGt;zs.register=XGt});var $Be=h(c2=>{"use strict";var fs=hf(),Q_=globalThis.crypto||globalThis.msCrypto,VBe=Q_&&typeof Q_.getRandomValues=="function",QGt=VBe?Q_.getRandomValues.bind(Q_):null,jBe=new Uint32Array(16),cO=65536,uO=0;function e$t(r){fs(r>>>0===r);let e=Buffer.alloc(r);return HBe(e,0,r),e}function t$t(r,e,t){return fs(Buffer.isBuffer(r)),e==null&&(e=0),fs(e>>>0===e),t==null&&(t=r.length-e),fs(t>>>0===t),fs(e+t<=r.length),HBe(r,e,t),r}function GBe(){return(uO&15)==0&&(fO(jBe),uO=0),jBe[uO++]}function r$t(r,e){fs(r>>>0===r),fs(e>>>0===e),fs(e>=r);let t=e-r;if(t===0)return r;let i=-t>>>0,n,s;do n=GBe(),s=n%t;while(n-s>i);return s+r}function fO(r){if(!VBe)throw new Error("Entropy source not available.");return QGt(r)}function HBe(r,e,t){if(fs(Buffer.isBuffer(r)),fs(r.buffer instanceof ArrayBuffer),fs(r.byteOffset>>>0===r.byteOffset),fs(r.byteLength>>>0===r.byteLength),fs(e>>>0===e),fs(t>>>0===t),fs(e+t<=r.byteLength),t>2**31-1)throw new RangeError('The value "size" is out of range.');let i=r.byteOffset+e,n=new Uint8Array(r.buffer,i,t);if(n.length>cO)for(let s=0;s<n.length;s+=cO){let o=s+cO;o>n.length&&(o=n.length),fO(n.subarray(s,o))}else n.length>0&&fO(n)}c2.native=0;c2.randomBytes=e$t;c2.randomFill=t$t;c2.randomInt=GBe;c2.randomRange=r$t});var YBe=h((m3r,WBe)=>{"use strict";WBe.exports=$Be()});var QBe=h((x3r,XBe)=>{"use strict";var df=hf(),lO=tO(),JBe=KBe(),nd=YBe(),ZBe=class{constructor(e,t,i){df(typeof e=="string"),df(!t||typeof t=="string"),this.id=e,this.type="ecdh",this.eid=t||null,this._pre=i||null,this._curve=null,this._edwards=null,this.native=0}get curve(){return this._curve||(this._curve=JBe.curve(this.id)),this._curve}get edwards(){return this.eid&&!this._edwards&&(this._edwards=JBe.curve(this.eid,this._pre),this._edwards.precompute(nd),this._pre=null),this._edwards}get size(){return this.curve.fieldSize}get bits(){return this.curve.fieldBits}privateKeyGenerate(){let e=nd.randomBytes(this.curve.scalarSize);return this.curve.clamp(e)}privateKeyVerify(e){return df(Buffer.isBuffer(e)),e.length===this.curve.scalarSize}privateKeyExport(e,t){let i=this.publicKeyCreate(e),{x:n,y:s}=this.publicKeyExport(i,t);return{d:Buffer.from(e),x:n,y:s}}privateKeyImport(e){df(e&&typeof e=="object");let t=lO.decode(e.d,this.curve.endian);if(t.byteLength()>this.curve.scalarSize)throw new Error("Invalid private key.");return this.curve.encodeScalar(t)}publicKeyCreate(e){let t=this.curve.decodeClamped(e);if(this.edwards&&this.edwards.g.pre){let s=this.edwards.g.mulBlind(t);return this.curve.pointFromEdwards(s).encode()}return this.curve.g.toX().mulBlind(t,nd).encode()}publicKeyConvert(e,t){if(df(t==null||typeof t=="boolean"),!this.edwards)throw new Error("No equivalent edwards curve.");let i=this.curve.decodePoint(e),n=this.edwards.pointFromMont(i);return t!=null&&n.isOdd()!==t?n.neg().encode():n.encode()}publicKeyFromUniform(e){let t=this.curve.decodeUniform(e);return this.curve.pointFromUniform(t).encode()}publicKeyToUniform(e,t=nd.randomInt()){let i=this.curve.decodePoint(e),n=this.curve.pointToUniform(i,t);return this.curve.encodeUniform(n,t>>>8)}publicKeyFromHash(e,t=!1){return this.curve.pointFromHash(e,t).encode()}publicKeyToHash(e,t=nd.randomInt()){let i=this.curve.decodePoint(e);return this.curve.pointToHash(i,t,nd)}publicKeyVerify(e){df(Buffer.isBuffer(e));let t;try{t=this.curve.decodeX(e)}catch(i){return!1}return t.validate()}publicKeyIsSmall(e){df(Buffer.isBuffer(e));let t;try{t=this.curve.decodeX(e)}catch(i){return!1}return t.validate()?t.isSmall():!1}publicKeyHasTorsion(e){df(Buffer.isBuffer(e));let t;try{t=this.curve.decodeX(e)}catch(i){return!1}return t.validate()?t.hasTorsion():!1}publicKeyExport(e,t){let{x:i,y:n}=this.curve.decodePoint(e,t);return{x:this.curve.encodeField(i.fromRed()),y:this.curve.encodeField(n.fromRed())}}publicKeyImport(e){df(e&&typeof e=="object");let t=lO.decode(e.x,this.curve.endian);if(t.cmp(this.curve.p)>=0)throw new Error("Invalid point.");if(e.y!=null){let n=lO.decode(e.y,this.curve.endian);if(n.cmp(this.curve.p)>=0)throw new Error("Invalid point.");let s=this.curve.point(t,n);if(!s.validate())throw new Error("Invalid point.");return s.encode()}return this.curve.pointFromX(t).encode()}derive(e,t){let i=this.curve.decodeX(e),n=this.curve.decodeClamped(t);return i.mulBlind(n,nd).encode()}};XBe.exports=ZBe});var tCe=h((w3r,eCe)=>{eCe.exports={naf:{width:9,points:[["67ae9c4a22928f491ff4ae743edac83a6343981981624886ac62485fd3f8e25c","1267b1d177ee69aba126a18e60269ef79f16ec176724030402c3684878f5b4d4"],["49fda73eade3587bfcef7cf7d12da5de5c2819f93e1be1a591409cc0322ef233","5f4825b298feae6fe02c6e148992466631282eca89430b5d10d21f83d676c8ed"],["14568685fcf4bd4ee9e3ee194b1d810783e809f3bbf1ce955855981af50e4107","31c563e32b47d52f87ce6468dd36ad41f0882b46f7abf23d12c4c4b59f4062b8"],["357cc970c80071651bf336e06f9422b886d80e5c2e4e0294d3e023065185715c","7f3d23c2c2dd0df4b2befce956f2d2fd1f789013236e4430c74e44845522f1c0"],["14e528b1154be417b6cf078dd6712438d381a5b2c593d552ff2fd2c1207cf3cb","2d9082313f21ab975a6f7ce340ff0fce1258591c3c9c58d4308f2dc36a033713"],["107427e0d5f366ccdb33adf0282d304f8843e3e88d22b7b83780e073b7c05fed","12dbb00ded538b7478466022d2da89b83740cfb2289a272387efe1aeea401f80"],["4f162deaec2ec435dc5ac6f95d20419ed9631374770189cb90617f3e66a18dc1","12cbfb2d04ff22f55162f70164d29331ace5af18a19a9aa1946d4cc4ad2e5cdf"],["7dc52d5a7db816e9b850741ea2fd72918d94985b85a20b4dc5597853a876df6a","6f6d2bca60003ef9f24ac245cc919fb717b188723b34f901cd6cfe9bec97be04"],["1d81f74a5ba45c7022e8c140d763b9c1b0e281a5304696e74f791a3a04a94472","3f185a93d95a4347227c5bb6ddd65cf42e1830823f435f3083fe6102691d55b9"],["6f0ac78e5eb90e87958588f9d47541edf252cb1dde3d073cc45e3e7ef9365716","6628d116b7975ae5f323e5ddf4f8cc35ae06d5c5c7d8a56effc66051336d289e"],["2188ac423c67db5625915e05222a391bcaf91f05d9b7cc2cab5798b2d2e14d95","23240c559c57b79a4df69a23fc46e50504277b1fa49369ab663d79782b33c0ee"],["794241471ed9ceb009384b370cb8790fca98552ecb822dc06b19362c36353455","71e918c03cdfca7207772e8d18ee8f9d92d79a0a83f378912362bc68d311dcd0"],["163bc180c22dfc5da23c5c052107bba93a88b4360aa1d4e729611d8f5a7f8079","631107a6ba83f7458194b9766a0a54f638ca20daf800384dbae1498677501939"],["39a32a30f3eb1da0eb7e3903b8ace3da3890b24b61a3a9e79db663b5db0f7a5d","4d4c54675dc1f1c9a1af9ca0010045dc803c16af345823136dd203715d67c491"],["38085391a0e2831f59c33fcce7591515784d359925f11ff958e0e4658efac0e9","42918001a829f49b5634e34ab7fac21b30e24660669ed91955cc31944a19e62a"],["5e3573b049d6135ffbbbbd9a480617434f2455b4a591f719e91153eeb75a32a1","54bc665420c789da1105d53983c1a0fc33bcc2690cd9b37d6566e21a85892871"],["7ed068b25b82c05fdc0e46bd80a357f3acd2f5c3b9330bc8d474e5b28270f6eb","01da83a187da8ccca704d46557a462551d70df7f943a681c3b97b1db6a21b7d3"],["05ca3370e7516f6686111b72650aab4c5484407f14b515ade03951c6a14a0aa3","6f407fc537b95277966e7f0f5e64b86904bf7baee091cee6011a3611834c6903"],["624cb312b698bbd6dbca79b8d2b53cb5d8b3ab33c19306e87c18211f095ab9c3","5b3336b2751e97c793731ac9b9a2243b6229f6d0bbea6b619395d0e5200bd8a3"],["1ddf6ece608fe2901b34b7e4f47cfcb75e947e293c704d8121b11a31a051b5f9","5e2dc58e9a48a749ce5296d229cfb34f96a147a8246d2e9844d52b52112ea94e"],["396b384f3d61cfc060308fbb1c941ebc9418e2d9abd81316e08d625f48c0e101","7223e5f7b66d1ca24962bac273a7aa6618cc60cb8a64a8837e0261107e7ad644"],["53cc3dca3410277fb38d75e4ac0dde8e77a99c817170dbc9696cffe7890fbd50","2592a3aafce64d7c69f4de468d5d5aa19845f5ca08f64a0a40e37d23ececbbe1"],["34705fe600f5aed77b29d3eacdffcd45d886904156d43dc550bb7fc889cc1368","299153c141a8950ffbcc8e9352993e642fa39a476200dd4acf42e158dbe3b01e"],["5969255bd089181b991fce96b1792ba330a14f8a0b061f8118c9c336b8504618","680a805fa0ae93c2a12b193517fb1147d355547e4ab18a9d6ca21575bbb4d7a4"],["27d1d57fa8808d3d452df14bda4248b37902752163b1fd499a92456c59918ecb","0a42f1c0f4c5d7de9e82904f0b4ff63988d31fedb8aad9d8ae009c7a1dff09c3"],["0811d14bfdfdcf2144edd9cf55bce584a9ba17aec3eac8aaa82987ad703d9b8a","42bea70d46f3ee0df0ec77d24c5495ea56ada2e0415920470c4746b68306376e"],["4de090761b863cb0f0650297f154a8e66d00c5119c38e5dd05303d905d527a4a","5eef0efd105361ce198a30e09e7e7edffbe3d70189e63ca68cf6057b9772baa8"],["1d45517858ce45556aaee056ebab7e0ef3dc9ae3740aed570f3e76bfb4fc4817","0b5a9d8fe8b7ccb04c0a5ef77798a3ec6e1bc1138604eb05e83844f0d4c5c699"],["4285edbe9117f30aae1ef5ee419eb1d472106c6b3d7f3ce3701e39324b0eeafc","503aa6104a682bcf2c0a60c84f4c22b50b0caa0fed8db87dedc7173eae04bdbd"],["3ef830cbeff9b79039b1b6bd9bb52bbcfa56d008d91b9703ea1c80351f8687d6","62349ff5d8dbd216a874769eec152ef9734bea9240eed623992c7553dc8ee4c8"],["649a996e6d4d3b60ccb526939ed8929134107e03e2fd4648eaa2fa9830822c1a","1648311b942fe95d492a1ace5e5235c1aea860d036d2475cc8964cd1acedee9c"],["3a95596d97770d050d1ecc075d58a74f5fe6b4b8222740534ba22c8be73f9d56","15a80cdcc03317a830fa4a7461de6bac136993e0a797f83b405c161a34c98fd7"],["2d265d3fe1c88903ca93685209418deec5af886bf0d9fdb3f499d831cbb76ce1","08376fb0663d3aa220948612b519af4a6a1f956622b15a305fb2e60a84210b3c"],["642cb15498d8c6b25803f3e56b98e2ea185ac808cbeab5eb0a610ed5babb9385","21b5ca5020a9e5a2334c0bee15193ea16c909963ffa6e1d93df4b239abeaeb3e"],["38e576301ff6cdd0822a19c6d610d445d3967e2bada903abb6220f68c6e79bef","458fe689e31a24952d2817dda4349109c1b26ef31699fa36c4f8389eeb60eac0"],["372bec78d75011a0ef2233cd08790a7f15c1ec1e3a78cac8d6652678641780db","32e9e47cf2f48612ed3e2c2006ea0c0c8476d3562aa88cefb67ec97abdb538e8"],["1aa3756aabcc3eb65afee34e0a15dd67bfb9fb199eb131f4cc6a3ca9ec4d1c77","42333e27831add6eb49af80e17347c63c26dd684758096ee3dbdbe03a49159ae"],["38db16447d79d3590c4a36e20286beadfbae91a4eed2e5e7dd4f975ac0537dc5","1c48ccaed60ec12ce862ea71165bba7df1739845df2a857f4ef0a0f714f96daa"],["176b78984cddfddef90bae619c6a98e951d9a7ac7d6af218ae7e76b273212fb7","7b5b93eda77443f366e2a127abe12212aad8536767ec1c5861143f777db85852"],["042d154bf7b4a7bd73897ae528c6bc552ea58d74f8109e8e4052d3e9d38bb0f6","42d1831323e279f9f7ee9e3470ba20ca7edc3245eca5d8ffa182de120a71fc90"],["1f8d28dd4f286a8d0687b626b01204434bf5874a9550d6e375116490c154e108","1ce82e2360367e06f41757fd45239f9bc2c61609139446b09b55a9c43da98bb8"],["613eb914c015076e9ae8356bf508c289e50b1c87d9e2546f6e406362e248e5e5","3edbaafcd8c41ef4aa18b254137d201a2ef0ca4ca28807156bc949e920b97353"],["27bf43826bf0310b4b3e3a405eff790a1d77a8d48b04891246cff8e193cb03a9","16a24d749cc1d234fbe8af9cfd782c3aaa5869d6db0afa7b4d4c67037514f2ea"],["769a6a59746d7bead417bdd9c3b5f5ae1dbd924083ffd9e88df7714f57a675c2","22dc1267cfb2b41c590abb7dc3df45619af688d0421f2bdfb50748335ec5da25"],["795734ee4fcc24194219d25d41a2889cdb942f765848e9df63bff0b158c7224d","756420ab5c71127d39d2e79907634a177af0e483e08484ea4d7b76f7100669b5"],["644d12fc5e7fcac5aeb5911d8240971a99fc59fdd2903f46958e6896aefbcf46","173450789fcd40172e8124fea56f7aedad2ee13fa8fc5209cc8cb572175216dc"],["5deca767ef17b9e8d4f351f5c8ad1fcc50e97a2ed687516bf5210679fd6c1110","4ddf2207da12f700708089989da016f3307ce5721c9e27c952599d67898aa396"],["296dcb24cb3185d037a94bef93c97cacd09fc7050ba8472da59d4a689d9d2848","0b17dc85a4acf73833fab728f15abccac97cd09e57975bd996d3e1dd8b060f7b"],["408a3f1af2e77dfe94f8e225b40dfc146abb1002db7bcf15fde61c1a6cf1b93f","4f01ec38854c15a879e7c7924f048e2ec951dcdf04a614088b68fbcc0954e1c8"],["07d2d9234970cdc9483e0a7c5ec52c49077c440e0a993a1e624f90b8fafbbf07","6ac2190030c210ae3e07b9239f6ee7affba263866ee7831a564c511f703f2295"],["2982d553002082320aa899b9b6887e40dedf11868fa931689795d93d58452873","215e16ca447978624cad0ea6bf45aada4eca914425ee275db2a26e980dc349b6"],["1d8649515cb49e136d2895b6276569e5c711fe1a343eeb5a3daaa8d0e7b42d1a","5b21e2f2978f343a3e9ec3316cdc111af3b55f34afa5fc3fcbf6c26c1bb7fb6c"],["5460df4d607147939cdbc04dbdcbdffd37c5eafdd501b50a67213a23ee724a97","69dfc7004263ccb52487d34ab134b80bb3030273999739cb9cdc16d71b9abcd8"],["24623476f0af9f42ca15a0697ad23abeaf5ed9dc4d2b44f7e8175486598125bb","6aebe4a1a22d9e31194dcde6d33ff3af77dda15c22b2ecba9329849b8c042687"],["64e507a02bfd8a8413117bac253b17f94b2911681ebc07c92da0de6a651dd538","513ac992d72b463da110afb612fbae36590248a0507d845ee95fab2d1caa03a4"],["47f3bd11324f6bee230a22a5bb06a3ccddbc0473b810689efaeef894a654bf0e","7e05db9b3ff886bf32608dfc8d14eaa91e2e2ef230e7c75618060e4285c492be"],["4a6d22703a7045d02d656015ea2d168385d42963a739a895e4fd87b3e55c5e0f","4c58d7a8c6ded0451798e51f16ffa5b637a87aa5defb119ba868d8cccf61776d"],["3e22af70a548097244d7798964598172a90391f84c59b04cea7af283ba368eb5","689d8b7cda23b8dea197c5119fbbbd81dd4b59a36cc283dbe292b5b6519a2968"],["61a6ba2ca42d9d557b3a2ff0867c1b8bb8fc40192d31ff637431a302bc065a10","63d805f5a79f845ea2915a25cf0a8cab2e0255212a1bd3c8852b25579b63721d"],["03d963eeae48556e88305f91c478efcfd2168c346b9ba185884ec8621e8cb414","74b75cc839a944ad8c639719d20fd9d48d2099ef24c8633eabec7a9ec1e7e183"],["0f04da69e0202f7b44c58b103c88de09a0599951fedb17e7f2152d6b93a58ae9","1fbc1c9cd03c4cfd46e8e90019debf86e8036587eade038346f91070c800b8c4"],["797899e488353ed0c6666aff11913b33be0190833766e809b2a68cbc671a9cfe","5dd70a33ff94a84b3fe660f7070e6179e86b5c846689265bf985ce424b8909cc"],["735b64bb872606510e4e7d57833eb7ffdc4aa0dbaa242439806be68379f77cdd","384aaaee3ca7ba2436fcb65910859ca5ec30c10af11df7d777d287bc1a2bce2c"],["6f6ea532a62cf4766f55a0a72a86b55e73fe9d3328ee94bfc271e122f99dc1ac","61d8203ef6da5d0b584541c02331c7f58617cf8d4f26d11776236ce8b113ac10"],["5d99a2a3d4aed730b827b68ed836a9910dce4e7b93faf456981ad6cd85748773","7eeacf5680fb6108a8b7edb45f7134644111b08e17c236469685af5a79474b9e"],["31d0b4bb57bd7b69363c064a49bf3c3b9d7635bcc287e7b3059d3d99fd8382e8","1592e581034e13d47d02b8966f5359097e652391be8fb1e803f4219a22aba2c0"],["424cf5c498bbbe8fa7e5c3247049cc3f45946d0e5f38c44a36a6c84b60a84aa0","34acd712d334a2315dc8fd00c5c9b7c5c9f29bca27380a018882a5ab4a0fcb43"],["33a6ae0522936ba774837aa7959972f9804e3ef02ae84c8039be6595598be247","37022798cc08be9b4ded34c1c5062ab3a26081d375cadf517972fb48135a6602"],["5939635b72aeba595b5f6e376d11a3e07d4b1153ab4d0a7ab267b8bcc47cc3cb","382162eb33db2322cbe01a38fa4d13720b6d8edfaf8116a628725ef4293a6c27"],["3649e78d2ae9fb0ee86b691c27386efce4f3e383790e3cfee2bd59c2e85c4036","09b0d9e0dd82e697b9be9d61ce0d1410e281122b483125c48f7942b22f5d5be4"],["62c7585d1677b7619d8200175346ec99118416d8fdf0103730d165934e96a973","5fef7955ee07304429995433a468d68dec4ecf6b08bbe8cd06869080094044de"],["0c94537d311e17f5b0c58989b5be7e40c88b978a8c074a1e9bb07a713f77f6d3","6deaaa5001bcbbbe9ae436fe42f7042ce74fbf83c14058427fad4587ed33c4e2"],["6f5c6894a8d3877312e608c11809c15dffec3df551711095c8cfc810533e1b3e","74eadab9389b40d6ac6cc0d6e333d628ced60a9ef7617751c20630d23477af7b"],["4e16e88e171f9a07e11f97bba65c0fe5483501f255343afb3335ed47fbcee08f","41bcd7dd328871247cb7995bc6bd2e1961e94b0fb12e5fb2f264f9ad2cf47d4c"],["65d8484cef146e6c232fb262c2ac8200a52c63ccec26ff6f038aa5c74982c741","67283346bbae9391952b141e57ca8e3a36f0363d3b81b1c0f2b3c30a92c74235"],["1c588485b64be8cb99bf97f065e75a82138ea2e035ba90b63745354e9cf729f8","7c9a18d6ebf5465a197989cfb9b5b2a66a5402f46c4708ac04187c6b157a0d77"],["2c80c4ad0aebcafab7e9d2519a329f8a1c7df21cb6b1acec7403c0204d6dce71","7f8e62983160756e35356df95d44467e621c7274372997ca74a9fb760b4db36f"],["1e1e5fc87fa2c49e2c44d5718e3d73c73a91a64ac1374652080bd9004291b9c6","153828e90ed8d94c0f86e0eb54ccb31073cd29ed62c34cd9f2dbc5d98872e597"],["0ce0488a30ed446d445efb1bd21ba32ec3d05d538e6393bc0e58e0849ad57129","7278074ac66ac779136f4d6a334b27633645dea0fc98d137e3dbd4015d12b5a1"],["01a6b81f7285f293f19ba019b009aed8280ce285af42fab91e87fb0bbfa6dea4","60f910dc7c9a82e7836f36acfe7ec26b9babfa8bf26b2945b3c1a43b0c19b4dc"],["79b4ce3c6990023859646690c9ea800174902acfa1aad7ff34eca032dbde7150","53a1053d3fc6c749bf8a928854f392d09fa851ba963ca661bffbe74f012ba45b"],["220ee355b5c39c1901ed34c0f50f7778ad1bedcd7259ae167c16514ffe333498","05fd9374986e1e06035dbfada0117035b96b159354262f2b2695af1256d6aa2a"],["1e2f97d2cb4a19ca40403b364253da71f65d2d4665894267e3c6a9db8b4a3a18","22804fb035acb519210ff99ed7a974a725d896a77933789b4dd45a37dea3466d"],["35b8699fa20987876ac3b3086965b05f8cc809d71cab45e017c68ac96e24ed5b","155079de21981778dc438353bf2c6a65967a1a33ebb74c866fb42f4e3cce3e39"],["3cb40c55f5f19c52958e8c4ecd9c459b1d3268b3971b2286d3e58d1fc6b6a6bd","379e1f1f59df05c74485615b87441ba6203f0cdddc6873a883d4cc6dd1b75921"],["6ad916290e0d003ce5c961679f77704dcd768589d7cb728c60f56852031803bf","1e602b4a6725832a56944234f84c4f85f79911b55beef903549089925f2ccbea"],["7c0162492ae668160aa56a60e8bd43ec088555f750d2223cc37362dead5de123","34e60b446eae100d4c3abc6cb02e4ca559457fb5a9030a290a2568fa4cbf118f"],["354c25bf7b3e83dd0c5e1f39b82e3567edeb5337634056c1091cd6a016caacdf","7abb271ef121630f85a9a1049b3ad78d5b889f533b37a713b8801de46770fc3a"],["1e581a4bcf7504f33f4342b2097504d13f9b5a27f4790a6cdde1242209862850","2164d56564360fd2b5dba2f2c6ef1045ab448c3b60b2f2196c2f74625fc39e07"],["533b56f18283ee79b9a180b887c298961bd9aaa6fa3ef97fcb0d5688e694bc3d","6011366753812df2bce83634a92dbac18dd1cffdbf9a97fa1b1d5b49e0026764"],["4b508b94e6e2e6cd260a20664ea7d727ad20587b63ebe826032e0d20cdc6627b","1e8ecd6ff5aabae78172a0214d07a5013992d133af58afa74049de726df2a6c4"],["3398c0c0219f5ac87a8c73fcd17b89311d120a53f5231cb761030c194fed4265","025b234a1dc8662c068c4ba903939c2f79f3f7a3ae64e5edbf667b13599142d9"],["5941a17b04cd3465031cb6745cb94eed24e1ff8d38a6e832f1637ae8e89c78e6","5309792c546b6cda458be331957763b5adb5d535d54a4a61023678faa2ee02ee"],["2cb490d2c0047fcbaffe1df26640bee73c158af6fec91343d606ce9d124a20c9","2e2952ebf089200aebfa3947f241e2fe85797afebdc1ea06d9d26de1b446a964"],["79305236b583232a91c63c7d9ca3750be7ee21711e4d6d257c39ae398212bde1","6f9ecdfa953e302c2014fd8512405e4be0d48302acd15e93936e8dba7d01053b"],["57d9fcb884b94664f35387fa6665cd9bc8136f90d804d77416ea99c3c653ee63","14197e65f0a3599c0b9fcef75b5fbb93580d1b2457b59fb70ce7b9bac88d0fbc"],["6d99df2c28c9fa1e38acddefd3e0931109143d873f3330377a9926bdacdd6523","2f21987905f397f092fc56c5ccd301a1e6afa3c4611627e25017b2e68d07c150"],["749d19591f1755bd481fa12a288166aac42911654c8c551395b265116269ceb9","7ec145aa7558d0342cd87b1750933cb6f3717e727a86a1cc1f2b0c274213688d"],["340f7f5ae19292957902635a5786d14fa38036b324ae759da501e32b8c4073f1","64e231a413f1379a26f4e8223ff91fe2ccd865549571d3c6c28871964b40a0ea"],["4aa33e00bf6e92cac4e84384e5dde0727394233afd5d24d357a8afeb94b08109","3385bb4fbc441937ee01b671d506227a654fd6c1c532cf5221710c6c56ec7e21"],["34b2ffca05f01088de266306c5cc122661e9308eab16929774e58565afc0e4eb","7662faf0f70e82c062c2b835fc6da3353d3cb20b80611ffa6ef2982cf62fa605"],["820fcb51326f1536ddb8dc1052aa198406c7e48f2c81e7664d15f8f9d3715e","756574c23bb01170b97d9fa1663a8ff2f5b97eaa5cd53f34140c1bcec8c262d9"],["0861d7e84cec6d6e33641ff6c85202fc0e9160797809ddc2193802499caf05d3","34936e0a5dc7e2a6217d475fbb8c1c607fb8b3565908a04fd5948abdd399c59f"],["5b4a1dc887ef684d7b4b165b70acb70842a2fa105935af15ecb4a097e33b8f2b","54d21511c05805e5298a72372b8289e9d59c46dc8b5c368bbfda620b68aa652c"],["755493ed60b13f03f9c019362a5af73fb49842dd6916e2572b1b6a312cd20cfc","0750bcbf7e449cec422b93ace1489e1b177d4dbbaa781d315c74d54bb444e9a9"],["5f1c341065b6a81ed2edb6bc38ba81b4c2e3fe2058e5baa13e1406eb2c5b4b4b","6179ebfa7f8086f26820fc99ca2f94c1be19bca672d79cea5b02a836119e06ba"],["1915024ee86acfba3f61ced9707521197195166fb1c4639bf3b3fcf0bf0ded46","5f2e0547032221d2b00937cf524590e3d90901ef0286ea0b032c1a81461b6d92"],["4e942d95930f38c8786ff4a8e576e7a29fb7627afe1fff91cda5006ba0624f5d","45902f695d512d70ce4c1e0520c0060896b94e14d2960b2fcf2ed5e138e0217b"],["63e45f3d91ab915d412bbaa17d1d249e1a1445077fbfaa6be7d35041c5116a91","46dad5a4ec2ad0b86938f5e09f1c03b53b660fc5137648b08527cd20708003da"],["5e2ddd2175417f72c9962c503ac5adf94ed11f28b9d41fccb6a4512886f3cc87","3523b218478911145af1dc431feb7db0a04066eb6e2ade3c7b67d11bc55323aa"],["62ff30a6b179a26e7247a8312cb3af3289e5d722f76a29f203aa623889aa05ec","562beb7999019346beaa80dfd5b95d614e1ff96c1cb1037f65c44997b797d066"],["14988b5d62084fb8335c2f261cdeddc1b634b09cedfce713ff5f0a0bb588a556","447068731fb98e821b8e413b3b48f2d1c8bea308f05aac877006b0f4c3b0cab3"],["1ac777f708a5942cc434236920e82ccc6af920c0a0676712255aa7082b37a5b6","52a6f88d92af1887c781501c6e3a88169a2831b74aefd416f22b47e8335ce317"],["5959792833b71bd5042b78e42212af671f5f87a08eafd8cdde2dcec8140e4bb3","41ce94633eabb8a1b08fac66f762997ed8c9e2af3558e1f6586ad6a5bf5b7b64"],["4464a7962e6722b457336fe98c91765b1ff178f9e892e90129e65fa7688a0607","3d1510b92fd33c501f058a7a86bddedf1b83f9b6e4f04829d321117013f891fe"],["62906d81e7f800e662519f4324ab4c8aac197661c729eed3e744d09efe721c08","4b68efb5b1b709ab86e3253d70bee87ba07875c04a64ecf7e35cd8cdc6c0f7d8"],["4300ff025ac78ef36e58ee7d0d732cf76cd0929fe265b3a093a57f23fc326757","2f92880570846ff2e90d91f16bce3705c9c3ca8011cc543091463b623e4b3c01"],["5427ba28d94652527a9b0c76f57a451e46bdc06cbc8a2481df17f66ffb1524e3","547a97c4afc8d1f74a5d51f7e524f68472f589cc0b396b21368628721537d722"],["424c4493810bfd5e3ffa21776326d8ff62bf8fe74504d7a2db5d3f74e5ce1015","74d0daa832d40405d01551a58b330ffc5abd5356230d6d7cabeb5b1a55046f32"],["54e10980d81b4ae8778896684295fa5c5475e8d68ec2a26e1b0a65383507b3cd","6b1eb48da6886c4d88cea720e9dc8b0d8c51a8f0e1943afa31a40eeb553c0676"],["732eb9e9ebb556e9f024c5574166738f4707b0fd005f568212ab575c1db71ddb","1fc6b00c89e48114d6b13d9920a0c78093994f2b08df147bdbb56bead2cea165"],["74029c04b34b7f314855fee42a04d0ddfdeb92ef3bf7cff629928a97733d96fb","501f63a252dfbc090733b5a208bfe08f81c91419ce3d2d6c0de8cdc5a5625014"],["04524402ebb71a60bf1055001000203a6d4917f112e50dd766cdd7b718a6edd7","71c9e2d15cdc47c565a696ffbe55277570930ed7ade13b9a254059365d5bf338"],["2555c620a50f2bbeeacac66228a96941fa733aa6070855331613578ed7c12794","2b3c1bc5cda7f93242561dbf7572237ac43bf013553230633a5e18b7e71597e5"],["555ea607b0ad18afaf70d7450543d7ffb5b883a3cad3e2778826ca97bf3211a6","6df903158f51aa530d411720a760f8ad0ce9904d54955fda74a349be58eddf5f"],["4db3cfa284207a250a9c83e1fec07e804d70065da586ff2c2a7d2bcb92e6fca6","2a4fbf1c51dc0b2a7783db2be3bd35c2d6462470c88c8b73ae3ce8503fa07154"],["5174e33ffdf28a87184a4d6427d821cbaa3b88ac293a90ca7e1eeae8c5050b16","315ca6bc8e35e4a3d06f89e1db1575b16197963ee8e64746fa998ccd403561cc"]]},doubles:{step:4,points:[["23a4860627e53aeeb8e22b1508249c9109578d33e7bf237459b2596d6c28f9f8","709696f2827fc3729f980f2e3aad6e78b06a11ff8e079c27d87aab37c16727eb"],["5e7e07ed4e1decbfe6e9cbc126905449d4b578fbb561576d20b8bcdd0cc2a556","0f55755c51f102796bf5ebaa81d3260e7d1b3d9ac127d9a80e142031566cf6c7"],["7d13c0248b891b47eb524f2692008e2f97b199bac426cb5902b9003a29ded6ea","59a976ab2c01a81a91f1a56c75ccc77a9e1e9e878e9fe9c3952080a6805b20d5"],["5de7faa2ee4e70132f541f79ca07cd54a39fe1347a6844d19e9d678a8411a565","2c9f23641e1c2e0aab8ea9926b432d92c0e8bc08901d6ff6df85e4cef854ec36"],["06b349eebfed4dad4a805b63a6ed2231a565cda752d9477ff427dd9a8c9ab5ed","07a09289ff3e1f9aab68aa374c48df65f550c2323607b97744dee990608b64f8"],["0af367956af630266b1cc760154256ed79da960dddca9d72a1e8cf27d8d43a77","21108d900134d3b3708dd28ace96b0b23dda9100e4b6a62a8131bd2f2ba408c5"],["1e45a60140a3b2dee9b8dc6ff307154a1b410bcd38e0e38fb10b2f6da1afbe2b","0e730da473dffd60d2f3241a85e68acb47d26e5043ad047d893f072c8dda0a76"],["4d1e116d136158c5ddabd4276832800f2c081c1072de6f2d931797a46abc0cbb","6d415be49d4e35b65cc51354b5008f8c43e84b7b5e8a4b84f44e1efb10c9b91a"],["2b6b892ae94b454b2c2d92bb947fc4d506d173d281779c2c153c001ded42d3d0","7f1cf64e0e180fc4d6e12c1b5c5285f376e979616a52c94a0dea4d48c5880cd2"],["0f6c3a96e0032a9394337a02ffb2c83ba70efb8f566feab530fc90fa3b4710e5","3d4e97e286378675038a4b58e84224ee515e1d6697ac79389f78479be167635a"],["52ee53b981dfbc41ddaa5ddc2754c4175f4811aa45f8e2b19a425657c238a83e","7eb0a1be3400dec87b388cad51613957643cdf0595b891cc6f925fb36da7f1c3"],["52a837bc7a7bc9459bcc2ecf80f74d9ed99def0342e18cfbe8e799fbc504fd52","50d6460185d8924e5485f23f36a98c86053514d163547adab6fe91478a411196"],["6b2bd5d00fab38ceca21a27d6aaec82626b14b555d859527718f8ca404eba4","727340c27a15f6ab3d80547f0827c56ab1ba33bc30d1ef3909ea9a3af10c67e5"],["71dd75fe35761c01a48597ec730bc33237902fd4ad8612cbed1031eebdf40de4","39674a4532078e34378667beae5cb55f814ead9bbaf7e01b3b69533e9f88a411"],["57426aefc21be9ccf162e23d25ac3002ba8534351e65613f870f690f2fd46cf5","6b45b002fb4e8a6f59a6ffb006ed71f75434217333b266325204c7d1ac2e1f34"],["6222bd88bf2df9d5d44b60cfb4a08a960078db7ed51a35eb3e0b6b8ff4eda202","0325bb42ea4ed025dd6bdaed261b7c4f5410b608ba902b068f1efa5782e45313"],["71ac99647b61b9eca6f0c23432a518f738aee708d5932d4ef0f172240250a226","3a96c2c028ebe5f48913be30147e41bc5e1cab9595d5404138a9aa1b5574cf25"],["1f6a1fd8cc0e05b2742ba0fc0369b5247670543637dd033e64dbce90b2f23e9f","779964401ee869a9b31c0ef874a86440ba85d25c2ce932bd31a0865869605e19"],["22e2c039067920c42980dcb3a905fc91601c2b34e819ce1532ada4a5fc39d5cc","631cf9945a09bf26d7e595b3f8e3390696870512820df63c5418577089e1a8bb"],["608de273a9f6a534219d7aaede3cf65a81e4dc03d7a2765eced1d2b7be4610f4","3b31d0113f98d81ab1312fb2837aa9c8dcc7960f84eb371358c6d841f67144fa"],["3f748617ca63ab3e44c6e34f63e7328ea56a2a146da34368a57dca181254fe02","0fed89e6420fc47b3938a2891ba9acee4cbb2899ee4e9ca15a13dc527dc1641e"],["69d98b5ecc35d56c97c0bf312955d199befe116b417d70f5f57e2dfd0af81ce5","3e26d487fbfe36ab44e0ca3b248fe94bce92a69b8154d50e2d5481f8259f4e8e"],["1e34443347f9e627b3531157faab6eaca1bc3114df4a1423cc12bf8417b5d622","295955a5ed061eca7f87b9485666ba9489ec20a9c484224dc920350bb4a6fc79"],["51f4ff8c599b1c96da82941520a9f5abf4a31eb8b84fc95056145ceb3b5775d0","35ac9588d46e41f3f6f99aee3852eeb4b12e807807d4bd1b7f8406b0d7863ac1"],["3faa2a093a19a02424f65a10955101f4dc015c43b2dfce8e001507abd741b845","7a1de10dacfda389ca663b15574bdc8ae8c5b6e7cee647e77b11ddbfc6eb8edc"],["1924416956ea2c1269062588569b18178011ea7cba1a3266284f48aa01d5a90f","0c8e28127b7dcdd206fb6fee96eb88cfc7db7319826ac8cdb8b1fb8adaf021de"],["49761c57ce3c8c4f1435d495903e2f536f3be3712e76af8d0b5a8b7d1ebc8fac","3225035e1065094ef32d7f3e7a6f8ff2748025f96e0c0b44eb35576b61e150a8"],["4339fa86a23242851a16afc3ab05b352a7b4bf53599a49dd7e29d364fc3a757b","6d07cc3462bae9160bbebb997510817040767faa9dbd13f158a5fe8a63a34b0e"],["6bda13918dcbaf8529d6326ae7a9c278b72417c2188c5ea4f062fc50639295fb","2c3fa803b162ee887d0d97a6734866f992f846625f314117075da54bb6c20a36"],["4da4821314574d4fed4dcf692c8b15b99b73f13633210333ce7871359b6e6424","314016034673d2d20529bc93a2dab6e462bcb5f66e1f4a6bf2170759a40a6e65"],["0b2cea0029ee963c0034b61bf19e384435f14554a7d297b5144838c38e375586","47ea95da28d39aaade5edb8ed941c687603cfdd1508776e96d6683199e99daea"],["4c27afff3c45f32c952d3984e14e29a098e685c9c2e723e5fc8047ae60b7e824","5f2c99e6526dc87d95f11eb626c29c3a90d0be1e51a4c49e5bbabd114bf5a66b"],["53e2a4ed1bbb48bd016c524a02f797654cfc969849f867681da94e341f377534","5a2334fdda642732a3c9520ce06581aa7f0f082882554c37b8d390a25a9bd559"],["7b8d2c823baafe0d878a55e8af1db150dec85b1424a4901f9beffd3a6196e3d6","1c45a557b3624f9b89ed15b3c3e1a065f1b453d948f7cf45d9494483f8af0c85"],["78877b5d8777410997dacaeea59400fc9db4421fac02c4282301c67d35fb7ffe","0341b46c328333e4484ce8607619014d41775c408c88856d2f9e19812d90fbf5"],["2b556bbc070b5c4bae9e575836d1d68ee9fbe800448c0d2c233f78185eed3f91","7ba01332807ebd892e00ddb368c0fa1b3f19b5b32efd90b178d984e1d7174d6f"],["0f72556998b0044799f0fd03210ded3d984e3843bbaf3c1d5d692bc94d43c4e7","16c19c5037c103d447caef4efe6bd81a490e7c668f6870f1b080863b5315df5e"],["1cd96ef237b213cd446f13b3ec40d32ecc593bc6ea71e77efc284341a5f3da1a","7a626aeb91efcb5f9777264f5e17ced8b411f68c713673ef0f184a5ccd60dbe3"],["31a75b21cb532622a7caf9e29e652ac4e47b1450edf6655acaf3797b55a7ca46","77006e7cf104982f8865081a2ff8a6911546755e31c3586353b0bd0826c5d790"],["543d84cb04fb2bf787b7aa382eaab5cd8d050ad8ee52aa8a285b945652014031","0358fdc5b63ed49e693d838f182b275846f42dd49a42ec2e6e932ba4de59ef20"],["0a2818f5f5d8937800c30ac6b847db2cdef655b864126302249144a5a15b205a","187c76a49af10851bb049ba97c0fbbb14b2621522a4e8d9670ea46e56c9a1bd6"],["7efb45d3a2851109d7a8d50ddb08fe308bbf674c019b965cdad4570a141e648a","0fe1198b11a1bf56867091c69d71f8b7792257dda321d43652e818acd0c28cda"],["472e960dd122a534f52377235350549df4a1dd7a08cfc580bff5fb4b0a70aa7b","10585d04fc529fef4c0c0776154fc7ebbaedbae8a99937e47598d0578932b7cc"],["04892cfff7f94ff7f07c1241e3ac4945bc46ea9d6a3c1c3adbce109a9afceb6a","3ae2aa25e2555135a7a3251c11a3f8eebe81758bc1c3e2cbc6e6ca461a543130"],["2401d311a3abfd2583f1c6aa519c1f18ff730a0abf730ddcc9c9739b04d8a85e","653224f3488cae1ae19a414a9932035a2bf2c46803b5532bbb645e62387ee34d"],["0ea2c846a535a115972161612a192588d92d68a3c9050eae91b2817b94e68325","3b82a8337b05f11bbac176a113be183a50a0331f3d3116f24b971b5a8b0d031b"],["0fb3f87c2c6c89c65b74299b77f3736546a8b9e41b19197476bff27354e1c128","1034d42c15a2bfe3e682fad49dbc2812caadf0c584bc30b51625b85d74e9d5f7"],["1bc7af1e38185e7c2d8d04371c7e177d7a9ddee1b81d7d26db7ad644c7dad28d","61d909d855661f2f7a5eef87795dc0491d027e12631b270fcaf2f65900314833"],["469d0960dbd0ef9c91c4597ccf7c209549b187ff63bd378b7dac577198d74a4d","0b5f21c7f86832241f2157c288bdc9394f83f8d57457f6d9f6b345e4909478cb"],["5e9ac4ab2f4a3c3526e1317f913d69e3826fe862efd0c80d9310319170c5cbeb","505f00fa8aee03ccbd2f33529ae1e4e4bcf2644fe673d0b0290ec32be5b51bab"],["11cd80e1fdcbc565efed81d17f3f54643ffeed1cff38f3825e115adbd82759f1","43f11943f7ef3fa68b980fee45e98134f1df22263b2d14419d61ffe62822dbe0"],["3328bc121616a9477165ed282053d203c24f4826076c638a2c6723d42c9bfadb","2bbf3f26c21b5cb273e5f4f0114c6718c5eb7291939b7697c74333cdfafac039"],["0ba774bb605dd804cae6887e81f6bd2c59e024fac8bf5f5c48a841a037c28398","54ba013ad2d04dcdfb5a151b7347ee9a10067ddd0a3907e9bc337a77bf911321"],["1074ff0267662dc2b4ce65aaa0229c375a3d0d843ce9349233949581c869b64c","299be0decb680ec28923da4d049770107d42c180b460da13a7b1efc7e6d5b022"],["25ed76d78c87c3bd64b4331902c5a853734283e25f19f320295667b80a340d35","179b5f92f545c7b326b3a63fb0b32a0f52b4159988436d5af50c1d0d76373947"],["75d942c04210dcde5d1bd4fabfc732d3f95568e399382c0423c83c41cb05dc3f","696cc14856cdc13c8fd7e2c5771731cbf38e3fad47a424679765c4874e35ab2d"],["5d9324f56975477d5945599eeeccec67708c996cd3f3f2818bf2591507e3502a","10985a3cfd573205281aec24e2c8b41f5cd8cdfc9d7be34675cf306bbe1b4f6a"],["7511066c0e12105a7b937c7ecef367d5afe6e621e5cabf4e490b09b7ada7ee07","604df365b8391cbca8848f88daa700b770da5bb136f70bfb0a3ea33ba386fcd5"],["2596e5b3cf5494e60d2a750d03c66abc2e0183af53620b893f9cf9fc3b76dc26","68a0a7ac9a0cc093884a6b84f45a2cde595194e0f48dbd566fa78a3174b182fe"],["28bd38d44030dd9ca028b2a2f31a795f4c7a5e85a785df7847e3d525e99d4787","552dd7405c4183733ad3c4e7ccb999b4fed81b7a4444aab499d41d6d78d5bbfc"],["59233a3346f61135f431f96cf0197e24ad38240b222c010a6ce538cf4c24347b","3cce55908611d2b93f221613f09cfc4dbcd2e2b609233eea5439ad1908a10b20"],["5830f025f1078d408948f73096af97de1e9e70b3be85890acb21132c34ff961f","67d451752c2433ffe66e47242e301e56db2b2f8203553cab9de717e25793d41e"],["6a0c8b194571e874b82d904da36d43096bbe36d512e24ff8dcb2b00b57ffd3ec","5f85adb7749cc735ec838bcccfe7d4b52902c6132998d7ac8e032cad031c42b8"],["53b3f967bff8760948dec5e9282f35d1434a5503790b9012e17faefbe7c4d699","404462283c8664a17daa5b4059dcd10e2699fd86d0140de9f3e8ad0566098ae5"]]}}});var eS=h((v3r,rCe)=>{"use strict";var i$t=QBe(),n$t=tCe();rCe.exports=new i$t("X25519","ED25519",n$t)});var nCe=h((E3r,iCe)=>{iCe.exports=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}});var aCe=h((_3r,sCe)=>{"use strict";var s$t=nCe(),o$t=hb(),oCe=Ko();sCe.exports=(r,e={})=>{let t=o$t(r),i=oCe.decode.fromReader(t.reader,e),n=!1,s={read:async o=>{let{value:a,done:c}=await t.reader.next(o);if(c&&a.length<o)throw new Error("Couldn't read enough bytes");if(n=c,!a)throw new Error("Value is null");return a},readLP:async()=>{let{value:o,done:a}=await i.next();if(n=a,!o)throw new Error("Value is null");return o},readPB:async o=>{let a=await s.readLP();if(!a)throw new Error("Value is null");let c=s$t(a)?a:a.slice();return o.decode(c)},write:o=>{t.writer.push(o)},writeLP:o=>{s.write(oCe.encode.single(o,e))},writePB:(o,a)=>{s.writeLP(a.encode(o))},pb:o=>({read:()=>s.readPB(o),write:a=>s.writePB(a,o)}),unwrap:()=>(t.rest(),t.stream)};return s}});var uCe=h((S3r,cCe)=>{"use strict";var a$t=V5();cCe.exports=function(){let e,t,i=async s=>{if(e)throw new Error("already piped");e=a$t(s),t&&t(e)},n={[Symbol.asyncIterator](){return this},next(){return e?e.next():new Promise(s=>{t=o=>{t=null,s(o.next())}})}};return{sink:i,source:n}}});var hCe=h((k3r,fCe)=>{var lCe=uCe();fCe.exports=function(){var r=lCe(),e=lCe();return[{source:r.source,sink:e.sink},{source:e.source,sink:r.sink}]}});var bCe=h(nx=>{"use strict";var sx=hf();function dCe(r,e,t){return sx(r&&typeof r.id=="string"),e==null&&(e=Buffer.alloc(0)),t==null&&(t=Buffer.alloc(r.size,0)),r.mac(e,t)}function pCe(r,e,t,i){if(t==null&&(t=Buffer.alloc(0)),sx(r&&typeof r.id=="string"),sx(Buffer.isBuffer(e)),sx(Buffer.isBuffer(t)),sx(i>>>0===i),e.length!==r.size)throw new RangeError("Invalid PRK length.");let n=Math.ceil(i/r.size);if(n>255)throw new RangeError("Invalid output length.");let s=Buffer.alloc(n*r.size),o=Buffer.from([0]),a=r.hmac(),c=Buffer.alloc(0),u=0;for(let f=0;f<n;f++)o[0]+=1,a.init(e),a.update(c),a.update(t),a.update(o),c=a.final(),u+=c.copy(s,u);return s.slice(0,i)}function c$t(r,e,t,i,n){let s=dCe(r,e,t);return pCe(r,s,i,n)}nx.native=0;nx.extract=dCe;nx.expand=pCe;nx.derive=c$t});var gCe=h((I3r,yCe)=>{"use strict";yCe.exports=bCe()});var wCe=h((T3r,mCe)=>{"use strict";var u2=hf(),xCe=class{constructor(e,t,i=[],n=[]){u2(typeof e=="function"),u2(t>>>0===t),u2(Array.isArray(i)),u2(Array.isArray(n)),this.hash=e,this.size=t,this.x=i,this.y=n,this.inner=new e,this.outer=new e}init(e){if(u2(Buffer.isBuffer(e)),e.length>this.size){let i=this.hash,n=new i;n.init(...this.x),n.update(e),e=n.final(...this.y),u2(e.length<=this.size)}let t=Buffer.alloc(this.size);for(let i=0;i<e.length;i++)t[i]=e[i]^54;for(let i=e.length;i<t.length;i++)t[i]=54;this.inner.init(...this.x),this.inner.update(t);for(let i=0;i<e.length;i++)t[i]=e[i]^92;for(let i=e.length;i<t.length;i++)t[i]=92;return this.outer.init(...this.x),this.outer.update(t),this}update(e){return this.inner.update(e),this}final(){return this.outer.update(this.inner.final(...this.y)),this.outer.final(...this.y)}};mCe.exports=xCe});var pO=h((R3r,vCe)=>{"use strict";var ox=hf(),u$t=wCe(),tS=-1,hO=Buffer.alloc(8,0),ECe=Buffer.alloc(64,0);ECe[0]=128;var f$t=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Bn=class{constructor(){this.state=new Uint32Array(8),this.msg=new Uint32Array(64),this.block=Buffer.alloc(64),this.size=tS}init(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.size=0,this}update(e){return ox(Buffer.isBuffer(e)),this._update(e,e.length),this}final(){return this._final(Buffer.alloc(32))}_update(e,t){ox(this.size!==tS,"Context is not initialized.");let i=this.size&63,n=0;if(this.size+=t,i>0){let s=64-i;if(s>t&&(s=t),e.copy(this.block,i,n,n+s),i+=s,t-=s,n+=s,i<64)return;this._transform(this.block,0)}for(;t>=64;)this._transform(e,n),n+=64,t-=64;t>0&&e.copy(this.block,0,n,n+t)}_final(e){ox(this.size!==tS,"Context is not initialized.");let t=this.size&63,i=this.size*8;dO(hO,i*(1/4294967296)>>>0,0),dO(hO,i>>>0,4),this._update(ECe,1+(119-t&63)),this._update(hO,8);for(let n=0;n<8;n++)dO(e,this.state[n],n*4),this.state[n]=0;for(let n=0;n<64;n++)this.msg[n]=0;for(let n=0;n<64;n++)this.block[n]=0;return this.size=tS,e}_transform(e,t){let i=this.msg,n=this.state[0],s=this.state[1],o=this.state[2],a=this.state[3],c=this.state[4],u=this.state[5],f=this.state[6],l=this.state[7],d=0;for(;d<16;d++)i[d]=g$t(e,t+d*4);for(;d<64;d++)i[d]=p$t(i[d-2])+i[d-7]+d$t(i[d-15])+i[d-16];for(d=0;d<64;d++){let p=l+h$t(c)+b$t(c,u,f)+f$t[d]+i[d],b=l$t(n)+y$t(n,s,o);l=f,f=u,u=c,c=a+p>>>0,a=o,o=s,s=n,n=p+b>>>0}this.state[0]+=n,this.state[1]+=s,this.state[2]+=o,this.state[3]+=a,this.state[4]+=c,this.state[5]+=u,this.state[6]+=f,this.state[7]+=l}static hash(){return new Bn}static hmac(){return new u$t(Bn,64)}static digest(e){return Bn.ctx.init().update(e).final()}static root(e,t){return ox(Buffer.isBuffer(e)&&e.length===32),ox(Buffer.isBuffer(t)&&t.length===32),Bn.ctx.init().update(e).update(t).final()}static multi(e,t,i){let{ctx:n}=Bn;return n.init(),n.update(e),n.update(t),i&&n.update(i),n.final()}static mac(e,t){return Bn.hmac().init(t).update(e).final()}};Bn.native=0;Bn.id="SHA256";Bn.size=32;Bn.bits=256;Bn.blockSize=64;Bn.zero=Buffer.alloc(32,0);Bn.ctx=new Bn;function l$t(r){return(r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10)}function h$t(r){return(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7)}function d$t(r){return(r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3}function p$t(r){return(r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10}function b$t(r,e,t){return t^r&(e^t)}function y$t(r,e,t){return r&e|t&(r|e)}function g$t(r,e){return r[e++]*16777216+r[e++]*65536+r[e++]*256+r[e]}function dO(r,e,t){return r[t++]=e>>>24,r[t++]=e>>>16,r[t++]=e>>>8,r[t++]=e,t}vCe.exports=Bn});var SCe=h((q3r,_Ce)=>{"use strict";_Ce.exports=m$t;function m$t(r,e){for(var t=new Array(arguments.length-1),i=0,n=2,s=!0;n<arguments.length;)t[i++]=arguments[n++];return new Promise(function(a,c){t[i]=function(f){if(s)if(s=!1,f)c(f);else{for(var l=new Array(arguments.length-1),d=0;d<l.length;)l[d++]=arguments[d];a.apply(null,l)}};try{r.apply(e||null,t)}catch(u){s&&(s=!1,c(u))}})}});var TCe=h(kCe=>{"use strict";var rS=kCe;rS.length=function(e){var t=e.length;if(!t)return 0;for(var i=0;--t%4>1&&e.charAt(t)==="=";)++i;return Math.ceil(e.length*3)/4-i};var f2=new Array(64),ACe=new Array(123);for(var $c=0;$c<64;)ACe[f2[$c]=$c<26?$c+65:$c<52?$c+71:$c<62?$c-4:$c-59|43]=$c++;rS.encode=function(e,t,i){for(var n=null,s=[],o=0,a=0,c;t<i;){var u=e[t++];switch(a){case 0:s[o++]=f2[u>>2],c=(u&3)<<4,a=1;break;case 1:s[o++]=f2[c|u>>4],c=(u&15)<<2,a=2;break;case 2:s[o++]=f2[c|u>>6],s[o++]=f2[u&63],a=0;break}o>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),o=0)}return a&&(s[o++]=f2[c],s[o++]=61,a===1&&(s[o++]=61)),n?(o&&n.push(String.fromCharCode.apply(String,s.slice(0,o))),n.join("")):String.fromCharCode.apply(String,s.slice(0,o))};var ICe="invalid encoding";rS.decode=function(e,t,i){for(var n=i,s=0,o,a=0;a<e.length;){var c=e.charCodeAt(a++);if(c===61&&s>1)break;if((c=ACe[c])===void 0)throw Error(ICe);switch(s){case 0:o=c,s=1;break;case 1:t[i++]=o<<2|(c&48)>>4,o=c,s=2;break;case 2:t[i++]=(o&15)<<4|(c&60)>>2,o=c,s=3;break;case 3:t[i++]=(o&3)<<6|c,s=0;break}}if(s===1)throw Error(ICe);return i-n};rS.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}});var qCe=h((C3r,RCe)=>{"use strict";RCe.exports=iS;function iS(){this._listeners={}}iS.prototype.on=function(e,t,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:i||this}),this};iS.prototype.off=function(e,t){if(e===void 0)this._listeners={};else if(t===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],n=0;n<i.length;)i[n].fn===t?i.splice(n,1):++n;return this};iS.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var i=[],n=1;n<arguments.length;)i.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,i)}return this}});var OCe=h((M3r,BCe)=>{"use strict";BCe.exports=CCe(CCe);function CCe(r){return typeof Float32Array!="undefined"?function(){var e=new Float32Array([-0]),t=new Uint8Array(e.buffer),i=t[3]===128;function n(c,u,f){e[0]=c,u[f]=t[0],u[f+1]=t[1],u[f+2]=t[2],u[f+3]=t[3]}function s(c,u,f){e[0]=c,u[f]=t[3],u[f+1]=t[2],u[f+2]=t[1],u[f+3]=t[0]}r.writeFloatLE=i?n:s,r.writeFloatBE=i?s:n;function o(c,u){return t[0]=c[u],t[1]=c[u+1],t[2]=c[u+2],t[3]=c[u+3],e[0]}function a(c,u){return t[3]=c[u],t[2]=c[u+1],t[1]=c[u+2],t[0]=c[u+3],e[0]}r.readFloatLE=i?o:a,r.readFloatBE=i?a:o}():function(){function e(i,n,s,o){var a=n<0?1:0;if(a&&(n=-n),n===0)i(1/n>0?0:2147483648,s,o);else if(isNaN(n))i(2143289344,s,o);else if(n>34028234663852886e22)i((a<<31|2139095040)>>>0,s,o);else if(n<11754943508222875e-54)i((a<<31|Math.round(n/1401298464324817e-60))>>>0,s,o);else{var c=Math.floor(Math.log(n)/Math.LN2),u=Math.round(n*Math.pow(2,-c)*8388608)&8388607;i((a<<31|c+127<<23|u)>>>0,s,o)}}r.writeFloatLE=e.bind(null,MCe),r.writeFloatBE=e.bind(null,NCe);function t(i,n,s){var o=i(n,s),a=(o>>31)*2+1,c=o>>>23&255,u=o&8388607;return c===255?u?NaN:a*Infinity:c===0?a*1401298464324817e-60*u:a*Math.pow(2,c-150)*(u+8388608)}r.readFloatLE=t.bind(null,PCe),r.readFloatBE=t.bind(null,DCe)}(),typeof Float64Array!="undefined"?function(){var e=new Float64Array([-0]),t=new Uint8Array(e.buffer),i=t[7]===128;function n(c,u,f){e[0]=c,u[f]=t[0],u[f+1]=t[1],u[f+2]=t[2],u[f+3]=t[3],u[f+4]=t[4],u[f+5]=t[5],u[f+6]=t[6],u[f+7]=t[7]}function s(c,u,f){e[0]=c,u[f]=t[7],u[f+1]=t[6],u[f+2]=t[5],u[f+3]=t[4],u[f+4]=t[3],u[f+5]=t[2],u[f+6]=t[1],u[f+7]=t[0]}r.writeDoubleLE=i?n:s,r.writeDoubleBE=i?s:n;function o(c,u){return t[0]=c[u],t[1]=c[u+1],t[2]=c[u+2],t[3]=c[u+3],t[4]=c[u+4],t[5]=c[u+5],t[6]=c[u+6],t[7]=c[u+7],e[0]}function a(c,u){return t[7]=c[u],t[6]=c[u+1],t[5]=c[u+2],t[4]=c[u+3],t[3]=c[u+4],t[2]=c[u+5],t[1]=c[u+6],t[0]=c[u+7],e[0]}r.readDoubleLE=i?o:a,r.readDoubleBE=i?a:o}():function(){function e(i,n,s,o,a,c){var u=o<0?1:0;if(u&&(o=-o),o===0)i(0,a,c+n),i(1/o>0?0:2147483648,a,c+s);else if(isNaN(o))i(0,a,c+n),i(2146959360,a,c+s);else if(o>17976931348623157e292)i(0,a,c+n),i((u<<31|2146435072)>>>0,a,c+s);else{var f;if(o<22250738585072014e-324)f=o/5e-324,i(f>>>0,a,c+n),i((u<<31|f/4294967296)>>>0,a,c+s);else{var l=Math.floor(Math.log(o)/Math.LN2);l===1024&&(l=1023),f=o*Math.pow(2,-l),i(f*4503599627370496>>>0,a,c+n),i((u<<31|l+1023<<20|f*1048576&1048575)>>>0,a,c+s)}}}r.writeDoubleLE=e.bind(null,MCe,0,4),r.writeDoubleBE=e.bind(null,NCe,4,0);function t(i,n,s,o,a){var c=i(o,a+n),u=i(o,a+s),f=(u>>31)*2+1,l=u>>>20&2047,d=4294967296*(u&1048575)+c;return l===2047?d?NaN:f*Infinity:l===0?f*5e-324*d:f*Math.pow(2,l-1075)*(d+4503599627370496)}r.readDoubleLE=t.bind(null,PCe,0,4),r.readDoubleBE=t.bind(null,DCe,4,0)}(),r}function MCe(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}function NCe(r,e,t){e[t]=r>>>24,e[t+1]=r>>>16&255,e[t+2]=r>>>8&255,e[t+3]=r&255}function PCe(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0}function DCe(r,e){return(r[e]<<24|r[e+1]<<16|r[e+2]<<8|r[e+3])>>>0}});var LCe=h((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}});var UCe=h(FCe=>{"use strict";var bO=FCe;bO.length=function(e){for(var t=0,i=0,n=0;n<e.length;++n)i=e.charCodeAt(n),i<128?t+=1:i<2048?t+=2:(i&64512)==55296&&(e.charCodeAt(n+1)&64512)==56320?(++n,t+=4):t+=3;return t};bO.read=function(e,t,i){var n=i-t;if(n<1)return"";for(var s=null,o=[],a=0,c;t<i;)c=e[t++],c<128?o[a++]=c:c>191&&c<224?o[a++]=(c&31)<<6|e[t++]&63:c>239&&c<365?(c=((c&7)<<18|(e[t++]&63)<<12|(e[t++]&63)<<6|e[t++]&63)-65536,o[a++]=55296+(c>>10),o[a++]=56320+(c&1023)):o[a++]=(c&15)<<12|(e[t++]&63)<<6|e[t++]&63,a>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,o)),a=0);return s?(a&&s.push(String.fromCharCode.apply(String,o.slice(0,a))),s.join("")):String.fromCharCode.apply(String,o.slice(0,a))};bO.write=function(e,t,i){for(var n=i,s,o,a=0;a<e.length;++a)s=e.charCodeAt(a),s<128?t[i++]=s:s<2048?(t[i++]=s>>6|192,t[i++]=s&63|128):(s&64512)==55296&&((o=e.charCodeAt(a+1))&64512)==56320?(s=65536+((s&1023)<<10)+(o&1023),++a,t[i++]=s>>18|240,t[i++]=s>>12&63|128,t[i++]=s>>6&63|128,t[i++]=s&63|128):(t[i++]=s>>12|224,t[i++]=s>>6&63|128,t[i++]=s&63|128);return i-n}});var KCe=h((P3r,zCe)=>{"use strict";zCe.exports=x$t;function x$t(r,e,t){var i=t||8192,n=i>>>1,s=null,o=i;return function(c){if(c<1||c>n)return r(c);o+c>i&&(s=r(i),o=0);var u=e.call(s,o,o+=c);return o&7&&(o=(o|7)+1),u}}});var jCe=h((D3r,VCe)=>{"use strict";VCe.exports=en;var ax=K0();function en(r,e){this.lo=r>>>0,this.hi=e>>>0}var sd=en.zero=new en(0,0);sd.toNumber=function(){return 0};sd.zzEncode=sd.zzDecode=function(){return this};sd.length=function(){return 1};var w$t=en.zeroHash="\0\0\0\0\0\0\0\0";en.fromNumber=function(e){if(e===0)return sd;var t=e<0;t&&(e=-e);var i=e>>>0,n=(e-i)/4294967296>>>0;return t&&(n=~n>>>0,i=~i>>>0,++i>4294967295&&(i=0,++n>4294967295&&(n=0))),new en(i,n)};en.from=function(e){if(typeof e=="number")return en.fromNumber(e);if(ax.isString(e))if(ax.Long)e=ax.Long.fromString(e);else return en.fromNumber(parseInt(e,10));return e.low||e.high?new en(e.low>>>0,e.high>>>0):sd};en.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=~this.lo+1>>>0,i=~this.hi>>>0;return t||(i=i+1>>>0),-(t+i*4294967296)}return this.lo+this.hi*4294967296};en.prototype.toLong=function(e){return ax.Long?new ax.Long(this.lo|0,this.hi|0,Boolean(e)):{low:this.lo|0,high:this.hi|0,unsigned:Boolean(e)}};var V0=String.prototype.charCodeAt;en.fromHash=function(e){return e===w$t?sd:new en((V0.call(e,0)|V0.call(e,1)<<8|V0.call(e,2)<<16|V0.call(e,3)<<24)>>>0,(V0.call(e,4)|V0.call(e,5)<<8|V0.call(e,6)<<16|V0.call(e,7)<<24)>>>0)};en.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};en.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this};en.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this};en.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,i=this.hi>>>24;return i===0?t===0?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:i<128?9:10}});var K0=h(yO=>{"use strict";var et=yO;et.asPromise=SCe();et.base64=TCe();et.EventEmitter=qCe();et.float=OCe();et.inquire=LCe();et.utf8=UCe();et.pool=KCe();et.LongBits=jCe();et.isNode=Boolean(typeof globalThis!="undefined"&&globalThis&&globalThis.process&&globalThis.process.versions&&globalThis.process.versions.node);et.global=et.isNode&&globalThis||typeof window!="undefined"&&window||typeof self!="undefined"&&self||yO;et.emptyArray=Object.freeze?Object.freeze([]):[];et.emptyObject=Object.freeze?Object.freeze({}):{};et.isInteger=Number.isInteger||function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e};et.isString=function(e){return typeof e=="string"||e instanceof String};et.isObject=function(e){return e&&typeof e=="object"};et.isset=et.isSet=function(e,t){var i=e[t];return i!=null&&e.hasOwnProperty(t)?typeof i!="object"||(Array.isArray(i)?i.length:Object.keys(i).length)>0:!1};et.Buffer=function(){try{var r=et.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch(e){return null}}();et._Buffer_from=null;et._Buffer_allocUnsafe=null;et.newBuffer=function(e){return typeof e=="number"?et.Buffer?et._Buffer_allocUnsafe(e):new et.Array(e):et.Buffer?et._Buffer_from(e):typeof Uint8Array=="undefined"?e:new Uint8Array(e)};et.Array=typeof Uint8Array!="undefined"?Uint8Array:Array;et.Long=et.global.dcodeIO&&et.global.dcodeIO.Long||et.global.Long||et.inquire("long");et.key2Re=/^true|false|0|1$/;et.key32Re=/^-?(?:0|[1-9][0-9]*)$/;et.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;et.longToHash=function(e){return e?et.LongBits.from(e).toHash():et.LongBits.zeroHash};et.longFromHash=function(e,t){var i=et.LongBits.fromHash(e);return et.Long?et.Long.fromBits(i.lo,i.hi,t):i.toNumber(Boolean(t))};function HCe(r,e,t){for(var i=Object.keys(e),n=0;n<i.length;++n)(r[i[n]]===void 0||!t)&&(r[i[n]]=e[i[n]]);return r}et.merge=HCe;et.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)};function GCe(r){function e(t,i){if(!(this instanceof e))return new e(t,i);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:new Error().stack||""}),i&&HCe(this,i)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return r}}),e.prototype.toString=function(){return this.name+": "+this.message},e}et.newError=GCe;et.ProtocolError=GCe("ProtocolError");et.oneOfGetter=function(e){for(var t={},i=0;i<e.length;++i)t[e[i]]=1;return function(){for(var n=Object.keys(this),s=n.length-1;s>-1;--s)if(t[n[s]]===1&&this[n[s]]!==void 0&&this[n[s]]!==null)return n[s]}};et.oneOfSetter=function(e){return function(t){for(var i=0;i<e.length;++i)e[i]!==t&&delete this[e[i]]}};et.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};et._configure=function(){var r=et.Buffer;if(!r){et._Buffer_from=et._Buffer_allocUnsafe=null;return}et._Buffer_from=r.from!==Uint8Array.from&&r.from||function(t,i){return new r(t,i)},et._Buffer_allocUnsafe=r.allocUnsafe||function(t){return new r(t)}}});var _O=h((L3r,$Ce)=>{"use strict";$Ce.exports=Wt;var Wo=K0(),gO,nS=Wo.LongBits,WCe=Wo.base64,YCe=Wo.utf8;function cx(r,e,t){this.fn=r,this.len=e,this.next=void 0,this.val=t}function mO(){}function v$t(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function Wt(){this.len=0,this.head=new cx(mO,0,0),this.tail=this.head,this.states=null}var XCe=function(){return Wo.Buffer?function(){return(Wt.create=function(){return new gO})()}:function(){return new Wt}};Wt.create=XCe();Wt.alloc=function(e){return new Wo.Array(e)};Wo.Array!==Array&&(Wt.alloc=Wo.pool(Wt.alloc,Wo.Array.prototype.subarray));Wt.prototype._push=function(e,t,i){return this.tail=this.tail.next=new cx(e,t,i),this.len+=t,this};function xO(r,e,t){e[t]=r&255}function E$t(r,e,t){for(;r>127;)e[t++]=r&127|128,r>>>=7;e[t]=r}function wO(r,e){this.len=r,this.next=void 0,this.val=e}wO.prototype=Object.create(cx.prototype);wO.prototype.fn=E$t;Wt.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new wO((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Wt.prototype.int32=function(e){return e<0?this._push(vO,10,nS.fromNumber(e)):this.uint32(e)};Wt.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)};function vO(r,e,t){for(;r.hi;)e[t++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)e[t++]=r.lo&127|128,r.lo=r.lo>>>7;e[t++]=r.lo}Wt.prototype.uint64=function(e){var t=nS.from(e);return this._push(vO,t.length(),t)};Wt.prototype.int64=Wt.prototype.uint64;Wt.prototype.sint64=function(e){var t=nS.from(e).zzEncode();return this._push(vO,t.length(),t)};Wt.prototype.bool=function(e){return this._push(xO,1,e?1:0)};function EO(r,e,t){e[t]=r&255,e[t+1]=r>>>8&255,e[t+2]=r>>>16&255,e[t+3]=r>>>24}Wt.prototype.fixed32=function(e){return this._push(EO,4,e>>>0)};Wt.prototype.sfixed32=Wt.prototype.fixed32;Wt.prototype.fixed64=function(e){var t=nS.from(e);return this._push(EO,4,t.lo)._push(EO,4,t.hi)};Wt.prototype.sfixed64=Wt.prototype.fixed64;Wt.prototype.float=function(e){return this._push(Wo.float.writeFloatLE,4,e)};Wt.prototype.double=function(e){return this._push(Wo.float.writeDoubleLE,8,e)};var _$t=Wo.Array.prototype.set?function(e,t,i){t.set(e,i)}:function(e,t,i){for(var n=0;n<e.length;++n)t[i+n]=e[n]};Wt.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(xO,1,0);if(Wo.isString(e)){var i=Wt.alloc(t=WCe.length(e));WCe.decode(e,i,0),e=i}return this.uint32(t)._push(_$t,t,e)};Wt.prototype.string=function(e){var t=YCe.length(e);return t?this.uint32(t)._push(YCe.write,t,e):this._push(xO,1,0)};Wt.prototype.fork=function(){return this.states=new v$t(this),this.head=this.tail=new cx(mO,0,0),this.len=0,this};Wt.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new cx(mO,0,0),this.len=0),this};Wt.prototype.ldelim=function(){var e=this.head,t=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=t,this.len+=i),this};Wt.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,t,i),i+=e.len,e=e.next;return t};Wt._configure=function(r){gO=r,Wt.create=XCe(),gO._configure()}});var QCe=h((F3r,JCe)=>{"use strict";JCe.exports=Wc;var ZCe=_O();(Wc.prototype=Object.create(ZCe.prototype)).constructor=Wc;var j0=K0();function Wc(){ZCe.call(this)}Wc._configure=function(){Wc.alloc=j0._Buffer_allocUnsafe,Wc.writeBytesBuffer=j0.Buffer&&j0.Buffer.prototype instanceof Uint8Array&&j0.Buffer.prototype.set.name==="set"?function(e,t,i){t.set(e,i)}:function(e,t,i){if(e.copy)e.copy(t,i,0,e.length);else for(var n=0;n<e.length;)t[i++]=e[n++]}};Wc.prototype.bytes=function(e){j0.isString(e)&&(e=j0._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(Wc.writeBytesBuffer,t,e),this};function S$t(r,e,t){r.length<40?j0.utf8.write(r,e,t):e.utf8Write?e.utf8Write(r,t):e.write(r,t)}Wc.prototype.string=function(e){var t=j0.Buffer.byteLength(e);return this.uint32(t),t&&this._push(S$t,t,e),this};Wc._configure()});var AO=h((U3r,eMe)=>{"use strict";eMe.exports=ci;var Yc=K0(),SO,tMe=Yc.LongBits,k$t=Yc.utf8;function Oa(r,e){return RangeError("index out of range: "+r.pos+" + "+(e||1)+" > "+r.len)}function ci(r){this.buf=r,this.pos=0,this.len=r.length}var rMe=typeof Uint8Array!="undefined"?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new ci(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new ci(e);throw Error("illegal buffer")},iMe=function(){return Yc.Buffer?function(t){return(ci.create=function(n){return Yc.Buffer.isBuffer(n)?new SO(n):rMe(n)})(t)}:rMe};ci.create=iMe();ci.prototype._slice=Yc.Array.prototype.subarray||Yc.Array.prototype.slice;ci.prototype.uint32=function(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,Oa(this,10);return e}}();ci.prototype.int32=function(){return this.uint32()|0};ci.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(e&1)|0};function kO(){var r=new tMe(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(this.buf[this.pos]&127)<<28)>>>0,r.hi=(r.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return r;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw Oa(this);if(r.lo=(r.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,r}if(this.len-this.pos>4){for(;e<5;++e)if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}else for(;e<5;++e){if(this.pos>=this.len)throw Oa(this);if(r.hi=(r.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}ci.prototype.bool=function(){return this.uint32()!==0};function sS(r,e){return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0}ci.prototype.fixed32=function(){if(this.pos+4>this.len)throw Oa(this,4);return sS(this.buf,this.pos+=4)};ci.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Oa(this,4);return sS(this.buf,this.pos+=4)|0};function nMe(){if(this.pos+8>this.len)throw Oa(this,8);return new tMe(sS(this.buf,this.pos+=4),sS(this.buf,this.pos+=4))}ci.prototype.float=function(){if(this.pos+4>this.len)throw Oa(this,4);var e=Yc.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};ci.prototype.double=function(){if(this.pos+8>this.len)throw Oa(this,4);var e=Yc.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};ci.prototype.bytes=function(){var e=this.uint32(),t=this.pos,i=this.pos+e;if(i>this.len)throw Oa(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,i):t===i?new this.buf.constructor(0):this._slice.call(this.buf,t,i)};ci.prototype.string=function(){var e=this.bytes();return k$t.read(e,0,e.length)};ci.prototype.skip=function(e){if(typeof e=="number"){if(this.pos+e>this.len)throw Oa(this,e);this.pos+=e}else do if(this.pos>=this.len)throw Oa(this);while(this.buf[this.pos++]&128);return this};ci.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!=4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this};ci._configure=function(r){SO=r,ci.create=iMe(),SO._configure();var e=Yc.Long?"toLong":"toNumber";Yc.merge(ci.prototype,{int64:function(){return kO.call(this)[e](!1)},uint64:function(){return kO.call(this)[e](!0)},sint64:function(){return kO.call(this).zzDecode()[e](!1)},fixed64:function(){return nMe.call(this)[e](!0)},sfixed64:function(){return nMe.call(this)[e](!1)}})}});var cMe=h((z3r,sMe)=>{"use strict";sMe.exports=od;var oMe=AO();(od.prototype=Object.create(oMe.prototype)).constructor=od;var aMe=K0();function od(r){oMe.call(this,r)}od._configure=function(){aMe.Buffer&&(od.prototype._slice=aMe.Buffer.prototype.slice)};od.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};od._configure()});var fMe=h((K3r,uMe)=>{"use strict";uMe.exports=ux;var IO=K0();(ux.prototype=Object.create(IO.EventEmitter.prototype)).constructor=ux;function ux(r,e,t){if(typeof r!="function")throw TypeError("rpcImpl must be a function");IO.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(t)}ux.prototype.rpcCall=function r(e,t,i,n,s){if(!n)throw TypeError("request must be specified");var o=this;if(!s)return IO.asPromise(r,o,e,t,i,n);if(!o.rpcImpl){setTimeout(function(){s(Error("already ended"))},0);return}try{return o.rpcImpl(e,t[o.requestDelimited?"encodeDelimited":"encode"](n).finish(),function(c,u){if(c)return o.emit("error",c,e),s(c);if(u===null){o.end(!0);return}if(!(u instanceof i))try{u=i[o.responseDelimited?"decodeDelimited":"decode"](u)}catch(f){return o.emit("error",f,e),s(f)}return o.emit("data",u,e),s(null,u)})}catch(a){o.emit("error",a,e),setTimeout(function(){s(a)},0);return}};ux.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var hMe=h(lMe=>{"use strict";var A$t=lMe;A$t.Service=fMe()});var pMe=h((j3r,dMe)=>{"use strict";dMe.exports={}});var gMe=h(bMe=>{"use strict";var Ks=bMe;Ks.build="minimal";Ks.Writer=_O();Ks.BufferWriter=QCe();Ks.Reader=AO();Ks.BufferReader=cMe();Ks.util=K0();Ks.rpc=hMe();Ks.roots=pMe();Ks.configure=yMe;function yMe(){Ks.util._configure(),Ks.Writer._configure(Ks.BufferWriter),Ks.Reader._configure(Ks.BufferReader)}yMe()});var xMe=h((G3r,mMe)=>{"use strict";mMe.exports=gMe()});var vMe=h((wMe,fx)=>{"use strict";(function(r,e){typeof define=="function"&&define.amd?define(["protobufjs/minimal"],e):typeof fx=="object"&&fx&&fx.exports&&(fx.exports=e(xMe()))})(wMe,function(r){var e=r.Reader,t=r.Writer,i=r.util,n=r.roots.default||(r.roots.default={});return n.pb=function(){var s={};return s.NoiseHandshakePayload=function(){function o(a){if(a)for(var c=Object.keys(a),u=0;u<c.length;++u)a[c[u]]!=null&&(this[c[u]]=a[c[u]])}return o.prototype.identityKey=i.newBuffer([]),o.prototype.identitySig=i.newBuffer([]),o.prototype.data=i.newBuffer([]),o.create=function(c){return new o(c)},o.encode=function(c,u){return u||(u=t.create()),c.identityKey!=null&&c.hasOwnProperty("identityKey")&&u.uint32(10).bytes(c.identityKey),c.identitySig!=null&&c.hasOwnProperty("identitySig")&&u.uint32(18).bytes(c.identitySig),c.data!=null&&c.hasOwnProperty("data")&&u.uint32(26).bytes(c.data),u},o.encodeDelimited=function(c,u){return this.encode(c,u).ldelim()},o.decode=function(c,u){c instanceof e||(c=e.create(c));for(var f=u===void 0?c.len:c.pos+u,l=new n.pb.NoiseHandshakePayload;c.pos<f;){var d=c.uint32();switch(d>>>3){case 1:l.identityKey=c.bytes();break;case 2:l.identitySig=c.bytes();break;case 3:l.data=c.bytes();break;default:c.skipType(d&7);break}}return l},o.decodeDelimited=function(c){return c instanceof e||(c=new e(c)),this.decode(c,c.uint32())},o.verify=function(c){return typeof c!="object"||c===null?"object expected":c.identityKey!=null&&c.hasOwnProperty("identityKey")&&!(c.identityKey&&typeof c.identityKey.length=="number"||i.isString(c.identityKey))?"identityKey: buffer expected":c.identitySig!=null&&c.hasOwnProperty("identitySig")&&!(c.identitySig&&typeof c.identitySig.length=="number"||i.isString(c.identitySig))?"identitySig: buffer expected":c.data!=null&&c.hasOwnProperty("data")&&!(c.data&&typeof c.data.length=="number"||i.isString(c.data))?"data: buffer expected":null},o.fromObject=function(c){if(c instanceof n.pb.NoiseHandshakePayload)return c;var u=new n.pb.NoiseHandshakePayload;return c.identityKey!=null&&(typeof c.identityKey=="string"?i.base64.decode(c.identityKey,u.identityKey=i.newBuffer(i.base64.length(c.identityKey)),0):c.identityKey.length&&(u.identityKey=c.identityKey)),c.identitySig!=null&&(typeof c.identitySig=="string"?i.base64.decode(c.identitySig,u.identitySig=i.newBuffer(i.base64.length(c.identitySig)),0):c.identitySig.length&&(u.identitySig=c.identitySig)),c.data!=null&&(typeof c.data=="string"?i.base64.decode(c.data,u.data=i.newBuffer(i.base64.length(c.data)),0):c.data.length&&(u.data=c.data)),u},o.toObject=function(c,u){u||(u={});var f={};return u.defaults&&(u.bytes===String?f.identityKey="":(f.identityKey=[],u.bytes!==Array&&(f.identityKey=i.newBuffer(f.identityKey))),u.bytes===String?f.identitySig="":(f.identitySig=[],u.bytes!==Array&&(f.identitySig=i.newBuffer(f.identitySig))),u.bytes===String?f.data="":(f.data=[],u.bytes!==Array&&(f.data=i.newBuffer(f.data)))),c.identityKey!=null&&c.hasOwnProperty("identityKey")&&(f.identityKey=u.bytes===String?i.base64.encode(c.identityKey,0,c.identityKey.length):u.bytes===Array?Array.prototype.slice.call(c.identityKey):c.identityKey),c.identitySig!=null&&c.hasOwnProperty("identitySig")&&(f.identitySig=u.bytes===String?i.base64.encode(c.identitySig,0,c.identitySig.length):u.bytes===Array?Array.prototype.slice.call(c.identitySig):c.identitySig),c.data!=null&&c.hasOwnProperty("data")&&(f.data=u.bytes===String?i.base64.encode(c.data,0,c.data.length):u.bytes===Array?Array.prototype.slice.call(c.data):c.data),f},o.prototype.toJSON=function(){return this.constructor.toObject(this,r.util.toJSONOptions)},o}(),s}(),n})});var H0=h(Hr=>{"use strict";var lx=Hr&&Hr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hr,"__esModule",{value:!0});Hr.isValidPublicKey=Hr.getHkdf=Hr.verifySignedPayload=Hr.getHandshakePayload=Hr.decodePayload=Hr.getPeerIdFromPayload=Hr.signPayload=Hr.createHandshakePayload=Hr.getPayload=Hr.generateKeypair=void 0;var EMe=lx(gCe()),TO=lx(eS()),_Me=lx(pO()),La=Pn(),RO=lx(yt()),I$t=pc(),T$t=vMe(),R$t=lx(yo()),oS=T$t.pb.NoiseHandshakePayload;function q$t(){let r=TO.default.privateKeyGenerate();return{publicKey:TO.default.publicKeyCreate(r),privateKey:r}}Hr.generateKeypair=q$t;async function B$t(r,e,t){let i=await kMe(r,qO(e)),n=t??La.Buffer.alloc(0);return SMe(r.marshalPubKey(),i,n)}Hr.getPayload=B$t;function SMe(r,e,t){let i=oS.create({identityKey:La.Buffer.from(r),identitySig:e,data:t??null});return La.Buffer.from(oS.encode(i).finish())}Hr.createHandshakePayload=SMe;async function kMe(r,e){return La.Buffer.from(await r.privKey.sign(e))}Hr.signPayload=kMe;async function C$t(r){return await RO.default.createFromPubKey(La.Buffer.from(r.identityKey))}Hr.getPeerIdFromPayload=C$t;function M$t(r){return oS.toObject(oS.decode(La.Buffer.from(r)))}Hr.decodePayload=M$t;function qO(r){return La.Buffer.concat([La.Buffer.from("noise-libp2p-static-key:"),r])}Hr.getHandshakePayload=qO;async function N$t(r,e){let t=await RO.default.createFromPubKey(e);return R$t.default(t.id,r)}async function P$t(r,e,t){let i=La.Buffer.from(e.identityKey);if(!await N$t(t.id,i))throw new Error("Peer ID doesn't match libp2p public key.");let n=qO(r),s=I$t.keys.unmarshalPublicKey(i);if(!e.identitySig||!s.verify(n,La.Buffer.from(e.identitySig)))throw new Error("Static key doesn't match to peer that signed payload!");return await RO.default.createFromPubKey(i)}Hr.verifySignedPayload=P$t;function D$t(r,e){let t=La.Buffer.alloc(0),i=EMe.default.extract(_Me.default,e,r),n=EMe.default.expand(_Me.default,i,t,96),s=n.slice(0,32),o=n.slice(32,64),a=n.slice(64,96);return[s,o,a]}Hr.getHkdf=D$t;function O$t(r){return TO.default.publicKeyVerify(r.slice(0,32))}Hr.isValidPublicKey=O$t});var IMe=h((W3r,AMe)=>{"use strict";var l2=hf(),BO=new Int8Array(new Int16Array([1]).buffer)[0]===0,hx=class{constructor(){this.state=new Uint32Array(16),this.stream=new Uint32Array(16),this.bytes=new Uint8Array(this.stream.buffer),this.pos=-1,BO&&(this.bytes=Buffer.alloc(64))}init(e,t,i){if(i==null&&(i=0),l2(Buffer.isBuffer(e)),l2(Buffer.isBuffer(t)),l2(Number.isSafeInteger(i)),e.length!==16&&e.length!==32)throw new RangeError("Invalid key size.");if(t.length>=24&&(e=hx.derive(e,t.slice(0,16)),t=t.slice(16)),this.state[0]=1634760805,this.state[1]=e.length<32?824206446:857760878,this.state[2]=e.length<32?2036477238:2036477234,this.state[3]=1797285236,this.state[4]=lr(e,0),this.state[5]=lr(e,4),this.state[6]=lr(e,8),this.state[7]=lr(e,12),this.state[8]=lr(e,16%e.length),this.state[9]=lr(e,20%e.length),this.state[10]=lr(e,24%e.length),this.state[11]=lr(e,28%e.length),this.state[12]=i>>>0,t.length===8)this.state[13]=i/4294967296>>>0,this.state[14]=lr(t,0),this.state[15]=lr(t,4);else if(t.length===12)this.state[13]=lr(t,0),this.state[14]=lr(t,4),this.state[15]=lr(t,8);else if(t.length===16)this.state[12]=lr(t,0),this.state[13]=lr(t,4),this.state[14]=lr(t,8),this.state[15]=lr(t,12);else throw new RangeError("Invalid nonce size.");return this.pos=0,this}encrypt(e){if(l2(Buffer.isBuffer(e)),this.pos===-1)throw new Error("Context is not initialized.");for(let t=0;t<e.length;t++)(this.pos&63)==0&&(this._block(),this.pos=0),e[t]^=this.bytes[this.pos++];return e}_block(){for(let e=0;e<16;e++)this.stream[e]=this.state[e];for(let e=0;e<10;e++)$n(this.stream,0,4,8,12),$n(this.stream,1,5,9,13),$n(this.stream,2,6,10,14),$n(this.stream,3,7,11,15),$n(this.stream,0,5,10,15),$n(this.stream,1,6,11,12),$n(this.stream,2,7,8,13),$n(this.stream,3,4,9,14);for(let e=0;e<16;e++)this.stream[e]+=this.state[e];if(BO)for(let e=0;e<16;e++)pf(this.bytes,this.stream[e],e*4);this.state[12]+=1,this.state[12]===0&&(this.state[13]+=1)}destroy(){for(let e=0;e<16;e++)this.state[e]=0,this.stream[e]=0;if(BO)for(let e=0;e<64;e++)this.bytes[e]=0;return this.pos=-1,this}static derive(e,t){if(l2(Buffer.isBuffer(e)),l2(Buffer.isBuffer(t)),e.length!==16&&e.length!==32)throw new RangeError("Invalid key size.");if(t.length!==16)throw new RangeError("Invalid nonce size.");let i=new Uint32Array(16);i[0]=1634760805,i[1]=e.length<32?824206446:857760878,i[2]=e.length<32?2036477238:2036477234,i[3]=1797285236,i[4]=lr(e,0),i[5]=lr(e,4),i[6]=lr(e,8),i[7]=lr(e,12),i[8]=lr(e,16%e.length),i[9]=lr(e,20%e.length),i[10]=lr(e,24%e.length),i[11]=lr(e,28%e.length),i[12]=lr(t,0),i[13]=lr(t,4),i[14]=lr(t,8),i[15]=lr(t,12);for(let s=0;s<10;s++)$n(i,0,4,8,12),$n(i,1,5,9,13),$n(i,2,6,10,14),$n(i,3,7,11,15),$n(i,0,5,10,15),$n(i,1,6,11,12),$n(i,2,7,8,13),$n(i,3,4,9,14);let n=Buffer.alloc(32);return pf(n,i[0],0),pf(n,i[1],4),pf(n,i[2],8),pf(n,i[3],12),pf(n,i[12],16),pf(n,i[13],20),pf(n,i[14],24),pf(n,i[15],28),n}};hx.native=0;function $n(r,e,t,i,n){r[e]+=r[t],r[n]=aS(r[n]^r[e],16),r[i]+=r[n],r[t]=aS(r[t]^r[i],12),r[e]+=r[t],r[n]=aS(r[n]^r[e],8),r[i]+=r[n],r[t]=aS(r[t]^r[i],7)}function aS(r,e){return r<<e|r>>>32-e}function lr(r,e){return r[e++]+r[e++]*256+r[e++]*65536+r[e]*16777216}function pf(r,e,t){return r[t++]=e,e>>>=8,r[t++]=e,e>>>=8,r[t++]=e,e>>>=8,r[t++]=e,t}AMe.exports=hx});var RMe=h((Y3r,TMe)=>{"use strict";var cS=hf(),CO=class{constructor(){this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.buffer=Buffer.alloc(16),this.fin=-1,this.leftover=0}init(e){cS(Buffer.isBuffer(e)&&e.length>=32);let t=Cn(e,0),i=Cn(e,2),n=Cn(e,4),s=Cn(e,6),o=Cn(e,8),a=Cn(e,10),c=Cn(e,12),u=Cn(e,14);this.r[0]=t&8191,this.r[1]=(t>>>13|i<<3)&8191,this.r[2]=(i>>>10|n<<6)&7939,this.r[3]=(n>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let f=0;f<10;f++)this.h[f]=0;for(let f=0;f<8;f++)this.pad[f]=Cn(e,16+2*f);return this.fin=0,this.leftover=0,this}_blocks(e,t,i){let n=this.fin?0:1<<11,s=new Uint32Array(10);for(;t>=16;){let o=Cn(e,i+0),a=Cn(e,i+2),c=Cn(e,i+4),u=Cn(e,i+6),f=Cn(e,i+8),l=Cn(e,i+10),d=Cn(e,i+12),p=Cn(e,i+14);this.h[0]+=o&8191,this.h[1]+=(o>>>13|a<<3)&8191,this.h[2]+=(a>>>10|c<<6)&8191,this.h[3]+=(c>>>7|u<<9)&8191,this.h[4]+=(u>>>4|f<<12)&8191,this.h[5]+=f>>>1&8191,this.h[6]+=(f>>>14|l<<2)&8191,this.h[7]+=(l>>>11|d<<5)&8191,this.h[8]+=(d>>>8|p<<8)&8191,this.h[9]+=p>>>5|n;let b=0;for(let g=0;g<10;g++){s[g]=b;for(let m=0;m<10;m++){let w=this.h[m];m<=g?w*=this.r[g-m]:w*=5*this.r[g+10-m],s[g]+=w,m===4&&(b=s[g]>>>13,s[g]&=8191)}b+=s[g]>>>13,s[g]&=8191}b=(b<<2)+b,b+=s[0],s[0]=b&8191,b=b>>>13,s[1]+=b;for(let g=0;g<10;g++)this.h[g]=s[g];i+=16,t-=16}}update(e){if(cS(Buffer.isBuffer(e)),this.fin===-1)throw new Error("Context is not initialized.");let t=e.length,i=0;if(this.leftover){let n=16-this.leftover;n>t&&(n=t);for(let s=0;s<n;s++)this.buffer[this.leftover+s]=e[i+s];if(t-=n,i+=n,this.leftover+=n,this.leftover<16)return this;this._blocks(this.buffer,16,0),this.leftover=0}if(t>=16){let n=t&~(16-1);this._blocks(e,n,i),i+=n,t-=n}if(t){for(let n=0;n<t;n++)this.buffer[this.leftover+n]=e[i+n];this.leftover+=t}return this}final(){if(this.fin===-1)throw new Error("Context is not initialized.");let e=Buffer.alloc(16),t=new Uint16Array(10);if(this.leftover){let o=this.leftover;for(this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this._blocks(this.buffer,16,0)}let i=this.h[1]>>>13;this.h[1]&=8191;for(let o=2;o<10;o++)this.h[o]+=i,i=this.h[o]>>>13,this.h[o]&=8191;this.h[0]+=i*5,i=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=i,i=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=i,t[0]=this.h[0]+5,i=t[0]>>>13,t[0]&=8191;for(let o=1;o<10;o++)t[o]=this.h[o]+i,i=t[o]>>>13,t[o]&=8191;let n=(i^1)-1;for(let o=0;o<10;o++)t[o]&=n;n=~n;for(let o=0;o<10;o++)this.h[o]=this.h[o]&n|t[o];this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535;let s=this.h[0]+this.pad[0];this.h[0]=s;for(let o=1;o<8;o++)s=this.h[o]+this.pad[o]+(s>>>16),this.h[o]=s;for(let o=0;o<8;o++)L$t(e,this.h[o],o*2);return this.destroy(),e}destroy(){for(let e=0;e<10;e++)this.r[e]=0,this.h[e]=0;for(let e=0;e<8;e++)this.pad[e]=0;for(let e=0;e<16;e++)this.buffer[e]=0;this.fin=-1,this.leftover=0}verify(e){cS(Buffer.isBuffer(e)),cS(e.length===16);let t=this.final(),i=0;for(let n=0;n<16;n++)i|=t[n]^e[n];return i-1>>>31!=0}};CO.native=0;function Cn(r,e){return r[e++]+r[e]*256}function L$t(r,e,t){return r[t++]=e,r[t++]=e>>>8,t}TMe.exports=CO});var NMe=h((X3r,qMe)=>{"use strict";var h2=hf(),BMe=IMe(),F$t=RMe(),U$t=Buffer.alloc(16,0),ad=class{constructor(){this.chacha=new BMe,this.poly=new F$t,this.key=Buffer.alloc(64),this.mode=-1,this.aadLen=0,this.cipherLen=0}init(e,t){return h2(Buffer.isBuffer(e)),h2(Buffer.isBuffer(t)),this.key.fill(0),this.chacha.init(e,t,0),this.chacha.encrypt(this.key),this.poly.init(this.key),this.mode=0,this.aadLen=0,this.cipherLen=0,this}aad(e){if(this.mode===-1)throw new Error("Context is not initialized.");if(this.mode!==0)throw new Error("Invalid state for aad.");return this.poly.update(e),this.aadLen+=e.length,this}encrypt(e){if(this.mode===-1)throw new Error("Context is not initialized.");if(this.mode!==0&&this.mode!==1)throw new Error("Invalid state for encrypt.");return this.mode===0&&(this._pad16(this.aadLen),this.mode=1),this.chacha.encrypt(e),this.poly.update(e),this.cipherLen+=e.length,e}decrypt(e){if(h2(Buffer.isBuffer(e)),this.mode===-1)throw new Error("Context is not initialized.");if(this.mode!==0&&this.mode!==2)throw new Error("Invalid state for decrypt.");return this.mode===0&&(this._pad16(this.aadLen),this.mode=2),this.cipherLen+=e.length,this.poly.update(e),this.chacha.encrypt(e),e}auth(e){if(h2(Buffer.isBuffer(e)),this.mode===-1)throw new Error("Context is not initialized.");if(this.mode!==0&&this.mode!==3)throw new Error("Invalid state for auth.");return this.mode===0&&(this._pad16(this.aadLen),this.mode=3),this.cipherLen+=e.length,this.poly.update(e),e}final(){if(this.mode===-1)throw new Error("Context is not initialized.");let e=Buffer.alloc(16);CMe(e,this.aadLen,0),CMe(e,this.cipherLen,8),this.mode===0&&this._pad16(this.aadLen),this._pad16(this.cipherLen),this.poly.update(e);let t=this.poly.final();return this.destroy(),t}destroy(){this.chacha.destroy(),this.poly.destroy();for(let e=0;e<64;e++)this.key[e]=0;return this.mode=-1,this.aadLen=0,this.cipherLen=0,this}verify(e){h2(Buffer.isBuffer(e)),h2(e.length===16);let t=this.final(),i=0;for(let n=0;n<16;n++)i|=t[n]^e[n];return i-1>>>31!=0}_pad16(e){let t=e&15;t>0&&this.poly.update(U$t.slice(0,16-t))}static encrypt(e,t,i,n){let s=new ad;return s.init(e,t),n&&s.aad(n),s.encrypt(i),s.final()}static decrypt(e,t,i,n,s){let o=new ad;return o.init(e,t),s&&o.aad(s),o.decrypt(i),o.verify(n)}static auth(e,t,i,n,s){let o=new ad;return o.init(e,t),s&&o.aad(s),o.auth(i),o.verify(n)}};ad.native=BMe.native;function MMe(r,e,t){return r[t++]=e,e>>>=8,r[t++]=e,e>>>=8,r[t++]=e,e>>>=8,r[t++]=e,t}function CMe(r,e,t){let i=e*(1/4294967296)>>>0,n=e>>>0;return MMe(r,n,t+0),MMe(r,i,t+4),t+8}qMe.exports=ad});var uS=h(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.DUMP_SESSION_KEYS=bf.NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG=bf.NOISE_MSG_MAX_LENGTH_BYTES=void 0;bf.NOISE_MSG_MAX_LENGTH_BYTES=65535;bf.NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG=bf.NOISE_MSG_MAX_LENGTH_BYTES-16;bf.DUMP_SESSION_KEYS=process.env.DUMP_SESSION_KEYS});var d2=h(Mn=>{"use strict";var z$t=Mn&&Mn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.logCipherState=Mn.logRemoteEphemeralKey=Mn.logRemoteStaticKey=Mn.logLocalEphemeralKeys=Mn.logLocalStaticKeys=Mn.logger=void 0;var K$t=z$t(De()),V$t=uS();Mn.logger=K$t.default("libp2p:noise");var Yo;V$t.DUMP_SESSION_KEYS?Yo=Mn.logger:Yo=()=>{};function j$t(r){Yo(`LOCAL_STATIC_PUBLIC_KEY ${r.publicKey.toString("hex")}`),Yo(`LOCAL_STATIC_PRIVATE_KEY ${r.privateKey.toString("hex")}`)}Mn.logLocalStaticKeys=j$t;function H$t(r){r?(Yo(`LOCAL_PUBLIC_EPHEMERAL_KEY ${r.publicKey.toString("hex")}`),Yo(`LOCAL_PRIVATE_EPHEMERAL_KEY ${r.privateKey.toString("hex")}`)):Yo("Missing local ephemeral keys.")}Mn.logLocalEphemeralKeys=H$t;function G$t(r){Yo(`REMOTE_STATIC_PUBLIC_KEY ${r.toString("hex")}`)}Mn.logRemoteStaticKey=G$t;function $$t(r){Yo(`REMOTE_EPHEMERAL_PUBLIC_KEY ${r.toString("hex")}`)}Mn.logRemoteEphemeralKey=$$t;function W$t(r){r.cs1&&r.cs2?(Yo(`CIPHER_STATE_1 ${r.cs1.n} ${r.cs1.k.toString("hex")}`),Yo(`CIPHER_STATE_2 ${r.cs2.n} ${r.cs2.k.toString("hex")}`)):Yo("Missing cipher state.")}Mn.logCipherState=W$t});var NO=h(yf=>{"use strict";var MO=yf&&yf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(yf,"__esModule",{value:!0});yf.AbstractHandshake=yf.MIN_NONCE=void 0;var ls=Pn(),PMe=MO(NMe()),Y$t=MO(eS()),X$t=MO(pO()),DMe=H0(),J$t=d2();yf.MIN_NONCE=0;var OMe=class{encryptWithAd(e,t,i){let n=this.encrypt(e.k,e.n,t,i);return this.setNonce(e,this.incrementNonce(e.n)),n}decryptWithAd(e,t,i){let{plaintext:n,valid:s}=this.decrypt(e.k,e.n,t,i);return this.setNonce(e,this.incrementNonce(e.n)),{plaintext:n,valid:s}}hasKey(e){return!this.isEmptyKey(e.k)}setNonce(e,t){e.n=t}createEmptyKey(){return ls.Buffer.alloc(32)}isEmptyKey(e){return this.createEmptyKey().equals(e)}incrementNonce(e){return e+1}nonceToBytes(e){let t=ls.Buffer.alloc(12);return t.writeUInt32LE(e,4),t}encrypt(e,t,i,n){let s=this.nonceToBytes(t),o=new PMe.default;return n=ls.Buffer.from(n),o.init(e,s),o.aad(i),o.encrypt(n),ls.Buffer.concat([n,o.final()])}encryptAndHash(e,t){let i;return this.hasKey(e.cs)?i=this.encryptWithAd(e.cs,e.h,t):i=t,this.mixHash(e,i),i}decrypt(e,t,i,n){let s=this.nonceToBytes(t),o=new PMe.default;n=ls.Buffer.from(n);let a=n.slice(n.length-16);return n=n.slice(0,n.length-16),o.init(e,s),o.aad(i),o.decrypt(n),{plaintext:n,valid:o.verify(a)}}decryptAndHash(e,t){let i,n=!0;return this.hasKey(e.cs)?{plaintext:i,valid:n}=this.decryptWithAd(e.cs,e.h,t):i=t,this.mixHash(e,t),{plaintext:i,valid:n}}dh(e,t){try{let i=Y$t.default.derive(t,e),n=ls.Buffer.alloc(32);return i.copy(n),n}catch(i){return J$t.logger(i.message),ls.Buffer.alloc(32)}}mixHash(e,t){e.h=this.getHash(e.h,t)}getHash(e,t){return X$t.default.digest(ls.Buffer.from([...e,...t]))}mixKey(e,t){let[i,n]=DMe.getHkdf(e.ck,t);e.cs=this.initializeKey(n),e.ck=i}initializeKey(e){let t=yf.MIN_NONCE;return{k:e,n:t}}initializeSymmetric(e){let t=ls.Buffer.from(e,"utf-8"),i=this.hashProtocolName(t),n=i,s=this.createEmptyKey();return{cs:this.initializeKey(s),ck:n,h:i}}hashProtocolName(e){if(e.length<=32){let t=ls.Buffer.alloc(32);return e.copy(t),t}else return this.getHash(e,ls.Buffer.alloc(0))}split(e){let[t,i]=DMe.getHkdf(e.ck,ls.Buffer.alloc(0)),n=this.initializeKey(t),s=this.initializeKey(i);return{cs1:n,cs2:s}}writeMessageRegular(e,t){let i=this.encryptWithAd(e,ls.Buffer.alloc(0),t),n=this.createEmptyKey(),s=ls.Buffer.alloc(0);return{ne:n,ns:s,ciphertext:i}}readMessageRegular(e,t){return this.decryptWithAd(e,ls.Buffer.alloc(0),t.ciphertext)}};yf.AbstractHandshake=OMe});var FMe=h(fS=>{"use strict";Object.defineProperty(fS,"__esModule",{value:!0});fS.XX=void 0;var cd=Pn(),p2=H0(),Z$t=NO(),LMe=class extends Z$t.AbstractHandshake{initializeInitiator(e,t,i,n){let s="Noise_XX_25519_ChaChaPoly_SHA256",o=this.initializeSymmetric(s);this.mixHash(o,e);let a=cd.Buffer.alloc(32);return{ss:o,s:t,rs:i,psk:n,re:a}}initializeResponder(e,t,i,n){let s="Noise_XX_25519_ChaChaPoly_SHA256",o=this.initializeSymmetric(s);this.mixHash(o,e);let a=cd.Buffer.alloc(32);return{ss:o,s:t,rs:i,psk:n,re:a}}writeMessageA(e,t,i){let n=cd.Buffer.alloc(0);i!==void 0?e.e=i:e.e=p2.generateKeypair();let s=e.e.publicKey;this.mixHash(e.ss,s);let o=this.encryptAndHash(e.ss,t);return{ne:s,ns:n,ciphertext:o}}writeMessageB(e,t){e.e=p2.generateKeypair();let i=e.e.publicKey;this.mixHash(e.ss,i),this.mixKey(e.ss,this.dh(e.e.privateKey,e.re));let n=cd.Buffer.from(e.s.publicKey),s=this.encryptAndHash(e.ss,n);this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));let o=this.encryptAndHash(e.ss,t);return{ne:i,ns:s,ciphertext:o}}writeMessageC(e,t){let i=cd.Buffer.from(e.s.publicKey),n=this.encryptAndHash(e.ss,i);this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));let s=this.encryptAndHash(e.ss,t),a={ne:this.createEmptyKey(),ns:n,ciphertext:s},{cs1:c,cs2:u}=this.split(e.ss);return{h:e.ss.h,messageBuffer:a,cs1:c,cs2:u}}readMessageA(e,t){return p2.isValidPublicKey(t.ne)&&(e.re=t.ne),this.mixHash(e.ss,e.re),this.decryptAndHash(e.ss,t.ciphertext)}readMessageB(e,t){if(p2.isValidPublicKey(t.ne)&&(e.re=t.ne),this.mixHash(e.ss,e.re),!e.e)throw new Error("Handshake state `e` param is missing.");this.mixKey(e.ss,this.dh(e.e.privateKey,e.re));let{plaintext:i,valid:n}=this.decryptAndHash(e.ss,t.ns);n&&i.length===32&&p2.isValidPublicKey(i)&&(e.rs=i),this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));let{plaintext:s,valid:o}=this.decryptAndHash(e.ss,t.ciphertext);return{plaintext:s,valid:n&&o}}readMessageC(e,t){let{plaintext:i,valid:n}=this.decryptAndHash(e.ss,t.ns);if(n&&i.length===32&&p2.isValidPublicKey(i)&&(e.rs=i),!e.e)throw new Error("Handshake state `e` param is missing.");this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));let{plaintext:s,valid:o}=this.decryptAndHash(e.ss,t.ciphertext),{cs1:a,cs2:c}=this.split(e.ss);return{h:e.ss.h,plaintext:s,valid:n&&o,cs1:a,cs2:c}}initSession(e,t,i){let n=this.createEmptyKey(),s=cd.Buffer.alloc(32),o;return e?o=this.initializeInitiator(t,i,s,n):o=this.initializeResponder(t,i,s,n),{hs:o,i:e,mc:0}}sendMessage(e,t,i){let n;if(e.mc===0)n=this.writeMessageA(e.hs,t,i);else if(e.mc===1)n=this.writeMessageB(e.hs,t);else if(e.mc===2){let{h:s,messageBuffer:o,cs1:a,cs2:c}=this.writeMessageC(e.hs,t);n=o,e.h=s,e.cs1=a,e.cs2=c}else if(e.mc>2)if(e.i){if(!e.cs1)throw new Error("CS1 (cipher state) is not defined");n=this.writeMessageRegular(e.cs1,t)}else{if(!e.cs2)throw new Error("CS2 (cipher state) is not defined");n=this.writeMessageRegular(e.cs2,t)}else throw new Error("Session invalid.");return e.mc++,n}recvMessage(e,t){let i=cd.Buffer.alloc(0),n=!1;if(e.mc===0)({plaintext:i,valid:n}=this.readMessageA(e.hs,t));else if(e.mc===1)({plaintext:i,valid:n}=this.readMessageB(e.hs,t));else if(e.mc===2){let{h:s,plaintext:o,valid:a,cs1:c,cs2:u}=this.readMessageC(e.hs,t);i=o,n=a,e.h=s,e.cs1=c,e.cs2=u}return e.mc++,{plaintext:i,valid:n}}};fS.XX=LMe});var dx=h(mi=>{"use strict";Object.defineProperty(mi,"__esModule",{value:!0});mi.decode2=mi.decode1=mi.decode0=mi.encode2=mi.encode1=mi.encode0=mi.uint16BEDecode=mi.uint16BEEncode=void 0;var b2=Pn(),Q$t=(r,e,t)=>(e=e||b2.Buffer.allocUnsafe(2),e.writeUInt16BE(r,t),e);mi.uint16BEEncode=Q$t;mi.uint16BEEncode.bytes=2;var eWt=r=>{if(r.length<2)throw RangeError("Could not decode int16BE");return r.readUInt16BE(0)};mi.uint16BEDecode=eWt;mi.uint16BEDecode.bytes=2;function tWt(r){return b2.Buffer.concat([r.ne,r.ciphertext])}mi.encode0=tWt;function rWt(r){return b2.Buffer.concat([r.ne,r.ns,r.ciphertext])}mi.encode1=rWt;function iWt(r){return b2.Buffer.concat([r.ns,r.ciphertext])}mi.encode2=iWt;function nWt(r){if(r.length<32)throw new Error("Cannot decode stage 0 MessageBuffer: length less than 32 bytes.");return{ne:r.slice(0,32),ciphertext:r.slice(32,r.length),ns:b2.Buffer.alloc(0)}}mi.decode0=nWt;function sWt(r){if(r.length<80)throw new Error("Cannot decode stage 1 MessageBuffer: length less than 80 bytes.");return{ne:r.slice(0,32),ns:r.slice(32,80),ciphertext:r.slice(80,r.length)}}mi.decode1=sWt;function oWt(r){if(r.length<48)throw new Error("Cannot decode stage 2 MessageBuffer: length less than 48 bytes.");return{ne:b2.Buffer.alloc(0),ns:r.slice(0,48),ciphertext:r.slice(48,r.length)}}mi.decode2=oWt});var PO=h(lS=>{"use strict";Object.defineProperty(lS,"__esModule",{value:!0});lS.XXHandshake=void 0;var px=Pn(),aWt=FMe(),y2=H0(),ui=d2(),g2=dx(),UMe=class{constructor(e,t,i,n,s,o,a){this.isInitiator=e,this.payload=t,this.prologue=i,this.staticKeypair=n,this.connection=s,o&&(this.remotePeer=o),this.xx=a??new aWt.XX,this.session=this.xx.initSession(this.isInitiator,this.prologue,this.staticKeypair),this.remoteEarlyData=px.Buffer.alloc(0)}async propose(){if(ui.logLocalStaticKeys(this.session.hs.s),this.isInitiator){ui.logger("Stage 0 - Initiator starting to send first message.");let e=this.xx.sendMessage(this.session,px.Buffer.alloc(0));this.connection.writeLP(g2.encode0(e)),ui.logger("Stage 0 - Initiator finished sending first message."),ui.logLocalEphemeralKeys(this.session.hs.e)}else{ui.logger("Stage 0 - Responder waiting to receive first message...");let e=g2.decode0((await this.connection.readLP()).slice()),{valid:t}=this.xx.recvMessage(this.session,e);if(!t)throw new Error("xx handshake stage 0 validation fail");ui.logger("Stage 0 - Responder received first message."),ui.logRemoteEphemeralKey(this.session.hs.re)}}async exchange(){if(this.isInitiator){ui.logger("Stage 1 - Initiator waiting to receive first message from responder...");let e=g2.decode1((await this.connection.readLP()).slice()),{plaintext:t,valid:i}=this.xx.recvMessage(this.session,e);if(!i)throw new Error("xx handshake stage 1 validation fail");ui.logger("Stage 1 - Initiator received the message."),ui.logRemoteEphemeralKey(this.session.hs.re),ui.logRemoteStaticKey(this.session.hs.rs),ui.logger("Initiator going to check remote's signature...");try{let n=await y2.decodePayload(t);this.remotePeer=this.remotePeer||await y2.getPeerIdFromPayload(n),this.remotePeer=await y2.verifySignedPayload(e.ns,n,this.remotePeer),this.setRemoteEarlyData(n.data)}catch(n){let s=n;throw new Error(`Error occurred while verifying signed payload: ${s.message}`)}ui.logger("All good with the signature!")}else{ui.logger("Stage 1 - Responder sending out first message with signed payload and static key.");let e=this.xx.sendMessage(this.session,this.payload);this.connection.writeLP(g2.encode1(e)),ui.logger("Stage 1 - Responder sent the second handshake message with signed payload."),ui.logLocalEphemeralKeys(this.session.hs.e)}}async finish(){if(this.isInitiator){ui.logger("Stage 2 - Initiator sending third handshake message.");let e=this.xx.sendMessage(this.session,this.payload);this.connection.writeLP(g2.encode2(e)),ui.logger("Stage 2 - Initiator sent message with signed payload.")}else{ui.logger("Stage 2 - Responder waiting for third handshake message...");let e=g2.decode2((await this.connection.readLP()).slice()),{plaintext:t,valid:i}=this.xx.recvMessage(this.session,e);if(!i)throw new Error("xx handshake stage 2 validation fail");ui.logger("Stage 2 - Responder received the message, finished handshake.");try{let n=await y2.decodePayload(t);this.remotePeer=this.remotePeer||await y2.getPeerIdFromPayload(n),await y2.verifySignedPayload(this.session.hs.rs,n,this.remotePeer),this.setRemoteEarlyData(n.data)}catch(n){let s=n;throw new Error(`Error occurred while verifying signed payload: ${s.message}`)}}ui.logCipherState(this.session)}encrypt(e,t){let i=this.getCS(t);return this.xx.encryptWithAd(i,px.Buffer.alloc(0),e)}decrypt(e,t){let i=this.getCS(t,!1);return this.xx.decryptWithAd(i,px.Buffer.alloc(0),e)}getRemoteStaticKey(){return this.session.hs.rs}getCS(e,t=!0){if(!e.cs1||!e.cs2)throw new Error("Handshake not completed properly, cipher state does not exist.");return this.isInitiator?t?e.cs1:e.cs2:t?e.cs2:e.cs1}setRemoteEarlyData(e){e&&(this.remoteEarlyData=px.Buffer.from(e.buffer,e.byteOffset,e.length))}};lS.XXHandshake=UMe});var KMe=h(hS=>{"use strict";Object.defineProperty(hS,"__esModule",{value:!0});hS.IK=void 0;var dS=Pn(),bx=H0(),cWt=NO(),zMe=class extends cWt.AbstractHandshake{initSession(e,t,i,n){let s=this.createEmptyKey(),o;return e?o=this.initializeInitiator(t,i,n,s):o=this.initializeResponder(t,i,n,s),{hs:o,i:e,mc:0}}sendMessage(e,t){let i;if(e.mc===0)i=this.writeMessageA(e.hs,t);else if(e.mc===1){let{messageBuffer:n,h:s,cs1:o,cs2:a}=this.writeMessageB(e.hs,t);i=n,e.h=s,e.cs1=o,e.cs2=a}else if(e.mc>1)if(e.i){if(!e.cs1)throw new Error("CS1 (cipher state) is not defined");i=this.writeMessageRegular(e.cs1,t)}else{if(!e.cs2)throw new Error("CS2 (cipher state) is not defined");i=this.writeMessageRegular(e.cs2,t)}else throw new Error("Session invalid.");return e.mc++,i}recvMessage(e,t){let i=dS.Buffer.alloc(0),n=!1;if(e.mc===0&&({plaintext:i,valid:n}=this.readMessageA(e.hs,t)),e.mc===1){let{plaintext:s,valid:o,h:a,cs1:c,cs2:u}=this.readMessageB(e.hs,t);i=s,n=o,e.h=a,e.cs1=c,e.cs2=u}return e.mc++,{plaintext:i,valid:n}}writeMessageA(e,t){e.e=bx.generateKeypair();let i=e.e.publicKey;this.mixHash(e.ss,i),this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));let n=dS.Buffer.from(e.s.publicKey),s=this.encryptAndHash(e.ss,n);this.mixKey(e.ss,this.dh(e.s.privateKey,e.rs));let o=this.encryptAndHash(e.ss,t);return{ne:i,ns:s,ciphertext:o}}writeMessageB(e,t){e.e=bx.generateKeypair();let i=e.e.publicKey;this.mixHash(e.ss,i),this.mixKey(e.ss,this.dh(e.e.privateKey,e.re)),this.mixKey(e.ss,this.dh(e.e.privateKey,e.rs));let n=this.encryptAndHash(e.ss,t),s=this.createEmptyKey(),o={ne:i,ns:s,ciphertext:n},{cs1:a,cs2:c}=this.split(e.ss);return{messageBuffer:o,cs1:a,cs2:c,h:e.ss.h}}readMessageA(e,t){bx.isValidPublicKey(t.ne)&&(e.re=t.ne),this.mixHash(e.ss,e.re),this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));let{plaintext:i,valid:n}=this.decryptAndHash(e.ss,t.ns);n&&i.length===32&&bx.isValidPublicKey(i)&&(e.rs=i),this.mixKey(e.ss,this.dh(e.s.privateKey,e.rs));let{plaintext:s,valid:o}=this.decryptAndHash(e.ss,t.ciphertext);return{plaintext:s,valid:n&&o}}readMessageB(e,t){if(bx.isValidPublicKey(t.ne)&&(e.re=t.ne),this.mixHash(e.ss,e.re),!e.e)throw new Error("Handshake state should contain ephemeral key by now.");this.mixKey(e.ss,this.dh(e.e.privateKey,e.re)),this.mixKey(e.ss,this.dh(e.s.privateKey,e.re));let{plaintext:i,valid:n}=this.decryptAndHash(e.ss,t.ciphertext),{cs1:s,cs2:o}=this.split(e.ss);return{h:e.ss.h,valid:n,plaintext:i,cs1:s,cs2:o}}initializeInitiator(e,t,i,n){let s="Noise_IK_25519_ChaChaPoly_SHA256",o=this.initializeSymmetric(s);this.mixHash(o,e),this.mixHash(o,i);let a=dS.Buffer.alloc(32);return{ss:o,s:t,rs:i,re:a,psk:n}}initializeResponder(e,t,i,n){let s="Noise_IK_25519_ChaChaPoly_SHA256",o=this.initializeSymmetric(s);this.mixHash(o,e),this.mixHash(o,t.publicKey);let a=dS.Buffer.alloc(32);return{ss:o,s:t,rs:i,re:a,psk:n}}};hS.IK=zMe});var jMe=h(pS=>{"use strict";Object.defineProperty(pS,"__esModule",{value:!0});pS.FailedIKError=void 0;var VMe=class extends Error{constructor(e,t){super(t);this.initialMsg=e,this.name="FailedIKhandshake"}};pS.FailedIKError=VMe});var $Me=h(bS=>{"use strict";Object.defineProperty(bS,"__esModule",{value:!0});bS.IKHandshake=void 0;var uWt=KMe(),m2=Pn(),yS=dx(),x2=H0(),HMe=jMe(),Ti=d2(),GMe=class{constructor(e,t,i,n,s,o,a,c){this.isInitiator=e,this.payload=m2.Buffer.from(t),this.prologue=i,this.staticKeypair=n,this.connection=s,a&&(this.remotePeer=a),this.ik=c??new uWt.IK,this.session=this.ik.initSession(this.isInitiator,this.prologue,this.staticKeypair,o),this.remoteEarlyData=m2.Buffer.alloc(0)}async stage0(){if(Ti.logLocalStaticKeys(this.session.hs.s),Ti.logRemoteStaticKey(this.session.hs.rs),this.isInitiator){Ti.logger("IK Stage 0 - Initiator sending message...");let e=this.ik.sendMessage(this.session,this.payload);this.connection.writeLP(yS.encode1(e)),Ti.logger("IK Stage 0 - Initiator sent message."),Ti.logLocalEphemeralKeys(this.session.hs.e)}else{Ti.logger("IK Stage 0 - Responder receiving message...");let e=await this.connection.readLP();try{let t=yS.decode1(e.slice()),{plaintext:i,valid:n}=this.ik.recvMessage(this.session,t);if(!n)throw new Error("ik handshake stage 0 decryption validation fail");Ti.logger("IK Stage 0 - Responder got message, going to verify payload.");let s=await x2.decodePayload(i);this.remotePeer=this.remotePeer||await x2.getPeerIdFromPayload(s),await x2.verifySignedPayload(this.session.hs.rs,s,this.remotePeer),this.setRemoteEarlyData(s.data),Ti.logger("IK Stage 0 - Responder successfully verified payload!"),Ti.logRemoteEphemeralKey(this.session.hs.re)}catch(t){let i=t;throw Ti.logger("Responder breaking up with IK handshake in stage 0."),new HMe.FailedIKError(e,`Error occurred while verifying initiator's signed payload: ${i.message}`)}}}async stage1(){if(this.isInitiator){Ti.logger("IK Stage 1 - Initiator receiving message...");let e=(await this.connection.readLP()).slice(),t=yS.decode0(m2.Buffer.from(e)),{plaintext:i,valid:n}=this.ik.recvMessage(this.session,t);Ti.logger("IK Stage 1 - Initiator got message, going to verify payload.");try{if(!n)throw new Error("ik stage 1 decryption validation fail");let s=await x2.decodePayload(i);this.remotePeer=this.remotePeer||await x2.getPeerIdFromPayload(s),await x2.verifySignedPayload(t.ns.slice(0,32),s,this.remotePeer),this.setRemoteEarlyData(s.data),Ti.logger("IK Stage 1 - Initiator successfully verified payload!"),Ti.logRemoteEphemeralKey(this.session.hs.re)}catch(s){let o=s;throw Ti.logger("Initiator breaking up with IK handshake in stage 1."),new HMe.FailedIKError(e,`Error occurred while verifying responder's signed payload: ${o.message}`)}}else{Ti.logger("IK Stage 1 - Responder sending message...");let e=this.ik.sendMessage(this.session,this.payload);this.connection.writeLP(yS.encode0(e)),Ti.logger("IK Stage 1 - Responder sent message..."),Ti.logLocalEphemeralKeys(this.session.hs.e)}Ti.logCipherState(this.session)}decrypt(e,t){let i=this.getCS(t,!1);return this.ik.decryptWithAd(i,m2.Buffer.alloc(0),e)}encrypt(e,t){let i=this.getCS(t);return this.ik.encryptWithAd(i,m2.Buffer.alloc(0),e)}getLocalEphemeralKeys(){if(!this.session.hs.e)throw new Error("Ephemeral keys do not exist.");return this.session.hs.e}getCS(e,t=!0){if(!e.cs1||!e.cs2)throw new Error("Handshake not completed properly, cipher state does not exist.");return this.isInitiator?t?e.cs1:e.cs2:t?e.cs2:e.cs1}setRemoteEarlyData(e){e&&(this.remoteEarlyData=m2.Buffer.from(e.buffer,e.byteOffset,e.length))}};bS.IKHandshake=GMe});var XMe=h(gS=>{"use strict";Object.defineProperty(gS,"__esModule",{value:!0});gS.XXFallbackHandshake=void 0;var DO=Pn(),fWt=PO(),OO=H0(),Xo=d2(),WMe=dx(),YMe=class extends fWt.XXHandshake{constructor(e,t,i,n,s,o,a,c,u){super(e,t,i,n,s,a,u);c&&(this.ephemeralKeys=c),this.initialMsg=o}async propose(){if(this.isInitiator)this.xx.sendMessage(this.session,DO.Buffer.alloc(0),this.ephemeralKeys),Xo.logger("XX Fallback Stage 0 - Initialized state as the first message was sent by initiator."),Xo.logLocalEphemeralKeys(this.session.hs.e);else{Xo.logger("XX Fallback Stage 0 - Responder decoding initial msg from IK.");let e=WMe.decode0(this.initialMsg),{valid:t}=this.xx.recvMessage(this.session,{ne:e.ne,ns:DO.Buffer.alloc(0),ciphertext:DO.Buffer.alloc(0)});if(!t)throw new Error("xx fallback stage 0 decryption validation fail");Xo.logger("XX Fallback Stage 0 - Responder used received message from IK."),Xo.logRemoteEphemeralKey(this.session.hs.re)}}async exchange(){if(this.isInitiator){let e=WMe.decode1(this.initialMsg),{plaintext:t,valid:i}=this.xx.recvMessage(this.session,e);if(!i)throw new Error("xx fallback stage 1 decryption validation fail");Xo.logger("XX Fallback Stage 1 - Initiator used received message from IK."),Xo.logRemoteEphemeralKey(this.session.hs.re),Xo.logRemoteStaticKey(this.session.hs.rs),Xo.logger("Initiator going to check remote's signature...");try{let n=await OO.decodePayload(t);this.remotePeer=this.remotePeer||await OO.getPeerIdFromPayload(n),await OO.verifySignedPayload(this.session.hs.rs,n,this.remotePeer),this.setRemoteEarlyData(n.data)}catch(n){let s=n;throw new Error(`Error occurred while verifying signed payload from responder: ${s.message}`)}Xo.logger("All good with the signature!")}else Xo.logger("XX Fallback Stage 1 - Responder start"),await super.exchange(),Xo.logger("XX Fallback Stage 1 - Responder end")}};gS.XXFallbackHandshake=YMe});var ZMe=h(w2=>{"use strict";Object.defineProperty(w2,"__esModule",{value:!0});w2.decryptStream=w2.encryptStream=void 0;var JMe=Pn(),mS=uS();function lWt(r){return async function*(e){for await(let t of e){let i=JMe.Buffer.from(t.buffer,t.byteOffset,t.length);for(let n=0;n<i.length;n+=mS.NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG){let s=n+mS.NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG;s>i.length&&(s=i.length),yield r.encrypt(i.slice(n,s),r.session)}}}}w2.encryptStream=lWt;function hWt(r){return async function*(e){for await(let t of e){let i=JMe.Buffer.from(t.buffer,t.byteOffset,t.length);for(let n=0;n<i.length;n+=mS.NOISE_MSG_MAX_LENGTH_BYTES){let s=n+mS.NOISE_MSG_MAX_LENGTH_BYTES;s>i.length&&(s=i.length);let o=i.slice(n,s),{plaintext:a,valid:c}=await r.decrypt(o,r.session);if(!c)throw new Error("Failed to validate decrypted chunk");yield a}}}}w2.decryptStream=hWt});var eNe=h(xS=>{"use strict";Object.defineProperty(xS,"__esModule",{value:!0});xS.KeyCache=void 0;var QMe=class{constructor(){this.storage=new Map}store(e,t){this.storage.set(e.id,t)}load(e){var t;return e&&(t=this.storage.get(e.id))!==null&&t!==void 0?t:null}resetStorage(){this.storage.clear()}},dWt=new QMe;xS.KeyCache=dWt});var UO=h(v2=>{"use strict";var yx=v2&&v2.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(v2,"__esModule",{value:!0});v2.Noise=void 0;var pWt=yx(eS()),LO=Pn(),tNe=yx(aCe()),bWt=yx(hCe()),rNe=yx(D3()),yWt=yx(yi()),iNe=Ko(),gWt=PO(),mWt=$Me(),xWt=XMe(),nNe=H0(),E2=dx(),sNe=ZMe(),FO=eNe(),wWt=d2(),oNe=uS(),aNe=class{constructor(e,t){if(this.protocol="/noise",this.prologue=LO.Buffer.alloc(0),this.earlyData=t??LO.Buffer.alloc(0),this.useNoisePipes=!1,e){let i=pWt.default.publicKeyCreate(e);this.staticKeys={privateKey:e,publicKey:i}}else this.staticKeys=nNe.generateKeypair()}async secureOutbound(e,t,i){let n=tNe.default(t,{lengthEncoder:E2.uint16BEEncode,lengthDecoder:E2.uint16BEDecode,maxDataLength:oNe.NOISE_MSG_MAX_LENGTH_BYTES}),s=await this.performHandshake({connection:n,isInitiator:!0,localPeer:e,remotePeer:i});return{conn:await this.createSecureConnection(n,s),remoteEarlyData:s.remoteEarlyData,remotePeer:s.remotePeer}}async secureInbound(e,t,i){let n=tNe.default(t,{lengthEncoder:E2.uint16BEEncode,lengthDecoder:E2.uint16BEDecode,maxDataLength:oNe.NOISE_MSG_MAX_LENGTH_BYTES}),s=await this.performHandshake({connection:n,isInitiator:!1,localPeer:e,remotePeer:i});return{conn:await this.createSecureConnection(n,s),remoteEarlyData:s.remoteEarlyData,remotePeer:s.remotePeer}}async performHandshake(e){var t;let i=await nNe.getPayload(e.localPeer,this.staticKeys.publicKey,this.earlyData),n=this.useNoisePipes;if(e.isInitiator&&FO.KeyCache.load(e.remotePeer)===null&&(n=!1),n){let{remotePeer:s,connection:o,isInitiator:a}=e,c=new mWt.IKHandshake(a,i,this.prologue,this.staticKeys,o,(t=FO.KeyCache.load(e.remotePeer))!==null&&t!==void 0?t:LO.Buffer.alloc(32),s);try{return await this.performIKHandshake(c)}catch(u){let f;return e.isInitiator&&(f=c.getLocalEphemeralKeys()),await this.performXXFallbackHandshake(e,i,u.initialMsg,f)}}else return await this.performXXHandshake(e,i)}async performXXFallbackHandshake(e,t,i,n){let{isInitiator:s,remotePeer:o,connection:a}=e,c=new xWt.XXFallbackHandshake(s,t,this.prologue,this.staticKeys,a,i,o,n);try{await c.propose(),await c.exchange(),await c.finish()}catch(u){wWt.logger(u);let f=u;throw new Error(`Error occurred during XX Fallback handshake: ${f.message}`)}return c}async performXXHandshake(e,t){let{isInitiator:i,remotePeer:n,connection:s}=e,o=new gWt.XXHandshake(i,t,this.prologue,this.staticKeys,s,n);try{await o.propose(),await o.exchange(),await o.finish(),this.useNoisePipes&&o.remotePeer&&FO.KeyCache.store(o.remotePeer,o.getRemoteStaticKey())}catch(a){let c=a;throw new Error(`Error occurred during XX handshake: ${c.message}`)}return o}async performIKHandshake(e){return await e.stage0(),await e.stage1(),e}async createSecureConnection(e,t){let[i,n]=bWt.default(),s=e.unwrap();return await yWt.default(i,rNe.default,sNe.encryptStream(t),iNe.encode({lengthEncoder:E2.uint16BEEncode}),s,iNe.decode({lengthDecoder:E2.uint16BEDecode}),rNe.default,sNe.decryptStream(t),i),n}};v2.Noise=aNe});var cNe=h(gf=>{"use strict";var vWt=gf&&gf.__createBinding||(Object.create?function(r,e,t,i){i===void 0&&(i=t),Object.defineProperty(r,i,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}),EWt=gf&&gf.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&vWt(e,r,t)};Object.defineProperty(gf,"__esModule",{value:!0});gf.NOISE=void 0;var _Wt=UO();EWt(UO(),gf);gf.NOISE=new _Wt.Noise});var lNe=h((lxr,uNe)=>{"use strict";var SWt=uD(),{EventEmitter:kWt}=Pr();function fNe(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let t=0,i=r.length;t<i;++t)if(r[t]!==e[t])return!1;return!0}function zO(){return{contacts:[],dontSplit:!1,left:null,right:null}}function gx(r,e){if(!(e instanceof Uint8Array))throw new TypeError(r+" is not a Uint8Array")}var mx=class extends kWt{constructor(e={}){super();this.localNodeId=e.localNodeId||SWt(20),this.numberOfNodesPerKBucket=e.numberOfNodesPerKBucket||20,this.numberOfNodesToPing=e.numberOfNodesToPing||3,this.distance=e.distance||mx.distance,this.arbiter=e.arbiter||mx.arbiter,this.metadata=Object.assign({},e.metadata),gx("option.localNodeId as parameter 1",this.localNodeId),this.root=zO()}static arbiter(e,t){return e.vectorClock>t.vectorClock?e:t}static distance(e,t){let i=0,n=0,s=Math.min(e.length,t.length),o=Math.max(e.length,t.length);for(;n<s;++n)i=i*256+(e[n]^t[n]);for(;n<o;++n)i=i*256+255;return i}add(e){gx("contact.id",(e||{}).id);let t=0,i=this.root;for(;i.contacts===null;)i=this._determineNode(i,e.id,t++);let n=this._indexOf(i,e.id);return n>=0?(this._update(i,n,e),this):i.contacts.length<this.numberOfNodesPerKBucket?(i.contacts.push(e),this.emit("added",e),this):i.dontSplit?(this.emit("ping",i.contacts.slice(0,this.numberOfNodesToPing),e),this):(this._split(i,t),this.add(e))}closest(e,t=Infinity){if(gx("id",e),!Number.isInteger(t)&&t!==Infinity||t<=0)throw new TypeError("n is not positive number");let i=[];for(let n=[this.root],s=0;n.length>0&&i.length<t;){let o=n.pop();if(o.contacts===null){let a=this._determineNode(o,e,s++);n.push(o.left===a?o.right:o.left),n.push(a)}else i=i.concat(o.contacts)}return i.map(n=>[this.distance(n.id,e),n]).sort((n,s)=>n[0]-s[0]).slice(0,t).map(n=>n[1])}count(){let e=0;for(let t=[this.root];t.length>0;){let i=t.pop();i.contacts===null?t.push(i.right,i.left):e+=i.contacts.length}return e}_determineNode(e,t,i){let n=i>>3,s=i%8;return t.length<=n&&s!==0?e.left:t[n]&1<<7-s?e.right:e.left}get(e){gx("id",e);let t=0,i=this.root;for(;i.contacts===null;)i=this._determineNode(i,e,t++);let n=this._indexOf(i,e);return n>=0?i.contacts[n]:null}_indexOf(e,t){for(let i=0;i<e.contacts.length;++i)if(fNe(e.contacts[i].id,t))return i;return-1}remove(e){gx("the id as parameter 1",e);let t=0,i=this.root;for(;i.contacts===null;)i=this._determineNode(i,e,t++);let n=this._indexOf(i,e);if(n>=0){let s=i.contacts.splice(n,1)[0];this.emit("removed",s)}return this}_split(e,t){e.left=zO(),e.right=zO();for(let s of e.contacts)this._determineNode(e,s.id,t).contacts.push(s);e.contacts=null;let i=this._determineNode(e,this.localNodeId,t),n=e.left===i?e.right:e.left;n.dontSplit=!0}toArray(){let e=[];for(let t=[this.root];t.length>0;){let i=t.pop();i.contacts===null?t.push(i.right,i.left):e=e.concat(i.contacts)}return e}*toIterable(){for(let e=[this.root];e.length>0;){let t=e.pop();t.contacts===null?e.push(t.right,t.left):yield*t.contacts}}_update(e,t,i){if(!fNe(e.contacts[t].id,i.id))throw new Error("wrong index for _update");let n=e.contacts[t],s=this.arbiter(n,i);s===n&&n!==i||(e.contacts.splice(t,1),e.contacts.push(s),this.emit("updated",n,s))}};uNe.exports=mx});var hNe=h(hs=>{"use strict";var wS=function(r,e){return e||(e={}),r.split("").forEach(function(t,i){t in e||(e[t]=i)}),e},_2={alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",charmap:{0:14,1:8}};_2.charmap=wS(_2.alphabet,_2.charmap);var vS={alphabet:"0123456789ABCDEFGHJKMNPQRSTVWXYZ",charmap:{O:0,I:1,L:1}};vS.charmap=wS(vS.alphabet,vS.charmap);var ES={alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",charmap:{}};ES.charmap=wS(ES.alphabet,ES.charmap);function xx(r){if(this.buf=[],this.shift=8,this.carry=0,r){switch(r.type){case"rfc4648":this.charmap=hs.rfc4648.charmap;break;case"crockford":this.charmap=hs.crockford.charmap;break;case"base32hex":this.charmap=hs.base32hex.charmap;break;default:throw new Error("invalid type")}r.charmap&&(this.charmap=r.charmap)}}xx.prototype.charmap=_2.charmap;xx.prototype.write=function(r){var e=this.charmap,t=this.buf,i=this.shift,n=this.carry;return r.toUpperCase().split("").forEach(function(s){if(s!="="){var o=e[s]&255;i-=5,i>0?n|=o<<i:i<0?(t.push(n|o>>-i),i+=8,n=o<<i&255):(t.push(n|o),i=8,n=0)}}),this.shift=i,this.carry=n,this};xx.prototype.finalize=function(r){return r&&this.write(r),this.shift!==8&&this.carry!==0&&(this.buf.push(this.carry),this.shift=8,this.carry=0),this.buf};function wx(r){if(this.buf="",this.shift=3,this.carry=0,r){switch(r.type){case"rfc4648":this.alphabet=hs.rfc4648.alphabet;break;case"crockford":this.alphabet=hs.crockford.alphabet;break;case"base32hex":this.alphabet=hs.base32hex.alphabet;break;default:throw new Error("invalid type")}r.alphabet?this.alphabet=r.alphabet:r.lc&&(this.alphabet=this.alphabet.toLowerCase())}}wx.prototype.alphabet=_2.alphabet;wx.prototype.write=function(r){var e=this.shift,t=this.carry,i,n,s;for(s=0;s<r.length;s++)n=r[s],i=t|n>>e,this.buf+=this.alphabet[i&31],e>5&&(e-=5,i=n>>e,this.buf+=this.alphabet[i&31]),e=5-e,t=n<<e,e=8-e;return this.shift=e,this.carry=t,this};wx.prototype.finalize=function(r){return r&&this.write(r),this.shift!==3&&(this.buf+=this.alphabet[this.carry&31],this.shift=3,this.carry=0),this.buf};hs.encode=function(r,e){return new wx(e).finalize(r)};hs.decode=function(r,e){return new xx(e).finalize(r)};hs.Decoder=xx;hs.Encoder=wx;hs.charmap=wS;hs.crockford=vS;hs.rfc4648=_2;hs.base32hex=ES});var _S=h((dxr,dNe)=>{dNe.exports=G0;function G0(r,e){if(r.length!==e.length)throw new Error("Inputs should have the same length");for(var t=Buffer.allocUnsafe(r.length),i=0;i<r.length;i++)t[i]=r[i]^e[i];return t}G0.compare=function(e,t){if(e.length!==t.length)throw new Error("Inputs should have the same length");for(var i=0;i<e.length;i++)if(e[i]!==t[i])return e[i]<t[i]?-1:1;return 0};G0.gt=function(e,t){return G0.compare(e,t)===1};G0.lt=function(e,t){return G0.compare(e,t)===-1};G0.eq=function(e,t){return G0.compare(e,t)===0}});var SS=h((pxr,pNe)=>{"use strict";var AWt=XM();pNe.exports=async(r,e,{concurrency:t=Infinity,stopOnError:i=!0}={})=>new Promise((n,s)=>{if(typeof e!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(t)||t===Infinity)&&t>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${t}\` (${typeof t})`);let o=[],a=[],c=r[Symbol.iterator](),u=!1,f=!1,l=0,d=0,p=()=>{if(u)return;let b=c.next(),g=d;if(d++,b.done){f=!0,l===0&&(!i&&a.length!==0?s(new AWt(a)):n(o));return}l++,(async()=>{try{let m=await b.value;o[g]=await e(m,g),l--,p()}catch(m){i?(u=!0,s(m)):(a.push(m),l--,p())}})()};for(let b=0;b<t&&(p(),!f);b++);})});var li=h(fi=>{"use strict";var KO=De(),VO=Er(),IWt=VO.multihash,{Key:TWt}=ur(),bNe=hNe(),yNe=_S(),RWt=SS(),{Record:qWt}=Yl(),BWt=yt(),CWt=qe(),MWt=Gs(),NWt=pr(),PWt=dr();fi.convertBuffer=r=>VO.digest(r,"sha2-256");fi.convertPeerId=r=>VO.digest(r.id,"sha2-256");fi.bufferToKey=r=>new TWt("/"+fi.encodeBase32(r),!1);fi.keyForPublicKey=r=>MWt([NWt("/pk/"),r.id]);fi.isPublicKeyKey=r=>PWt(r.slice(0,4))==="/pk/";fi.fromPublicKeyKey=r=>new BWt(r.slice(4));fi.now=()=>Date.now();fi.encodeBase32=r=>new bNe.Encoder().write(r).finalize();fi.decodeBase32=r=>{let e=new bNe.Decoder;return Uint8Array.from(e.write(r).finalize())};fi.sortClosestPeers=async(r,e)=>(await RWt(r,async i=>{let n=await fi.convertPeerId(i);return{peer:i,distance:yNe(n,e)}})).sort(fi.xorCompare).map(i=>i.peer);fi.xorCompare=(r,e)=>yNe.compare(r.distance,e.distance);fi.pathSize=(r,e)=>Math.ceil(r/e);fi.createPutRecord=(r,e)=>{let t=new Date;return new qWt(r,e,t).serialize()};fi.logger=(r,e)=>{let t=["libp2p","dht"];e&&t.push(e),r&&t.push(`${r.toB58String().slice(0,8)}`),KO.formatters.b=n=>IWt.toB58String(n);let i=KO(t.join(":"));return i.error=KO(t.concat(["error"]).join(":")),i};fi.TimeoutError=class extends Error{get code(){return"ETIMEDOUT"}};fi.withTimeout=(r,e)=>async(...t)=>Promise.race([r(...t),new Promise((i,n)=>{setTimeout(()=>{n(CWt(new Error("Async function did not complete before timeout"),"ETIMEDOUT"))},e)})]);fi.mapParallel=async function(r,e){let t=[];for await(let i of r)t.push(e(i));return Promise.all(t)}});var xNe=h((gxr,gNe)=>{"use strict";var DWt=lNe(),kS=li(),mNe=class{constructor(e,t){this.self=e,this._onPing=this._onPing.bind(this),this._onInit(t)}async _onInit(e){let t=await kS.convertPeerId(this.self);this.kb=new DWt({localNodeId:t,numberOfNodesPerKBucket:e,numberOfNodesToPing:1}),this.kb.on("ping",this._onPing)}_onPing(e,t){let i=e[0];this.kb.remove(i.id),this.kb.add(t)}get size(){return this.kb.count()}async find(e){let t=await kS.convertPeerId(e),i=this.closestPeer(t);if(i&&i.isEqual(e))return i}closestPeer(e){let t=this.closestPeers(e,1);if(t.length>0)return t[0]}closestPeers(e,t){return this.kb.closest(e,t).map(i=>i.peer)}async add(e){let t=await kS.convertPeerId(e);this.kb.add({id:t,peer:e})}async remove(e){let t=await kS.convertPeerId(e);this.kb.remove(t)}};gNe.exports=mNe});var $0=h(ds=>{"use strict";var AS=ds.second=1e3,wNe=ds.minute=60*AS,jO=ds.hour=60*wNe;ds.MAX_RECORD_AGE=36*jO;ds.PROTOCOL_DHT="/kad/1.0.0";ds.PROVIDERS_KEY_PREFIX="/providers/";ds.PROVIDERS_LRU_CACHE_SIZE=256;ds.PROVIDERS_VALIDITY=24*jO;ds.PROVIDERS_CLEANUP_INTERVAL=jO;ds.READ_MESSAGE_TIMEOUT=10*AS;ds.GET_MANY_RECORD_COUNT=16;ds.K=20;ds.ALPHA=3;ds.defaultRandomWalk={enabled:!0,queriesPerPeriod:1,interval:5*wNe,timeout:10*AS,delay:10*AS}});var ENe=h((xxr,vNe)=>{"use strict";vNe.exports=`// can't use, because protocol-buffers doesn't support imports
// so we have to duplicate for now :(
// import "record.proto";

message Record {
  // adjusted for javascript
  optional bytes key = 1;
  optional bytes value = 2;
  optional bytes author = 3;
  optional bytes signature = 4;
  optional string timeReceived = 5;
}

message Message {
  enum MessageType {
    PUT_VALUE = 0;
    GET_VALUE = 1;
    ADD_PROVIDER = 2;
    GET_PROVIDERS = 3;
    FIND_NODE = 4;
    PING = 5;
  }

  enum ConnectionType {
    // sender does not have a connection to peer, and no extra information (default)
    NOT_CONNECTED = 0;

    // sender has a live connection to peer
    CONNECTED = 1;

    // sender recently connected to peer
    CAN_CONNECT = 2;

    // sender recently tried to connect to peer repeatedly but failed to connect
    // ("try" here is loose, but this should signal "made strong effort, failed")
    CANNOT_CONNECT = 3;
  }

  message Peer {
    // ID of a given peer.
    optional bytes id = 1;

    // multiaddrs for a given peer
    repeated bytes addrs = 2;

    // used to signal the sender's connection capabilities to the peer
    optional ConnectionType connection = 3;
  }

  // defines what type of message it is.
  optional MessageType type = 1;

  // defines what coral cluster level this query/response belongs to.
  // in case we want to implement coral's cluster rings in the future.
  optional int32 clusterLevelRaw = 10;

  // Used to specify the key associated with this message.
  // PUT_VALUE, GET_VALUE, ADD_PROVIDER, GET_PROVIDERS
  // adjusted for javascript
  optional bytes key = 2;

  // Used to return a value
  // PUT_VALUE, GET_VALUE
  // adjusted Record to bytes for js
  optional bytes record = 3;

  // Used to return peers closer to a key in a query
  // GET_VALUE, GET_PROVIDERS, FIND_NODE
  repeated Peer closerPeers = 8;

  // Used to return Providers
  // GET_VALUE, ADD_PROVIDER, GET_PROVIDERS
  repeated Peer providerPeers = 9;
}`});var Xc=h((wxr,_Ne)=>{"use strict";var OWt=yt(),LWt=tr(),FWt=ni(),{Record:UWt}=Yl(),IS=FWt(ENe()),zWt=IS.Message.MessageType,SNe=IS.Message.ConnectionType,S2=class{constructor(e,t,i){if(t&&!(t instanceof Uint8Array))throw new Error("Key must be a Uint8Array");this.type=e,this.key=t,this._clusterLevelRaw=i,this.closerPeers=[],this.providerPeers=[],this.record=null}get clusterLevel(){let e=this._clusterLevelRaw-1;return e<0?0:e}set clusterLevel(e){this._clusterLevelRaw=e}serialize(){let e={key:this.key,type:this.type,clusterLevelRaw:this._clusterLevelRaw,closerPeers:this.closerPeers.map(kNe),providerPeers:this.providerPeers.map(kNe)};return this.record&&(this.record instanceof Uint8Array?e.record=this.record:e.record=this.record.serialize()),IS.Message.encode(e)}static deserialize(e){let t=IS.Message.decode(e),i=new S2(t.type,t.key,t.clusterLevelRaw);return i.closerPeers=t.closerPeers.map(ANe),i.providerPeers=t.providerPeers.map(ANe),t.record&&(i.record=UWt.deserialize(t.record)),i}};S2.TYPES=zWt;S2.CONNECTION_TYPES=SNe;function kNe(r){return{id:r.id.id,addrs:(r.multiaddrs||[]).map(e=>e.bytes),connection:SNe.CONNECTED}}function ANe(r){return{id:new OWt(r.id),multiaddrs:r.addrs.map(e=>LWt(e))}}_Ne.exports=S2});var RNe=h((vxr,INe)=>{"use strict";var{Record:KWt}=Yl(),VWt=qe(),TNe=Xc(),HO=li();INe.exports=r=>{let e=HO.logger(r.peerId,"rpc:get-value");return async function(i,n){let s=n.key;if(e("key: %b",s),!s||s.length===0)throw VWt(new Error("Invalid key"),"ERR_INVALID_KEY");let o=new TNe(TNe.TYPES.GET_VALUE,s,n.clusterLevel);if(HO.isPublicKeyKey(s)){e("is public key");let u=HO.fromPublicKeyKey(s),f;if(r._isSelf(u))f=r.peerId;else{let l=r.peerStore.get(u);f=l&&l.id}if(f&&f.pubKey)return e("returning found public key"),o.record=new KWt(s,f.pubKey.bytes),o}let[a,c]=await Promise.all([r._checkLocalDatastore(s),r._betterPeersToQuery(n,i)]);return a&&(e("got record"),o.record=a),c.length>0&&(e("got closer %s",c.length),o.closerPeers=c),o}}});var CNe=h((Exr,qNe)=>{"use strict";var BNe=li(),jWt=qe();qNe.exports=r=>{let e=BNe.logger(r.peerId,"rpc:put-value");return async function(i,n){let s=n.key;e("key: %b",s);let o=n.record;if(!o){let c=`Empty record from: ${i.toB58String()}`;throw e.error(c),jWt(new Error(c),"ERR_EMPTY_RECORD")}await r._verifyRecordLocally(o),o.timeReceived=new Date;let a=BNe.bufferToKey(o.key);return await r.datastore.put(a,o.serialize()),r.onPut(o,i),n}}});var NNe=h((_xr,MNe)=>{"use strict";var HWt=yo(),GWt=Xc(),$Wt=li();MNe.exports=r=>{let e=$Wt.logger(r.peerId,"rpc:find-node");return async function(i,n){e("start");let s;HWt(n.key,r.peerId.id)?s=[{id:r.peerId}]:s=await r._betterPeersToQuery(n,i);let o=new GWt(n.type,new Uint8Array(0),n.clusterLevel);return s.length>0?o.closerPeers=s:e("handle FindNode %s: could not find anything",i.toB58String()),o}}});var ONe=h((Sxr,PNe)=>{"use strict";var WWt=ot(),DNe=qe(),YWt=li();PNe.exports=r=>{let e=YWt.logger(r.peerId,"rpc:add-provider");return async function(i,n){if(e("start"),!n.key||n.key.length===0)throw DNe(new Error("Missing key"),"ERR_MISSING_KEY");let s;try{s=new WWt(n.key)}catch(o){let a=`Invalid CID: ${o.message}`;throw DNe(new Error(a),"ERR_INVALID_CID")}return n.providerPeers.forEach(o=>{if(!o.id.isEqual(i)){e("invalid provider peer %s from %s",o.id.toB58String(),i.toB58String());return}if(o.multiaddrs.length<1){e("no valid addresses for provider %s. Ignore",i.toB58String());return}if(e("received provider %s for %s (addrs %s)",i.toB58String(),s.toBaseEncodedString(),o.multiaddrs.map(a=>a.toString())),!r._isSelf(o.id))return r.peerStore.addressBook.add(o.id,o.multiaddrs),r.providers.addProvider(s,o.id)}),r.providers.addProvider(s,i)}}});var UNe=h((kxr,LNe)=>{"use strict";var XWt=ot(),JWt=qe(),ZWt=Xc(),FNe=li();LNe.exports=r=>{let e=FNe.logger(r.peerId,"rpc:get-providers");return async function(i,n){let s;try{s=new XWt(n.key)}catch(p){throw JWt(new Error(`Invalid CID: ${p.message}`),"ERR_INVALID_CID")}e("%s",s.toBaseEncodedString());let o=FNe.bufferToKey(s.bytes),[a,c,u]=await Promise.all([r.datastore.has(o),r.providers.getProviders(s),r._betterPeersToQuery(n,i)]),f=c.map(p=>({id:p})),l=u.map(p=>({id:p.id}));a&&f.push({id:r.peerId});let d=new ZWt(n.type,n.key,n.clusterLevel);return f.length>0&&(d.providerPeers=f),l.length>0&&(d.closerPeers=l),e("got %s providers %s closerPeers",f.length,l.length),d}}});var KNe=h((Axr,zNe)=>{"use strict";var QWt=li();zNe.exports=r=>{let e=QWt.logger(r.peerId,"rpc:ping");return function(i,n){return e("from %s",i.toB58String()),n}}});var jNe=h((Ixr,VNe)=>{"use strict";var k2=Xc().TYPES;VNe.exports=r=>{let e={[k2.GET_VALUE]:RNe()(r),[k2.PUT_VALUE]:CNe()(r),[k2.FIND_NODE]:NNe()(r),[k2.ADD_PROVIDER]:ONe()(r),[k2.GET_PROVIDERS]:UNe()(r),[k2.PING]:KNe()(r)};return function(i){return e[i]}}});var $Ne=h((Txr,HNe)=>{"use strict";var eYt=yi(),GNe=Ko(),tYt=Xc(),rYt=jNe(),iYt=li();HNe.exports=r=>{let e=iYt.logger(r.peerId,"rpc"),t=rYt(r);async function i(n,s){let o=t(s.type);try{await r._add(n)}catch(a){e.error("Failed to update the kbucket store",a)}if(!o){e.error(`no handler found for message type: ${s.type}`);return}return o(n,s)}return async function({stream:s,connection:o}){let a=o.remotePeer;try{await r._add(a)}catch(u){e.error(u)}let c=a.toB58String();e("from: %s",c),await eYt(s.source,GNe.decode(),u=>async function*(){for await(let f of u){let l=tYt.deserialize(f.slice()),d=await i(a,l);d&&(yield d.serialize())}}(),GNe.encode(),s.sink)}}});var JNe=h((Rxr,WNe)=>{"use strict";var TS=qe(),YNe=yi(),GO=Ko(),nYt=Xb(),{consume:sYt}=f0(),oYt=O5(),aYt=$Ne(),cYt=$0(),uYt=Xc(),fYt=li(),XNe=class{constructor(e){this.dht=e,this.readMessageTimeout=cYt.READ_MESSAGE_TIMEOUT,this._log=fYt.logger(this.dht.peerId,"net"),this._rpc=aYt(this.dht),this._onPeerConnected=this._onPeerConnected.bind(this),this._running=!1}async start(){if(this._running)return;if(!this.dht.isStarted)throw TS(new Error("Can not start network"),"ERR_CANNOT_START_NETWORK");this._running=!0,this.dht._clientMode===!1&&this.dht.registrar.handle(this.dht.protocol,this._rpc);let e=new oYt({multicodecs:[this.dht.protocol],handlers:{onConnect:this._onPeerConnected,onDisconnect:()=>{}}});this._registrarId=await this.dht.registrar.register(e)}async stop(){!this.dht.isStarted&&!this.isStarted||(this._running=!1,await this.dht.registrar.unregister(this._registrarId))}get isStarted(){return this._running}get isConnected(){return this.dht.isStarted&&this.isStarted}async _onPeerConnected(e){await this.dht._add(e),this._log("added to the routing table: %s",e.toB58String())}async sendRequest(e,t){if(!this.isConnected)throw TS(new Error("Network is offline"),"ERR_NETWORK_OFFLINE");let i=e.toB58String();this._log("sending to: %s",i);let n=this.dht.registrar.connectionManager.get(e);n||(n=await this.dht.dialer.connectToPeer(e));let{stream:s}=await n.newStream(this.dht.protocol);return this._writeReadMessage(s,t.serialize())}async sendMessage(e,t){if(!this.isConnected)throw TS(new Error("Network is offline"),"ERR_NETWORK_OFFLINE");let i=e.toB58String();this._log("sending to: %s",i);let n=this.dht.registrar.connectionManager.get(e);n||(n=await this.dht.dialer.connectToPeer(e));let{stream:s}=await n.newStream(this.dht.protocol);return this._writeMessage(s,t.serialize())}async _writeReadMessage(e,t){return nYt(lYt(e,t),this.readMessageTimeout)}_writeMessage(e,t){return YNe([t],GO.encode(),e,sYt)}};async function lYt(r,e){let t=await YNe([e],GO.encode(),r,GO.decode(),async i=>{for await(let n of i)return n.slice()});if(t.length===0)throw TS(new Error("No message received"),"ERR_NO_MESSAGE_RECEIVED");return uYt.deserialize(t)}WNe.exports=XNe});var tPe=h((qxr,ZNe)=>{"use strict";var RS=_S(),QNe=li(),hYt=SS(),dYt=yo(),ePe=class{constructor(e,t){this.originDhtKey=e,this.capacity=t,this.peerDistances=[]}get length(){return this.peerDistances.length}get peers(){return this.peerDistances.map(e=>e.peerId)}async add(e){if(this.peerDistances.find(n=>dYt(n.peerId.id,e.id)))return;let t=await QNe.convertPeerId(e),i={peerId:e,distance:RS(this.originDhtKey,t)};this.peerDistances.push(i),this.peerDistances.sort((n,s)=>RS.compare(n.distance,s.distance)),this.peerDistances=this.peerDistances.slice(0,this.capacity)}async anyCloser(e){if(!e.length)return!1;if(!this.length)return!0;let t=await hYt(e,n=>QNe.convertPeerId(n)),i=this.peerDistances[this.peerDistances.length-1].distance;for(let n of t){let s=RS(this.originDhtKey,n);if(RS.compare(s,i)<0)return!0}return!1}};ZNe.exports=ePe});var iPe=h(($O,rPe)=>{(function(){var r,e,t,i,n,s,o,a,c,u,f,l,d,p,b;t=Math.floor,u=Math.min,e=function(g,m){return g<m?-1:g>m?1:0},c=function(g,m,w,A,I){var F;if(w==null&&(w=0),I==null&&(I=e),w<0)throw new Error("lo must be non-negative");for(A==null&&(A=g.length);w<A;)F=t((w+A)/2),I(m,g[F])<0?A=F:w=F+1;return[].splice.apply(g,[w,w-w].concat(m)),m},s=function(g,m,w){return w==null&&(w=e),g.push(m),p(g,0,g.length-1,w)},n=function(g,m){var w,A;return m==null&&(m=e),w=g.pop(),g.length?(A=g[0],g[0]=w,b(g,0,m)):A=w,A},a=function(g,m,w){var A;return w==null&&(w=e),A=g[0],g[0]=m,b(g,0,w),A},o=function(g,m,w){var A;return w==null&&(w=e),g.length&&w(g[0],m)<0&&(A=[g[0],m],m=A[0],g[0]=A[1],b(g,0,w)),m},i=function(g,m){var w,A,I,F,V,P,W,ne;for(m==null&&(m=e),P=function(){ne=[];for(var Q=0,M=t(g.length/2);0<=M?Q<M:Q>M;0<=M?Q++:Q--)ne.push(Q);return ne}.apply(this).reverse(),W=[],A=0,F=P.length;A<F;A++)w=P[A],W.push(b(g,w,m));return W},d=function(g,m,w){var A;if(w==null&&(w=e),A=g.indexOf(m),A!==-1)return p(g,0,A,w),b(g,A,w)},f=function(g,m,w){var A,I,F,V,P;if(w==null&&(w=e),I=g.slice(0,m),!I.length)return I;for(i(I,w),P=g.slice(m),F=0,V=P.length;F<V;F++)A=P[F],o(I,A,w);return I.sort(w).reverse()},l=function(g,m,w){var A,I,F,V,P,W,ne,Q,M,y;if(w==null&&(w=e),m*10<=g.length){if(V=g.slice(0,m).sort(w),!V.length)return V;for(F=V[V.length-1],Q=g.slice(m),P=0,ne=Q.length;P<ne;P++)A=Q[P],w(A,F)<0&&(c(V,A,0,null,w),V.pop(),F=V[V.length-1]);return V}for(i(g,w),y=[],I=W=0,M=u(m,g.length);0<=M?W<M:W>M;I=0<=M?++W:--W)y.push(n(g,w));return y},p=function(g,m,w,A){var I,F,V;for(A==null&&(A=e),I=g[w];w>m;){if(V=w-1>>1,F=g[V],A(I,F)<0){g[w]=F,w=V;continue}break}return g[w]=I},b=function(g,m,w){var A,I,F,V,P;for(w==null&&(w=e),I=g.length,P=m,F=g[m],A=2*m+1;A<I;)V=A+1,V<I&&!(w(g[A],g[V])<0)&&(A=V),g[m]=g[A],m=A,A=2*m+1;return g[m]=F,p(g,P,m,w)},r=function(){g.push=s,g.pop=n,g.replace=a,g.pushpop=o,g.heapify=i,g.updateItem=d,g.nlargest=f,g.nsmallest=l;function g(m){this.cmp=m??e,this.nodes=[]}return g.prototype.push=function(m){return s(this.nodes,m,this.cmp)},g.prototype.pop=function(){return n(this.nodes,this.cmp)},g.prototype.peek=function(){return this.nodes[0]},g.prototype.contains=function(m){return this.nodes.indexOf(m)!==-1},g.prototype.replace=function(m){return a(this.nodes,m,this.cmp)},g.prototype.pushpop=function(m){return o(this.nodes,m,this.cmp)},g.prototype.heapify=function(){return i(this.nodes,this.cmp)},g.prototype.updateItem=function(m){return d(this.nodes,m,this.cmp)},g.prototype.clear=function(){return this.nodes=[]},g.prototype.empty=function(){return this.nodes.length===0},g.prototype.size=function(){return this.nodes.length},g.prototype.clone=function(){var m;return m=new g,m.nodes=this.nodes.slice(0),m},g.prototype.toArray=function(){return this.nodes.slice(0)},g.prototype.insert=g.prototype.push,g.prototype.top=g.prototype.peek,g.prototype.front=g.prototype.peek,g.prototype.has=g.prototype.contains,g.prototype.copy=g.prototype.clone,g}(),function(g,m){return typeof define=="function"&&define.amd?define([],m):typeof $O=="object"?rPe.exports=m():g.Heap=m()}(this,function(){return r})}).call($O)});var sPe=h((Bxr,nPe)=>{nPe.exports=iPe()});var aPe=h((Cxr,oPe)=>{"use strict";var pYt=sPe(),bYt=_S(),yYt=De(),qS=li(),WO=yYt("libp2p:dht:peer-queue"),vx=class{static async fromPeerId(e){let t=await qS.convertPeerId(e);return new vx(t)}static async fromKey(e){let t=await qS.convertBuffer(e);return new vx(t)}constructor(e){WO("create: %b",e),this.from=e,this.heap=new pYt(qS.xorCompare)}async enqueue(e){WO("enqueue %s",e.toB58String());let t=await qS.convertPeerId(e),i={id:e,distance:bYt(this.from,t)};this.heap.push(i)}dequeue(){let e=this.heap.pop();return WO("dequeue %s",e.id.toB58String()),e.id}get length(){return this.heap.size()}};oPe.exports=vx});var fPe=h((Mxr,cPe)=>{"use strict";var gYt=aPe(),mYt=li(),xYt=3e4,uPe=class{constructor(e,t){if(this.run=e,this.queryFunc=mYt.withTimeout(t,xYt),!this.queryFunc)throw new Error("Path requires a `queryFn` to be specified");if(typeof this.queryFunc!="function")throw new Error("Path expected `queryFn` to be a function. Got "+typeof this.queryFunc);this.initialPeers=[],this.peersToQuery=null}addInitialPeer(e){this.initialPeers.push(e)}async execute(){let e=await gYt.fromKey(this.run.query.key);this.peersToQuery=e,await Promise.all(this.initialPeers.map(t=>this.addPeerToQuery(t))),await this.run.workerQueue(this)}async addPeerToQuery(e){this.run.query.dht._isSelf(e)||this.run.peersSeen.has(e.toB58String())||await this.peersToQuery.enqueue(e)}};cPe.exports=uPe});var hPe=h((Nxr,lPe)=>{function wYt(r,e,t,i){for(var n=r.length,s=t+(i?1:-1);i?s--:++s<n;)if(e(r[s],s,r))return s;return-1}lPe.exports=wYt});var pPe=h((Pxr,dPe)=>{function vYt(r){return r!==r}dPe.exports=vYt});var yPe=h((Dxr,bPe)=>{function EYt(r,e,t){for(var i=t-1,n=r.length;++i<n;)if(r[i]===e)return i;return-1}bPe.exports=EYt});var mPe=h((Oxr,gPe)=>{var _Yt=hPe(),SYt=pPe(),kYt=yPe();function AYt(r,e,t){return e===e?kYt(r,e,t):_Yt(r,SYt,t)}gPe.exports=AYt});var wPe=h((Lxr,xPe)=>{var IYt=Array.isArray;xPe.exports=IYt});var EPe=h((Fxr,vPe)=>{function TYt(){}vPe.exports=TYt});var SPe=h((BS,_Pe)=>{"use strict";Object.defineProperty(BS,"__esModule",{value:!0});BS.default=RYt;function RYt(r){return function(){if(r===null)throw new Error("Callback was already called.");var e=r;r=null,e.apply(this,arguments)}}_Pe.exports=BS.default});var YO=h((CS,kPe)=>{"use strict";Object.defineProperty(CS,"__esModule",{value:!0});CS.default=qYt;function qYt(r,e){e=e|0;for(var t=Math.max(r.length-e,0),i=Array(t),n=0;n<t;n++)i[n]=r[e+n];return i}kPe.exports=CS.default});var XO=h(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.hasNextTick=mf.hasSetImmediate=void 0;mf.fallback=APe;mf.wrap=IPe;var BYt=YO(),MYt=CYt(BYt);function CYt(r){return r&&r.__esModule?r:{default:r}}var NYt=mf.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,PYt=mf.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function APe(r){setTimeout(r,0)}function IPe(r){return function(e){var t=(0,MYt.default)(arguments,1);r(function(){e.apply(null,t)})}}var MS;NYt?MS=setImmediate:PYt?MS=process.nextTick:MS=APe;mf.default=IPe(MS)});var qPe=h((NS,TPe)=>{"use strict";Object.defineProperty(NS,"__esModule",{value:!0});NS.default=Fa;function Fa(){this.head=this.tail=null,this.length=0}function RPe(r,e){r.length=1,r.head=r.tail=e}Fa.prototype.removeLink=function(r){return r.prev?r.prev.next=r.next:this.head=r.next,r.next?r.next.prev=r.prev:this.tail=r.prev,r.prev=r.next=null,this.length-=1,r};Fa.prototype.empty=function(){for(;this.head;)this.shift();return this};Fa.prototype.insertAfter=function(r,e){e.prev=r,e.next=r.next,r.next?r.next.prev=e:this.tail=e,r.next=e,this.length+=1};Fa.prototype.insertBefore=function(r,e){e.prev=r.prev,e.next=r,r.prev?r.prev.next=e:this.head=e,r.prev=e,this.length+=1};Fa.prototype.unshift=function(r){this.head?this.insertBefore(this.head,r):RPe(this,r)};Fa.prototype.push=function(r){this.tail?this.insertAfter(this.tail,r):RPe(this,r)};Fa.prototype.shift=function(){return this.head&&this.removeLink(this.head)};Fa.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)};Fa.prototype.toArray=function(){for(var r=Array(this.length),e=this.head,t=0;t<this.length;t++)r[t]=e.data,e=e.next;return r};Fa.prototype.remove=function(r){for(var e=this.head;e;){var t=e.next;r(e)&&this.removeLink(e),e=t}return this};TPe.exports=NS.default});var CPe=h((zxr,BPe)=>{function DYt(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}BPe.exports=DYt});var NPe=h((PS,MPe)=>{"use strict";Object.defineProperty(PS,"__esModule",{value:!0});PS.default=function(r){return function(){var e=(0,OYt.default)(arguments),t=e.pop();r.call(this,e,t)}};var LYt=YO(),OYt=FYt(LYt);function FYt(r){return r&&r.__esModule?r:{default:r}}MPe.exports=PS.default});var OPe=h((DS,PPe)=>{"use strict";Object.defineProperty(DS,"__esModule",{value:!0});DS.default=UYt;var zYt=CPe(),KYt=JO(zYt),VYt=NPe(),jYt=JO(VYt),HYt=XO(),GYt=JO(HYt);function JO(r){return r&&r.__esModule?r:{default:r}}function UYt(r){return(0,jYt.default)(function(e,t){var i;try{i=r.apply(this,e)}catch(n){return t(n)}(0,KYt.default)(i)&&typeof i.then=="function"?i.then(function(n){DPe(t,null,n)},function(n){DPe(t,n.message?n:new Error(n))}):t(null,i)})}function DPe(r,e,t){try{r(e,t)}catch(i){(0,GYt.default)($Yt,i)}}function $Yt(r){throw r}PPe.exports=DS.default});var ZO=h(Ex=>{"use strict";Object.defineProperty(Ex,"__esModule",{value:!0});Ex.isAsync=void 0;var WYt=OPe(),XYt=YYt(WYt);function YYt(r){return r&&r.__esModule?r:{default:r}}var JYt=typeof Symbol=="function";function LPe(r){return JYt&&r[Symbol.toStringTag]==="AsyncFunction"}function ZYt(r){return LPe(r)?(0,XYt.default)(r):r}Ex.default=ZYt;Ex.isAsync=LPe});var UPe=h((OS,FPe)=>{"use strict";Object.defineProperty(OS,"__esModule",{value:!0});OS.default=QYt;var eXt=mPe(),tXt=ud(eXt),rXt=wPe(),iXt=ud(rXt),nXt=EPe(),fd=ud(nXt),sXt=SPe(),oXt=ud(sXt),aXt=XO(),QO=ud(aXt),cXt=qPe(),uXt=ud(cXt),fXt=ZO(),lXt=ud(fXt);function ud(r){return r&&r.__esModule?r:{default:r}}function QYt(r,e,t){if(e==null)e=1;else if(e===0)throw new Error("Concurrency must not be zero");var i=(0,lXt.default)(r),n=0,s=[],o=!1;function a(l,d,p){if(p!=null&&typeof p!="function")throw new Error("task callback must be a function");if(f.started=!0,(0,iXt.default)(l)||(l=[l]),l.length===0&&f.idle())return(0,QO.default)(function(){f.drain()});for(var b=0,g=l.length;b<g;b++){var m={data:l[b],callback:p||fd.default};d?f._tasks.unshift(m):f._tasks.push(m)}o||(o=!0,(0,QO.default)(function(){o=!1,f.process()}))}function c(l){return function(d){n-=1;for(var p=0,b=l.length;p<b;p++){var g=l[p],m=(0,tXt.default)(s,g,0);m===0?s.shift():m>0&&s.splice(m,1),g.callback.apply(g,arguments),d!=null&&f.error(d,g.data)}n<=f.concurrency-f.buffer&&f.unsaturated(),f.idle()&&f.drain(),f.process()}}var u=!1,f={_tasks:new uXt.default,concurrency:e,payload:t,saturated:fd.default,unsaturated:fd.default,buffer:e/4,empty:fd.default,drain:fd.default,error:fd.default,started:!1,paused:!1,push:function(l,d){a(l,!1,d)},kill:function(){f.drain=fd.default,f._tasks.empty()},unshift:function(l,d){a(l,!0,d)},remove:function(l){f._tasks.remove(l)},process:function(){if(!u){for(u=!0;!f.paused&&n<f.concurrency&&f._tasks.length;){var l=[],d=[],p=f._tasks.length;f.payload&&(p=Math.min(p,f.payload));for(var b=0;b<p;b++){var g=f._tasks.shift();l.push(g),s.push(g),d.push(g.data)}n+=1,f._tasks.length===0&&f.empty(),n===f.concurrency&&f.saturated();var m=(0,oXt.default)(c(l));i(d,m)}u=!1}},length:function(){return f._tasks.length},running:function(){return n},workersList:function(){return s},idle:function(){return f._tasks.length+n===0},pause:function(){f.paused=!0},resume:function(){f.paused!==!1&&(f.paused=!1,(0,QO.default)(f.process))}};return f}FPe.exports=OS.default});var VPe=h((LS,zPe)=>{"use strict";Object.defineProperty(LS,"__esModule",{value:!0});LS.default=function(r,e){var t=(0,dXt.default)(r);return(0,hXt.default)(function(i,n){t(i[0],n)},e,1)};var pXt=UPe(),hXt=KPe(pXt),bXt=ZO(),dXt=KPe(bXt);function KPe(r){return r&&r.__esModule?r:{default:r}}zPe.exports=LS.default});var HPe=h((Vxr,jPe)=>{"use strict";var yXt=Object.prototype.toString;jPe.exports=function(r){return yXt.call(r)==="[object Function]"}});var $Pe=h((jxr,GPe)=>{"use strict";GPe.exports=typeof setImmediate=="function"?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}});var XPe=h((Hxr,WPe)=>{"use strict";var gXt=HPe(),YPe=$Pe();WPe.exports=function(r){if(!gXt(r.then))throw new TypeError("Expected a promise");return function(e){r.then(function(t){YPe(e,null,t)},function(t){YPe(e,t)})}}});var QPe=h((Gxr,JPe)=>{"use strict";var mXt=VPe(),xXt=XPe(),ZPe=class{constructor(e,t,i,n){this.dht=e,this.run=t,this.path=i,this.log=n,this.concurrency=this.dht.concurrency,this.queue=this.setupQueue(),this.execution=null}setupQueue(){let e=mXt((t,i)=>{xXt(this.processNext(t))(i)},this.concurrency);return e.error=t=>{this.log.error("queue",t),this.stop(t)},e.drain=()=>{this.log("queue:drain"),this.stop()},e.unsaturated=()=>{this.running&&this.fill()},e.buffer=0,e}stop(e){!this.running||(this.running=!1,this.queue.kill(),this.log("worker:stop, %d workers still running",this.run.workers.filter(t=>t.running).length),e?this.execution.reject(e):this.execution.resolve())}async execute(){this.running=!0,this.execution={};let e=new Promise((t,i)=>Object.assign(this.execution,{resolve:t,reject:i}));this.fill(),await e}fill(){for(;this.queue.running()+this.queue.length()<this.concurrency&&this.path.peersToQuery.length>0;)this.queue.push(this.path.peersToQuery.dequeue())}async processNext(e){if(!this.running||this.run.peersSeen.has(e.toB58String()))return;let t,i;try{t=await this.run.continueQuerying(this)}catch(o){i=o}if(!this.running)return;if(i)throw i;if(!t){this.stop();return}if(this.run.peersSeen.has(e.toB58String()))return;this.run.peersSeen.add(e.toB58String()),this.log("queue:work");let n,s;try{n=await this.execQuery(e)}catch(o){s=o}if(!!this.running){if(this.log("queue:work:done",s,n),s)throw s;if(n&&n.queryComplete){this.log("query:complete"),this.run.stop();return}n&&n.pathComplete&&this.stop()}}async execQuery(e){let t,i;try{t=await this.path.queryFunc(e)}catch(n){i=n}if(!!this.running){if(i){this.run.errors.push(i);return}if(await this.run.peersQueried.add(e),t.pathComplete||t.queryComplete)return this.path.res=t,{pathComplete:t.pathComplete,queryComplete:t.queryComplete};t.closerPeers&&t.closerPeers.length>0&&await Promise.all(t.closerPeers.map(async n=>{this.dht._isSelf(n.id)||(this.dht._peerDiscovered(n.id,n.multiaddrs),await this.path.addPeerToQuery(n.id))}))}}};JPe.exports=ZPe});var rDe=h(($xr,eDe)=>{"use strict";var wXt=tPe(),vXt=Pr(),EXt=fPe(),_Xt=QPe(),SXt=li(),tDe=class extends vXt{constructor(e){super();this.query=e,this.running=!1,this.workers=[],this.peersSeen=new Set,this.errors=[],this.peersQueried=null}stop(){if(!!this.running){this.running=!1;for(let e of this.workers)e.stop()}}async execute(e){let t=[],i=Math.min(this.query.dht.disjointPaths,e.length);for(let s=0;s<i;s++)t.push(new EXt(this,this.query.makePath(s,i)));e.forEach((s,o)=>{t[o%i].addInitialPeer(s)}),await this.executePaths(t);let n={finalSet:new Set(this.peersQueried.peers),paths:[]};for(let s of t)s.res&&(s.res.pathComplete||s.res.queryComplete)&&(s.res.success=!0,n.paths.push(s.res));return n}async executePaths(e){this.running=!0,this.emit("start");try{await Promise.all(e.map(t=>t.execute()))}finally{this.stop(),this.emit("complete")}if(this.errors.length===this.peersSeen.size)throw this.errors[0]}async workerQueue(e){await this.init(),await this.startWorker(e)}async startWorker(e){let t=new _Xt(this.query.dht,this,e,this.query._log);this.workers.push(t),await t.execute()}async init(){if(!this.peersQueried){if(this.peersQueriedPromise){await this.peersQueriedPromise;return}this.peersQueriedPromise=(async()=>{let e=await SXt.convertBuffer(this.query.key);this.peersQueried=new wXt(e,this.query.dht.kBucketSize)})(),await this.peersQueriedPromise,delete this.peersQueriedPromise}}async continueQuerying(e){if(this.peersQueried.length<this.peersQueried.capacity)return!0;let t=e.queue.workersList().map(n=>n.data);return!!await this.peersQueried.anyCloser(t)}};eDe.exports=tDe});var FS=h((Wxr,iDe)=>{"use strict";var kXt=Er().multihash,AXt=li(),IXt=rDe(),nDe=class{constructor(e,t,i){this.dht=e,this.key=t,this.makePath=i,this._log=AXt.logger(this.dht.peerId,"query:"+kXt.toB58String(t)),this.running=!1,this._onStart=this._onStart.bind(this),this._onComplete=this._onComplete.bind(this)}async run(e){return this.dht._queryManager.running?e.length===0?(this._log.error("Running query with no peers"),{finalSet:new Set,paths:[]}):(this._run=new IXt(this),this._log(`query running with K=${this.dht.kBucketSize}, A=${this.dht.concurrency}, D=${Math.min(this.dht.disjointPaths,e.length)}`),this._run.once("start",this._onStart),this._run.once("complete",this._onComplete),this._run.execute(e)):(this._log.error("Attempt to run query after shutdown"),{finalSet:new Set,paths:[]})}_onStart(){this.running=!0,this._startTime=Date.now(),this._log("query:start"),this.dht._queryManager.queryStarted(this)}_onComplete(){this.stop()}stop(){this._log(`query:done in ${Date.now()-this._startTime}ms`),this._run&&this._log(`${this._run.errors.length} of ${this._run.peersSeen.size} peers errored (${this._run.errors.length/this._run.peersSeen.size*100}% fail rate)`),!!this.running&&(this._run.removeListener("start",this._onStart),this._run.removeListener("complete",this._onComplete),this.running=!1,this._run&&this._run.stop(),this.dht._queryManager.queryCompleted(this))}};iDe.exports=nDe});var aDe=h((Yxr,sDe)=>{"use strict";var eL=qe(),TXt=Xb(),RXt=yo(),oDe=Yl(),tL=$0(),qXt=FS(),ld=li(),BXt=oDe.Record;sDe.exports=r=>{let e=async(n,s)=>r.datastore.put(ld.bufferToKey(n),s),t=async n=>{r._log("getLocal %b",n);let s=await r.datastore.get(ld.bufferToKey(n));r._log("found %b in local datastore",n);let o=BXt.deserialize(s);return await r._verifyRecordLocally(o),o},i=async(n,s,o)=>{let a=await ld.createPutRecord(n,o);return Promise.all(s.map(async c=>{if(!RXt(c.val,o)){if(r._isSelf(c.from)){try{await r._putLocal(n,a)}catch(u){r._log.error("Failed error correcting self",u)}return}try{await r._putValueToPeer(n,a,c.from)}catch(u){r._log.error("Failed error correcting entry",u)}}}))};return{async _putLocal(n,s){return e(n,s)},async put(n,s,o={}){r._log("PutValue %b",n);let a=await ld.createPutRecord(n,s);await e(n,a);let c=0,u=0;await ld.mapParallel(r.getClosestPeers(n,{shallow:!0}),async l=>{try{c+=1,await r._putValueToPeer(n,a,l),u+=1}catch(d){r._log.error("Failed to put to peer (%b): %s",l.id,d)}});let f=o.minPeers||c;if(f>u){let l=eL(new Error(`Failed to put value to enough peers: ${u}/${f}`),"ERR_NOT_ENOUGH_PUT_PEERS");throw r._log.error(l),l}},async get(n,s={}){s.timeout=s.timeout||tL.minute,r._log("_get %b",n);let o=await r.getMany(n,tL.GET_MANY_RECORD_COUNT,s),a=o.map(f=>f.val),c=0;try{c=oDe.selection.bestRecord(r.selectors,n,a)}catch(f){if(f.code!=="ERR_NO_SELECTOR_FUNCTION_FOR_RECORD_KEY")throw f}let u=a[c];if(r._log("GetValue %b %s",n,u),!u)throw eL(new Error("best value was not found"),"ERR_NOT_FOUND");return await i(n,o,u),u},async getMany(n,s,o={}){o.timeout=o.timeout||tL.minute,r._log("getMany %b (%s)",n,s);let a=[],c;try{c=await t(n)}catch(b){if(s===0)throw b}if(c&&a.push({val:c.value,from:r.peerId}),a.length>=s)return a;let u=[],f=await ld.convertBuffer(n),l=r.routingTable.closestPeers(f,this.kBucketSize);if(r._log("peers in rt: %d",l.length),l.length===0){let b="Failed to lookup key! No peers from routing table!";if(r._log.error(b),a.length===0)throw eL(new Error(b),"ERR_NO_PEERS_IN_ROUTING_TABLE");return a}let d=new qXt(r,n,(b,g)=>{let m=ld.pathSize(s-a.length,g),w=[];return u.push(w),async A=>{let I,F,V;try{let W=await r._getValueOrPeers(A,n);I=W.record,F=W.peers}catch(W){if(W.code!=="ERR_INVALID_RECORD")throw W;V=W}let P={closerPeers:F};return(I&&I.value||V)&&w.push({val:I&&I.value,from:A}),w.length>=m&&(P.pathComplete=!0),P}}),p;try{await TXt(d.run(l),o.timeout)}catch(b){p=b}if(d.stop(),a=[].concat.apply(a,u).slice(0,s),p&&a.length===0)throw p;return a}}}});var fDe=h((Xxr,cDe)=>{"use strict";var uDe=class{constructor(){this.list=[]}push(e){return this.has(e.id)?!1:(this.list.push(e),!0)}has(e){let t=this.list.find(i=>i.id.isEqual(e));return Boolean(t)}toArray(){return this.list.slice()}pop(){return this.list.pop()}get length(){return this.list.length}};cDe.exports=uDe});var dDe=h((Jxr,lDe)=>{"use strict";var CXt=fDe(),hDe=class extends CXt{constructor(e){super();this.limit=e}push(e){return this.length<this.limit?super.push(e):!1}};lDe.exports=hDe});var xDe=h((Zxr,pDe)=>{"use strict";var MXt=qe(),bDe=Xb(),yDe=$0(),gDe=dDe(),US=Xc(),NXt=FS(),mDe=li();pDe.exports=r=>{let e=async(t,i)=>{let n=new US(US.TYPES.GET_PROVIDERS,i.bytes,0);return r.network.sendRequest(t,n)};return{async provide(t){r._log("provide: %s",t.toBaseEncodedString());let i=[];await r.providers.addProvider(t,r.peerId);let n=r.libp2p?r.libp2p.multiaddrs:[],s=new US(US.TYPES.ADD_PROVIDER,t.bytes,0);if(s.providerPeers=[{id:r.peerId,multiaddrs:n}],await mDe.mapParallel(r.getClosestPeers(t.bytes),async o=>{r._log("putProvider %s to %s",t.toBaseEncodedString(),o.toB58String());try{await r.network.sendMessage(o,s)}catch(a){i.push(a)}}),i.length)throw MXt(new Error(`Failed to provide to ${i.length} of ${r.kBucketSize} peers`,"ERR_SOME_PROVIDES_FAILED"),{errors:i})},async*findProviders(t,i={}){let n=i.timeout||yDe.minute,s=i.maxNumProviders||yDe.K;r._log("findProviders %s",t.toBaseEncodedString());let o=new gDe(s);if((await r.providers.getProviders(t)).forEach(l=>{let d=r.peerStore.get(l)||{};o.push({id:d.id||l,multiaddrs:(d.addresses||[]).map(p=>p.multiaddr)})}),o.length>=s){for(let l of o.toArray())yield l;return}let c=[],u=new NXt(r,t.bytes,(l,d)=>{let p=mDe.pathSize(s-o.length,d),b=new gDe(p);return c.push(b),async g=>{let m=await e(g,t),w=m.providerPeers;return r._log("(%s) found %s provider entries",r.peerId.toB58String(),w.length),w.forEach(A=>{b.push({id:A.id})}),b.length>=p?{pathComplete:!0}:{closerPeers:m.closerPeers}}}),f=r.routingTable.closestPeers(t.bytes,r.kBucketSize);try{await bDe(u.run(f),n)}catch(l){if(l.name!==bDe.TimeoutError.name)throw l}finally{u.stop()}c.forEach(l=>{l.toArray().forEach(d=>{o.push(d)})});for(let l of o.toArray())yield l}}}});var EDe=h((Qxr,wDe)=>{"use strict";var zS=qe(),PXt=Xb(),rL=yt(),DXt=pc(),OXt=$0(),KS=Xc(),vDe=FS(),_x=li();wDe.exports=r=>{let e=async s=>{r._log("findPeerLocal %s",s.toB58String());let o=await r.routingTable.find(s),a=o&&r.peerStore.get(o);if(a)return{id:a.id,multiaddrs:a.addresses.map(c=>c.multiaddr)}},t=async(s,o)=>{let a=new KS(KS.TYPES.GET_VALUE,o,0);return r.network.sendRequest(s,a)},i=async(s,o)=>(r._log("closerPeersSingle %b from %s",s,o.toB58String()),(await r.peerRouting._findPeerSingle(o,new rL(s))).closerPeers.filter(c=>!r._isSelf(c.id)).map(c=>(r.peerStore.addressBook.add(c.id,c.multiaddrs),c))),n=async s=>{let o=_x.keyForPublicKey(s),a=await t(s,o);if(!a.record||!a.record.value)throw zS(`Node not responding with its public key: ${s.toB58String()}`,"ERR_INVALID_RECORD");let c=rL.createFromPubKey(a.record.value);if(!c.isEqual(s))throw zS("public key does not match id","ERR_PUBLIC_KEY_DOES_NOT_MATCH_ID");return c.pubKey};return{async _findPeerSingle(s,o){r._log("findPeerSingle %s",s.toB58String());let a=new KS(KS.TYPES.FIND_NODE,o.id,0);return r.network.sendRequest(s,a)},async findPeer(s,o={}){o.timeout=o.timeout||OXt.minute,r._log("findPeer %s",s.toB58String());let a=await e(s);if(a!=null)return r._log("found local"),a;let c=await _x.convertPeerId(s),u=r.routingTable.closestPeers(c,r.kBucketSize);if(u.length===0)throw zS(new Error("Peer lookup failed"),"ERR_LOOKUP_FAILED");if(u.find(m=>m.isEqual(s))){let m=r.peerStore.get(s);if(m)return r._log("found in peerStore"),{id:m.id,multiaddrs:m.addresses.map(w=>w.multiaddr)}}let l=new vDe(r,s.id,()=>async m=>{let w=await this._findPeerSingle(m,s),A=w.closerPeers.find(I=>I.id.isEqual(s));return A?{peer:A,queryComplete:!0}:{closerPeers:w.closerPeers}}),d,p;try{p=await PXt(l.run(u),o.timeout)}catch(m){d=m}if(l.stop(),d)throw d;let b=!1;if(p.paths.forEach(m=>{m.success&&(b=!0,r.peerStore.addressBook.add(m.peer.id,m.peer.multiaddrs))}),r._log("findPeer %s: %s",s.toB58String(),b),!b)throw zS(new Error("No peer found"),"ERR_NOT_FOUND");let g=r.peerStore.get(s);return{id:g.id,multiaddrs:g.addresses.map(m=>m.multiaddr)}},async*getClosestPeers(s,o={shallow:!1}){r._log("getClosestPeers to %b",s);let a=await _x.convertBuffer(s),c=r.routingTable.closestPeers(a,r.kBucketSize),f=await new vDe(r,s,()=>async d=>({closerPeers:await i(s,d),pathComplete:o.shallow?!0:void 0})).run(c);if(!f||!f.finalSet)return[];let l=await _x.sortClosestPeers(Array.from(f.finalSet),a);for(let d of l.slice(0,r.kBucketSize))yield d},async getPublicKey(s){r._log("getPublicKey %s",s.toB58String());let o=r.peerStore.get(s);if(o&&o.id.pubKey)return r._log("getPublicKey: found local copy"),o.id.pubKey;let a;try{a=await n(s)}catch(u){let f=_x.keyForPublicKey(s),l=await r.get(f);a=DXt.keys.unmarshalPublicKey(l)}o.id=new rL(s.id,null,a);let c=o.addresses.map(u=>u.multiaddr);return r.peerStore.addressBook.add(o.id,c),r.peerStore.keyBook.set(o.id,a),a}}}});var ADe=h((ewr,_De)=>{_De.exports=SDe;var kDe=128,LXt=127,FXt=~LXt,UXt=Math.pow(2,31);function SDe(r,e,t){e=e||[],t=t||0;for(var i=t;r>=UXt;)e[t++]=r&255|kDe,r/=128;for(;r&FXt;)e[t++]=r&255|kDe,r>>>=7;return e[t]=r|0,SDe.bytes=t-i+1,e}});var RDe=h((twr,IDe)=>{IDe.exports=iL;var zXt=128,TDe=127;function iL(r,e){var t=0,e=e||0,i=0,n=e,s,o=r.length;do{if(n>=o)throw iL.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&TDe)<<i:(s&TDe)*Math.pow(2,i),i+=7}while(s>=zXt);return iL.bytes=n-e,t}});var BDe=h((rwr,qDe)=>{var KXt=Math.pow(2,7),VXt=Math.pow(2,14),jXt=Math.pow(2,21),HXt=Math.pow(2,28),GXt=Math.pow(2,35),$Xt=Math.pow(2,42),WXt=Math.pow(2,49),YXt=Math.pow(2,56),XXt=Math.pow(2,63);qDe.exports=function(r){return r<KXt?1:r<VXt?2:r<jXt?3:r<HXt?4:r<GXt?5:r<$Xt?6:r<WXt?7:r<YXt?8:r<XXt?9:10}});var MDe=h((iwr,CDe)=>{CDe.exports={encode:ADe(),decode:RDe(),encodingLength:BDe()}});var FDe=h((nwr,NDe)=>{"use strict";var JXt=sg(),PDe=MDe(),ZXt=yt(),{Key:QXt}=ur(),{default:eJt}=Ap(),Sx=$0(),kx=li(),DDe=class{constructor(e,t,i){this.datastore=e,this._log=kx.logger(t,"providers"),this.cleanupInterval=Sx.PROVIDERS_CLEANUP_INTERVAL,this.provideValidity=Sx.PROVIDERS_VALIDITY,this.lruCacheSize=i||Sx.PROVIDERS_LRU_CACHE_SIZE,this.providers=JXt(this.lruCacheSize),this.syncQueue=new eJt({concurrency:1})}start(){this._cleaner=setInterval(()=>this._cleanup(),this.cleanupInterval)}stop(){clearInterval(this._cleaner),this._cleaner=null}_cleanup(){return this.syncQueue.add(async()=>{this._log("start cleanup");let e=Date.now(),t=0,i=0,n=new Map,s=this.datastore.batch(),o=this.datastore.query({prefix:Sx.PROVIDERS_KEY_PREFIX});for await(let a of o)try{let{cid:c,peerId:u}=ODe(a.key),f=LDe(a.value),l=Date.now(),d=l-f,p=d>this.provideValidity;if(this._log("comparing: %d - %d = %d > %d %s",l,f,d,this.provideValidity,p?"(expired)":""),p){i++,s.delete(a.key);let b=n.get(c)||new Set;b.add(u),n.set(c,b)}t++}catch(c){this._log.error(c.message)}this._log("deleting %d / %d entries",i,t),n.size&&await s.commit();for(let[a,c]of n){let u=Ax(a),f=this.providers.get(u);if(f){for(let l of c)f.delete(l);f.size===0?this.providers.remove(u):this.providers.set(u,f)}}this._log("Cleanup successful (%dms)",Date.now()-e)})}async _getProvidersMap(e){let t=Ax(e),i=this.providers.get(t);return i||(i=await rJt(this.datastore,e),this.providers.set(t,i)),i}async addProvider(e,t){return this.syncQueue.add(async()=>{this._log("addProvider %s",e.toBaseEncodedString());let i=await this._getProvidersMap(e);this._log("loaded %s provs",i.size);let n=Date.now();i.set(kx.encodeBase32(t.id),n);let s=Ax(e);return this.providers.set(s,i),tJt(this.datastore,e,t,n)})}async getProviders(e){return this.syncQueue.add(async()=>(this._log("getProviders %s",e.toBaseEncodedString()),[...(await this._getProvidersMap(e)).keys()].map(i=>new ZXt(kx.decodeBase32(i)))))}};function Ax(r){return r=typeof r=="string"?r:kx.encodeBase32(r.bytes),Sx.PROVIDERS_KEY_PREFIX+r}async function tJt(r,e,t,i){let n=[Ax(e),"/",kx.encodeBase32(t.id)].join(""),s=new QXt(n),o=Uint8Array.from(PDe.encode(i));return r.put(s,o)}function ODe(r){let e=r.toString().split("/");if(e.length!==4)throw new Error("incorrectly formatted provider entry key in datastore: "+r);return{cid:e[2],peerId:e[3]}}async function rJt(r,e){let t=new Map,i=r.query({prefix:Ax(e)});for await(let n of i){let{peerId:s}=ODe(n.key);t.set(s,LDe(n.value))}return t}function LDe(r){return PDe.decode(r)}NDe.exports=DDe});var zDe=h((swr,nL)=>{"use strict";var iJt=SS(),UDe=async(r,e,t)=>iJt(new Array(r).fill(),(i,n)=>e(n),t);nL.exports=UDe;nL.exports.default=UDe});var jDe=h((owr,KDe)=>{"use strict";var nJt=pc(),sJt=Er(),oJt=yt(),aJt=Sf(),cJt=qe(),uJt=zDe(),fJt=$0(),{logger:lJt}=li(),VDe=class{constructor(e,t){if(!e)throw new Error("Random Walk needs an instance of the Kademlia DHT");this._kadDHT=e,this._options={...fJt.defaultRandomWalk,...t},this.log=lJt(e.peerId,"random-walk"),this._timeoutId=void 0}start(){this._timeoutId||!this._options.enabled||(this._timeoutId=setTimeout(()=>{this._runPeriodically()},this._options.delay))}stop(){this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=void 0),this._controller&&this._controller.abort()}async _runPeriodically(){for(;this._timeoutId;){try{await this._walk(this._options.queriesPerPeriod,this._options.timeout)}catch(e){this._kadDHT._log.error("random-walk:error",e)}await new Promise(e=>{this._timeoutId=setTimeout(e,this._options.interval)})}}async _walk(e,t){this.log("start"),this._controller=new aJt;try{await uJt(e,async i=>{this.log("running query %d",i);try{let n=await this._randomPeerId();if(!this._controller)return;await this._query(n,{timeout:t,signal:this._controller.signal})}catch(n){if(n&&n.code!=="ETIMEDOUT")throw this.log.error("query %d finished with error",i,n),n}this.log("finished query %d",i)})}finally{this._controller=null,this.log("finished queries")}}async _query(e,t){this.log("query:%s",e.toB58String());let i;try{i=await this._kadDHT.findPeer(e,t)}catch(n){if(n&&n.code==="ERR_NOT_FOUND")return;throw n}throw this.log("query:found",i),cJt(`random-walk: ACTUALLY FOUND PEER: ${i}, ${e.toB58String()}`,"ERR_FOUND_RANDOM_PEER")}async _randomPeerId(){let e=await sJt(nJt.randomBytes(16),"sha2-256");return new oJt(e)}};KDe.exports=VDe});var $De=h((awr,HDe)=>{"use strict";var GDe=class{constructor(){this.queries=new Set,this.running=!1}queryStarted(e){this.queries.add(e)}queryCompleted(e){this.queries.delete(e)}start(){this.running=!0}stop(){this.running=!1;for(let e of this.queries)e.stop();this.queries.clear()}};HDe.exports=GDe});var XDe=h((cwr,sL)=>{"use strict";var{EventEmitter:hJt}=Pr(),VS=qe(),Ix=Yl(),{MemoryDatastore:dJt}=ur(),pJt=yo(),bJt=xNe(),Tx=li(),Rx=$0(),yJt=JNe(),gJt=aDe(),mJt=xDe(),xJt=EDe(),jS=Xc(),wJt=FDe(),vJt=jDe(),EJt=$De(),WDe=Ix.Record,YDe=class extends hJt{constructor({libp2p:e,dialer:t,peerId:i,peerStore:n,registrar:s,protocolPrefix:o="/ipfs",forceProtocolLegacy:a=!1,datastore:c=new dJt,kBucketSize:u=Rx.K,clientMode:f=!1,concurrency:l=Rx.ALPHA,validators:d={},selectors:p={},randomWalk:b={},onPut:g=()=>{},onRemove:m=()=>{}}){super();if(!t)throw new Error("libp2p-kad-dht requires an instance of Dialer");this.libp2p=e,this.dialer=t,this.peerId=i,this.peerStore=n,this.registrar=s,this.protocol=o+(a?"":Rx.PROTOCOL_DHT),this.kBucketSize=u,this._clientMode=f,this.concurrency=l,this.disjointPaths=Math.ceil(this.kBucketSize/2),this.routingTable=new bJt(this.peerId,this.kBucketSize),this.datastore=c,this.providers=new wJt(this.datastore,this.peerId),this.validators={pk:Ix.validator.validators.pk,...d},this.selectors={pk:Ix.selection.selectors.pk,...p},this.network=new yJt(this),this._log=Tx.logger(this.peerId),this.randomWalk=new vJt(this,b),this._queryManager=new EJt,this._running=!1,this.contentFetching=gJt(this),this.contentRouting=mJt(this),this.peerRouting=xJt(this),this.onPut=g,this.onRemove=m}get isStarted(){return this._running}async start(){this._running=!0,this.providers.start(),this._queryManager.start(),await this.network.start(),this.randomWalk.start()}stop(){return this._running=!1,this.randomWalk.stop(),this.providers.stop(),this._queryManager.stop(),this.network.stop()}async put(e,t,i={}){return this.contentFetching.put(e,t,i)}async get(e,t={}){return this.contentFetching.get(e,t)}async getMany(e,t,i={}){return this.contentFetching.getMany(e,t,i)}async removeLocal(e){this._log("removeLocal: %b",e);let t=Tx.bufferToKey(e);try{await this.datastore.delete(t)}catch(i){if(i.code==="ERR_NOT_FOUND")return;throw i}}async provide(e){return this.contentRouting.provide(e)}async*findProviders(e,t={}){for await(let i of this.contentRouting.findProviders(e,t))yield i}async findPeer(e,t={}){return this.peerRouting.findPeer(e,t)}async*getClosestPeers(e,t={shallow:!1}){for await(let i of this.peerRouting.getClosestPeers(e,t))yield i}async getPublicKey(e){return this.peerRouting.getPublicKey(e)}_peerDiscovered(e,t){this.emit("peer",{id:e,multiaddrs:t})}async _nearestPeersToQuery(e){let t=await Tx.convertBuffer(e.key);return this.routingTable.closestPeers(t,this.kBucketSize).map(n=>{let s=this.peerStore.get(n);return{id:n,multiaddrs:s?s.addresses.map(o=>o.multiaddr):[]}})}async _betterPeersToQuery(e,t){return this._log("betterPeersToQuery"),(await this._nearestPeersToQuery(e)).filter(n=>this._isSelf(n.id)?(this._log.error("trying to return self as closer"),!1):!n.id.isEqual(t))}async _checkLocalDatastore(e){this._log("checkLocalDatastore: %b",e);let t=Tx.bufferToKey(e),i;try{i=await this.datastore.get(t)}catch(s){if(s.code==="ERR_NOT_FOUND")return;throw s}let n=WDe.deserialize(i);if(!n)throw VS("Invalid record","ERR_INVALID_RECORD");if(n.timeReceived==null||Tx.now()-n.timeReceived>Rx.MAX_RECORD_AGE){await this.datastore.delete(t),this.onRemove(n);return}return n}async _add(e){await this.routingTable.add(e)}async _verifyRecordLocally(e){this._log("verifyRecordLocally"),await Ix.validator.verifyRecord(this.validators,e)}_isSelf(e){return e&&pJt(this.peerId.id,e.id)}async _putValueToPeer(e,t,i){let n=new jS(jS.TYPES.PUT_VALUE,e,0);if(n.record=t,!(await this.network.sendRequest(i,n)).record.value.equals(WDe.deserialize(t).value))throw VS(new Error("value not put correctly"),"ERR_PUT_VALUE_INVALID")}async _getValueOrPeers(e,t){let i=await this._getValueSingle(e,t),n=i.closerPeers,s=i.record;if(s){try{await this._verifyRecordOnline(s)}catch(o){let a="invalid record received, discarded";throw this._log(a),VS(new Error(a),"ERR_INVALID_RECORD")}return{record:s,peers:n}}if(n.length>0)return{peers:n};throw VS(new Error("Not found"),"ERR_NOT_FOUND")}async _getValueSingle(e,t){let i=new jS(jS.TYPES.GET_VALUE,t,0);return this.network.sendRequest(e,i)}async _verifyRecordOnline(e){await Ix.validator.verifyRecord(this.validators,e)}};sL.exports=YDe;sL.exports.multicodec="/ipfs"+Rx.PROTOCOL_DHT});var QDe=h((uwr,JDe)=>{"use strict";var _Jt=NTe(),SJt=Tqe(),kJt=Wqe(),{NOISE:AJt}=cNe(),IJt=XDe(),TJt=pM(),ZDe=YT();JDe.exports=()=>({dialer:{maxParallelDials:150,maxDialsPerPeer:4,dialTimeout:1e4},modules:{transport:[_Jt,SJt],streamMuxer:[kJt],connEncryption:[AJt],peerDiscovery:[],dht:IJt,pubsub:TJt},config:{peerDiscovery:{autoDial:!0,bootstrap:{enabled:!0},webRTCStar:{enabled:!0}},dht:{kBucketSize:20,enabled:!1,clientMode:!0,randomWalk:{enabled:!1},validators:{ipns:ZDe.validator},selectors:{ipns:ZDe.selector}},pubsub:{enabled:!0,emitSelf:!0},nat:{enabled:!1}},metrics:{enabled:!0},peerStore:{persistence:!0,threshold:1}})});var iOe=h((oL,eOe)=>{"use strict";var RJt=yt(),qJt=tr(),BJt=Sl(),{EventEmitter:CJt}=Pr(),tOe=De(),aL=Object.assign(tOe("libp2p:bootstrap"),{error:tOe("libp2p:bootstrap:error")}),rOe=class extends CJt{constructor(e={list:[]}){if(!e.list||!e.list.length)throw new Error("Bootstrap requires a list of peer addresses");super();this._list=e.list,this._interval=e.interval||1e4,this._timer=null}start(){this._timer||(this._timer=setInterval(()=>this._discoverBootstrapPeers(),this._interval),aL("Starting bootstrap node discovery"),this._discoverBootstrapPeers())}_discoverBootstrapPeers(){!this._timer||this._list.forEach(e=>{if(!BJt.P2P.matches(e))return aL.error("Invalid multiaddr");let t=qJt(e),i=RJt.createFromB58String(t.getPeerId());try{this.emit("peer",{id:i,multiaddrs:[t]})}catch(n){aL.error("Invalid bootstrap peer id",n)}})}stop(){this._timer&&clearInterval(this._timer),this._timer=null}};oL=eOe.exports=rOe;oL.tag="bootstrap"});var cL=h((fwr,nOe)=>{"use strict";var Ft=Jg(),MJt=hi(),NJt=qe(),sOe=V8e();nOe.exports=({options:r={},peerId:e,multiaddrs:t=[],repo:i,keychainConfig:n={},config:s={}})=>{let{datastore:o,keys:a}=i,c=PJt({options:r,config:s,datastore:o,keys:a,keychainConfig:n,peerId:e,multiaddrs:t});if(typeof r.libp2p=="function")return r.libp2p({libp2pOptions:c,options:r,config:s,datastore:o,peerId:e});let u=P7e();return new u(c)};function PJt({options:r,config:e,datastore:t,keys:i,keychainConfig:n,peerId:s,multiaddrs:o}){let a=()=>{let b=Ft(e,"Pubsub.Router")||"gossipsub";if(!sOe[b])throw NJt(new Error(`Router unavailable. Configure libp2p.modules.pubsub to use the ${b} router.`),"ERR_NOT_SUPPORTED");return sOe[b]},c={datastore:t,peerId:s,modules:{}},u={modules:{pubsub:a()},config:{peerDiscovery:{mdns:{enabled:Ft(r,"config.Discovery.MDNS.Enabled",Ft(e,"Discovery.MDNS.Enabled",!0))},webRTCStar:{enabled:Ft(r,"config.Discovery.webRTCStar.Enabled",Ft(e,"Discovery.webRTCStar.Enabled",!0))},bootstrap:{list:Ft(r,"config.Bootstrap",Ft(e,"Bootstrap",[]))}},relay:{enabled:Ft(r,"relay.enabled",Ft(e,"relay.enabled",!0)),hop:{enabled:Ft(r,"relay.hop.enabled",Ft(e,"relay.hop.enabled",!1)),active:Ft(r,"relay.hop.active",Ft(e,"relay.hop.active",!1))}},dht:{enabled:Ft(e,"Routing.Type","none")!=="none",clientMode:Ft(e,"Routing.Type","dht")!=="dhtserver",kBucketSize:Ft(r,"dht.kBucketSize",20)},pubsub:{enabled:Ft(r,"config.Pubsub.Enabled",Ft(e,"Pubsub.Enabled",!0))},nat:{enabled:Ft(r,"nat.enabled",!Ft(e,"Swarm.DisableNatPortMap",!1)),ttl:Ft(r,"nat.ttl",7200),autoUpdate:Ft(r,"nat.autoUpdate",!0),gateway:Ft(r,"nat.gateway"),externalIp:Ft(r,"nat.externalIp"),pmp:{enabled:Ft(r,"nat.pmp.enabled",!1)}}},addresses:{listen:o,announce:Ft(r,"addresses.announce",Ft(e,"Addresses.Announce",[]))},connectionManager:Ft(r,"connectionManager",{maxConnections:Ft(r,"config.Swarm.ConnMgr.HighWater",Ft(e,"Swarm.ConnMgr.HighWater")),minConnections:Ft(r,"config.Swarm.ConnMgr.LowWater",Ft(e,"Swarm.ConnMgr.LowWater"))}),keychain:{datastore:i,...n}},f=QDe(),l=Ft(r,"libp2p",{});typeof l=="function"&&(l={});let d=MJt(c,f(),u,l);return Ft(d,"config.peerDiscovery.bootstrap.list",[]).length>0&&d.modules.peerDiscovery.push(iOe()),d}});var fOe=h((lwr,oOe)=>{"use strict";var qx=De()("ipfs:components:peer:storage"),DJt=q4e(),OJt=Wv(),{ERR_REPO_NOT_INITIALIZED:LJt}=T5().errors,FJt=pr(),UJt=dr(),uL=yt(),{mergeOptions:aOe}=pi(),zJt=HR(),{NotEnabledError:KJt}=ql(),cOe=cL(),HS=class{constructor(e,t,i,n,s){this.print=n,this.peerId=e,this.keychain=t,this.repo=i,this.print=n,this.isNew=s}static async start(e){let{repoAutoMigrate:t,repo:i,print:n,silent:s}=e,o=typeof i=="string"||i==null?DJt({path:i,autoMigrate:t,silent:s}):i,{peerId:a,keychain:c,isNew:u}=await VJt(o,e);return new HS(a,c,o,n,u)}};oOe.exports=HS;var VJt=async(r,e)=>{let t=await jJt(r);if(t==null)return{...await GJt(r,e),isNew:!1};if(t.code===LJt){if(e.allowNew===!1)throw new KJt("Initialization of new repos disabled by config, pass `config.init.isNew: true` to enable it");return{...await HJt(r,e),isNew:!0}}else throw t},jJt=async r=>{if(r.closed)try{return await r.open(),null}catch(e){return e}else return null},HJt=async(r,e)=>{let t=await r.exists();if(qx("repo exists?",t),t===!0)throw new Error("repo already exists");let i=e.privateKey?await $Jt(e.privateKey):await WJt(e),n=YJt(i);qx("peer identity: %s",n.PeerID);let s={...aOe(uOe(OJt(),e.profiles),e.config),Identity:n};await r.init(s),await r.open(),qx("repo opened");let o=cOe({options:void 0,multiaddrs:void 0,peerId:i,repo:r,config:s,keychainConfig:{pass:e.pass}});return o.keychain&&o.keychain.opts&&(await o.loadKeychain(),await r.config.set("Keychain",{dek:o.keychain.opts.dek})),{peerId:i,keychain:o.keychain}},$Jt=r=>(qx("using user-supplied private-key"),typeof r=="object"?r:uL.createFromPrivKey(FJt(r,"base64pad"))),WJt=({print:r,algorithm:e="RSA",bits:t=2048})=>(r("generating %s-bit (rsa only) %s keypair...",t,e),uL.create({keyType:e,bits:t})),YJt=r=>({PeerID:r.toB58String(),PrivKey:UJt(r.privKey.bytes,"base64pad")}),GJt=async(r,{config:e,profiles:t,pass:i})=>{let n=await r.config.getAll(),s=XJt(uOe(n,t),e);n!==s&&await r.config.replace(s);let o=await uL.createFromPrivKey(s.Identity.PrivKey),a=cOe({options:void 0,multiaddrs:void 0,peerId:o,repo:r,config:s,keychainConfig:{pass:i,...s.Keychain}});return a.keychain&&await a.loadKeychain(),{peerId:o,keychain:a.keychain}},XJt=(r,e)=>e?aOe(r,e):r,uOe=(r,e)=>(e||[]).reduce((t,i)=>{let n=zJt.profiles[i];if(!n)throw new Error(`Could not find profile with name '${i}'`);return qx("applying profile %s",i),n.transform(t)},r)});var Bx=h((hwr,lOe)=>{"use strict";var JJt=Object.freeze({identity:0,cidv1:1,cidv2:2,cidv3:3,ip4:4,tcp:6,sha1:17,"sha2-256":18,"sha2-512":19,"sha3-512":20,"sha3-384":21,"sha3-256":22,"sha3-224":23,"shake-128":24,"shake-256":25,"keccak-224":26,"keccak-256":27,"keccak-384":28,"keccak-512":29,blake3:30,dccp:33,"murmur3-128":34,"murmur3-32":35,ip6:41,ip6zone:42,path:47,multicodec:48,multihash:49,multiaddr:50,multibase:51,dns:53,dns4:54,dns6:55,dnsaddr:56,protobuf:80,cbor:81,raw:85,"dbl-sha2-256":86,rlp:96,bencode:99,"dag-pb":112,"dag-cbor":113,"libp2p-key":114,"git-raw":120,"torrent-info":123,"torrent-file":124,"leofcoin-block":129,"leofcoin-tx":130,"leofcoin-pr":131,sctp:132,"dag-jose":133,"dag-cose":134,"eth-block":144,"eth-block-list":145,"eth-tx-trie":146,"eth-tx":147,"eth-tx-receipt-trie":148,"eth-tx-receipt":149,"eth-state-trie":150,"eth-account-snapshot":151,"eth-storage-trie":152,"bitcoin-block":176,"bitcoin-tx":177,"bitcoin-witness-commitment":178,"zcash-block":192,"zcash-tx":193,docid:206,"stellar-block":208,"stellar-tx":209,md4:212,md5:213,bmt:214,"decred-block":224,"decred-tx":225,"ipld-ns":226,"ipfs-ns":227,"swarm-ns":228,"ipns-ns":229,zeronet:230,"secp256k1-pub":231,"bls12_381-g1-pub":234,"bls12_381-g2-pub":235,"x25519-pub":236,"ed25519-pub":237,"bls12_381-g1g2-pub":238,"dash-block":240,"dash-tx":241,"swarm-manifest":250,"swarm-feed":251,udp:273,"p2p-webrtc-star":275,"p2p-webrtc-direct":276,"p2p-stardust":277,"p2p-circuit":290,"dag-json":297,udt:301,utp:302,unix:400,p2p:421,ipfs:421,https:443,onion:444,onion3:445,garlic64:446,garlic32:447,tls:448,quic:460,ws:477,wss:478,"p2p-websocket-star":479,http:480,json:512,messagepack:513,"libp2p-peer-record":769,"sha2-256-trunc254-padded":4114,"ripemd-128":4178,"ripemd-160":4179,"ripemd-256":4180,"ripemd-320":4181,x11:4352,"p256-pub":4608,"p384-pub":4609,"p521-pub":4610,"ed448-pub":4611,"x448-pub":4612,"ed25519-priv":4864,kangarootwelve:7425,"sm3-256":21325,"blake2b-8":45569,"blake2b-16":45570,"blake2b-24":45571,"blake2b-32":45572,"blake2b-40":45573,"blake2b-48":45574,"blake2b-56":45575,"blake2b-64":45576,"blake2b-72":45577,"blake2b-80":45578,"blake2b-88":45579,"blake2b-96":45580,"blake2b-104":45581,"blake2b-112":45582,"blake2b-120":45583,"blake2b-128":45584,"blake2b-136":45585,"blake2b-144":45586,"blake2b-152":45587,"blake2b-160":45588,"blake2b-168":45589,"blake2b-176":45590,"blake2b-184":45591,"blake2b-192":45592,"blake2b-200":45593,"blake2b-208":45594,"blake2b-216":45595,"blake2b-224":45596,"blake2b-232":45597,"blake2b-240":45598,"blake2b-248":45599,"blake2b-256":45600,"blake2b-264":45601,"blake2b-272":45602,"blake2b-280":45603,"blake2b-288":45604,"blake2b-296":45605,"blake2b-304":45606,"blake2b-312":45607,"blake2b-320":45608,"blake2b-328":45609,"blake2b-336":45610,"blake2b-344":45611,"blake2b-352":45612,"blake2b-360":45613,"blake2b-368":45614,"blake2b-376":45615,"blake2b-384":45616,"blake2b-392":45617,"blake2b-400":45618,"blake2b-408":45619,"blake2b-416":45620,"blake2b-424":45621,"blake2b-432":45622,"blake2b-440":45623,"blake2b-448":45624,"blake2b-456":45625,"blake2b-464":45626,"blake2b-472":45627,"blake2b-480":45628,"blake2b-488":45629,"blake2b-496":45630,"blake2b-504":45631,"blake2b-512":45632,"blake2s-8":45633,"blake2s-16":45634,"blake2s-24":45635,"blake2s-32":45636,"blake2s-40":45637,"blake2s-48":45638,"blake2s-56":45639,"blake2s-64":45640,"blake2s-72":45641,"blake2s-80":45642,"blake2s-88":45643,"blake2s-96":45644,"blake2s-104":45645,"blake2s-112":45646,"blake2s-120":45647,"blake2s-128":45648,"blake2s-136":45649,"blake2s-144":45650,"blake2s-152":45651,"blake2s-160":45652,"blake2s-168":45653,"blake2s-176":45654,"blake2s-184":45655,"blake2s-192":45656,"blake2s-200":45657,"blake2s-208":45658,"blake2s-216":45659,"blake2s-224":45660,"blake2s-232":45661,"blake2s-240":45662,"blake2s-248":45663,"blake2s-256":45664,"skein256-8":45825,"skein256-16":45826,"skein256-24":45827,"skein256-32":45828,"skein256-40":45829,"skein256-48":45830,"skein256-56":45831,"skein256-64":45832,"skein256-72":45833,"skein256-80":45834,"skein256-88":45835,"skein256-96":45836,"skein256-104":45837,"skein256-112":45838,"skein256-120":45839,"skein256-128":45840,"skein256-136":45841,"skein256-144":45842,"skein256-152":45843,"skein256-160":45844,"skein256-168":45845,"skein256-176":45846,"skein256-184":45847,"skein256-192":45848,"skein256-200":45849,"skein256-208":45850,"skein256-216":45851,"skein256-224":45852,"skein256-232":45853,"skein256-240":45854,"skein256-248":45855,"skein256-256":45856,"skein512-8":45857,"skein512-16":45858,"skein512-24":45859,"skein512-32":45860,"skein512-40":45861,"skein512-48":45862,"skein512-56":45863,"skein512-64":45864,"skein512-72":45865,"skein512-80":45866,"skein512-88":45867,"skein512-96":45868,"skein512-104":45869,"skein512-112":45870,"skein512-120":45871,"skein512-128":45872,"skein512-136":45873,"skein512-144":45874,"skein512-152":45875,"skein512-160":45876,"skein512-168":45877,"skein512-176":45878,"skein512-184":45879,"skein512-192":45880,"skein512-200":45881,"skein512-208":45882,"skein512-216":45883,"skein512-224":45884,"skein512-232":45885,"skein512-240":45886,"skein512-248":45887,"skein512-256":45888,"skein512-264":45889,"skein512-272":45890,"skein512-280":45891,"skein512-288":45892,"skein512-296":45893,"skein512-304":45894,"skein512-312":45895,"skein512-320":45896,"skein512-328":45897,"skein512-336":45898,"skein512-344":45899,"skein512-352":45900,"skein512-360":45901,"skein512-368":45902,"skein512-376":45903,"skein512-384":45904,"skein512-392":45905,"skein512-400":45906,"skein512-408":45907,"skein512-416":45908,"skein512-424":45909,"skein512-432":45910,"skein512-440":45911,"skein512-448":45912,"skein512-456":45913,"skein512-464":45914,"skein512-472":45915,"skein512-480":45916,"skein512-488":45917,"skein512-496":45918,"skein512-504":45919,"skein512-512":45920,"skein1024-8":45921,"skein1024-16":45922,"skein1024-24":45923,"skein1024-32":45924,"skein1024-40":45925,"skein1024-48":45926,"skein1024-56":45927,"skein1024-64":45928,"skein1024-72":45929,"skein1024-80":45930,"skein1024-88":45931,"skein1024-96":45932,"skein1024-104":45933,"skein1024-112":45934,"skein1024-120":45935,"skein1024-128":45936,"skein1024-136":45937,"skein1024-144":45938,"skein1024-152":45939,"skein1024-160":45940,"skein1024-168":45941,"skein1024-176":45942,"skein1024-184":45943,"skein1024-192":45944,"skein1024-200":45945,"skein1024-208":45946,"skein1024-216":45947,"skein1024-224":45948,"skein1024-232":45949,"skein1024-240":45950,"skein1024-248":45951,"skein1024-256":45952,"skein1024-264":45953,"skein1024-272":45954,"skein1024-280":45955,"skein1024-288":45956,"skein1024-296":45957,"skein1024-304":45958,"skein1024-312":45959,"skein1024-320":45960,"skein1024-328":45961,"skein1024-336":45962,"skein1024-344":45963,"skein1024-352":45964,"skein1024-360":45965,"skein1024-368":45966,"skein1024-376":45967,"skein1024-384":45968,"skein1024-392":45969,"skein1024-400":45970,"skein1024-408":45971,"skein1024-416":45972,"skein1024-424":45973,"skein1024-432":45974,"skein1024-440":45975,"skein1024-448":45976,"skein1024-456":45977,"skein1024-464":45978,"skein1024-472":45979,"skein1024-480":45980,"skein1024-488":45981,"skein1024-496":45982,"skein1024-504":45983,"skein1024-512":45984,"skein1024-520":45985,"skein1024-528":45986,"skein1024-536":45987,"skein1024-544":45988,"skein1024-552":45989,"skein1024-560":45990,"skein1024-568":45991,"skein1024-576":45992,"skein1024-584":45993,"skein1024-592":45994,"skein1024-600":45995,"skein1024-608":45996,"skein1024-616":45997,"skein1024-624":45998,"skein1024-632":45999,"skein1024-640":46e3,"skein1024-648":46001,"skein1024-656":46002,"skein1024-664":46003,"skein1024-672":46004,"skein1024-680":46005,"skein1024-688":46006,"skein1024-696":46007,"skein1024-704":46008,"skein1024-712":46009,"skein1024-720":46010,"skein1024-728":46011,"skein1024-736":46012,"skein1024-744":46013,"skein1024-752":46014,"skein1024-760":46015,"skein1024-768":46016,"skein1024-776":46017,"skein1024-784":46018,"skein1024-792":46019,"skein1024-800":46020,"skein1024-808":46021,"skein1024-816":46022,"skein1024-824":46023,"skein1024-832":46024,"skein1024-840":46025,"skein1024-848":46026,"skein1024-856":46027,"skein1024-864":46028,"skein1024-872":46029,"skein1024-880":46030,"skein1024-888":46031,"skein1024-896":46032,"skein1024-904":46033,"skein1024-912":46034,"skein1024-920":46035,"skein1024-928":46036,"skein1024-936":46037,"skein1024-944":46038,"skein1024-952":46039,"skein1024-960":46040,"skein1024-968":46041,"skein1024-976":46042,"skein1024-984":46043,"skein1024-992":46044,"skein1024-1000":46045,"skein1024-1008":46046,"skein1024-1016":46047,"skein1024-1024":46048,"poseidon-bls12_381-a2-fc1":46081,"poseidon-bls12_381-a2-fc1-sc":46082,"zeroxcert-imprint-256":52753,"fil-commitment-unsealed":61697,"fil-commitment-sealed":61698,"holochain-adr-v0":8417572,"holochain-adr-v1":8483108,"holochain-key-v0":9728292,"holochain-key-v1":9793828,"holochain-sig-v0":10645796,"holochain-sig-v1":10711332,"skynet-ns":11639056});lOe.exports={baseTable:JJt}});var bOe=h((dwr,hOe)=>{"use strict";var{baseTable:dOe}=Bx(),pOe=new Map;for(let r in dOe){let e=dOe[r];pOe.set(e,r)}hOe.exports=Object.freeze(pOe)});var fL=h((pwr,yOe)=>{"use strict";var{TextEncoder:ZJt,TextDecoder:QJt}=ct(),eZt=new QJt,tZt=r=>eZt.decode(r),rZt=new ZJt,iZt=r=>rZt.encode(r);function nZt(r,e){let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}yOe.exports={decodeText:tZt,encodeText:iZt,concat:nZt}});var xOe=h((bwr,gOe)=>{"use strict";var{encodeText:sZt}=fL(),mOe=class{constructor(e,t,i,n){this.name=e,this.code=t,this.codeBuf=sZt(this.code),this.alphabet=n,this.codec=i(n)}encode(e){return this.codec.encode(e)}decode(e){for(let t of e)if(this.alphabet&&this.alphabet.indexOf(t)<0)throw new Error(`invalid character '${t}' in '${e}'`);return this.codec.decode(e)}};gOe.exports=mOe});var vOe=h((ywr,wOe)=>{"use strict";var oZt=(r,e,t)=>{let i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let n=r.length;for(;r[n-1]==="=";)--n;let s=new Uint8Array(n*t/8|0),o=0,a=0,c=0;for(let u=0;u<n;++u){let f=i[r[u]];if(f===void 0)throw new SyntaxError("Invalid character "+r[u]);a=a<<t|f,o+=t,o>=8&&(o-=8,s[c++]=255&a>>o)}if(o>=t||255&a<<8-o)throw new SyntaxError("Unexpected end of data");return s},aZt=(r,e,t)=>{let i=e[e.length-1]==="=",n=(1<<t)-1,s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},cZt=r=>e=>({encode(t){return aZt(t,e,r)},decode(t){return oZt(t,e,r)}});wOe.exports={rfc4648:cZt}});var lL=h((gwr,EOe)=>{"use strict";var Cx=ri(),uZt=xOe(),{rfc4648:Nn}=vOe(),{decodeText:fZt,encodeText:lZt}=fL(),hZt=()=>({encode:fZt,decode:lZt}),_Oe=[["identity","\0",hZt,""],["base2","0",Nn(1),"01"],["base8","7",Nn(3),"01234567"],["base10","9",Cx,"0123456789"],["base16","f",Nn(4),"0123456789abcdef"],["base16upper","F",Nn(4),"0123456789ABCDEF"],["base32hex","v",Nn(5),"0123456789abcdefghijklmnopqrstuv"],["base32hexupper","V",Nn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV"],["base32hexpad","t",Nn(5),"0123456789abcdefghijklmnopqrstuv="],["base32hexpadupper","T",Nn(5),"0123456789ABCDEFGHIJKLMNOPQRSTUV="],["base32","b",Nn(5),"abcdefghijklmnopqrstuvwxyz234567"],["base32upper","B",Nn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"],["base32pad","c",Nn(5),"abcdefghijklmnopqrstuvwxyz234567="],["base32padupper","C",Nn(5),"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567="],["base32z","h",Nn(5),"ybndrfg8ejkmcpqxot1uwisza345h769"],["base36","k",Cx,"0123456789abcdefghijklmnopqrstuvwxyz"],["base36upper","K",Cx,"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"],["base58btc","z",Cx,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"],["base58flickr","Z",Cx,"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"],["base64","m",Nn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"],["base64pad","M",Nn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],["base64url","u",Nn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"],["base64urlpad","U",Nn(6),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_="]],SOe=_Oe.reduce((r,e)=>(r[e[0]]=new uZt(e[0],e[1],e[2],e[3]),r),{}),dZt=_Oe.reduce((r,e)=>(r[e[1]]=SOe[e[0]],r),{});EOe.exports={names:SOe,codes:dZt}});var AOe=h((mwr,kOe)=>{"use strict";var{names:pZt}=lL(),{TextDecoder:bZt}=ct(),yZt=new bZt("utf8");function gZt(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}function mZt(r,e="utf8"){if(e==="utf8"||e==="utf-8")return yZt.decode(r);if(e==="ascii")return gZt(r);let t=pZt[e];if(!t)throw new Error("Unknown base");return t.encode(r)}kOe.exports=mZt});var TOe=h((xwr,IOe)=>{"use strict";var{names:xZt}=lL(),{TextEncoder:wZt}=ct(),vZt=new wZt;function EZt(r){let e=new Uint8Array(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}function _Zt(r,e="utf8"){if(e==="utf8"||e==="utf-8")return vZt.encode(r);if(e==="ascii")return EZt(r);let t=xZt[e];if(!t)throw new Error("Unknown base");return t.decode(r)}IOe.exports=_Zt});var hL=h((wwr,ROe)=>{"use strict";var qOe=ii(),SZt=AOe(),kZt=TOe();ROe.exports={numberToUint8Array:AZt,uint8ArrayToNumber:BOe,varintUint8ArrayEncode:IZt,varintEncode:TZt};function BOe(r){return parseInt(SZt(r,"base16"),16)}function AZt(r){let e=r.toString(16);return e.length%2==1&&(e="0"+e),kZt(e,"base16")}function IZt(r){return Uint8Array.from(qOe.encode(BOe(r)))}function TZt(r){return Uint8Array.from(qOe.encode(r))}});var POe=h((vwr,COe)=>{"use strict";var{baseTable:MOe}=Bx(),RZt=hL().varintEncode,NOe={};for(let r in MOe){let e=MOe[r];NOe[r]=RZt(e)}COe.exports=Object.freeze(NOe)});var OOe=h((Ewr,DOe)=>{"use strict";function qZt(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));let t=new Uint8Array(e),i=0;for(let n of r)t.set(n,i),i+=n.length;return t}DOe.exports=qZt});var UOe=h((_wr,LOe)=>{"use strict";var{baseTable:BZt}=Bx(),FOe={};for(let[r,e]of Object.entries(BZt)){let t=r.toUpperCase().replace(/-/g,"_");FOe[t]=e}LOe.exports=Object.freeze(FOe)});var KOe=h((Swr,zOe)=>{"use strict";var{baseTable:CZt}=Bx(),dL={};for(let[r,e]of Object.entries(CZt))dL[e]===void 0&&(dL[e]=r);zOe.exports=Object.freeze(dL)});var HOe=h((kwr,VOe)=>{"use strict";var A2=ii(),jOe=bOe(),GS=POe(),MZt=hL(),NZt=OOe();function PZt(r,e){let t;if(r instanceof Uint8Array)t=MZt.varintUint8ArrayEncode(r);else if(GS[r])t=GS[r];else throw new Error("multicodec not recognized");return NZt([t,e],t.length+e.length)}function DZt(r){return A2.decode(r),r.slice(A2.decode.bytes)}function OZt(r){let e=A2.decode(r),t=jOe.get(e);if(t===void 0)throw new Error(`Code ${e} not found`);return t}function LZt(r){return jOe.get(r)}function FZt(r){let e=GS[r];if(e===void 0)throw new Error("Codec `"+r+"` not found");return A2.decode(e)}function UZt(r){return A2.decode(r)}function zZt(r){let e=GS[r];if(e===void 0)throw new Error("Codec `"+r+"` not found");return e}function KZt(r){return A2.encode(r)}var VZt=UOe(),jZt=KOe();VOe.exports={addPrefix:PZt,rmPrefix:DZt,getCodec:OZt,getName:LZt,getNumber:FZt,getCode:UZt,getCodeVarint:zZt,getVarint:KZt,print:jZt,...VZt}});var YOe=h((Awr,GOe)=>{GOe.exports=$Oe;var WOe=128,HZt=127,GZt=~HZt,$Zt=Math.pow(2,31);function $Oe(r,e,t){e=e||[],t=t||0;for(var i=t;r>=$Zt;)e[t++]=r&255|WOe,r/=128;for(;r&GZt;)e[t++]=r&255|WOe,r>>>=7;return e[t]=r|0,$Oe.bytes=t-i+1,e}});var ZOe=h((Iwr,XOe)=>{XOe.exports=pL;var WZt=128,JOe=127;function pL(r,e){var t=0,e=e||0,i=0,n=e,s,o=r.length;do{if(n>=o)throw pL.bytes=0,new RangeError("Could not decode varint");s=r[n++],t+=i<28?(s&JOe)<<i:(s&JOe)*Math.pow(2,i),i+=7}while(s>=WZt);return pL.bytes=n-e,t}});var eLe=h((Twr,QOe)=>{var YZt=Math.pow(2,7),XZt=Math.pow(2,14),JZt=Math.pow(2,21),ZZt=Math.pow(2,28),QZt=Math.pow(2,35),eQt=Math.pow(2,42),tQt=Math.pow(2,49),rQt=Math.pow(2,56),iQt=Math.pow(2,63);QOe.exports=function(r){return r<YZt?1:r<XZt?2:r<JZt?3:r<ZZt?4:r<QZt?5:r<eQt?6:r<tQt?7:r<rQt?8:r<iQt?9:10}});var rLe=h((Rwr,tLe)=>{tLe.exports={encode:YOe(),decode:ZOe(),encodingLength:eLe()}});var sLe=h((qwr,iLe)=>{"use strict";var nLe=rLe();iLe.exports=r=>{if(!(r instanceof Uint8Array))throw new Error("arg needs to be a Uint8Array");let e=[];for(;r.length>0;){let t=nLe.decode(r);e.push(t),r=r.slice(nLe.decode.bytes)}return e}});var xf=h((Bwr,oLe)=>{"use strict";var aLe=De(),nQt=yo(),sQt=(r,e)=>{let t=["bitswap"];e&&t.push(e),r&&t.push(`${r.toB58String().slice(0,8)}`);let i=aLe(t.join(":"));return i.error=aLe(t.concat(["error"]).join(":")),i},bL=(r,e,t)=>{let i=0,n=t.length;for(;i<n;){if(r(e,t[i]))return!0;i+=1}return!1},oQt=(r,e)=>{let t=0,i=e.length,n=[],s;for(;t<i;)s=e[t],bL(r,s,n)||(n[n.length]=s),t+=1;return n},aQt=(r,e)=>e.reduce((t,i)=>{let n=r(i);return t[n]?t[n].push(i):t[n]=[i],t},{}),cQt=(r,e,t)=>e.filter(i=>!bL(r,i,t)),uQt=(r,e)=>Array.prototype.slice.call(e,0).sort((t,i)=>{let n=r(t),s=r(i);return n<s?-1:n>s?1:0}),fQt=(r,e)=>{if(r.size!==e.size)return!1;for(let[t,i]of r){if(!e.has(t))return!1;let n=e.get(t);if(typeof i.equals=="function"&&!i.equals(n)||i._data&&!nQt(i._data,n._data))return!1}return!0};oLe.exports={logger:sQt,includesWith:bL,uniqWith:oQt,groupBy:aQt,pullAllWith:cQt,sortBy:uQt,isMapEqual:fQt}});var uLe=h((Cwr,cLe)=>{"use strict";var lQt=ni();cLe.exports=lQt(`
  message Message {
    message Wantlist {
      enum WantType {
        Block = 0;
        Have = 1;
      }

      message Entry {
        // changed from string to bytes, it makes a difference in JavaScript
        optional bytes block = 1;      // the block cid (cidV0 in bitswap 1.0.0, cidV1 in bitswap 1.1.0)
        optional int32 priority = 2;    // the priority (normalized). default to 1
        optional bool cancel = 3;       // whether this revokes an entry
        WantType wantType = 4;         // Note: defaults to enum 0, ie Block
        bool sendDontHave = 5;        // Note: defaults to false
      }

      repeated Entry entries = 1;       // a list of wantlist entries
      optional bool full = 2;           // whether this is the full wantlist. default to false
    }

    message Block {
      optional bytes prefix = 1;        // CID prefix (cid version, multicodec and multihash prefix (type + length)
      optional bytes data = 2;
    }

    enum BlockPresenceType {
      Have = 0;
      DontHave = 1;
    }
    message BlockPresence {
      bytes cid = 1;
      BlockPresenceType type = 2;
    }

    optional Wantlist wantlist = 1;
    repeated bytes blocks = 2;          // used to send Blocks in bitswap 1.0.0
    repeated Block payload = 3;         // used to send Blocks in bitswap 1.1.0
    repeated BlockPresence blockPresences = 4;
    int32 pendingBytes = 5;
  }
`)});var hLe=h((Mwr,fLe)=>{"use strict";var lLe=class{constructor(e,t,i){this._refCounter=1,this.cid=e,this.priority=t||1,this.wantType=i}inc(){this._refCounter+=1}dec(){this._refCounter=Math.max(0,this._refCounter-1)}hasRefs(){return this._refCounter>0}get[Symbol.toStringTag](){return`WantlistEntry <key: ${this.cid.toString("base58btc")}, priority: ${this.priority}, refs: ${this._refCounter}>`}equals(e){return this._refCounter===e._refCounter&&this.cid.equals(e.cid)&&this.priority===e.priority&&this.wantType===e.wantType}};fLe.exports=lLe});var Mx=h((Nwr,dLe)=>{"use strict";var{sortBy:hQt}=xf(),pLe=hLe(),yL=class{constructor(e){this.set=new Map,this._stats=e}get length(){return this.set.size}add(e,t,i){let n=I2(),s=e.toString("base58btc"),o=this.set.get(s);o?(o.inc(),o.priority=t,o.wantType===n.WantType.Have&&i===n.WantType.Block&&(o.wantType=i)):(this.set.set(s,new pLe(e,t,i)),this._stats&&this._stats.push(null,"wantListSize",1))}remove(e){let t=e.toString("base58btc"),i=this.set.get(t);!i||(i.dec(),!i.hasRefs()&&(this.set.delete(t),this._stats&&this._stats.push(null,"wantListSize",-1)))}removeForce(e){this.set.has(e)&&this.set.delete(e)}forEach(e){return this.set.forEach(e)}entries(){return this.set.entries()}sortedEntries(){return new Map(hQt(e=>e[1].key,Array.from(this.set.entries())))}contains(e){let t=e.toString("base58btc");return this.set.get(t)}};yL.Entry=pLe;dLe.exports=yL});var yLe=h((Dwr,bLe)=>{"use strict";var dQt=Mx().Entry;bLe.exports=class{constructor(e,t,i,n,s){this.entry=new dQt(e,t,i),this.cancel=Boolean(n),this.sendDontHave=Boolean(s)}get cid(){return this.entry.cid}set cid(e){this.entry.cid=e}get priority(){return this.entry.priority}set priority(e){this.entry.priority=e}get wantType(){return this.entry.wantType}set wantType(e){this.entry.wantType=e}get[Symbol.toStringTag](){return`BitswapMessageEntry ${this.cid.toString("base58btc")} <cancel: ${this.cancel}, priority: ${this.priority}>`}equals(e){return this.cancel===e.cancel&&this.sendDontHave===e.sendDontHave&&this.wantType===e.wantType&&this.entry.equals(e.entry)}}});var I2=h((Owr,gLe)=>{"use strict";var mLe=o1(),Nx=ot(),{getName:pQt}=HOe(),bQt=sLe(),xLe=Er(),{isMapEqual:gL}=xf(),{Message:hd}=uLe(),wLe=yLe(),Wn=class{constructor(e){this.full=e,this.wantlist=new Map,this.blocks=new Map,this.blockPresences=new Map,this.pendingBytes=0}get empty(){return this.blocks.size===0&&this.wantlist.size===0&&this.blockPresences.size===0}addEntry(e,t,i,n,s){i==null&&(i=Wn.WantType.Block);let o=e.toString("base58btc"),a=this.wantlist.get(o);a?(a.wantType===i&&(a.priority=t),n&&(a.cancel=Boolean(n)),s&&(a.sendDontHave=Boolean(s)),i===Wn.WantType.Block&&a.wantType===Wn.WantType.Have&&(a.wantType=i)):this.wantlist.set(o,new wLe(e,t,i,n,s))}addBlock(e){let t=e.cid.toString("base58btc");this.blocks.set(t,e)}addHave(e){let t=e.toString("base58btc");this.blockPresences.has(t)||this.blockPresences.set(t,Wn.BlockPresenceType.Have)}addDontHave(e){let t=e.toString("base58btc");this.blockPresences.has(t)||this.blockPresences.set(t,Wn.BlockPresenceType.DontHave)}cancel(e){let t=e.toString("base58btc");this.wantlist.delete(t),this.addEntry(e,0,Wn.WantType.Block,!0,!1)}setPendingBytes(e){this.pendingBytes=e}serializeToBitswap100(){let e={wantlist:{entries:Array.from(this.wantlist.values()).map(t=>({block:t.cid.bytes,priority:Number(t.priority),cancel:Boolean(t.cancel)}))},blocks:Array.from(this.blocks.values()).map(t=>t.data)};return this.full&&(e.wantlist.full=!0),hd.encode(e)}serializeToBitswap110(){let e={wantlist:{entries:Array.from(this.wantlist.values()).map(t=>({block:t.cid.bytes,priority:Number(t.priority),wantType:t.wantType,cancel:Boolean(t.cancel),sendDontHave:Boolean(t.sendDontHave)}))},blockPresences:[],payload:[]};this.full&&(e.wantlist.full=!0),this.blocks.forEach(t=>{e.payload.push({prefix:t.cid.prefix,data:t.data})});for(let[t,i]of this.blockPresences)e.blockPresences.push({cid:new Nx(t).bytes,type:i});return this.pendingBytes>0&&(e.pendingBytes=this.pendingBytes),hd.encode(e)}equals(e){return!(this.full!==e.full||this.pendingBytes!==e.pendingBytes||!gL(this.wantlist,e.wantlist)||!gL(this.blocks,e.blocks)||!gL(this.blockPresences,e.blockPresences))}get[Symbol.toStringTag](){let e=Array.from(this.wantlist.keys()),t=Array.from(this.blocks.keys());return`BitswapMessage <full: ${this.full}, list: ${e}, blocks: ${t}>`}};Wn.deserialize=async r=>{let e=hd.decode(r),t=e.wantlist&&e.wantlist.full||!1,i=new Wn(t);return e.wantlist&&e.wantlist.entries.forEach(n=>{let s=new Nx(n.block);i.addEntry(s,n.priority,n.wantType,n.cancel,n.sendDontHave)}),e.blockPresences&&e.blockPresences.forEach(n=>{let s=new Nx(n.cid);n.type===Wn.BlockPresenceType.Have?i.addHave(s):i.addDontHave(s)}),e.blocks.length>0?(await Promise.all(e.blocks.map(async n=>{let s=await xLe(n,"sha2-256"),o=new Nx(s);i.addBlock(new mLe(n,o))})),i):(e.payload.length>0&&(await Promise.all(e.payload.map(async n=>{if(!n.prefix||!n.data)return;let s=bQt(n.prefix),o=s[0],a=s[1],c=s[2],u=await xLe(n.data,c),f=new Nx(o,pQt(a),u);i.addBlock(new mLe(n.data,f))})),i.setPendingBytes(e.pendingBytes)),i)};Wn.blockPresenceSize=r=>r.bytes.length+1;Wn.Entry=wLe;Wn.WantType={Block:hd.Wantlist.WantType.Block,Have:hd.Wantlist.WantType.Have};Wn.BlockPresenceType={Have:hd.BlockPresenceType.Have,DontHave:hd.BlockPresenceType.DontHave};gLe.exports=Wn});var Px=h((Lwr,vLe)=>{"use strict";var mL=1e3;vLe.exports={maxProvidersPerRequest:3,providerRequestTimeout:10*mL,hasBlockTimeout:15*mL,provideTimeout:15*mL,kMaxPriority:Math.pow(2,31)-1,maxListeners:1e3,wantlistSendDebounceMs:1}});var _Le=h((Fwr,ELe)=>{ELe.exports=yQt;function yQt(r,e,t){var i;return function(){if(!e)return r.apply(this,arguments);var n=this,s=arguments,o=t&&!i;if(clearTimeout(i),i=setTimeout(function(){if(i=null,!o)return r.apply(n,s)},e),o)return r.apply(this,arguments)}}});var kLe=h((zwr,SLe)=>{"use strict";var gQt=_Le(),mQt=I2(),xQt=xf().logger,{wantlistSendDebounceMs:wQt}=Px();SLe.exports=class{constructor(e,t,i){this.peerId=t,this.network=i,this.refcnt=1,this._entries=[],this._log=xQt(e,"msgqueue",t.toB58String().slice(0,8)),this.sendEntries=gQt(this._sendEntries.bind(this),wQt)}addMessage(e){e.empty||this.send(e)}addEntries(e){this._entries=this._entries.concat(e),this.sendEntries()}_sendEntries(){if(!this._entries.length)return;let e=new mQt(!1);this._entries.forEach(t=>{t.cancel?e.cancel(t.cid):e.addEntry(t.cid,t.priority)}),this._entries=[],this.addMessage(e)}async send(e){try{await this.network.connectTo(this.peerId)}catch(t){this._log.error("cant connect to peer %s: %s",this.peerId.toB58String(),t.message);return}this._log("sending message to peer %s",this.peerId.toB58String()),this.network.sendMessage(this.peerId,e).catch(t=>{this._log.error("send error: %s",t.message)})}}});var ILe=h((Vwr,ALe)=>{"use strict";var xL=I2(),vQt=Mx(),EQt=Px(),_Qt=kLe(),SQt=xf().logger;ALe.exports=class{constructor(e,t,i){this.peers=new Map,this.wantlist=new vQt(i),this.network=t,this._stats=i,this._peerId=e,this._log=SQt(e,"want")}_addEntries(e,t,i){let n=e.map((s,o)=>new xL.Entry(s,EQt.kMaxPriority-o,xL.WantType.Block,t));n.forEach(s=>{s.cancel?i?this.wantlist.removeForce(s.cid):this.wantlist.remove(s.cid):(this._log("adding to wl"),this.wantlist.add(s.cid,s.priority))});for(let s of this.peers.values())s.addEntries(n)}_startPeerHandler(e){let t=this.peers.get(e.toB58String());if(t){t.refcnt++;return}t=new _Qt(this._peerId,e,this.network);let i=new xL(!0);for(let n of this.wantlist.entries())i.addEntry(n[1].cid,n[1].priority);return t.addMessage(i),this.peers.set(e.toB58String(),t),t}_stopPeerHandler(e){let t=this.peers.get(e.toB58String());!t||(t.refcnt--,!(t.refcnt>0)&&this.peers.delete(e.toB58String()))}wantBlocks(e,t={}){this._addEntries(e,!1),t&&t.signal&&t.signal.addEventListener("abort",()=>{this.cancelWants(e)})}unwantBlocks(e){this._log("unwant blocks: %s",e.length),this._addEntries(e,!0,!0)}cancelWants(e){this._log("cancel wants: %s",e.length),this._addEntries(e,!0)}connectedPeers(){return Array.from(this.peers.keys())}connected(e){this._startPeerHandler(e)}disconnected(e){this._stopPeerHandler(e)}start(){}stop(){this.peers.forEach(e=>this.disconnected(e.peerId)),clearInterval(this.timer)}}});var MLe=h((jwr,TLe)=>{"use strict";var RLe=Ko(),qLe=yi(),kQt=O5(),AQt=I2(),BLe=Px(),IQt=xf().logger,wL="/ipfs/bitswap/1.0.0",vL="/ipfs/bitswap/1.1.0",EL="/ipfs/bitswap/1.2.0",CLe=class{constructor(e,t,i,n){this._log=IQt(e.peerId,"network"),i=i||{},this.libp2p=e,this.bitswap=t,this.protocols=[wL],i.b100Only||(this.protocols.unshift(vL),this.protocols.unshift(EL)),this._stats=n,this._running=!1,this._onPeerConnect=this._onPeerConnect.bind(this),this._onPeerDisconnect=this._onPeerDisconnect.bind(this),this._onConnection=this._onConnection.bind(this)}start(){this._running=!0,this.libp2p.handle(this.protocols,this._onConnection);let e=new kQt({multicodecs:this.protocols,handlers:{onConnect:this._onPeerConnect,onDisconnect:this._onPeerDisconnect}});this._registrarId=this.libp2p.registrar.register(e);for(let t of this.libp2p.peerStore.peers.values()){let i=this.libp2p.connectionManager.get(t.id);i&&this._onPeerConnect(i.remotePeer)}}stop(){this._running=!1,this.libp2p.unhandle(this.protocols),this.libp2p.registrar.unregister(this._registrarId)}async _onConnection({protocol:e,stream:t,connection:i}){if(!!this._running){this._log("incoming new bitswap %s connection from %s",e,i.remotePeer.toB58String());try{await qLe(t,RLe.decode(),async n=>{for await(let s of n)try{let o=await AQt.deserialize(s.slice());await this.bitswap._receiveMessage(i.remotePeer,o)}catch(o){this.bitswap._receiveError(o);break}})}catch(n){this._log(n)}}}_onPeerConnect(e){this.bitswap._onPeerConnected(e)}_onPeerDisconnect(e){this.bitswap._onPeerDisconnected(e)}findProviders(e,t,i={}){return this.libp2p.contentRouting.findProviders(e,{maxTimeout:BLe.providerRequestTimeout,maxNumProviders:t,signal:i.signal})}async findAndConnect(e,t){let i=[];for await(let n of this.findProviders(e,BLe.maxProvidersPerRequest,t))this._log(`connecting to provider ${n.id}`),i.push(this.connectTo(n.id,t));await Promise.all(i)}async provide(e,t){await this.libp2p.contentRouting.provide(e,t)}async sendMessage(e,t){if(!this._running)throw new Error("network isn't running");let i=e.toB58String();this._log("sendMessage to %s",i,t);let{stream:n,protocol:s}=await this._dialPeer(e),o;switch(s){case wL:o=t.serializeToBitswap100();break;case vL:case EL:o=t.serializeToBitswap110();break;default:throw new Error("Unknown protocol: "+s)}TQt(n,o,this._log),this._updateSentStats(e,t.blocks)}async connectTo(e,t){if(!this._running)throw new Error("network isn't running");return this.libp2p.dial(e,t)}_dialPeer(e){return this.libp2p.dialProtocol(e,[EL,vL,wL])}_updateSentStats(e,t){let i=e.toB58String();this._stats&&(t.forEach(n=>this._stats.push(i,"dataSent",n.data.length)),this._stats.push(i,"blocksSent",t.size))}};async function TQt(r,e,t){try{await qLe([e],RLe.encode(),r)}catch(i){t(i)}}TLe.exports=CLe});var DLe=h((Hwr,NLe)=>{"use strict";var RQt=Mx(),PLe=class{constructor(e){this.partner=e,this.wantlist=new RQt,this.exchangeCount=0,this.sentToPeer=new Map,this.accounting={bytesSent:0,bytesRecv:0}}sentBytes(e){this.exchangeCount++,this.lastExchange=new Date().getTime(),this.accounting.bytesSent+=e}receivedBytes(e){this.exchangeCount++,this.lastExchange=new Date().getTime(),this.accounting.bytesRecv+=e}wants(e,t,i){this.wantlist.add(e,t,i)}cancelWant(e){this.wantlist.remove(e)}wantlistContains(e){return this.wantlist.contains(e)}debtRatio(){return this.accounting.bytesSent/(this.accounting.bytesRecv+1)}};NLe.exports=PLe});var FLe=h((Gwr,OLe)=>{"use strict";var LLe=class extends Map{constructor(e,t){super();this._cmp=t||this._defaultSort,this._keys=[];for(let[i,n]of e||[])this.set(i,n)}update(e){if(e<0||e>=this._keys.length)return;let t=this._keys[e];this._keys.splice(e,1);let i=this._find(t);this._keys.splice(i,0,t)}set(e,t){if(this.has(e)){let n=this.indexOf(e);this._keys.splice(n,1)}super.set(e,t);let i=this._find(e);this._keys.splice(i,0,e)}clear(){super.clear(),this._keys=[]}delete(e){if(!this.has(e))return;let t=this.indexOf(e);this._keys.splice(t,1),super.delete(e)}indexOf(e){if(!this.has(e))return-1;let t=this._find(e);if(this._keys[t]===e)return t;for(let i=1;i<this._keys.length;i++){if(this._keys[t+i]===e)return t+i;if(this._keys[t-i]===e)return t-i}return-1}_find(e){let t=0,i=this._keys.length;for(;t<i;){let n=t+i>>>1,s=this._kCmp(this._keys[n],e);if(s<0)t=n+1;else if(s>0)i=n;else return n}return t}*keys(){for(let e of this._keys)yield e}*values(){for(let e of this._keys)yield this.get(e)}*entries(){for(let e of this._keys)yield[e,this.get(e)]}*[Symbol.iterator](){yield*this.entries()}forEach(e,t){if(!!e)for(let i of this._keys)e.apply(t,[[i,this.get(i)]])}_defaultSort(e,t){return e[0]<t[0]?-1:t[0]<e[0]?1:0}_kCmp(e,t){return this._cmp([e,this.get(e)],[t,this.get(t)])}};OLe.exports=LLe});var jLe=h(($wr,ULe)=>{"use strict";var zLe=FLe(),qQt={hasNewInfo(){return!1},merge(){}},KLe=class{constructor(e){this._taskMerger=e||qQt,this._byPeer=new zLe([],_L.compare,!0)}pushTasks(e,t){let i=this._byPeer.get(e.toB58String());i||(i=new _L(e,this._taskMerger)),i.pushTasks(t),this._byPeer.set(e.toB58String(),i)}popTasks(e){if(this._byPeer.size===0)return{tasks:[],pendingSize:0};let t=this._head(),{tasks:i,pendingSize:n}=t.popTasks(e);if(i.length===0)return{tasks:i,pendingSize:n};let s=t.peerId;return t.isIdle()?this._byPeer.delete(s.toB58String()):this._byPeer.update(0),{peerId:s,tasks:i,pendingSize:n}}_head(){for(let[,e]of this._byPeer)return e}remove(e,t){let i=this._byPeer.get(t.toB58String());i&&i.remove(e)}tasksDone(e,t){let i=this._byPeer.get(e.toB58String());if(!i)return;let n=this._byPeer.indexOf(e.toB58String());for(let s of t)i.taskDone(s);this._byPeer.update(n)}},_L=class{constructor(e,t){this.peerId=e,this._taskMerger=t,this._activeTotalSize=0,this._pending=new VLe,this._active=new Set}pushTasks(e){for(let t of e)this._pushTask(t)}_pushTask(e){if(!this._taskHasMoreInfoThanActiveTasks(e))return;let t=this._pending.get(e.topic);if(t){e.priority>t.priority&&this._pending.updatePriority(e.topic,e.priority),this._taskMerger.merge(e,t);return}this._pending.add(e)}_taskHasMoreInfoThanActiveTasks(e){let t=[];for(let i of this._active)i.topic===e.topic&&t.push(i);return t.length===0?!0:this._taskMerger.hasNewInfo(e,t)}popTasks(e){let t=0,i=[],n=this._pending.tasks();for(let s=0;s<n.length&&t<e;s++){let o=n[s];i.push(o),t+=o.size,this._pending.delete(o.topic),this._activeTotalSize+=o.size,this._active.add(o)}return{tasks:i,pendingSize:this._pending.totalSize}}taskDone(e){this._active.has(e)&&(this._activeTotalSize-=e.size,this._active.delete(e))}remove(e){this._pending.delete(e)}isIdle(){return this._pending.length===0&&this._active.length===0}static compare(e,t){return e[1]._pending.length===0?1:t[1]._pending.length===0?-1:e[1]._activeTotalSize===t[1]._activeTotalSize?t[1]._pending.length-e[1]._pending.length:e[1]._activeTotalSize-t[1]._activeTotalSize}},VLe=class{constructor(){this._tasks=new zLe([],this._compare)}get length(){return this._tasks.size}get totalSize(){return[...this._tasks.values()].reduce((e,t)=>e+t.task.size,0)}get(e){return(this._tasks.get(e)||{}).task}add(e){this._tasks.set(e.topic,{created:Date.now(),task:e})}delete(e){this._tasks.delete(e)}tasks(){return[...this._tasks.values()].map(e=>e.task)}updatePriority(e,t){let i=this._tasks.get(e);if(!i)return;let n=this._tasks.indexOf(e);i.task.priority=t,this._tasks.update(n)}_compare(e,t){return e[1].task.priority===t[1].task.priority?e[1].created-t[1].created:t[1].task.priority-e[1].task.priority}};ULe.exports=KLe});var GLe=h((Wwr,HLe)=>{"use strict";var BQt={hasNewInfo(r,e){let t=!1,i=!1;for(let n of e)n.data.haveBlock&&(t=!0),n.data.isWantBlock&&(i=!0);return!!(!i&&r.data.isWantBlock||!t&&r.data.haveBlock)},merge(r,e){let t=r.data,i=e.data;!i.haveBlock&&t.haveBlock&&(i.haveBlock=t.haveBlock,i.blockSize=t.blockSize),!i.isWantBlock&&t.isWantBlock&&(i.isWantBlock=!0,(!i.haveBlock||t.haveBlock)&&(i.haveBlock=t.haveBlock,e.size=r.size)),i.isWantBlock&&i.haveBlock&&(e.size=i.blockSize)}};HLe.exports=BQt});var JLe=h((Ywr,$Le)=>{"use strict";var WLe=ot(),Dx=I2(),YLe=Dx.WantType,CQt=Mx(),MQt=DLe(),NQt=jLe(),PQt=GLe(),{logger:DQt}=xf(),OQt=16*1024,LQt=1024,XLe=class{constructor(e,t,i,n,s){this._log=DQt(e,"engine"),this.blockstore=t,this.network=i,this._stats=n,this._opts=this._processOpts(s),this.ledgerMap=new Map,this._running=!1,this._requestQueue=new NQt(PQt)}_processOpts(e){return{maxSizeReplaceHasWithBlock:LQt,targetMessageSize:OQt,...e}}_scheduleProcessTasks(){setTimeout(()=>{this._processTasks()})}async _processTasks(){if(!this._running)return;let{peerId:e,tasks:t,pendingSize:i}=this._requestQueue.popTasks(this._opts.targetMessageSize);if(t.length===0)return;let n=new Dx(!1);n.setPendingBytes(i);let s=[],o=new Map;for(let c of t){let u=new WLe(c.topic);c.data.haveBlock?c.data.isWantBlock?(s.push(u),o.set(c.topic,c.data)):n.addHave(u):n.addDontHave(u)}let a=await this._getBlocks(s);for(let[c,u]of o){let f=a.get(c);if(f)n.addBlock(f);else if(u.sendDontHave){let l=new WLe(c);n.addDontHave(l)}}if(n.empty){this._requestQueue.tasksDone(e,t),this._scheduleProcessTasks();return}try{await this.network.sendMessage(e,n);for(let c of a.values())this.messageSent(e,c)}catch(c){this._log.error(c)}this._requestQueue.tasksDone(e,t),this._scheduleProcessTasks()}wantlistForPeer(e){let t=e.toB58String();return this.ledgerMap.has(t)?this.ledgerMap.get(t).wantlist.sortedEntries():new Map}ledgerForPeer(e){let t=e.toB58String(),i=this.ledgerMap.get(t);return i?{peer:i.partner.toPrint(),value:i.debtRatio(),sent:i.accounting.bytesSent,recv:i.accounting.bytesRecv,exchanged:i.exchangeCount}:null}peers(){return Array.from(this.ledgerMap.values()).map(e=>e.partner)}receivedBlocks(e){!e.length||(this.ledgerMap.forEach(t=>{e.forEach(i=>{let n=t.wantlistContains(i.cid);if(!n)return;let s=i.data.length,o=this._sendAsBlock(n.wantType,s),a=s;o||(a=Dx.blockPresenceSize(n.cid)),this._requestQueue.pushTasks(t.partner,[{topic:n.cid.toString(),priority:n.priority,size:a,data:{blockSize:s,isWantBlock:o,haveBlock:!0,sendDontHave:!1}}])})}),this._scheduleProcessTasks())}async messageReceived(e,t){let i=this._findOrCreate(e);if(t.empty)return;if(t.full&&(i.wantlist=new CQt),this._updateBlockAccounting(t.blocks,i),t.wantlist.size===0){this._scheduleProcessTasks();return}let n=[],s=[];t.wantlist.forEach(o=>{o.cancel?(i.cancelWant(o.cid),n.push(o.cid)):(i.wants(o.cid,o.priority,o.wantType),s.push(o))}),this._cancelWants(e,n),await this._addWants(e,s),this._scheduleProcessTasks()}_cancelWants(e,t){for(let i of t)this._requestQueue.remove(i.toString(),e)}async _addWants(e,t){let i=await this._getBlockSizes(t.map(s=>s.cid)),n=[];for(let s of t){let o=s.cid.toString(),a=i.get(o);if(a==null)s.sendDontHave&&n.push({topic:o,priority:s.priority,size:Dx.blockPresenceSize(s.cid),data:{isWantBlock:s.wantType===YLe.Block,blockSize:0,haveBlock:!1,sendDontHave:s.sendDontHave}});else{let c=this._sendAsBlock(s.wantType,a),u=a;c||(u=Dx.blockPresenceSize(s.cid)),n.push({topic:o,priority:s.priority,size:u,data:{isWantBlock:c,blockSize:a,haveBlock:!0,sendDontHave:s.sendDontHave}})}this._requestQueue.pushTasks(e,n)}}_sendAsBlock(e,t){return e===YLe.Block||t<=this._opts.maxSizeReplaceHasWithBlock}async _getBlockSizes(e){let t=await this._getBlocks(e);return new Map([...t].map(([i,n])=>[i,n.data.length]))}async _getBlocks(e){let t=new Map;return await Promise.all(e.map(async i=>{try{let n=await this.blockstore.get(i);t.set(i.toString(),n)}catch(n){n.code!=="ERR_NOT_FOUND"&&this._log.error("failed to query blockstore for %s: %s",i,n)}})),t}_updateBlockAccounting(e,t){e.forEach(i=>{this._log("got block (%s bytes)",i.data.length),t.receivedBytes(i.data.length)})}messageSent(e,t){let i=this._findOrCreate(e);i.sentBytes(t?t.data.length:0),t&&t.cid&&i.wantlist.remove(t.cid)}numBytesSentTo(e){return this._findOrCreate(e).accounting.bytesSent}numBytesReceivedFrom(e){return this._findOrCreate(e).accounting.bytesRecv}peerDisconnected(e){}_findOrCreate(e){let t=e.toB58String();if(this.ledgerMap.has(t))return this.ledgerMap.get(t);let i=new MQt(e);return this.ledgerMap.set(t,i),this._stats&&this._stats.push(t,"peerCount",1),i}start(){this._running=!0}stop(){this._running=!1}};$Le.exports=XLe});var iFe=h((Xwr,ZLe)=>{"use strict";var FQt=Pr().EventEmitter,UQt=o1(),zQt=yo(),QLe=dr(),KQt=Px(),VQt=xf().logger,eFe=r=>`unwant:${QLe(r.multihash,"base64")}`,tFe=r=>`block:${QLe(r.multihash,"base64")}`,rFe=class extends FQt{constructor(e){super();this.setMaxListeners(KQt.maxListeners),this._log=VQt(e,"notif")}hasBlock(e){let t=tFe(e.cid);this._log(t),this.emit(t,e)}wantBlock(e,t={}){if(!e)throw new Error("Not a valid cid");let i=tFe(e),n=eFe(e);return this._log(`wantBlock:${e}`),new Promise((s,o)=>{let a=()=>{this.removeListener(i,c),o(new Error(`Block for ${e} unwanted`))},c=u=>{if(this.removeListener(n,a),zQt(e.multihash,u.cid.multihash))(e.version!==u.cid.version||e.codec!==u.cid.codec)&&(u=new UQt(u.data,e));else return o(new Error(`Incorrect block received for ${e}`));s(u)};this.once(n,a),this.once(i,c),t&&t.signal&&t.signal.addEventListener("abort",()=>{this.removeListener(i,c),this.removeListener(n,a),o(new Error(`Want for ${e} aborted`))})})}unwantBlock(e){let t=eFe(e);this._log(t),this.emit(t)}};ZLe.exports=rFe});var cFe=h((Jwr,nFe)=>{"use strict";var jQt=Pr(),sFe=pa(),oFe=dN(),aFe=class extends jQt{constructor(e,t){super();this._options=t,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this),e.forEach(i=>{this._stats[i]=sFe(0),this._movingAverages[i]={},this._options.movingAverageIntervals.forEach(n=>{(this._movingAverages[i][n]=oFe(n)).push(this._frequencyLastTime,0)})}),this._enabled=this._options.enabled}enable(){this._enabled=!0}disable(){this._disabled=!0}stop(){this._timeout&&clearTimeout(this._timeout)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}push(e,t){this._enabled&&(this._queue.push([e,t,Date.now()]),this._resetComputeTimeout())}_resetComputeTimeout(){this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(this._update,this._nextTimeout())}_nextTimeout(){let e=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-e),0)}_update(){if(this._timeout=null,this._queue.length){let e;for(;this._queue.length;){let t=e=this._queue.shift();this._applyOp(t)}this._updateFrequency(e[2]),this.emit("update",this._stats)}}_updateFrequency(e){let t=e-this._frequencyLastTime;t&&Object.keys(this._stats).forEach(i=>{this._updateFrequencyFor(i,t,e)}),this._frequencyLastTime=e}_updateFrequencyFor(e,t,i){let n=this._frequencyAccumulators[e]||0;this._frequencyAccumulators[e]=0;let s=n/t*1e3,o=this._movingAverages[e];o||(o=this._movingAverages[e]={}),this._options.movingAverageIntervals.forEach(a=>{let c=o[a];c||(c=o[a]=oFe(a)),c.push(i,s)})}_applyOp(e){let t=e[0],i=e[1];if(typeof i!="number")throw new Error("invalid increment number:",i);let n;Object.prototype.hasOwnProperty.call(this._stats,t)?n=this._stats[t]:n=this._stats[t]=sFe(0),this._stats[t]=n.plus(i),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=i}};nFe.exports=aFe});var hFe=h((Zwr,uFe)=>{"use strict";var HQt=Pr(),fFe=cFe(),GQt={movingAverageIntervals:[60*1e3,5*60*1e3,15*60*1e3]},lFe=class extends HQt{constructor(e,t){super();let i=Object.assign({},GQt,t);if(typeof i.computeThrottleTimeout!="number")throw new Error("need computeThrottleTimeout");if(typeof i.computeThrottleMaxQueueSize!="number")throw new Error("need computeThrottleMaxQueueSize");this._initialCounters=e,this._options=i,this._enabled=this._options.enabled,this._global=new fFe(e,i),this._global.on("update",n=>this.emit("update",n)),this._peers=new Map}enable(){this._enabled=!0,this._options.enabled=!0,this._global.enable()}disable(){this._enabled=!1,this._options.enabled=!1,this._global.disable()}stop(){this._enabled=!1,this._global.stop();for(let e of this._peers)e[1].stop()}get snapshot(){return this._global.snapshot}get movingAverages(){return this._global.movingAverages}forPeer(e){return e.toB58String&&(e=e.toB58String()),this._peers.get(e)}push(e,t,i){if(this._enabled&&(this._global.push(t,i),e)){let n=this._peers.get(e);n||(n=new fFe(this._initialCounters,this._options),this._peers.set(e,n)),n.push(t,i)}}disconnected(e){let t=e.toB58String(),i=this._peers.get(t);i&&(i.stop(),this._peers.delete(t))}};uFe.exports=lFe});var bFe=h((Qwr,dFe)=>{"use strict";var $Qt=ILe(),WQt=MLe(),YQt=JLe(),XQt=iFe(),JQt=xf().logger,ZQt=hFe(),QQt=Sf(),eer=Sd(),ter={statsEnabled:!1,statsComputeThrottleTimeout:1e3,statsComputeThrottleMaxQueueSize:1e3},rer=["blocksReceived","dataReceived","dupBlksReceived","dupDataReceived","blocksSent","dataSent","providesBufferLength","wantListLength","peerCount"],pFe=class{constructor(e,t,i){this._libp2p=e,this._log=JQt(this.peerId),this._options=Object.assign({},ter,i),this._stats=new ZQt(rer,{enabled:this._options.statsEnabled,computeThrottleTimeout:this._options.statsComputeThrottleTimeout,computeThrottleMaxQueueSize:this._options.statsComputeThrottleMaxQueueSize}),this.network=new WQt(e,this,{},this._stats),this.blockstore=t,this.engine=new YQt(this.peerId,t,this.network,this._stats),this.wm=new $Qt(this.peerId,this.network,this._stats),this.notifications=new XQt(this.peerId)}get peerId(){return this._libp2p.peerId}async _receiveMessage(e,t){try{await this.engine.messageReceived(e,t)}catch(s){this._log("failed to receive message",t)}if(t.blocks.size===0)return;let i=Array.from(t.blocks.values()),n=i.filter(s=>this.wm.wantlist.contains(s.cid)).map(s=>s.cid);this.wm.cancelWants(n),await Promise.all(i.map(async s=>{let o=n.includes(s.cid);await this._handleReceivedBlock(e,s,o)}))}async _handleReceivedBlock(e,t,i){this._log("received block");let n=await this.blockstore.has(t.cid);this._updateReceiveCounters(e.toB58String(),t,n),!!i&&await this.put(t)}_updateReceiveCounters(e,t,i){this._stats.push(e,"blocksReceived",1),this._stats.push(e,"dataReceived",t.data.length),i&&(this._stats.push(e,"dupBlksReceived",1),this._stats.push(e,"dupDataReceived",t.data.length))}_receiveError(e){this._log.error("ReceiveError: %s",e.message)}_onPeerConnected(e){this.wm.connected(e)}_onPeerDisconnected(e){this.wm.disconnected(e),this.engine.peerDisconnected(e),this._stats.disconnected(e)}enableStats(){this._stats.enable()}disableStats(){this._stats.disable()}wantlistForPeer(e){return this.engine.wantlistForPeer(e)}ledgerForPeer(e){return this.engine.ledgerForPeer(e)}async get(e,t={}){let i=(u,f)=>(this.wm.wantBlocks([u],f),this.notifications.wantBlock(u,f)),n=!1,s=async(u,f)=>{try{return await this.blockstore.get(u,f)}catch(l){if(l.code!=="ERR_NOT_FOUND")throw l;return n||(n=!0,this.network.findAndConnect(u).catch(d=>this._log.error(d))),i(u,f)}},o=new QQt,a=eer([t.signal,o.signal]),c=await Promise.race([this.notifications.wantBlock(e,{signal:a}),s(e,{signal:a})]);return o.abort(),c}async*getMany(e,t={}){for await(let i of e)yield this.get(i,t)}unwant(e){Array.isArray(e)||(e=[e]),this.wm.unwantBlocks(e),e.forEach(t=>this.notifications.unwantBlock(t))}cancelWants(e){Array.isArray(e)||(e=[e]),this.wm.cancelWants(e)}async put(e){await this.blockstore.put(e),this._sendHaveBlockNotifications(e)}async*putMany(e){for await(let t of this.blockstore.putMany(e))this._sendHaveBlockNotifications(t),yield t}_sendHaveBlockNotifications(e){this.notifications.hasBlock(e),this.engine.receivedBlocks([e]),this.network.provide(e.cid).catch(t=>{this._log.error("Failed to provide: %s",t.message)})}getWantlist(){return this.wm.wantlist.entries()}peers(){return this.engine.peers()}stat(){return this._stats}start(){this.wm.start(),this.network.start(),this.engine.start()}stop(){this._stats.stop(),this.wm.stop(),this.network.stop(),this.engine.stop()}};dFe.exports=pFe});var gFe=h((e4r,yFe)=>{"use strict";var ier=bFe(),ner=cL(),ser=tr(),oer=qe(),$S=class{constructor(e,t,i){this.peerId=e,this.libp2p=t,this.bitswap=i}static async start({peerId:e,repo:t,print:i,options:n}){t.closed&&await t.open();let s=await t.config.getAll(),o=ner({options:n,repo:t,peerId:e,multiaddrs:aer(e,s),config:s,keychainConfig:void 0});o.keychain&&await o.loadKeychain(),await o.start();for(let c of o.multiaddrs)i(`Swarm listening on ${c}/p2p/${e.toB58String()}`);let a=new ier(o,t.blocks,{statsEnabled:!0});return await a.start(),new $S(e,o,a)}static async stop(e){await Promise.all([e.bitswap.stop(),e.libp2p.stop()])}};yFe.exports=$S;var aer=(r,e)=>{let t=r.toB58String(),i=[],n=e.Addresses&&e.Addresses.Swarm||[];for(let s of n){let o=ser(s);if(o.protoCodes().includes(cer))throw oer(new Error("websocket-star swarm addresses are not supported. See https://github.com/ipfs/js-ipfs/issues/2779"),"ERR_WEBSOCKET_STAR_SWARM_ADDR_NOT_SUPPORTED");let a=o.getPeerId();a&&a!==t&&(o=o.encapsulate(`/p2p/${t}`)),i.push(o)}return i},cer=479});var xFe=h((t4r,mFe)=>{"use strict";var uer=Ke();mFe.exports=({network:r})=>{async function e(t){let i=[],{libp2p:n}=await r.use(t);for(let[s,o]of n.peerStore.peers.entries())i.push({id:s,addrs:o.addresses.map(a=>a.multiaddr)});return i}return uer(e)}});var vFe=h((r4r,wFe)=>{"use strict";var fer=Ke();wFe.exports=({network:r})=>{async function e(t,i){let{libp2p:n}=await r.use(i);await n.dial(t,i)}return fer(e)}});var _Fe=h((i4r,EFe)=>{"use strict";var ler=Ke();EFe.exports=({network:r})=>{async function e(t,i){let{libp2p:n}=await r.use(i);await n.hangUp(t)}return ler(e)}});var kFe=h((n4r,SFe)=>{"use strict";var her=Ke();SFe.exports=({network:r})=>{async function e(t){let{libp2p:i}=await r.use(t);return i.multiaddrs}return her(e)}});var IFe=h((s4r,AFe)=>{"use strict";var der=Ke();AFe.exports=({network:r})=>{async function e(t={}){let{libp2p:i}=await r.use(t),n=t.v||t.verbose,s=[];for(let[o,a]of i.connections)for(let c of a){let u={addr:c.remoteAddr,peer:o};(n||t.direction)&&(u.direction=c.stat.direction),n&&(u.muxer=c.stat.multiplexer,u.latency="n/a"),s.push(u)}return s}return der(e)}});var qFe=h((o4r,TFe)=>{"use strict";var per=xFe(),ber=vFe(),yer=_Fe(),ger=kFe(),mer=IFe(),RFe=class{constructor({network:e}){this.addrs=per({network:e}),this.connect=ber({network:e}),this.disconnect=yer({network:e}),this.localAddrs=ger({network:e}),this.peers=mer({network:e})}};TFe.exports=RFe});var CFe=h((a4r,BFe)=>{"use strict";var xer=ZR();BFe.exports=({path:r,repoOwner:e})=>xer(r,{singleProcess:e!==!1})});var PFe=h((c4r,MFe)=>{"use strict";var NFe=yt(),Ox={success:!0,time:0,text:""},wer=Ke();MFe.exports=({network:r})=>{async function*e(t,i={}){let{libp2p:n}=await r.use();i.count=i.count||10,NFe.isPeerId(t)||(t=NFe.createFromCID(t));let s=n.peerStore.get(t),o=s&&s.id;if(!o){yield{...Ox,text:`Looking up peer ${t}`};let u=await n.peerRouting.findPeer(t);o=u&&u.id}if(!o)throw new Error("Peer was not found");yield{...Ox,text:`PING ${o.toB58String()}`};let a=0,c=0;for(let u=0;u<i.count;u++)try{let f=await n.ping(o);c+=f,a++,yield{...Ox,time:f}}catch(f){yield{...Ox,success:!1,text:f.toString()}}if(a){let u=c/a;yield{...Ox,text:`Average latency: ${u}ms`}}}return wer(e)}});var FFe=h((u4r,DFe)=>{"use strict";var OFe=yt(),LFe=ot(),WS=qe(),{NotEnabledError:ver}=ql(),Eer=Jg(),T2=Ke();DFe.exports=({network:r,repo:e})=>{let{get:t,put:i,findProvs:n,findPeer:s,provide:o,query:a}={async get(c,u={}){let{libp2p:f}=await R2(r,u);return f._dht.get(SL(c),u)},async*put(c,u,f){let{libp2p:l}=await R2(r,f);yield*l._dht.put(SL(c),u)},async*findProvs(c,u={}){let{libp2p:f}=await R2(r,u);u.numProviders&&(u.maxNumProviders=u.numProviders);for await(let l of f._dht.findProviders(SL(c),u))yield{id:l.id.toB58String(),addrs:l.addrs}},async findPeer(c,u){let{libp2p:f}=await R2(r,u);typeof c=="string"&&(c=OFe.createFromCID(c));let l=await f._dht.findPeer(c);return{id:l.id.toB58String(),addrs:l.multiaddrs}},async*provide(c,u={}){let{libp2p:f}=await R2(r,u);c=Array.isArray(c)?c:[c];for(let p in c)if(typeof c[p]=="string")try{c[p]=new LFe(c[p])}catch(b){throw WS(b,"ERR_INVALID_CID")}if(!(await Promise.all(c.map(p=>e.blocks.has(p)))).every(p=>p))throw WS(new Error("block(s) not found locally, cannot provide"),"ERR_BLOCK_NOT_FOUND");if(u.recursive)throw WS(new Error("not implemented yet"),"ERR_NOT_IMPLEMENTED_YET");for(let p of c)yield f._dht.provide(p)},async*query(c,u){let{libp2p:f}=await R2(r,u);typeof c=="string"&&(c=OFe.createFromCID(c));for await(let l of f._dht.getClosestPeers(c.toBytes()))yield{id:l.toB58String(),addrs:[]}}};return{get:T2(t),put:T2(i),findProvs:T2(n),findPeer:T2(s),provide:T2(o),query:T2(a)}};var _er=r=>{try{let e=r.toString().split("/").filter(t=>t&&t!=="ipfs"&&t!=="ipns")[0];return new LFe(e).bytes}catch(e){throw WS(e,"ERR_INVALID_CID")}},SL=r=>r instanceof Uint8Array?r:_er(r),R2=async(r,e)=>{let t=await r.use(e);if(Eer(t.libp2p,"_config.dht.enabled",!1))return t;throw new ver("dht not enabled")}});var zFe=h((f4r,UFe)=>{"use strict";var Lx=Ke(),Ser=qe(),{NotEnabledError:ker}=ql(),Aer=Jg();UFe.exports=({network:r,config:e})=>{let t=Aer(e,"Pubsub.Enabled",!0);return{subscribe:t?Lx(i):Fx,unsubscribe:t?Lx(n):Fx,publish:t?Lx(s):Fx,ls:t?Lx(o):Fx,peers:t?Lx(a):Fx};async function i(c,u,f){let{libp2p:l}=await r.use(f);return l.pubsub.subscribe(c,u,f)}async function n(c,u,f){let{libp2p:l}=await r.use(f);l.pubsub.unsubscribe(c,u,f)}async function s(c,u,f){let{libp2p:l}=await r.use(f);if(!u)throw Ser(new Error('argument "data" is required'),"ERR_ARG_REQUIRED");await l.pubsub.publish(c,u)}async function o(c){let{libp2p:u}=await r.use(c);return u.pubsub.getTopics()}async function a(c,u){let{libp2p:f}=await r.use(u);return f.pubsub.getSubscribers(c)}};var Fx=async()=>{throw new ker("pubsub not enabled")}});var GFe=h((l4r,KFe)=>{"use strict";var{mergeOptions:VFe}=pi(),{isTest:Ier}=N2(),kL=De()("ipfs"),{DAGNode:Ter}=Nr(),Rer=yn(),jFe=nn(),qer=Cee(),{AlreadyInitializedError:Ber}=ql(),Cer=Pee(),Mer=Oee(),Ner=rte(),Per=nte(),Der=lte(),Oer=Vse(),Ler=Zce(),Fer=kue(),Uer=Iue(),zer=Rue(),Ker=Fue(),Ver=tfe(),jer=Nfe(),Her=$he(),Ger=Xhe(),$er=Zhe(),Wer=HR(),HFe=lde(),Yer=Zp(),Xer=wde(),Jer=Sde(),Zer=p1e(),Qer=B1e(),etr=abe(),ttr=Txe(),rtr=Nxe(),itr=Lxe(),ntr=T4e(),str=fOe(),otr=gFe(),atr=i6(),ctr=qFe(),utr=CFe(),ftr=PFe(),ltr=FFe(),htr=zFe(),YS=class{constructor({print:e,storage:t,options:i}){let{peerId:n,repo:s,keychain:o}=t,a=atr.create(otr),c=Xer(i.preload),u=new itr(t.repo),f=ntr({blockService:u,print:e,options:i.ipld}),l=utr({path:s.path,repoOwner:i.repoOwner}),d=Ner(),p=Per({network:a}),b=new Ler(i),g=HFe.reader({ipld:f,preload:c}),m=new Fer({dns:d,ipns:b,dagReader:g,peerId:n,isOnline:p,keychain:o,options:i}),w=Der({ipld:f,name:m}),A=new Yer({repo:s,dagReader:g}),I=new Oer({gcLock:l,pinManager:A,dagReader:g}),F=new jer({blockService:u,preload:c,gcLock:l,pinManager:A,pin:I}),V=new HFe({ipld:f,preload:c,gcLock:l,pin:I,dagReader:g}),P=Object.assign(Uer({ipld:f,resolve:w,preload:c}),{local:zer({repo:t.repo})}),{add:W,addAll:ne,cat:Q,get:M,ls:y}=new Her({gcLock:l,preload:c,pin:I,block:F,ipld:f,options:i.EXPERIMENTAL}),v=Zer({ipld:f,block:F,blockService:u,repo:s,preload:c,options:i}),k=Jer({files:v,preload:c,options:i.preload});this.preload=c,this.name=m,this.ipld=f,this.ipns=b,this.pin=I,this.resolve=w,this.block=F,this.refs=P,this.start=Cer({network:a,peerId:n,repo:s,blockService:u,preload:c,ipns:b,mfsPreload:k,print:e,keychain:o,options:i}),this.stop=Mer({network:a,preload:c,mfsPreload:k,blockService:u,ipns:b,repo:s}),this.dht=ltr({network:a,repo:s}),this.pubsub=htr({network:a,config:i.config}),this.dns=d,this.isOnline=p,this.id=$er({network:a,peerId:n}),this.version=Ger({repo:s}),this.bitswap=new Ker({network:a}),this.bootstrap=new Ver({repo:s}),this.config=Wer({repo:s}),this.ping=ftr({network:a}),this.add=W,this.addAll=ne,this.cat=Q,this.get=M,this.ls=y,this.dag=V,this.files=v,this.key=new Qer({keychain:o}),this.object=new etr({ipld:f,preload:c,gcLock:l,dag:V}),this.repo=new ttr({gcLock:l,pin:I,repo:s,refs:P}),this.stats=new rtr({repo:s,network:a}),this.swarm=new ctr({network:a}),Object.defineProperty(this,"libp2p",{get(){let N=a.try();return N?N.libp2p:void 0}})}async init(){throw new Ber}static async create(e={}){e=VFe(btr(),e);let t=e.silent?kL:console.log,i={...VFe(dtr(e),e),print:t},n=await str.start(i),s=await n.repo.config.getAll(),o=new YS({storage:n,print:t,options:{...e,config:s}});if(await o.preload.start(),o.ipns.startOffline(n),n.isNew&&!i.emptyRepo){let a=await ptr(o);kL("adding default assets"),await qer({addAll:o.addAll,print:t}),kL("initializing IPNS keyspace"),await o.ipns.initializeKeyspace(n.peerId.privKey,a.toString())}return e.start!==!1&&await o.start(),o}};KFe.exports=YS;var dtr=({init:r})=>typeof r=="object"?r:{},ptr=async r=>{let e=new Ter(new Rer("directory").marshal()),t=await r.dag.put(e,{version:0,format:jFe.DAG_PB,hashAlg:jFe.SHA2_256,preload:!1});return await r.pin.add(t),t},btr=()=>({start:!0,EXPERIMENTAL:{},preload:{enabled:!Ier,addresses:["/dns4/node0.preload.ipfs.io/https","/dns4/node1.preload.ipfs.io/https","/dns4/node2.preload.ipfs.io/https","/dns4/node3.preload.ipfs.io/https"]}})});var YFe=h((h4r,$Fe)=>{"use strict";var ytr=ZL(),gtr=uU(),mtr=yt(),xtr=pc(),wtr=$f(),vtr=tr(),Etr=kf(),_tr=nn(),WFe=Er(),Str=WFe.multihash,ktr=ot(),{create:Atr}=GFe();$Fe.exports={create:Atr,crypto:xtr,isIPFS:wtr,CID:ktr,multiaddr:vtr,multibase:Etr,multihash:Str,multihashing:WFe,multicodec:_tr,PeerId:mtr,globSource:ytr,urlSource:gtr}});var JFe=h((d4r,XFe)=>{"use strict";XFe.exports={...YFe()}});var{Buffer}=Pn(),process=JL();var kZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW";return JFe();})();
/*!
  * prr
  * (c) 2013 Rod Vagg <rod@vagg.org>
  * https://github.com/rvagg/prr
  * License: MIT
  */
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*!
 * aead.js - aead for bcrypto
 * Copyright (c) 2016-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources:
 *   https://tools.ietf.org/html/rfc7539#section-2.8
 *   https://github.com/openssh/openssh-portable
 */
/*!
 * assert.js - assert for bcrypto
 * Copyright (c) 2020, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */
/*!
 * bn.js - big numbers for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */
/*!
 * bn.js - big numbers for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/bn.js:
 *   Copyright (c) 2015, Fedor Indutny (MIT License).
 *   https://github.com/indutny/bn.js
 *
 * Parts of this software are based on golang/go:
 *   Copyright (c) 2009, The Go Authors. All rights reserved.
 *   https://github.com/golang/go
 *
 * Parts of this software are based on openssl/openssl:
 *   Copyright (c) 1998-2018, The OpenSSL Project (Apache License v2.0).
 *   Copyright (c) 1995-1998, Eric A. Young, Tim J. Hudson. All rights reserved.
 *   https://github.com/openssl/openssl
 *
 * Parts of this software are based on libgmp:
 *   Copyright (c) 1991-1997, 1999-2014, Free Software Foundation, Inc.
 *   https://gmplib.org/
 *
 * Parts of this software are based on v8/v8:
 *   Copyright (c) 2017, The V8 Project Authors (BSD-Style License).
 *   https://github.com/v8/v8
 *
 * Resources:
 *   https://github.com/indutny/bn.js/blob/master/lib/bn.js
 *   https://github.com/indutny/miller-rabin/blob/master/lib/mr.js
 *   https://github.com/golang/go/blob/master/src/math/big/int.go
 *   https://github.com/golang/go/blob/master/src/math/big/nat.go
 *   https://github.com/golang/go/blob/master/src/math/big/prime.go
 *   https://github.com/openssl/openssl/tree/master/crypto/bn
 *   https://github.com/openssl/openssl/blob/master/crypto/bn/bn_kron.c
 *   https://github.com/gnutls/nettle/blob/master/mini-gmp.c
 *   https://github.com/v8/v8/blob/master/src/objects/bigint.cc
 */
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */
/*!
 * chacha20.js - chacha20 for bcrypto
 * Copyright (c) 2016-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources
 *   https://en.wikipedia.org/wiki/Chacha20
 *   https://tools.ietf.org/html/rfc7539#section-2
 *   https://cr.yp.to/chacha.html
 */
/*!
 * custom.js - custom inspect symbol for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */
/*!
 * ecdh.js - ECDH for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources:
 *   https://cr.yp.to/ecdh.html
 *   https://cr.yp.to/ecdh/curve25519-20060209.pdf
 *   https://tools.ietf.org/html/rfc7748
 */
/*!
 * elliptic.js - elliptic curves for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/elliptic:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/elliptic
 *
 * Formulas from DJB and Tanja Lange [EFD].
 *
 * References:
 *
 *   [GECC] Guide to Elliptic Curve Cryptography
 *     D. Hankerson, A. Menezes, and S. Vanstone
 *     https://tinyurl.com/guide-to-ecc
 *
 *   [GLV] Faster Point Multiplication on Elliptic Curves
 *     R. Gallant, R. Lambert, and S. Vanstone
 *     https://link.springer.com/content/pdf/10.1007/3-540-44647-8_11.pdf
 *
 *   [MONT1] Montgomery curves and the Montgomery ladder
 *     Daniel J. Bernstein, Tanja Lange
 *     https://eprint.iacr.org/2017/293.pdf
 *
 *   [SQUARED] Elligator Squared
 *     Mehdi Tibouchi
 *     https://eprint.iacr.org/2014/043.pdf
 *
 *   [SEC1] SEC 1 - Standards for Efficient Cryptography Group
 *     Certicom Research
 *     https://www.secg.org/sec1-v2.pdf
 *
 *   [SEC2] SEC 2: Recommended Elliptic Curve Domain Parameters
 *     Certicom Research
 *     https://www.secg.org/sec2-v2.pdf
 *
 *   [SIDE1] Elliptic Curves and Side-Channel Attacks
 *     Marc Joye
 *     https://pdfs.semanticscholar.org/8d69/9645033e25d74fcfd4cbf07a770d2e943e14.pdf
 *
 *   [BLIND] Side-Channel Analysis on Blinding Regular Scalar Multiplications
 *     B. Feix, M. Roussellet, A. Venelli
 *     https://eprint.iacr.org/2014/191.pdf
 *
 *   [ALT] Alternative Elliptic Curve Representations
 *     R. Struik
 *     https://tools.ietf.org/id/draft-ietf-lwig-curve-representations-02.html
 *
 *   [ARITH1] Arithmetic of Elliptic Curves
 *     Christophe Doche, Tanja Lange
 *     Handbook of Elliptic and Hyperelliptic Curve Cryptography
 *     Page 267, Section 13 (978-1-58488-518-4)
 *     https://hyperelliptic.org/HEHCC/index.html
 *
 *   [ARITH2] The Arithmetic of Elliptic Curves, 2nd Edition
 *     Joseph H. Silverman
 *     http://www.pdmi.ras.ru/~lowdimma/BSD/Silverman-Arithmetic_of_EC.pdf
 *
 *   [EFD] Explicit-Formulas Database
 *     Daniel J. Bernstein, Tanja Lange
 *     https://hyperelliptic.org/EFD/index.html
 *
 *   [SAFE] SafeCurves: choosing safe curves for elliptic-curve cryptography
 *     Daniel J. Bernstein
 *     https://safecurves.cr.yp.to/
 *
 *   [4GLV] Refinement of the Four-Dimensional GLV Method on Elliptic Curves
 *     Hairong Yi, Yuqing Zhu, and Dongdai Lin
 *     http://www.site.uottawa.ca/~cadams/papers/prepro/paper_19_slides.pdf
 *
 *   [SSWU1] Efficient Indifferentiable Hashing into Ordinary Elliptic Curves
 *     E. Brier, J. Coron, T. Icart, D. Madore, H. Randriam, M. Tibouchi
 *     https://eprint.iacr.org/2009/340.pdf
 *
 *   [SSWU2] Rational points on certain hyperelliptic curves over finite fields
 *     Maciej Ulas
 *     https://arxiv.org/abs/0706.1448
 *
 *   [H2EC] Hashing to Elliptic Curves
 *     A. Faz-Hernandez, S. Scott, N. Sullivan, R. S. Wahby, C. A. Wood
 *     https://git.io/JeWz6
 *     https://github.com/cfrg/draft-irtf-cfrg-hash-to-curve
 *
 *   [SVDW1] Construction of Rational Points on Elliptic Curves
 *     A. Shallue, C. E. van de Woestijne
 *     https://works.bepress.com/andrew_shallue/1/download/
 *
 *   [SVDW2] Indifferentiable Hashing to Barreto-Naehrig Curves
 *     Pierre-Alain Fouque, Mehdi Tibouchi
 *     https://www.di.ens.fr/~fouque/pub/latincrypt12.pdf
 *
 *   [SVDW3] Covert ECDH over secp256k1
 *     Pieter Wuille
 *     https://gist.github.com/sipa/29118d3fcfac69f9930d57433316c039
 *
 *   [MONT2] Montgomery Curve (wikipedia)
 *     https://en.wikipedia.org/wiki/Montgomery_curve
 *
 *   [MONT3] Montgomery Curves and their arithmetic
 *     C. Costello, B. Smith
 *     https://eprint.iacr.org/2017/212.pdf
 *
 *   [ELL2] Elliptic-curve points indistinguishable from uniform random strings
 *     D. Bernstein, M. Hamburg, A. Krasnova, T. Lange
 *     https://elligator.cr.yp.to/elligator-20130828.pdf
 *
 *   [RFC7748] Elliptic Curves for Security
 *     A. Langley, M. Hamburg, S. Turner
 *     https://tools.ietf.org/html/rfc7748
 *
 *   [TWISTED] Twisted Edwards Curves
 *     D. Bernstein, P. Birkner, M. Joye, T. Lange, C. Peters
 *     https://eprint.iacr.org/2008/013.pdf
 *
 *   [ELL1] Injective Encodings to Elliptic Curves
 *     P. Fouque, A. Joux, M. Tibouchi
 *     https://eprint.iacr.org/2013/373.pdf
 *
 *   [ISOGENY] Twisting Edwards curves with isogenies
 *     Mike Hamburg
 *     https://www.shiftleft.org/papers/isogeny/isogeny.pdf
 *
 *   [RFC8032] Edwards-Curve Digital Signature Algorithm (EdDSA)
 *     S. Josefsson, SJD AB, I. Liusvaara
 *     https://tools.ietf.org/html/rfc8032
 *
 *   [SCHNORR] Schnorr Signatures for secp256k1
 *     Pieter Wuille
 *     https://github.com/sipa/bips/blob/d194620/bip-schnorr.mediawiki
 *
 *   [BIP340] Schnorr Signatures for secp256k1
 *     Pieter Wuille, Jonas Nick, Tim Ruffing
 *     https://github.com/bitcoin/bips/blob/master/bip-0340.mediawiki
 *
 *   [JCEN12] Efficient Software Implementation of Public-Key Cryptography
 *            on Sensor Networks Using the MSP430X Microcontroller
 *     C. P. L. Gouvea, L. B. Oliveira, J. Lopez
 *     http://conradoplg.cryptoland.net/files/2010/12/jcen12.pdf
 *
 *   [FIPS186] Federal Information Processing Standards Publication
 *     National Institute of Standards and Technology
 *     https://tinyurl.com/fips-186-3
 *
 *   [RFC5639] Elliptic Curve Cryptography (ECC) Brainpool
 *             Standard Curves and Curve Generation
 *     M. Lochter, BSI, J. Merkle
 *     https://tools.ietf.org/html/rfc5639
 *
 *   [TWISTEQ] Twisted Edwards & Short Weierstrass Equivalence
 *     Christopher Jeffrey
 *     https://gist.github.com/chjj/16ba7fa08d64e8dda269a9fe5b2a8bbc
 *
 *   [ECPM] Elliptic Curve Point Multiplication (wikipedia)
 *     https://en.wikipedia.org/wiki/Elliptic_curve_point_multiplication
 */
/*!
 * hkdf.js - hkdf for bcrypto
 * Copyright (c) 2014-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/HKDF
 *   https://tools.ietf.org/html/rfc5869
 */
/*!
 * hkdf.js - hkdf for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */
/*!
 * hmac.js - hmac for bcrypto
 * Copyright (c) 2016-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/hash.js:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/hash.js
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/HMAC
 *   https://tools.ietf.org/html/rfc2104
 *   https://github.com/indutny/hash.js/blob/master/lib/hash/hmac.js
 */
/*!
 * poly1305.js - poly1305 for bcrypto
 * Copyright (c) 2016-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on floodyberry/poly1305-donna:
 *   Placed into the public domain by Andrew Moon.
 *   https://github.com/floodyberry/poly1305-donna
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/Poly1305
 *   https://cr.yp.to/mac.html
 *   https://tools.ietf.org/html/rfc7539#section-2.5
 *   https://github.com/floodyberry/poly1305-donna/blob/master/poly1305-donna-16.h
 */
/*!
 * random.js - random for bcrypto
 * Copyright (c) 2017-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 */
/*!
 * random.js - random number generator for bcrypto
 * Copyright (c) 2014-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources:
 *   https://wiki.openssl.org/index.php/Random_Numbers
 *   https://csrc.nist.gov/projects/random-bit-generation/
 *   http://www.pcg-random.org/posts/bounded-rands.html
 *   https://developer.mozilla.org/en-US/docs/Web/API/Crypto/getRandomValues
 */
/*!
 * sha256.js - SHA256 implementation for bcrypto
 * Copyright (c) 2016-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Parts of this software are based on indutny/hash.js:
 *   Copyright (c) 2014, Fedor Indutny (MIT License).
 *   https://github.com/indutny/hash.js
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/SHA-2
 *   https://tools.ietf.org/html/rfc4634
 *   https://github.com/indutny/hash.js/blob/master/lib/hash/sha/256.js
 */
/*!
 * x25519.js - x25519 for bcrypto
 * Copyright (c) 2018-2019, Christopher Jeffrey (MIT License).
 * https://github.com/bcoin-org/bcrypto
 *
 * Resources:
 *   https://en.wikipedia.org/wiki/Curve25519
 *   https://cr.yp.to/ecdh/curve25519-20060209.pdf
 *   https://tools.ietf.org/html/rfc7748#section-5
 */
/*! https://mths.be/punycode v1.3.2 by @mathias */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/**
 * Timestamp for 64-bit time_t, nanosecond precision and strftime
 *
 * @author Yusuke Kawasaki
 * @license MIT
 * @see https://github.com/kawanet/timestamp-nano
 */
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */
//! stable.js 0.1.8, https://github.com/Two-Screen/stable
//! © 2018 Angry Bytes and contributors. MIT licensed.
return Ipfs}));
